<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="7211pt" height="1288pt"
 viewBox="0.00 0.00 7211.30 1288.44" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1284.4416)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1284.4416 7207.2972,-1284.4416 7207.2972,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1728" cy="-1262.4416" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="1728" y="-1258.2416" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 208</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1728" cy="-1190.4416" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1728" y="-1186.2416" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;146</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1728,-1244.273C1728,-1236.5726 1728,-1227.4159 1728,-1218.8582"/>
<polygon fill="#000000" stroke="#000000" points="1731.5001,-1218.8548 1728,-1208.8549 1724.5001,-1218.8549 1731.5001,-1218.8548"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="1305" cy="-1118.4416" rx="57.0821" ry="18"/>
<text text-anchor="middle" x="1305" y="-1114.2416" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Historian</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1667.7149,-1183.0843C1597.1794,-1174.046 1477.0436,-1157.3122 1375,-1136.4416 1369.6215,-1135.3416 1364.037,-1134.0918 1358.4738,-1132.7756"/>
<polygon fill="#000000" stroke="#000000" points="1359.0769,-1129.3202 1348.5325,-1130.3528 1357.4193,-1136.1212 1359.0769,-1129.3202"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="1416" cy="-1118.4416" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1416" y="-1114.2416" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1669.191,-1182.2851C1613.8997,-1173.7746 1529.2172,-1158.5609 1458,-1136.4416 1455.5472,-1135.6798 1453.0431,-1134.8228 1450.5399,-1133.9069"/>
<polygon fill="#000000" stroke="#000000" points="1451.5872,-1130.5579 1440.9998,-1130.1588 1449.0274,-1137.0731 1451.5872,-1130.5579"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="1499" cy="-1118.4416" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1499" y="-1114.2416" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1679.4359,-1178.1868C1641.3795,-1168.1605 1587.3029,-1152.9775 1541,-1136.4416 1538.5813,-1135.5778 1536.1026,-1134.6446 1533.6178,-1133.6734"/>
<polygon fill="#000000" stroke="#000000" points="1534.6994,-1130.3348 1524.1178,-1129.8053 1532.0596,-1136.818 1534.6994,-1130.3348"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="1582" cy="-1118.4416" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1582" y="-1114.2416" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1695.9597,-1174.6409C1672.0983,-1162.8736 1639.6044,-1146.8492 1615.4189,-1134.9222"/>
<polygon fill="#000000" stroke="#000000" points="1616.7832,-1131.6925 1606.2664,-1130.4086 1613.6871,-1137.9706 1616.7832,-1131.6925"/>
</g>
<!-- prose_6 -->
<g id="node7" class="node">
<title>prose_6</title>
<ellipse fill="none" stroke="#000000" cx="1664" cy="-1118.4416" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1664" y="-1114.2416" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;prose_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1712.1798,-1172.6438C1704.1184,-1163.5748 1694.1979,-1152.4142 1685.4584,-1142.5823"/>
<polygon fill="#000000" stroke="#000000" points="1688.0204,-1140.1963 1678.7607,-1135.0474 1682.7885,-1144.8468 1688.0204,-1140.1963"/>
</g>
<!-- codeblock_7 -->
<g id="node8" class="node">
<title>codeblock_7</title>
<ellipse fill="none" stroke="#000000" cx="1792" cy="-1118.4416" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1792" y="-1114.2416" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 16&#45;21</text>
</g>
<!-- section_1&#45;&gt;codeblock_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;codeblock_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1743.8202,-1172.6438C1751.5126,-1163.9899 1760.8978,-1153.4316 1769.3344,-1143.9404"/>
<polygon fill="#000000" stroke="#000000" points="1772.1122,-1146.0836 1776.14,-1136.2841 1766.8803,-1141.433 1772.1122,-1146.0836"/>
</g>
<!-- codeblock_8 -->
<g id="node9" class="node">
<title>codeblock_8</title>
<ellipse fill="none" stroke="#000000" cx="2009" cy="-1118.4416" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2009" y="-1114.2416" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 23&#45;25</text>
</g>
<!-- section_1&#45;&gt;codeblock_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;codeblock_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1775.9863,-1178.1462C1823.2571,-1166.0341 1895.679,-1147.4776 1947.2255,-1134.2699"/>
<polygon fill="#000000" stroke="#000000" points="1948.1011,-1137.6587 1956.9194,-1131.7861 1946.3636,-1130.8778 1948.1011,-1137.6587"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="2316" cy="-1118.4416" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2316" y="-1114.2416" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 28&#45;71</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1788.163,-1183.0747C1897.6924,-1169.6629 2129.0742,-1141.3305 2245.6839,-1127.0517"/>
<polygon fill="#000000" stroke="#000000" points="2246.4215,-1130.4876 2255.922,-1125.7981 2245.5707,-1123.5395 2246.4215,-1130.4876"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="3485" cy="-1118.4416" rx="70.655" ry="18"/>
<text text-anchor="middle" x="3485" y="-1114.2416" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 72&#45;146</text>
</g>
<!-- section_1&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1793.1421,-1187.7721C2064.7366,-1176.6425 3106.6513,-1133.9459 3404.8409,-1121.7264"/>
<polygon fill="#000000" stroke="#000000" points="3405.284,-1125.2113 3415.1322,-1121.3047 3404.9973,-1118.2172 3405.284,-1125.2113"/>
</g>
<!-- section_11 -->
<g id="node12" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="5110" cy="-1118.4416" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="5110" y="-1114.2416" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 147&#45;185</text>
</g>
<!-- section_1&#45;&gt;section_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;section_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1793.6637,-1189.0437C2215.8826,-1180.055 4546.2485,-1130.4434 5024.2858,-1120.2664"/>
<polygon fill="#000000" stroke="#000000" points="5024.6398,-1123.7597 5034.563,-1120.0476 5024.4907,-1116.7613 5024.6398,-1123.7597"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="1350.5,-1047.6415 1257.5,-1047.6415 1257.5,-1011.6415 1350.5,-1011.6415 1350.5,-1047.6415"/>
<text text-anchor="middle" x="1304" y="-1026.1416" font-family="Inconsolata" font-size="14.00" fill="#000000">* Historian</text>
</g>
<!-- header_2&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>header_2&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1304.7928,-1100.0422C1304.6565,-1087.9365 1304.4753,-1071.8492 1304.3206,-1058.1089"/>
<polygon fill="#000000" stroke="#000000" points="1307.816,-1057.6735 1304.2035,-1047.7136 1300.8164,-1057.7524 1307.816,-1057.6735"/>
</g>
<!-- raw_13 -->
<g id="node14" class="node">
<title>raw_13</title>
<ellipse fill="none" stroke="#000000" cx="1396" cy="-1029.6415" rx="27" ry="18"/>
<text text-anchor="middle" x="1396" y="-1025.4415" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_13 -->
<g id="edge13" class="edge">
<title>prose_3&#45;&gt;raw_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1411.9527,-1100.4716C1409.1876,-1088.1946 1405.4678,-1071.6788 1402.3158,-1057.6837"/>
<polygon fill="#000000" stroke="#000000" points="1405.653,-1056.5714 1400.0413,-1047.5848 1398.8241,-1058.1095 1405.653,-1056.5714"/>
</g>
<!-- raw_15 -->
<g id="node16" class="node">
<title>raw_15</title>
<ellipse fill="none" stroke="#000000" cx="1468" cy="-1029.6415" rx="27" ry="18"/>
<text text-anchor="middle" x="1468" y="-1025.4415" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_15 -->
<g id="edge15" class="edge">
<title>prose_4&#45;&gt;raw_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1492.7267,-1100.4716C1488.3703,-1087.9927 1482.4851,-1071.1343 1477.5491,-1056.9952"/>
<polygon fill="#000000" stroke="#000000" points="1480.7586,-1055.5694 1474.1582,-1047.2818 1474.1497,-1057.8766 1480.7586,-1055.5694"/>
</g>
<!-- raw_17 -->
<g id="node18" class="node">
<title>raw_17</title>
<ellipse fill="none" stroke="#000000" cx="1540" cy="-1029.6415" rx="27" ry="18"/>
<text text-anchor="middle" x="1540" y="-1025.4415" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_17 -->
<g id="edge17" class="edge">
<title>prose_5&#45;&gt;raw_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1573.7022,-1100.8976C1567.6807,-1088.1665 1559.4275,-1070.7169 1552.5955,-1056.2721"/>
<polygon fill="#000000" stroke="#000000" points="1555.5773,-1054.3904 1548.1377,-1046.847 1549.2494,-1057.3833 1555.5773,-1054.3904"/>
</g>
<!-- raw_19 -->
<g id="node20" class="node">
<title>raw_19</title>
<ellipse fill="none" stroke="#000000" cx="1612" cy="-1029.6415" rx="27" ry="18"/>
<text text-anchor="middle" x="1612" y="-1025.4415" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_19 -->
<g id="edge19" class="edge">
<title>prose_6&#45;&gt;raw_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1653.9739,-1101.3201C1646.2996,-1088.2148 1635.5939,-1069.9327 1626.9154,-1055.1125"/>
<polygon fill="#000000" stroke="#000000" points="1629.8925,-1053.2701 1621.819,-1046.4094 1623.852,-1056.8073 1629.8925,-1053.2701"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="1939,-1064.2428 1657,-1064.2428 1657,-995.0403 1939,-995.0403 1939,-1064.2428"/>
<text text-anchor="middle" x="1798" y="-1049.2416" font-family="Inconsolata" font-size="14.00" fill="#000000">local Linebuf = require &quot;linebuf&quot;</text>
<text text-anchor="middle" x="1798" y="-1033.8416" font-family="Inconsolata" font-size="14.00" fill="#000000">local sql &#160;&#160;&#160;&#160;= require &quot;sqlayer&quot;</text>
<text text-anchor="middle" x="1798" y="-1018.4415" font-family="Inconsolata" font-size="14.00" fill="#000000">local L &#160;&#160;&#160;&#160;&#160;&#160;= require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1798" y="-1003.0415" font-family="Inconsolata" font-size="14.00" fill="#000000">local format &#160;= assert (string.format)</text>
</g>
<!-- codeblock_7&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>codeblock_7&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1793.2432,-1100.0422C1793.747,-1092.5863 1794.3528,-1083.6202 1794.9608,-1074.6223"/>
<polygon fill="#000000" stroke="#000000" points="1798.4606,-1074.7418 1795.6428,-1064.5286 1791.4765,-1074.2699 1798.4606,-1074.7418"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="2148.5,-1047.6415 1957.5,-1047.6415 1957.5,-1011.6415 2148.5,-1011.6415 2148.5,-1047.6415"/>
<text text-anchor="middle" x="2053" y="-1026.1416" font-family="Inconsolata" font-size="14.00" fill="#000000">local Historian = meta {}</text>
</g>
<!-- codeblock_8&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>codeblock_8&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2017.9041,-1100.4716C2024.0657,-1088.0362 2032.3822,-1071.252 2039.373,-1057.1433"/>
<polygon fill="#000000" stroke="#000000" points="2042.6544,-1058.4039 2043.9582,-1047.8896 2036.3822,-1055.296 2042.6544,-1058.4039"/>
</g>
<!-- header_23 -->
<g id="node24" class="node">
<title>header_23</title>
<ellipse fill="none" stroke="#000000" cx="2249" cy="-1029.6415" rx="82.2147" ry="18"/>
<text text-anchor="middle" x="2249" y="-1025.4415" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Historian:load()</text>
</g>
<!-- section_9&#45;&gt;header_23 -->
<g id="edge23" class="edge">
<title>section_9&#45;&gt;header_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2302.4416,-1100.4716C2292.7244,-1087.5928 2279.4879,-1070.0494 2268.6194,-1055.6445"/>
<polygon fill="#000000" stroke="#000000" points="2271.3553,-1053.4595 2262.5383,-1047.5848 2265.7674,-1057.6756 2271.3553,-1053.4595"/>
</g>
<!-- prose_24 -->
<g id="node25" class="node">
<title>prose_24</title>
<ellipse fill="none" stroke="#000000" cx="2382" cy="-1029.6415" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2382" y="-1025.4415" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_24 -->
<g id="edge24" class="edge">
<title>section_9&#45;&gt;prose_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2329.3561,-1100.4716C2339.1801,-1087.2539 2352.6558,-1069.1228 2363.5137,-1054.514"/>
<polygon fill="#000000" stroke="#000000" points="2366.4006,-1056.4971 2369.5568,-1046.3833 2360.7825,-1052.3214 2366.4006,-1056.4971"/>
</g>
<!-- codeblock_25 -->
<g id="node26" class="node">
<title>codeblock_25</title>
<ellipse fill="none" stroke="#000000" cx="2633" cy="-1029.6415" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2633" y="-1025.4415" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 32&#45;69</text>
</g>
<!-- section_9&#45;&gt;codeblock_25 -->
<g id="edge25" class="edge">
<title>section_9&#45;&gt;codeblock_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2362.0945,-1105.5293C2417.9688,-1089.8774 2512.2393,-1063.4698 2573.5361,-1046.2989"/>
<polygon fill="#000000" stroke="#000000" points="2574.7693,-1049.5883 2583.4545,-1043.5206 2572.881,-1042.8478 2574.7693,-1049.5883"/>
</g>
<!-- header_36 -->
<g id="node37" class="node">
<title>header_36</title>
<ellipse fill="none" stroke="#000000" cx="3187" cy="-1029.6415" rx="107.339" ry="18"/>
<text text-anchor="middle" x="3187" y="-1025.4415" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Historian:search(frag)</text>
</g>
<!-- section_10&#45;&gt;header_36 -->
<g id="edge36" class="edge">
<title>section_10&#45;&gt;header_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3439.0906,-1104.7612C3388.342,-1089.6388 3306.2985,-1065.1909 3249.6633,-1048.3144"/>
<polygon fill="#000000" stroke="#000000" points="3250.332,-1044.8616 3239.7489,-1045.36 3248.3329,-1051.5701 3250.332,-1044.8616"/>
</g>
<!-- prose_37 -->
<g id="node38" class="node">
<title>prose_37</title>
<ellipse fill="none" stroke="#000000" cx="3406" cy="-1029.6415" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3406" y="-1025.4415" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_37 -->
<g id="edge37" class="edge">
<title>section_10&#45;&gt;prose_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3469.0132,-1100.4716C3456.9921,-1086.9593 3440.403,-1068.3122 3427.2633,-1053.5426"/>
<polygon fill="#000000" stroke="#000000" points="3429.6311,-1050.9383 3420.3693,-1045.7934 3424.4011,-1055.5911 3429.6311,-1050.9383"/>
</g>
<!-- codeblock_38 -->
<g id="node39" class="node">
<title>codeblock_38</title>
<ellipse fill="none" stroke="#000000" cx="3564" cy="-1029.6415" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3564" y="-1025.4415" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 74&#45;88</text>
</g>
<!-- section_10&#45;&gt;codeblock_38 -->
<g id="edge38" class="edge">
<title>section_10&#45;&gt;codeblock_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3500.9868,-1100.4716C3512.6275,-1087.3869 3528.5517,-1069.4873 3541.4792,-1054.9561"/>
<polygon fill="#000000" stroke="#000000" points="3544.2747,-1057.0795 3548.3066,-1047.2818 3539.0448,-1052.4267 3544.2747,-1057.0795"/>
</g>
<!-- codeblock_39 -->
<g id="node40" class="node">
<title>codeblock_39</title>
<ellipse fill="none" stroke="#000000" cx="3891" cy="-1029.6415" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="3891" y="-1025.4415" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 90&#45;102</text>
</g>
<!-- section_10&#45;&gt;codeblock_39 -->
<g id="edge39" class="edge">
<title>section_10&#45;&gt;codeblock_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3538.9137,-1106.6496C3612.0372,-1090.6561 3742.6805,-1062.0819 3822.6179,-1044.598"/>
<polygon fill="#000000" stroke="#000000" points="3823.5667,-1047.9733 3832.5879,-1042.4174 3822.0709,-1041.135 3823.5667,-1047.9733"/>
</g>
<!-- codeblock_40 -->
<g id="node41" class="node">
<title>codeblock_40</title>
<ellipse fill="none" stroke="#000000" cx="4368" cy="-1029.6415" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4368" y="-1025.4415" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 105&#45;144</text>
</g>
<!-- section_10&#45;&gt;codeblock_40 -->
<g id="edge40" class="edge">
<title>section_10&#45;&gt;codeblock_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3551.0074,-1111.8035C3707.7174,-1096.0437 4102.277,-1056.3643 4279.4544,-1038.5462"/>
<polygon fill="#000000" stroke="#000000" points="4279.9242,-1042.0167 4289.5237,-1037.5336 4279.2237,-1035.0519 4279.9242,-1042.0167"/>
</g>
<!-- header_47 -->
<g id="node48" class="node">
<title>header_47</title>
<ellipse fill="none" stroke="#000000" cx="4842" cy="-1029.6415" rx="82.6821" ry="18"/>
<text text-anchor="middle" x="4842" y="-1025.4415" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Historian:prev()</text>
</g>
<!-- section_11&#45;&gt;header_47 -->
<g id="edge47" class="edge">
<title>section_11&#45;&gt;header_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5065.7453,-1103.7781C5019.6108,-1088.4917 4947.2098,-1064.5021 4897.3282,-1047.9742"/>
<polygon fill="#000000" stroke="#000000" points="4898.2599,-1044.5958 4887.6666,-1044.7729 4896.0582,-1051.2406 4898.2599,-1044.5958"/>
</g>
<!-- prose_48 -->
<g id="node49" class="node">
<title>prose_48</title>
<ellipse fill="none" stroke="#000000" cx="5028" cy="-1029.6415" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5028" y="-1025.4415" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_48 -->
<g id="edge48" class="edge">
<title>section_11&#45;&gt;prose_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5093.4061,-1100.4716C5080.9285,-1086.9593 5063.7094,-1068.3122 5050.0708,-1053.5426"/>
<polygon fill="#000000" stroke="#000000" points="5052.2705,-1050.7657 5042.915,-1045.7934 5047.1278,-1055.5146 5052.2705,-1050.7657"/>
</g>
<!-- codeblock_49 -->
<g id="node50" class="node">
<title>codeblock_49</title>
<ellipse fill="none" stroke="#000000" cx="5180" cy="-1029.6415" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5180" y="-1025.4415" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 149&#45;160</text>
</g>
<!-- section_11&#45;&gt;codeblock_49 -->
<g id="edge49" class="edge">
<title>section_11&#45;&gt;codeblock_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5124.1655,-1100.4716C5134.3177,-1087.5928 5148.147,-1070.0494 5159.5022,-1055.6445"/>
<polygon fill="#000000" stroke="#000000" points="5162.4135,-1057.605 5165.8555,-1047.5848 5156.9161,-1053.2714 5162.4135,-1057.605"/>
</g>
<!-- section_50 -->
<g id="node51" class="node">
<title>section_50</title>
<ellipse fill="none" stroke="#000000" cx="5584" cy="-1029.6415" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="5584" y="-1025.4415" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 163&#45;185</text>
</g>
<!-- section_11&#45;&gt;section_50 -->
<g id="edge50" class="edge">
<title>section_11&#45;&gt;section_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5169.5525,-1107.2849C5257.3574,-1090.8354 5421.1961,-1060.1415 5514.4166,-1042.6774"/>
<polygon fill="#000000" stroke="#000000" points="5515.1338,-1046.104 5524.3183,-1040.8224 5513.8448,-1039.2237 5515.1338,-1046.104"/>
</g>
<!-- section_51 -->
<g id="node52" class="node">
<title>section_51</title>
<ellipse fill="none" stroke="#000000" cx="6548" cy="-1029.6415" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="6548" y="-1025.4415" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 186&#45;208</text>
</g>
<!-- section_11&#45;&gt;section_51 -->
<g id="edge51" class="edge">
<title>section_11&#45;&gt;section_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5183.2876,-1113.9159C5426.7126,-1098.8838 6207.4463,-1050.6716 6464.8271,-1034.7777"/>
<polygon fill="#000000" stroke="#000000" points="6465.0947,-1038.2679 6474.86,-1034.1581 6464.6632,-1031.2812 6465.0947,-1038.2679"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="324,-697.5421 0,-697.5421 0,-625.7398 324,-625.7398 324,-697.5421"/>
<text text-anchor="middle" x="162" y="-634.1409" font-family="Inconsolata" font-size="14.00" fill="#000000">This module is responsible for REPL history.</text>
</g>
<!-- raw_13&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>raw_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1383.3776,-1013.3329C1376.9241,-1006.2913 1368.442,-998.7771 1359,-994.8415 1253.7102,-950.9547 430.7286,-1017.6728 333,-958.8415 239.9123,-902.8039 192.6376,-775.5939 173.1687,-707.1872"/>
<polygon fill="#000000" stroke="#000000" points="176.5381,-706.2395 170.4959,-697.5365 169.792,-708.108 176.5381,-706.2395"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="897.5,-688.9413 342.5,-688.9413 342.5,-634.3405 897.5,-634.3405 897.5,-688.9413"/>
<text text-anchor="middle" x="620" y="-657.8409" font-family="Inconsolata" font-size="14.00" fill="#000000">Eventually this will include persisting and restoring from a SQLite database,</text>
<text text-anchor="middle" x="620" y="-642.4409" font-family="Inconsolata" font-size="14.00" fill="#000000">fuzzy searching, and variable cacheing.</text>
</g>
<!-- raw_15&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>raw_15&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1455.7427,-1013.4781C1449.4689,-1006.4683 1441.2136,-998.939 1432,-994.8415 1218.2988,-899.8034 1119.0347,-1057.5416 907,-958.8415 782.7858,-901.021 684.1513,-764.0211 642.0795,-698.1933"/>
<polygon fill="#000000" stroke="#000000" points="644.8206,-695.9789 636.5216,-689.3927 638.9021,-699.7167 644.8206,-695.9789"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="1464,-688.9413 916,-688.9413 916,-634.3405 1464,-634.3405 1464,-688.9413"/>
<text text-anchor="middle" x="1190" y="-657.8409" font-family="Inconsolata" font-size="14.00" fill="#000000">Currently does the basic job of retaining history and not letting subsequent</text>
<text text-anchor="middle" x="1190" y="-642.4409" font-family="Inconsolata" font-size="14.00" fill="#000000">edits munge it.</text>
</g>
<!-- raw_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>raw_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1525.4065,-1014.2975C1473.561,-959.7856 1297.4022,-774.5668 1223.2883,-696.6413"/>
<polygon fill="#000000" stroke="#000000" points="1225.4504,-693.8359 1216.0226,-689.0019 1220.3781,-698.6601 1225.4504,-693.8359"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="2030,-696.9413 1482,-696.9413 1482,-626.3406 2030,-626.3406 2030,-696.9413"/>
<text text-anchor="middle" x="1756" y="-665.8409" font-family="Inconsolata" font-size="14.00" fill="#000000">Next step: now that we clone a new linebuf each time, we have an immutable</text>
<text text-anchor="middle" x="1756" y="-650.4409" font-family="Inconsolata" font-size="14.00" fill="#000000">record. &#160;We should store the line as a string, to facilitate fuzzy matching.</text>
</g>
<!-- raw_19&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>raw_19&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1618.9454,-1011.8921C1640.4589,-956.9131 1706.4574,-788.25 1738.3645,-706.7096"/>
<polygon fill="#000000" stroke="#000000" points="1741.6966,-707.7989 1742.0813,-697.211 1735.1779,-705.248 1741.6966,-707.7989"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="2197.5,-679.6409 2048.5,-679.6409 2048.5,-643.6409 2197.5,-643.6409 2197.5,-679.6409"/>
<text text-anchor="middle" x="2123" y="-658.1409" font-family="Inconsolata" font-size="14.00" fill="#000000">** Historian:load()</text>
</g>
<!-- header_23&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>header_23&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2236.578,-1011.7039C2227.3916,-997.7908 2215.1172,-977.7532 2207,-958.8415 2166.2566,-863.9163 2139.2637,-743.5455 2128.4001,-689.789"/>
<polygon fill="#000000" stroke="#000000" points="2131.8273,-689.0779 2126.4431,-679.9532 2124.9618,-690.4439 2131.8273,-689.0779"/>
</g>
<!-- raw_27 -->
<g id="node28" class="node">
<title>raw_27</title>
<ellipse fill="none" stroke="#000000" cx="2243" cy="-661.6409" rx="27" ry="18"/>
<text text-anchor="middle" x="2243" y="-657.4409" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_24&#45;&gt;raw_27 -->
<g id="edge27" class="edge">
<title>prose_24&#45;&gt;raw_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2364.5083,-1014.0923C2357.1502,-1007.8339 2348.3676,-1000.7215 2340,-994.8415 2314.2431,-976.742 2296.2281,-985.1893 2279,-958.8415 2223.5527,-874.043 2231.6742,-746.0595 2238.7034,-689.8287"/>
<polygon fill="#000000" stroke="#000000" points="2242.1773,-690.2567 2240.0316,-679.8815 2235.2388,-689.3303 2242.1773,-690.2567"/>
</g>
<!-- prespace_28 -->
<g id="node29" class="node">
<title>prespace_28</title>
<ellipse fill="none" stroke="#000000" cx="2334" cy="-661.6409" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2334" y="-657.4409" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_24&#45;&gt;prespace_28 -->
<g id="edge28" class="edge">
<title>prose_24&#45;&gt;prespace_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2379.6524,-1011.643C2371.9182,-952.3478 2347.194,-762.7952 2337.732,-690.253"/>
<polygon fill="#000000" stroke="#000000" points="2341.1639,-689.503 2336.3998,-680.0397 2334.2227,-690.4084 2341.1639,-689.503"/>
</g>
<!-- literal_29 -->
<g id="node30" class="node">
<title>literal_29</title>
<ellipse fill="none" stroke="#000000" cx="2430" cy="-661.6409" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2430" y="-657.4409" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_24&#45;&gt;literal_29 -->
<g id="edge29" class="edge">
<title>prose_24&#45;&gt;literal_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2384.3476,-1011.643C2392.0997,-952.2106 2416.9205,-761.9169 2426.3335,-689.7511"/>
<polygon fill="#000000" stroke="#000000" points="2429.834,-689.9735 2427.6569,-679.6048 2422.8928,-689.0681 2429.834,-689.9735"/>
</g>
<!-- raw_30 -->
<g id="node31" class="node">
<title>raw_30</title>
<ellipse fill="none" stroke="#000000" cx="2506" cy="-661.6409" rx="27" ry="18"/>
<text text-anchor="middle" x="2506" y="-657.4409" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_24&#45;&gt;raw_30 -->
<g id="edge30" class="edge">
<title>prose_24&#45;&gt;raw_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2405.7961,-1017.4522C2426.4724,-1005.4997 2455.3398,-985.2412 2470,-958.8415 2518.9673,-870.6625 2514.382,-745.3866 2509.2969,-689.9289"/>
<polygon fill="#000000" stroke="#000000" points="2512.7621,-689.4042 2508.2889,-679.8 2505.7965,-690.0974 2512.7621,-689.4042"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="3057,-944.6419 2551,-944.6419 2551,-378.64 3057,-378.64 3057,-944.6419"/>
<text text-anchor="middle" x="2804" y="-929.4414" font-family="Inconsolata" font-size="14.00" fill="#000000">Historian.HISTORY_LIMIT = 1000</text>
<text text-anchor="middle" x="2804" y="-898.0414" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_repl_table = [[</text>
<text text-anchor="middle" x="2804" y="-882.6413" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS repl (</text>
<text text-anchor="middle" x="2804" y="-867.2413" font-family="Inconsolata" font-size="14.00" fill="#000000">line_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="2804" y="-851.8413" font-family="Inconsolata" font-size="14.00" fill="#000000">project TEXT,</text>
<text text-anchor="middle" x="2804" y="-836.4412" font-family="Inconsolata" font-size="14.00" fill="#000000">line TEXT,</text>
<text text-anchor="middle" x="2804" y="-821.0412" font-family="Inconsolata" font-size="14.00" fill="#000000">time DATETIME DEFAULT CURRENT_TIMESTAMP);</text>
<text text-anchor="middle" x="2804" y="-805.6412" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="2804" y="-774.2411" font-family="Inconsolata" font-size="14.00" fill="#000000">local insert_line_stmt = [[</text>
<text text-anchor="middle" x="2804" y="-758.8411" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO repl (project, line) VALUES(:project, :line);</text>
<text text-anchor="middle" x="2804" y="-743.4411" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="2804" y="-712.041" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_tables = [[</text>
<text text-anchor="middle" x="2804" y="-696.641" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT name FROM sqlite_master WHERE type=&#39;table&#39;;</text>
<text text-anchor="middle" x="2804" y="-681.241" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="2804" y="-649.8409" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_recent = [[</text>
<text text-anchor="middle" x="2804" y="-634.4409" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT line FROM repl</text>
<text text-anchor="middle" x="2804" y="-619.0409" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;WHERE project = %s</text>
<text text-anchor="middle" x="2804" y="-603.6409" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;ORDER BY time</text>
<text text-anchor="middle" x="2804" y="-588.2408" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;DESC LIMIT %d;</text>
<text text-anchor="middle" x="2804" y="-572.8408" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="2804" y="-541.4408" font-family="Inconsolata" font-size="14.00" fill="#000000">Historian.home_dir = io.popen(&quot;echo $HOME&quot;, &quot;r&quot;):read(&quot;*a&quot;):sub(1, &#45;2)</text>
<text text-anchor="middle" x="2804" y="-526.0407" font-family="Inconsolata" font-size="14.00" fill="#000000">Historian.project = io.popen(&quot;pwd&quot;, &quot;r&quot;):read(&quot;*a&quot;):sub(1, &#45;2)</text>
<text text-anchor="middle" x="2804" y="-494.6407" font-family="Inconsolata" font-size="14.00" fill="#000000">local function has(table, name)</text>
<text text-anchor="middle" x="2804" y="-479.2407" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for _,v in ipairs(table) do</text>
<text text-anchor="middle" x="2804" y="-463.8406" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if name == v then</text>
<text text-anchor="middle" x="2804" y="-448.4406" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="2804" y="-433.0406" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2804" y="-417.6405" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="2804" y="-402.2405" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return false</text>
<text text-anchor="middle" x="2804" y="-386.8405" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_25&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>codeblock_25&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2641.3634,-1011.643C2647.6065,-998.2076 2656.9571,-978.0846 2668.0787,-954.1505"/>
<polygon fill="#000000" stroke="#000000" points="2671.385,-955.3406 2672.425,-944.797 2665.0369,-952.3908 2671.385,-955.3406"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="2292,-237.8217 1926,-237.8217 1926,-182.0187 2292,-182.0187 2292,-237.8217"/>
<text text-anchor="middle" x="2109" y="-190.4202" font-family="Inconsolata" font-size="14.00" fill="#000000">This is where we either create query or create our</text>
</g>
<!-- raw_27&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>raw_27&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2243.4305,-643.6047C2243.9989,-596.2983 2241.9438,-465.3404 2206,-364.4404 2190.3093,-320.394 2160.4601,-275.7649 2137.9988,-245.8714"/>
<polygon fill="#000000" stroke="#000000" points="2140.7241,-243.6732 2131.8773,-237.8434 2135.1577,-247.9176 2140.7241,-243.6732"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="2364,-227.9202 2310,-227.9202 2310,-191.9202 2364,-191.9202 2364,-227.9202"/>
<text text-anchor="middle" x="2337" y="-206.4202" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_28&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>prespace_28&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2334.1213,-643.3735C2334.5844,-573.6395 2336.2433,-323.8558 2336.8092,-238.6428"/>
<polygon fill="#000000" stroke="#000000" points="2340.3106,-238.438 2336.8772,-228.415 2333.3107,-238.3915 2340.3106,-238.438"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="2466.5,-227.9202 2387.5,-227.9202 2387.5,-191.9202 2466.5,-191.9202 2466.5,-227.9202"/>
<text text-anchor="middle" x="2427" y="-206.4202" font-family="Inconsolata" font-size="14.00" fill="#000000">~/.bridge</text>
</g>
<!-- literal_29&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>literal_29&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2429.8787,-643.3735C2429.4156,-573.6395 2427.7567,-323.8558 2427.1908,-238.6428"/>
<polygon fill="#000000" stroke="#000000" points="2430.6893,-238.3915 2427.1228,-228.415 2423.6894,-238.438 2430.6893,-238.3915"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2571,-227.9202 2485,-227.9202 2485,-191.9202 2571,-191.9202 2571,-227.9202"/>
<text text-anchor="middle" x="2528" y="-206.4202" font-family="Inconsolata" font-size="14.00" fill="#000000"> database.</text>
</g>
<!-- raw_30&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>raw_30&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2506.8897,-643.3735C2510.2859,-573.6395 2522.451,-323.8558 2526.6011,-238.6428"/>
<polygon fill="#000000" stroke="#000000" points="2530.1086,-238.5734 2527.0993,-228.415 2523.1169,-238.2328 2530.1086,-238.5734"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="3266.5,-679.6409 3075.5,-679.6409 3075.5,-643.6409 3266.5,-643.6409 3266.5,-679.6409"/>
<text text-anchor="middle" x="3171" y="-658.1409" font-family="Inconsolata" font-size="14.00" fill="#000000">** Historian:search(frag)</text>
</g>
<!-- header_36&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>header_36&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3186.2066,-1011.3923C3183.6155,-951.799 3175.389,-762.5882 3172.2414,-690.1926"/>
<polygon fill="#000000" stroke="#000000" points="3175.7294,-689.8388 3171.7982,-680.0003 3168.736,-690.1429 3175.7294,-689.8388"/>
</g>
<!-- raw_42 -->
<g id="node43" class="node">
<title>raw_42</title>
<ellipse fill="none" stroke="#000000" cx="3312" cy="-661.6409" rx="27" ry="18"/>
<text text-anchor="middle" x="3312" y="-657.4409" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_37&#45;&gt;raw_42 -->
<g id="edge42" class="edge">
<title>prose_37&#45;&gt;raw_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3388.944,-1014.287C3375.4179,-1001.028 3357.2947,-980.6162 3348,-958.8415 3308.6758,-866.7168 3308.1572,-744.8631 3310.3034,-690.2527"/>
<polygon fill="#000000" stroke="#000000" points="3313.8137,-690.1041 3310.7731,-679.955 3306.821,-689.7851 3313.8137,-690.1041"/>
</g>
<!-- leaf_44 -->
<g id="node45" class="node">
<title>leaf_44</title>
<polygon fill="none" stroke="#c0c0c0" points="3800.5,-765.8414 3357.5,-765.8414 3357.5,-557.4404 3800.5,-557.4404 3800.5,-765.8414"/>
<text text-anchor="middle" x="3579" y="-750.5411" font-family="Inconsolata" font-size="14.00" fill="#000000">local P, match = L.P, L.match</text>
<text text-anchor="middle" x="3579" y="-735.1411" font-family="Inconsolata" font-size="14.00" fill="#000000">local function fuzz_patt(frag)</text>
<text text-anchor="middle" x="3579" y="-719.7411" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;frag = type(frag) == &quot;string&quot; and codepoints(frag) or frag</text>
<text text-anchor="middle" x="3579" y="-704.341" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local patt = (P(1) &#45; P(frag[1]))^0</text>
<text text-anchor="middle" x="3579" y="-688.941" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(frag) do</text>
<text text-anchor="middle" x="3579" y="-673.541" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if i &lt; #frag then</text>
<text text-anchor="middle" x="3579" y="-658.1409" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;patt = patt * (P(v) * (P(1) &#45; P(frag[i + 1]))^0)</text>
<text text-anchor="middle" x="3579" y="-642.7409" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3579" y="-627.3409" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;patt = patt * (P(v))</text>
<text text-anchor="middle" x="3579" y="-611.9408" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3579" y="-596.5408" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="3579" y="-581.1408" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return patt</text>
<text text-anchor="middle" x="3579" y="-565.7407" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_38&#45;&gt;leaf_44 -->
<g id="edge44" class="edge">
<title>codeblock_38&#45;&gt;leaf_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3564.7439,-1011.3923C3566.4708,-969.0257 3570.8679,-861.1479 3574.3261,-776.3064"/>
<polygon fill="#000000" stroke="#000000" points="3577.8327,-776.2143 3574.743,-766.0801 3570.8385,-775.9292 3577.8327,-776.2143"/>
</g>
<!-- leaf_45 -->
<g id="node46" class="node">
<title>leaf_45</title>
<polygon fill="none" stroke="#c0c0c0" points="4261.5,-750.5417 3818.5,-750.5417 3818.5,-572.7401 4261.5,-572.7401 4261.5,-750.5417"/>
<text text-anchor="middle" x="4040" y="-735.1411" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.search(historian, frag)</text>
<text text-anchor="middle" x="4040" y="-719.7411" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local collection = {}</text>
<text text-anchor="middle" x="4040" y="-704.341" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local patt = fuzz_patt(frag)</text>
<text text-anchor="middle" x="4040" y="-688.941" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i = #historian, 1, &#45;1 do</text>
<text text-anchor="middle" x="4040" y="-673.541" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local score = match(patt, tostring(historian[i]))</text>
<text text-anchor="middle" x="4040" y="-658.1409" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if score then</text>
<text text-anchor="middle" x="4040" y="-642.7409" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;collection[#collection + 1] = tostring(historian[i])</text>
<text text-anchor="middle" x="4040" y="-627.3409" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4040" y="-611.9408" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="4040" y="-596.5408" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return collection</text>
<text text-anchor="middle" x="4040" y="-581.1408" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_39&#45;&gt;leaf_45 -->
<g id="edge45" class="edge">
<title>codeblock_39&#45;&gt;leaf_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3898.2874,-1011.643C3916.4959,-966.6716 3965.0415,-846.7736 4000.2469,-759.8233"/>
<polygon fill="#000000" stroke="#000000" points="4003.5311,-761.0377 4004.04,-750.4551 3997.0428,-758.4106 4003.5311,-761.0377"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="4736.5,-959.0422 4279.5,-959.0422 4279.5,-364.2397 4736.5,-364.2397 4736.5,-959.0422"/>
<text text-anchor="middle" x="4508" y="-943.6415" font-family="Inconsolata" font-size="14.00" fill="#000000">local reverse = assert(table.reverse)</text>
<text text-anchor="middle" x="4508" y="-912.2414" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.load(historian)</text>
<text text-anchor="middle" x="4508" y="-896.8414" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local conn = sql.open(historian.home_dir .. &quot;/.bridge&quot;)</text>
<text text-anchor="middle" x="4508" y="-881.4414" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.conn = conn</text>
<text text-anchor="middle" x="4508" y="-866.0414" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local table_names = conn:exec(get_tables)</text>
<text text-anchor="middle" x="4508" y="-850.6413" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not table_names or not has(table_names.name, &quot;repl&quot;) then</text>
<text text-anchor="middle" x="4508" y="-835.2413" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local success, err = sql.pexec(conn, create_repl_table)</text>
<text text-anchor="middle" x="4508" y="-819.8413" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; success is nil for creation, false for error</text>
<text text-anchor="middle" x="4508" y="-804.4412" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if success == false then</text>
<text text-anchor="middle" x="4508" y="-789.0412" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error(err)</text>
<text text-anchor="middle" x="4508" y="-773.6412" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4508" y="-758.2411" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="4508" y="-742.8411" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.insert_stmt = conn:prepare(insert_line_stmt)</text>
<text text-anchor="middle" x="4508" y="-727.4411" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local pop_stmt = sql.format(get_recent, historian.project,</text>
<text text-anchor="middle" x="4508" y="-712.041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;historian.HISTORY_LIMIT)</text>
<text text-anchor="middle" x="4508" y="-696.641" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local values, err = sql.pexec(conn, pop_stmt)</text>
<text text-anchor="middle" x="4508" y="-681.241" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if values then</text>
<text text-anchor="middle" x="4508" y="-665.8409" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;for i,v in ipairs(reverse(values[1])) do</text>
<text text-anchor="middle" x="4508" y="-650.4409" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;historian[i] = Linebuf(v)</text>
<text text-anchor="middle" x="4508" y="-635.0409" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4508" y="-619.6409" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;historian.cursor = #historian</text>
<text text-anchor="middle" x="4508" y="-604.2408" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;historian.up = false</text>
<text text-anchor="middle" x="4508" y="-588.8408" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="4508" y="-573.4408" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4508" y="-542.0407" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.persist(historian, linebuf)</text>
<text text-anchor="middle" x="4508" y="-526.6407" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local lb = tostring(linebuf)</text>
<text text-anchor="middle" x="4508" y="-511.2407" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.insert_stmt:bindkv { project = historian.project,</text>
<text text-anchor="middle" x="4508" y="-495.8406" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;line &#160;&#160;&#160;= lb }</text>
<text text-anchor="middle" x="4508" y="-480.4406" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local err = historian.insert_stmt:step()</text>
<text text-anchor="middle" x="4508" y="-465.0406" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not err then</text>
<text text-anchor="middle" x="4508" y="-449.6405" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;historian.insert_stmt:clearbind():reset()</text>
<text text-anchor="middle" x="4508" y="-434.2405" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="4508" y="-418.8405" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;error(error)</text>
<text text-anchor="middle" x="4508" y="-403.4404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="4508" y="-388.0404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return true</text>
<text text-anchor="middle" x="4508" y="-372.6404" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_40&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>codeblock_40&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4374.8473,-1011.643C4378.8911,-1001.0136 4384.5273,-986.1983 4391.214,-968.6217"/>
<polygon fill="#000000" stroke="#000000" points="4394.5192,-969.777 4394.8037,-959.186 4387.9766,-967.288 4394.5192,-969.777"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="3339,-227.9202 3285,-227.9202 3285,-191.9202 3339,-191.9202 3339,-227.9202"/>
</g>
<!-- raw_42&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>raw_42&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3312,-643.3735C3312,-573.6395 3312,-323.8558 3312,-238.6428"/>
<polygon fill="#000000" stroke="#000000" points="3315.5001,-238.4149 3312,-228.415 3308.5001,-238.415 3315.5001,-238.4149"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="4903.5,-679.6409 4754.5,-679.6409 4754.5,-643.6409 4903.5,-643.6409 4903.5,-679.6409"/>
<text text-anchor="middle" x="4829" y="-658.1409" font-family="Inconsolata" font-size="14.00" fill="#000000">** Historian:prev()</text>
</g>
<!-- header_47&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>header_47&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4841.3553,-1011.3923C4839.2501,-951.799 4832.5661,-762.5882 4830.0086,-690.1926"/>
<polygon fill="#000000" stroke="#000000" points="4833.4995,-689.8704 4829.6486,-680.0003 4826.5039,-690.1176 4833.4995,-689.8704"/>
</g>
<!-- raw_53 -->
<g id="node54" class="node">
<title>raw_53</title>
<ellipse fill="none" stroke="#000000" cx="4949" cy="-661.6409" rx="27" ry="18"/>
<text text-anchor="middle" x="4949" y="-657.4409" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_48&#45;&gt;raw_53 -->
<g id="edge53" class="edge">
<title>prose_48&#45;&gt;raw_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5015.0121,-1012.9309C5005.0658,-999.1984 4991.9137,-978.8192 4985,-958.8415 4952.2412,-864.1831 4948.4028,-743.6106 4948.5068,-689.7883"/>
<polygon fill="#000000" stroke="#000000" points="4952.0076,-689.6688 4948.5762,-679.6451 4945.0077,-689.6209 4952.0076,-689.6688"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="5417.9016,-747.7212 4994.0984,-747.7212 4994.0984,-575.5607 5417.9016,-575.5607 5417.9016,-747.7212"/>
<text text-anchor="middle" x="5206" y="-732.481" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.prev(historian)</text>
<text text-anchor="middle" x="5206" y="-717.081" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if historian.cursor == 0 then</text>
<text text-anchor="middle" x="5206" y="-701.681" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return Linebuf()</text>
<text text-anchor="middle" x="5206" y="-686.2809" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="5206" y="-670.8809" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local  = historian.cursor &gt; 1 and 1 or 0</text>
<text text-anchor="middle" x="5206" y="-652.1209" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local linebuf = historian[historian.cursor &#45; ]:clone()</text>
<text text-anchor="middle" x="5206" y="-633.3609" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.cursor = historian.cursor &#45; </text>
<text text-anchor="middle" x="5206" y="-614.6009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.cursor = #linebuf.line + 1</text>
<text text-anchor="middle" x="5206" y="-599.2009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return linebuf</text>
<text text-anchor="middle" x="5206" y="-583.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_49&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>codeblock_49&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5181.2716,-1011.643C5184.4687,-966.3918 5193.0256,-845.2784 5199.1776,-758.2038"/>
<polygon fill="#000000" stroke="#000000" points="5202.683,-758.2497 5199.8966,-748.0279 5195.7004,-757.7563 5202.683,-758.2497"/>
</g>
<!-- header_56 -->
<g id="node57" class="node">
<title>header_56</title>
<ellipse fill="none" stroke="#000000" cx="5518" cy="-661.6409" rx="82.2061" ry="18"/>
<text text-anchor="middle" x="5518" y="-657.4409" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Historian:next()</text>
</g>
<!-- section_50&#45;&gt;header_56 -->
<g id="edge56" class="edge">
<title>section_50&#45;&gt;header_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5580.772,-1011.643C5570.1376,-952.3478 5536.1418,-762.7952 5523.1315,-690.253"/>
<polygon fill="#000000" stroke="#000000" points="5526.5102,-689.2647 5521.2998,-680.0397 5519.6201,-690.5005 5526.5102,-689.2647"/>
</g>
<!-- prose_57 -->
<g id="node58" class="node">
<title>prose_57</title>
<ellipse fill="none" stroke="#000000" cx="5651" cy="-661.6409" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5651" y="-657.4409" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_50&#45;&gt;prose_57 -->
<g id="edge57" class="edge">
<title>section_50&#45;&gt;prose_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5591.4912,-1011.6077C5597.0848,-997.4769 5604.5087,-977.2015 5609,-958.8415 5632.8057,-861.5269 5644.5432,-742.7585 5648.9126,-689.6446"/>
<polygon fill="#000000" stroke="#000000" points="5652.405,-689.8772 5649.7122,-679.6303 5645.4273,-689.32 5652.405,-689.8772"/>
</g>
<!-- codeblock_58 -->
<g id="node59" class="node">
<title>codeblock_58</title>
<ellipse fill="none" stroke="#000000" cx="5884" cy="-661.6409" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5884" y="-657.4409" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 168&#45;183</text>
</g>
<!-- section_50&#45;&gt;codeblock_58 -->
<g id="edge58" class="edge">
<title>section_50&#45;&gt;codeblock_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5616.3147,-1013.1935C5639.2217,-1000.4693 5669.7219,-981.2692 5692,-958.8415 5776.7399,-873.5325 5844.1459,-744.9201 5871.1814,-689.1047"/>
<polygon fill="#000000" stroke="#000000" points="5874.4446,-690.394 5875.6095,-679.8634 5868.1319,-687.3691 5874.4446,-690.394"/>
</g>
<!-- header_69 -->
<g id="node70" class="node">
<title>header_69</title>
<ellipse fill="none" stroke="#000000" cx="6298" cy="-661.6409" rx="95.2951" ry="18"/>
<text text-anchor="middle" x="6298" y="-657.4409" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Historian:append()</text>
</g>
<!-- section_51&#45;&gt;header_69 -->
<g id="edge69" class="edge">
<title>section_51&#45;&gt;header_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6510.1697,-1014.0308C6484.9989,-1002.0491 6452.695,-983.3936 6431,-958.8415 6357.858,-876.0671 6318.8849,-746.4974 6304.5332,-689.798"/>
<polygon fill="#000000" stroke="#000000" points="6307.8543,-688.647 6302.0626,-679.7754 6301.0577,-690.3224 6307.8543,-688.647"/>
</g>
<!-- prose_70 -->
<g id="node71" class="node">
<title>prose_70</title>
<ellipse fill="none" stroke="#000000" cx="6472" cy="-661.6409" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6472" y="-657.4409" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_51&#45;&gt;prose_70 -->
<g id="edge70" class="edge">
<title>section_51&#45;&gt;prose_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6542.3698,-1011.4212C6538.0899,-997.1902 6532.2362,-976.8709 6528,-958.8415 6504.9669,-860.8127 6485.015,-742.8593 6476.455,-689.854"/>
<polygon fill="#000000" stroke="#000000" points="6479.8902,-689.1709 6474.8507,-679.8514 6472.9786,-690.2795 6479.8902,-689.1709"/>
</g>
<!-- codeblock_71 -->
<g id="node72" class="node">
<title>codeblock_71</title>
<ellipse fill="none" stroke="#000000" cx="6624" cy="-661.6409" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6624" y="-657.4409" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 188&#45;195</text>
</g>
<!-- section_51&#45;&gt;codeblock_71 -->
<g id="edge71" class="edge">
<title>section_51&#45;&gt;codeblock_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6551.7171,-1011.643C6563.9628,-952.3478 6603.1095,-762.7952 6618.091,-690.253"/>
<polygon fill="#000000" stroke="#000000" points="6621.6053,-690.5409 6620.2003,-680.0397 6614.75,-689.1251 6621.6053,-690.5409"/>
</g>
<!-- codeblock_72 -->
<g id="node73" class="node">
<title>codeblock_72</title>
<ellipse fill="none" stroke="#000000" cx="6887" cy="-661.6409" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6887" y="-657.4409" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 197&#45;204</text>
</g>
<!-- section_51&#45;&gt;codeblock_72 -->
<g id="edge72" class="edge">
<title>section_51&#45;&gt;codeblock_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6602.6759,-1017.2102C6639.2605,-1006.6476 6686.635,-988.3818 6720,-958.8415 6807.3682,-881.4883 6859.2172,-746.999 6878.4356,-689.2642"/>
<polygon fill="#000000" stroke="#000000" points="6881.7738,-690.3163 6881.545,-679.7239 6875.1184,-688.1471 6881.7738,-690.3163"/>
</g>
<!-- codeblock_73 -->
<g id="node74" class="node">
<title>codeblock_73</title>
<ellipse fill="none" stroke="#000000" cx="7116" cy="-661.6409" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7116" y="-657.4409" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 206&#45;208</text>
</g>
<!-- section_51&#45;&gt;codeblock_73 -->
<g id="edge73" class="edge">
<title>section_51&#45;&gt;codeblock_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6622.1943,-1025.9557C6731.2305,-1019.1688 6927.8103,-1001.2937 6983,-958.8415 7071.7635,-890.5641 7102.794,-749.9831 7112.2893,-689.8901"/>
<polygon fill="#000000" stroke="#000000" points="7115.7553,-690.3775 7113.7746,-679.9694 7108.8324,-689.341 7115.7553,-690.3775"/>
</g>
<!-- leaf_54 -->
<g id="node55" class="node">
<title>leaf_54</title>
<polygon fill="none" stroke="#c0c0c0" points="4976,-227.9202 4922,-227.9202 4922,-191.9202 4976,-191.9202 4976,-227.9202"/>
</g>
<!-- raw_53&#45;&gt;leaf_54 -->
<g id="edge54" class="edge">
<title>raw_53&#45;&gt;leaf_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4949,-643.3735C4949,-573.6395 4949,-323.8558 4949,-238.6428"/>
<polygon fill="#000000" stroke="#000000" points="4952.5001,-238.4149 4949,-228.415 4945.5001,-238.415 4952.5001,-238.4149"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="5419,-227.9202 5263,-227.9202 5263,-191.9202 5419,-191.9202 5419,-227.9202"/>
<text text-anchor="middle" x="5341" y="-206.4202" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Historian:next()</text>
</g>
<!-- header_56&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>header_56&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5513.8447,-643.4193C5502.7765,-596.2051 5470.4381,-466.4701 5427,-364.4404 5407.1642,-317.8489 5377.1892,-267.1518 5358.3741,-236.9798"/>
<polygon fill="#000000" stroke="#000000" points="5361.2033,-234.9041 5352.9167,-228.3023 5355.2777,-238.6307 5361.2033,-234.9041"/>
</g>
<!-- raw_60 -->
<g id="node61" class="node">
<title>raw_60</title>
<ellipse fill="none" stroke="#000000" cx="5464" cy="-209.9202" rx="27" ry="18"/>
<text text-anchor="middle" x="5464" y="-205.7202" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_57&#45;&gt;raw_60 -->
<g id="edge60" class="edge">
<title>prose_57&#45;&gt;raw_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5654.3346,-643.7172C5662.6367,-593.2169 5678.8358,-448.0126 5609,-364.4404 5576.2858,-325.2914 5535.6379,-364.9479 5500,-328.4404 5476.3672,-304.2309 5468.1853,-265.0158 5465.389,-238.3816"/>
<polygon fill="#000000" stroke="#000000" points="5468.8543,-237.8261 5464.5136,-228.1614 5461.8799,-238.4236 5468.8543,-237.8261"/>
</g>
<!-- prespace_61 -->
<g id="node62" class="node">
<title>prespace_61</title>
<ellipse fill="none" stroke="#000000" cx="5555" cy="-209.9202" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5555" y="-205.7202" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_57&#45;&gt;prespace_61 -->
<g id="edge61" class="edge">
<title>prose_57&#45;&gt;prespace_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5649.6658,-643.3143C5645.9794,-596.3809 5634.2158,-468.2471 5609,-364.4404 5597.9714,-319.0385 5578.8352,-268.2189 5566.5545,-237.6677"/>
<polygon fill="#000000" stroke="#000000" points="5569.6821,-236.0671 5562.6742,-228.121 5563.1973,-238.7029 5569.6821,-236.0671"/>
</g>
<!-- literal_62 -->
<g id="node63" class="node">
<title>literal_62</title>
<ellipse fill="none" stroke="#000000" cx="5651" cy="-209.9202" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5651" y="-205.7202" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_57&#45;&gt;literal_62 -->
<g id="edge62" class="edge">
<title>prose_57&#45;&gt;literal_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5651,-643.3735C5651,-573.6395 5651,-323.8558 5651,-238.6428"/>
<polygon fill="#000000" stroke="#000000" points="5654.5001,-238.4149 5651,-228.415 5647.5001,-238.415 5654.5001,-238.4149"/>
</g>
<!-- raw_63 -->
<g id="node64" class="node">
<title>raw_63</title>
<ellipse fill="none" stroke="#000000" cx="5727" cy="-209.9202" rx="27" ry="18"/>
<text text-anchor="middle" x="5727" y="-205.7202" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_57&#45;&gt;raw_63 -->
<g id="edge63" class="edge">
<title>prose_57&#45;&gt;raw_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5654.0262,-643.6542C5665.7282,-574.1007 5708.069,-322.4401 5722.2983,-237.8658"/>
<polygon fill="#000000" stroke="#000000" points="5725.7574,-238.4005 5723.9652,-227.9583 5718.8545,-237.239 5725.7574,-238.4005"/>
</g>
<!-- leaf_68 -->
<g id="node69" class="node">
<title>leaf_68</title>
<polygon fill="none" stroke="#c0c0c0" points="6188.4016,-328.4605 5771.5984,-328.4605 5771.5984,-91.3799 6188.4016,-91.3799 6188.4016,-328.4605"/>
<text text-anchor="middle" x="5980" y="-313.2404" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.next(historian)</text>
<text text-anchor="middle" x="5980" y="-297.8403" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local  = historian.cursor &lt; #historian and 1 or 0</text>
<text text-anchor="middle" x="5980" y="-279.0803" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if historian.cursor == 0 then</text>
<text text-anchor="middle" x="5980" y="-263.6803" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return Linebuf()</text>
<text text-anchor="middle" x="5980" y="-248.2803" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="5980" y="-232.8802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local linebuf= historian[historian.cursor + ]:clone()</text>
<text text-anchor="middle" x="5980" y="-214.1202" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.cursor = historian.cursor + </text>
<text text-anchor="middle" x="5980" y="-195.3602" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.cursor = #linebuf.line + 1</text>
<text text-anchor="middle" x="5980" y="-179.9602" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not ( &gt; 0) and #linebuf.line &gt; 0 then</text>
<text text-anchor="middle" x="5980" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return linebuf, true</text>
<text text-anchor="middle" x="5980" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="5980" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return linebuf, false</text>
<text text-anchor="middle" x="5980" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="5980" y="-99.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_58&#45;&gt;leaf_68 -->
<g id="edge68" class="edge">
<title>codeblock_58&#45;&gt;leaf_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5887.8226,-643.6542C5898.5256,-593.2916 5929.5199,-447.4506 5952.6322,-338.6975"/>
<polygon fill="#000000" stroke="#000000" points="5956.1175,-339.1338 5954.7728,-328.6247 5949.2704,-337.6786 5956.1175,-339.1338"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="5511,-55.6015 5033,-55.6015 5033,.2015 5511,.2015 5511,-55.6015"/>
<text text-anchor="middle" x="5272" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">Returns the next linebuf in history, and a second flag to tell the</text>
</g>
<!-- raw_60&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>raw_60&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5463.2254,-191.9252C5461.1976,-166.4609 5453.9274,-119.8519 5428,-91.4 5416.3875,-78.6569 5401.8542,-68.4051 5386.3603,-60.1728"/>
<polygon fill="#000000" stroke="#000000" points="5387.6502,-56.9045 5377.1416,-55.5557 5384.5154,-63.1633 5387.6502,-56.9045"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="5583,-45.7 5529,-45.7 5529,-9.7 5583,-9.7 5583,-45.7"/>
</g>
<!-- prespace_61&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>prespace_61&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5555.0995,-191.782C5555.274,-159.9922 5555.6362,-93.9972 5555.8441,-56.1047"/>
<polygon fill="#000000" stroke="#000000" points="5559.3458,-55.7839 5555.9009,-45.7648 5552.3459,-55.7454 5559.3458,-55.7839"/>
</g>
<!-- leaf_66 -->
<g id="node67" class="node">
<title>leaf_66</title>
<polygon fill="none" stroke="#c0c0c0" points="5701,-45.7 5601,-45.7 5601,-9.7 5701,-9.7 5701,-45.7"/>
<text text-anchor="middle" x="5651" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">modeselektor</text>
</g>
<!-- literal_62&#45;&gt;leaf_66 -->
<g id="edge66" class="edge">
<title>literal_62&#45;&gt;leaf_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5651,-191.782C5651,-159.9922 5651,-93.9972 5651,-56.1047"/>
<polygon fill="#000000" stroke="#000000" points="5654.5001,-55.7648 5651,-45.7648 5647.5001,-55.7648 5654.5001,-55.7648"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="5959,-45.7 5719,-45.7 5719,-9.7 5959,-9.7 5959,-45.7"/>
<text text-anchor="middle" x="5839" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> it might be time for a new one.</text>
</g>
<!-- raw_63&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>raw_63&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5729.2354,-191.6817C5732.9407,-167.1533 5742.1301,-122.9743 5763,-91.4 5773.1577,-76.0324 5788.1012,-62.3829 5802.0554,-51.6999"/>
<polygon fill="#000000" stroke="#000000" points="5804.1392,-54.5121 5810.1134,-45.7622 5799.9867,-48.8767 5804.1392,-54.5121"/>
</g>
<!-- leaf_74 -->
<g id="node75" class="node">
<title>leaf_74</title>
<polygon fill="none" stroke="#c0c0c0" points="6376,-227.9202 6206,-227.9202 6206,-191.9202 6376,-191.9202 6376,-227.9202"/>
<text text-anchor="middle" x="6291" y="-206.4202" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Historian:append()</text>
</g>
<!-- header_69&#45;&gt;leaf_74 -->
<g id="edge74" class="edge">
<title>header_69&#45;&gt;leaf_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6297.7169,-643.3735C6296.6363,-573.6395 6292.7656,-323.8558 6291.4451,-238.6428"/>
<polygon fill="#000000" stroke="#000000" points="6294.9412,-238.3595 6291.2866,-228.415 6287.9421,-238.468 6294.9412,-238.3595"/>
</g>
<!-- raw_75 -->
<g id="node76" class="node">
<title>raw_75</title>
<ellipse fill="none" stroke="#000000" cx="6421" cy="-209.9202" rx="27" ry="18"/>
<text text-anchor="middle" x="6421" y="-205.7202" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_70&#45;&gt;raw_75 -->
<g id="edge75" class="edge">
<title>prose_70&#45;&gt;raw_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6469.9693,-643.6542C6462.1246,-574.1716 6433.7615,-322.9525 6424.1843,-238.1247"/>
<polygon fill="#000000" stroke="#000000" points="6427.6364,-237.5025 6423.0365,-227.9583 6420.6806,-238.2879 6427.6364,-237.5025"/>
</g>
<!-- leaf_77 -->
<g id="node78" class="node">
<title>leaf_77</title>
<polygon fill="none" stroke="#c0c0c0" points="6797.5,-260.3212 6466.5,-260.3212 6466.5,-159.5192 6797.5,-159.5192 6797.5,-260.3212"/>
<text text-anchor="middle" x="6632" y="-244.9203" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.append(historian, linebuf)</text>
<text text-anchor="middle" x="6632" y="-229.5203" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian[#historian + 1] = linebuf</text>
<text text-anchor="middle" x="6632" y="-214.1202" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.cursor = #historian</text>
<text text-anchor="middle" x="6632" y="-198.7202" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian:persist(linebuf)</text>
<text text-anchor="middle" x="6632" y="-183.3202" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return true</text>
<text text-anchor="middle" x="6632" y="-167.9201" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_71&#45;&gt;leaf_77 -->
<g id="edge77" class="edge">
<title>codeblock_71&#45;&gt;leaf_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6624.3235,-643.3735C6625.4297,-580.9156 6629.0938,-374.0209 6630.9307,-270.2999"/>
<polygon fill="#000000" stroke="#000000" points="6634.4302,-270.3511 6631.1079,-260.2906 6627.4313,-270.2271 6634.4302,-270.3511"/>
</g>
<!-- leaf_78 -->
<g id="node79" class="node">
<title>leaf_78</title>
<polygon fill="none" stroke="#c0c0c0" points="7084,-260.3212 6816,-260.3212 6816,-159.5192 7084,-159.5192 7084,-260.3212"/>
<text text-anchor="middle" x="6950" y="-244.9203" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new()</text>
<text text-anchor="middle" x="6950" y="-229.5203" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local historian = meta(Historian)</text>
<text text-anchor="middle" x="6950" y="-214.1202" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian:load()</text>
<text text-anchor="middle" x="6950" y="-198.7202" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return historian</text>
<text text-anchor="middle" x="6950" y="-183.3202" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6950" y="-167.9201" font-family="Inconsolata" font-size="14.00" fill="#000000">Historian.idEst = new</text>
</g>
<!-- codeblock_72&#45;&gt;leaf_78 -->
<g id="edge78" class="edge">
<title>codeblock_72&#45;&gt;leaf_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6889.5477,-643.3735C6898.2585,-580.9156 6927.1134,-374.0209 6941.579,-270.2999"/>
<polygon fill="#000000" stroke="#000000" points="6945.0601,-270.6783 6942.975,-260.2906 6938.1272,-269.7113 6945.0601,-270.6783"/>
</g>
<!-- leaf_79 -->
<g id="node80" class="node">
<title>leaf_79</title>
<polygon fill="none" stroke="#c0c0c0" points="7188,-227.9202 7102,-227.9202 7102,-191.9202 7188,-191.9202 7188,-227.9202"/>
<text text-anchor="middle" x="7145" y="-206.4202" font-family="Inconsolata" font-size="14.00" fill="#000000">return new</text>
</g>
<!-- codeblock_73&#45;&gt;leaf_79 -->
<g id="edge79" class="edge">
<title>codeblock_73&#45;&gt;leaf_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7117.1728,-643.3735C7121.6496,-573.6395 7137.6855,-323.8558 7143.156,-238.6428"/>
<polygon fill="#000000" stroke="#000000" points="7146.6647,-238.6187 7143.8127,-228.415 7139.6791,-238.1702 7146.6647,-238.6187"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="6448,-45.7 6394,-45.7 6394,-9.7 6448,-9.7 6448,-45.7"/>
</g>
<!-- raw_75&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>raw_75&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6421,-191.782C6421,-159.9922 6421,-93.9972 6421,-56.1047"/>
<polygon fill="#000000" stroke="#000000" points="6424.5001,-55.7648 6421,-45.7648 6417.5001,-55.7648 6424.5001,-55.7648"/>
</g>
</g>
</svg>
