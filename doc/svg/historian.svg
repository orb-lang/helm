<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="14441pt" height="2871pt"
 viewBox="0.00 0.00 14441.00 2870.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2866.8044)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2866.8044 14437,-2866.8044 14437,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1806" cy="-2844.8044" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="1806" y="-2840.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 415</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1806" cy="-2772.8044" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1806" y="-2768.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;329</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1806,-2826.6358C1806,-2818.9354 1806,-2809.7788 1806,-2801.2211"/>
<polygon fill="#000000" stroke="#000000" points="1809.5001,-2801.2177 1806,-2791.2177 1802.5001,-2801.2177 1809.5001,-2801.2177"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="1383" cy="-2700.8044" rx="57.0821" ry="18"/>
<text text-anchor="middle" x="1383" y="-2696.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Historian</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1745.7149,-2765.4472C1675.1794,-2756.4088 1555.0436,-2739.675 1453,-2718.8044 1447.6215,-2717.7044 1442.037,-2716.4546 1436.4738,-2715.1385"/>
<polygon fill="#000000" stroke="#000000" points="1437.0769,-2711.683 1426.5325,-2712.7156 1435.4193,-2718.484 1437.0769,-2711.683"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="1494" cy="-2700.8044" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1494" y="-2696.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1747.191,-2764.6479C1691.8997,-2756.1374 1607.2172,-2740.9238 1536,-2718.8044 1533.5472,-2718.0426 1531.0431,-2717.1856 1528.5399,-2716.2697"/>
<polygon fill="#000000" stroke="#000000" points="1529.5872,-2712.9208 1518.9998,-2712.5216 1527.0274,-2719.436 1529.5872,-2712.9208"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="1577" cy="-2700.8044" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1577" y="-2696.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1757.4359,-2760.5496C1719.3795,-2750.5233 1665.3029,-2735.3403 1619,-2718.8044 1616.5813,-2717.9406 1614.1026,-2717.0075 1611.6178,-2716.0362"/>
<polygon fill="#000000" stroke="#000000" points="1612.6994,-2712.6977 1602.1178,-2712.1681 1610.0596,-2719.1809 1612.6994,-2712.6977"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="1660" cy="-2700.8044" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1660" y="-2696.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1773.9597,-2757.0037C1750.0983,-2745.2365 1717.6044,-2729.2121 1693.4189,-2717.285"/>
<polygon fill="#000000" stroke="#000000" points="1694.7832,-2714.0554 1684.2664,-2712.7714 1691.6871,-2720.3335 1694.7832,-2714.0554"/>
</g>
<!-- prose_6 -->
<g id="node7" class="node">
<title>prose_6</title>
<ellipse fill="none" stroke="#000000" cx="1742" cy="-2700.8044" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1742" y="-2696.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;prose_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1790.1798,-2755.0067C1782.1184,-2745.9376 1772.1979,-2734.7771 1763.4584,-2724.9451"/>
<polygon fill="#000000" stroke="#000000" points="1766.0204,-2722.5591 1756.7607,-2717.4103 1760.7885,-2727.2097 1766.0204,-2722.5591"/>
</g>
<!-- codeblock_7 -->
<g id="node8" class="node">
<title>codeblock_7</title>
<ellipse fill="none" stroke="#000000" cx="1870" cy="-2700.8044" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1870" y="-2696.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 16&#45;25</text>
</g>
<!-- section_1&#45;&gt;codeblock_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;codeblock_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1821.8202,-2755.0067C1829.5126,-2746.3527 1838.8978,-2735.7944 1847.3344,-2726.3033"/>
<polygon fill="#000000" stroke="#000000" points="1850.1122,-2728.4464 1854.14,-2718.647 1844.8803,-2723.7958 1850.1122,-2728.4464"/>
</g>
<!-- codeblock_8 -->
<g id="node9" class="node">
<title>codeblock_8</title>
<ellipse fill="none" stroke="#000000" cx="2087" cy="-2700.8044" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2087" y="-2696.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 27&#45;29</text>
</g>
<!-- section_1&#45;&gt;codeblock_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;codeblock_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1853.9863,-2760.509C1901.2571,-2748.3969 1973.679,-2729.8404 2025.2255,-2716.6328"/>
<polygon fill="#000000" stroke="#000000" points="2026.1011,-2720.0216 2034.9194,-2714.1489 2024.3636,-2713.2406 2026.1011,-2720.0216"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="5348" cy="-2700.8044" rx="70.655" ry="18"/>
<text text-anchor="middle" x="5348" y="-2696.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 32&#45;233</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1871.6531,-2771.4699C2307.9483,-2762.6011 4785.7308,-2712.234 5267.0109,-2702.4507"/>
<polygon fill="#000000" stroke="#000000" points="5267.4095,-2705.9435 5277.3363,-2702.2408 5267.2672,-2698.9449 5267.4095,-2705.9435"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="11087" cy="-2700.8044" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="11087" y="-2696.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 284&#45;329</text>
</g>
<!-- section_1&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1871.8099,-2772.2939C2651.6775,-2766.2438 10116.2234,-2708.3355 11001.3647,-2701.4688"/>
<polygon fill="#000000" stroke="#000000" points="11001.5013,-2704.9679 11011.4738,-2701.3903 11001.4469,-2697.9681 11001.5013,-2704.9679"/>
</g>
<!-- section_11 -->
<g id="node12" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="12119" cy="-2700.8044" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="12119" y="-2696.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 330&#45;381</text>
</g>
<!-- section_1&#45;&gt;section_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;section_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1872.0358,-2772.7586C2487.4224,-2772.2631 7283.3761,-2766.9185 11171,-2718.8044 11489.2174,-2714.8661 11867.4571,-2706.6106 12033.5826,-2702.8045"/>
<polygon fill="#000000" stroke="#000000" points="12033.8188,-2706.3001 12043.7358,-2702.5714 12033.658,-2699.302 12033.8188,-2706.3001"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="1428.5,-2599.2043 1335.5,-2599.2043 1335.5,-2563.2043 1428.5,-2563.2043 1428.5,-2599.2043"/>
<text text-anchor="middle" x="1382" y="-2577.7043" font-family="Inconsolata" font-size="14.00" fill="#000000">* Historian</text>
</g>
<!-- header_2&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>header_2&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1382.8481,-2682.6397C1382.6859,-2663.2337 1382.4265,-2632.2144 1382.2373,-2609.5823"/>
<polygon fill="#000000" stroke="#000000" points="1385.7369,-2609.5103 1382.1533,-2599.5399 1378.7371,-2609.5689 1385.7369,-2609.5103"/>
</g>
<!-- raw_13 -->
<g id="node14" class="node">
<title>raw_13</title>
<ellipse fill="none" stroke="#000000" cx="1474" cy="-2581.2043" rx="27" ry="18"/>
<text text-anchor="middle" x="1474" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_13 -->
<g id="edge13" class="edge">
<title>prose_3&#45;&gt;raw_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1490.9624,-2682.6397C1487.6984,-2663.1208 1482.4697,-2631.8533 1478.6796,-2609.1884"/>
<polygon fill="#000000" stroke="#000000" points="1482.1021,-2608.4338 1477.0006,-2599.1481 1475.198,-2609.5884 1482.1021,-2608.4338"/>
</g>
<!-- raw_15 -->
<g id="node16" class="node">
<title>raw_15</title>
<ellipse fill="none" stroke="#000000" cx="1546" cy="-2581.2043" rx="27" ry="18"/>
<text text-anchor="middle" x="1546" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_15 -->
<g id="edge15" class="edge">
<title>prose_4&#45;&gt;raw_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1572.359,-2682.8991C1567.291,-2663.3466 1559.1105,-2631.7857 1553.2061,-2609.0059"/>
<polygon fill="#000000" stroke="#000000" points="1556.5699,-2608.034 1550.6727,-2599.2321 1549.7938,-2609.7904 1556.5699,-2608.034"/>
</g>
<!-- raw_17 -->
<g id="node18" class="node">
<title>raw_17</title>
<ellipse fill="none" stroke="#000000" cx="1618" cy="-2581.2043" rx="27" ry="18"/>
<text text-anchor="middle" x="1618" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_17 -->
<g id="edge17" class="edge">
<title>prose_5&#45;&gt;raw_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1653.7122,-2682.8991C1646.7751,-2663.145 1635.5337,-2631.1336 1627.5166,-2608.3041"/>
<polygon fill="#000000" stroke="#000000" points="1630.8094,-2607.1171 1624.1937,-2598.8417 1624.2048,-2609.4365 1630.8094,-2607.1171"/>
</g>
<!-- raw_19 -->
<g id="node20" class="node">
<title>raw_19</title>
<ellipse fill="none" stroke="#000000" cx="1690" cy="-2581.2043" rx="27" ry="18"/>
<text text-anchor="middle" x="1690" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_19 -->
<g id="edge19" class="edge">
<title>prose_6&#45;&gt;raw_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1734.3272,-2683.157C1725.6753,-2663.2575 1711.5143,-2630.6872 1701.5301,-2607.7237"/>
<polygon fill="#000000" stroke="#000000" points="1704.7323,-2606.3104 1697.5352,-2598.5353 1698.3128,-2609.1015 1704.7323,-2606.3104"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="2017,-2646.9047 1735,-2646.9047 1735,-2515.5039 2017,-2515.5039 2017,-2646.9047"/>
<text text-anchor="middle" x="1876" y="-2631.6044" font-family="Inconsolata" font-size="14.00" fill="#000000">local Txtbuf = require &quot;txtbuf&quot;</text>
<text text-anchor="middle" x="1876" y="-2616.2044" font-family="Inconsolata" font-size="14.00" fill="#000000">local sql &#160;&#160;&#160;&#160;= require &quot;sqlayer&quot;</text>
<text text-anchor="middle" x="1876" y="-2600.8044" font-family="Inconsolata" font-size="14.00" fill="#000000">local color &#160;&#160;= require &quot;color&quot;</text>
<text text-anchor="middle" x="1876" y="-2585.4043" font-family="Inconsolata" font-size="14.00" fill="#000000">local L &#160;&#160;&#160;&#160;&#160;&#160;= require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1876" y="-2570.0043" font-family="Inconsolata" font-size="14.00" fill="#000000">local format &#160;= assert (string.format)</text>
<text text-anchor="middle" x="1876" y="-2554.6043" font-family="Inconsolata" font-size="14.00" fill="#000000">local sub &#160;&#160;&#160;&#160;= assert (string.sub)</text>
<text text-anchor="middle" x="1876" y="-2539.2042" font-family="Inconsolata" font-size="14.00" fill="#000000">local reverse = assert (table.reverse)</text>
<text text-anchor="middle" x="1876" y="-2523.8042" font-family="Inconsolata" font-size="14.00" fill="#000000">assert(meta)</text>
</g>
<!-- codeblock_7&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>codeblock_7&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1870.9113,-2682.6397C1871.2762,-2675.3648 1871.7231,-2666.4577 1872.1989,-2656.9723"/>
<polygon fill="#000000" stroke="#000000" points="1875.6976,-2657.0851 1872.7031,-2646.9223 1868.7064,-2656.7343 1875.6976,-2657.0851"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="2226.5,-2599.2043 2035.5,-2599.2043 2035.5,-2563.2043 2226.5,-2563.2043 2226.5,-2599.2043"/>
<text text-anchor="middle" x="2131" y="-2577.7043" font-family="Inconsolata" font-size="14.00" fill="#000000">local Historian = meta {}</text>
</g>
<!-- codeblock_8&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>codeblock_8&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2093.6827,-2682.6397C2100.8866,-2663.0581 2112.4407,-2631.652 2120.7853,-2608.9699"/>
<polygon fill="#000000" stroke="#000000" points="2124.0865,-2610.1334 2124.2545,-2599.5399 2117.5169,-2607.7165 2124.0865,-2610.1334"/>
</g>
<!-- header_23 -->
<g id="node24" class="node">
<title>header_23</title>
<ellipse fill="none" stroke="#000000" cx="2313" cy="-2581.2043" rx="68.6997" ry="18"/>
<text text-anchor="middle" x="2313" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Persistence</text>
</g>
<!-- section_9&#45;&gt;header_23 -->
<g id="edge23" class="edge">
<title>section_9&#45;&gt;header_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5277.4595,-2700.1655C4835.1791,-2696.0803 2460.7483,-2672.9592 2391,-2646.8044 2368.9909,-2638.5513 2348.82,-2621.1989 2334.5062,-2606.4132"/>
<polygon fill="#000000" stroke="#000000" points="2336.9543,-2603.9064 2327.5761,-2598.977 2331.8334,-2608.6789 2336.9543,-2603.9064"/>
</g>
<!-- prose_24 -->
<g id="node25" class="node">
<title>prose_24</title>
<ellipse fill="none" stroke="#000000" cx="2432" cy="-2581.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2432" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_24 -->
<g id="edge24" class="edge">
<title>section_9&#45;&gt;prose_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5277.1794,-2700.1525C4885.6401,-2696.4396 2994.2571,-2677.0547 2736,-2646.8044 2639.3758,-2635.4866 2528.1701,-2607.6034 2470.7747,-2592.08"/>
<polygon fill="#000000" stroke="#000000" points="2471.6018,-2588.6777 2461.0332,-2589.4238 2469.7602,-2595.4312 2471.6018,-2588.6777"/>
</g>
<!-- prose_25 -->
<g id="node26" class="node">
<title>prose_25</title>
<ellipse fill="none" stroke="#000000" cx="2777" cy="-2581.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2777" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_25 -->
<g id="edge25" class="edge">
<title>section_9&#45;&gt;prose_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5278.2495,-2697.8176C5091.7891,-2689.8107 4566.2427,-2667.0966 4129,-2646.8044 3613.3183,-2622.8719 2987.1079,-2591.7079 2819.7866,-2583.3461"/>
<polygon fill="#000000" stroke="#000000" points="2819.5974,-2579.8324 2809.4351,-2582.8286 2819.2478,-2586.8236 2819.5974,-2579.8324"/>
</g>
<!-- prose_26 -->
<g id="node27" class="node">
<title>prose_26</title>
<ellipse fill="none" stroke="#000000" cx="4170" cy="-2581.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4170" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_26 -->
<g id="edge26" class="edge">
<title>section_9&#45;&gt;prose_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5282.1414,-2694.1179C5066.9241,-2672.2673 4388.1126,-2603.3489 4212.0469,-2585.4733"/>
<polygon fill="#000000" stroke="#000000" points="4212.1968,-2581.9706 4201.8943,-2584.4425 4211.4896,-2588.9348 4212.1968,-2581.9706"/>
</g>
<!-- prose_27 -->
<g id="node28" class="node">
<title>prose_27</title>
<ellipse fill="none" stroke="#000000" cx="5159" cy="-2581.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5159" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_27 -->
<g id="edge27" class="edge">
<title>section_9&#45;&gt;prose_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5321.3218,-2683.9223C5286.5204,-2661.8998 5225.7819,-2623.4642 5189.2874,-2600.3703"/>
<polygon fill="#000000" stroke="#000000" points="5190.8838,-2597.2387 5180.562,-2594.8489 5187.1407,-2603.1538 5190.8838,-2597.2387"/>
</g>
<!-- prose_28 -->
<g id="node29" class="node">
<title>prose_28</title>
<ellipse fill="none" stroke="#000000" cx="5770" cy="-2581.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5770" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_28 -->
<g id="edge28" class="edge">
<title>section_9&#45;&gt;prose_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5395.5885,-2687.3173C5479.8588,-2663.434 5653.7326,-2614.1559 5731.2404,-2592.1893"/>
<polygon fill="#000000" stroke="#000000" points="5732.4139,-2595.4946 5741.0806,-2589.4004 5730.5051,-2588.7599 5732.4139,-2595.4946"/>
</g>
<!-- prose_29 -->
<g id="node30" class="node">
<title>prose_29</title>
<ellipse fill="none" stroke="#000000" cx="6240" cy="-2581.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6240" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_29 -->
<g id="edge29" class="edge">
<title>section_9&#45;&gt;prose_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5413.2666,-2693.9336C5502.9949,-2684.3185 5669.4432,-2665.8762 5811,-2646.8044 5953.6318,-2627.5878 6122.2573,-2600.5257 6198.676,-2588.0247"/>
<polygon fill="#000000" stroke="#000000" points="6199.5325,-2591.4311 6208.8347,-2586.3598 6198.4003,-2584.5233 6199.5325,-2591.4311"/>
</g>
<!-- prose_30 -->
<g id="node31" class="node">
<title>prose_30</title>
<ellipse fill="none" stroke="#000000" cx="7397" cy="-2581.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7397" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_30 -->
<g id="edge30" class="edge">
<title>section_9&#45;&gt;prose_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5417.0583,-2696.8288C5571.7497,-2687.9187 5957.86,-2665.6531 6281,-2646.8044 6699.6359,-2622.3856 7206.5832,-2592.4563 7354.5613,-2583.7127"/>
<polygon fill="#000000" stroke="#000000" points="7354.8132,-2587.204 7364.5892,-2583.1202 7354.4002,-2580.2162 7354.8132,-2587.204"/>
</g>
<!-- section_31 -->
<g id="node32" class="node">
<title>section_31</title>
<ellipse fill="none" stroke="#000000" cx="8001" cy="-2581.2043" rx="70.655" ry="18"/>
<text text-anchor="middle" x="8001" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 59&#45;174</text>
</g>
<!-- section_9&#45;&gt;section_31 -->
<g id="edge31" class="edge">
<title>section_9&#45;&gt;section_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5418.5311,-2699.8381C5735.7448,-2695.3602 7032.3841,-2675.6165 7438,-2646.8044 7615.3421,-2634.2073 7822.7864,-2606.7168 7929.5127,-2591.6292"/>
<polygon fill="#000000" stroke="#000000" points="7930.1132,-2595.0792 7939.5222,-2590.2088 7929.1296,-2588.1486 7930.1132,-2595.0792"/>
</g>
<!-- section_32 -->
<g id="node33" class="node">
<title>section_32</title>
<ellipse fill="none" stroke="#000000" cx="8865" cy="-2581.2043" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8865" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 175&#45;233</text>
</g>
<!-- section_9&#45;&gt;section_32 -->
<g id="edge32" class="edge">
<title>section_9&#45;&gt;section_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5418.618,-2700.02C5792.0883,-2695.7785 7540.2644,-2674.7407 8081,-2646.8044 8339.1648,-2633.4667 8644.1209,-2603.9947 8785.5736,-2589.535"/>
<polygon fill="#000000" stroke="#000000" points="8786.2918,-2592.9798 8795.8827,-2588.4781 8785.5779,-2586.0163 8786.2918,-2592.9798"/>
</g>
<!-- section_33 -->
<g id="node34" class="node">
<title>section_33</title>
<ellipse fill="none" stroke="#000000" cx="10128" cy="-2581.2043" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="10128" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 234&#45;283</text>
</g>
<!-- section_9&#45;&gt;section_33 -->
<g id="edge33" class="edge">
<title>section_9&#45;&gt;section_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5418.6114,-2700.1375C5858.184,-2695.9266 8224.5592,-2672.3798 8949,-2646.8044 9360.8592,-2632.2643 9852.902,-2600.1081 10045.2276,-2586.9685"/>
<polygon fill="#000000" stroke="#000000" points="10045.5236,-2590.4565 10055.2612,-2586.2816 10045.0455,-2583.4728 10045.5236,-2590.4565"/>
</g>
<!-- header_155 -->
<g id="node156" class="node">
<title>header_155</title>
<ellipse fill="none" stroke="#000000" cx="11008" cy="-2581.2043" rx="107.339" ry="18"/>
<text text-anchor="middle" x="11008" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Historian:search(frag)</text>
</g>
<!-- section_10&#45;&gt;header_155 -->
<g id="edge155" class="edge">
<title>section_10&#45;&gt;header_155</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11075.1729,-2682.8991C11062.0251,-2662.9943 11040.6569,-2630.6445 11025.5563,-2607.7832"/>
<polygon fill="#000000" stroke="#000000" points="11028.3399,-2605.6471 11019.908,-2599.2321 11022.4991,-2609.5052 11028.3399,-2605.6471"/>
</g>
<!-- prose_156 -->
<g id="node157" class="node">
<title>prose_156</title>
<ellipse fill="none" stroke="#000000" cx="11166" cy="-2581.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11166" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_156 -->
<g id="edge156" class="edge">
<title>section_10&#45;&gt;prose_156</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11099.4746,-2682.8996C11106.7161,-2672.4313 11115.9661,-2658.9313 11124,-2646.8044 11132.6297,-2633.7781 11142.0256,-2619.1466 11149.738,-2607.0127"/>
<polygon fill="#000000" stroke="#000000" points="11152.8701,-2608.6088 11155.2669,-2598.2886 11146.9575,-2604.8616 11152.8701,-2608.6088"/>
</g>
<!-- codeblock_157 -->
<g id="node158" class="node">
<title>codeblock_157</title>
<ellipse fill="none" stroke="#000000" cx="11393" cy="-2581.2043" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11393" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 286&#45;327</text>
</g>
<!-- section_10&#45;&gt;codeblock_157 -->
<g id="edge157" class="edge">
<title>section_10&#45;&gt;codeblock_157</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11126.3777,-2685.4137C11181.5371,-2663.8546 11281.8341,-2624.6535 11342.4467,-2600.9631"/>
<polygon fill="#000000" stroke="#000000" points="11343.7811,-2604.1994 11351.8209,-2597.2992 11341.2329,-2597.6797 11343.7811,-2604.1994"/>
</g>
<!-- header_162 -->
<g id="node163" class="node">
<title>header_162</title>
<ellipse fill="none" stroke="#000000" cx="11865" cy="-2581.2043" rx="82.6821" ry="18"/>
<text text-anchor="middle" x="11865" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Historian:prev()</text>
</g>
<!-- section_11&#45;&gt;header_162 -->
<g id="edge162" class="edge">
<title>section_11&#45;&gt;header_162</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12082.8916,-2684.9212C12058.9965,-2674.3206 12027.0197,-2659.9632 11999,-2646.8044 11968.2005,-2632.3402 11933.725,-2615.4465 11907.4566,-2602.4255"/>
<polygon fill="#000000" stroke="#000000" points="11908.6853,-2599.1279 11898.172,-2597.8151 11905.572,-2605.3975 11908.6853,-2599.1279"/>
</g>
<!-- prose_163 -->
<g id="node164" class="node">
<title>prose_163</title>
<ellipse fill="none" stroke="#000000" cx="12040" cy="-2581.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="12040" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_163 -->
<g id="edge163" class="edge">
<title>section_11&#45;&gt;prose_163</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12107.1729,-2682.8991C12093.8731,-2662.7641 12072.1618,-2629.8948 12057.0351,-2606.9942"/>
<polygon fill="#000000" stroke="#000000" points="12059.8263,-2604.8695 12051.3944,-2598.4545 12053.9855,-2608.7276 12059.8263,-2604.8695"/>
</g>
<!-- codeblock_164 -->
<g id="node165" class="node">
<title>codeblock_164</title>
<ellipse fill="none" stroke="#000000" cx="12189" cy="-2581.2043" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="12189" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 332&#45;345</text>
</g>
<!-- section_11&#45;&gt;codeblock_164 -->
<g id="edge164" class="edge">
<title>section_11&#45;&gt;codeblock_164</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12129.4797,-2682.8991C12141.0781,-2663.0823 12159.8961,-2630.9305 12173.2659,-2608.0872"/>
<polygon fill="#000000" stroke="#000000" points="12176.418,-2609.6305 12178.4487,-2599.2321 12170.3767,-2606.0946 12176.418,-2609.6305"/>
</g>
<!-- section_165 -->
<g id="node166" class="node">
<title>section_165</title>
<ellipse fill="none" stroke="#000000" cx="12633" cy="-2581.2043" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="12633" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 348&#45;381</text>
</g>
<!-- section_11&#45;&gt;section_165 -->
<g id="edge165" class="edge">
<title>section_11&#45;&gt;section_165</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12173.0355,-2688.2312C12268.5721,-2666.0012 12466.8455,-2619.866 12569.0355,-2596.0879"/>
<polygon fill="#000000" stroke="#000000" points="12569.9706,-2599.4639 12578.9172,-2593.7886 12568.3842,-2592.646 12569.9706,-2599.4639"/>
</g>
<!-- section_166 -->
<g id="node167" class="node">
<title>section_166</title>
<ellipse fill="none" stroke="#000000" cx="13566" cy="-2581.2043" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="13566" y="-2577.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 382&#45;415</text>
</g>
<!-- section_11&#45;&gt;section_166 -->
<g id="edge166" class="edge">
<title>section_11&#45;&gt;section_166</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12190.757,-2694.8734C12434.1441,-2674.7566 13227.3794,-2609.1926 13484.644,-2587.9287"/>
<polygon fill="#000000" stroke="#000000" points="13484.9877,-2591.4123 13494.6654,-2587.1004 13484.411,-2584.4361 13484.9877,-2591.4123"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="324,-2202.6048 0,-2202.6048 0,-2130.8024 324,-2130.8024 324,-2202.6048"/>
<text text-anchor="middle" x="162" y="-2139.2036" font-family="Inconsolata" font-size="14.00" fill="#000000">This module is responsible for REPL history.</text>
</g>
<!-- raw_13&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>raw_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1469.2603,-2563.2316C1464.1116,-2547.661 1454.2199,-2526.0419 1437,-2515.6042 1332.0438,-2451.9858 437.5278,-2543.9241 333,-2479.6042 235.8874,-2419.8471 189.9966,-2284.0988 171.8927,-2212.6451"/>
<polygon fill="#000000" stroke="#000000" points="175.206,-2211.4616 169.4204,-2202.586 168.4083,-2213.1324 175.206,-2211.4616"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="897.5,-2194.004 342.5,-2194.004 342.5,-2139.4032 897.5,-2139.4032 897.5,-2194.004"/>
<text text-anchor="middle" x="620" y="-2162.9036" font-family="Inconsolata" font-size="14.00" fill="#000000">Eventually this will include persisting and restoring from a SQLite database,</text>
<text text-anchor="middle" x="620" y="-2147.5036" font-family="Inconsolata" font-size="14.00" fill="#000000">fuzzy searching, and variable cacheing.</text>
</g>
<!-- raw_15&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>raw_15&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1541.4601,-2563.3562C1536.4988,-2547.8693 1526.9051,-2526.3034 1510,-2515.6042 1396.5705,-2443.8146 1028.2178,-2537.2778 907,-2479.6042 778.3195,-2418.38 680.3217,-2271.188 640.0477,-2202.7806"/>
<polygon fill="#000000" stroke="#000000" points="643.0277,-2200.9426 634.9746,-2194.0579 636.9766,-2204.4619 643.0277,-2200.9426"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="1464,-2194.004 916,-2194.004 916,-2139.4032 1464,-2139.4032 1464,-2194.004"/>
<text text-anchor="middle" x="1190" y="-2162.9036" font-family="Inconsolata" font-size="14.00" fill="#000000">Currently does the basic job of retaining history and not letting subsequent</text>
<text text-anchor="middle" x="1190" y="-2147.5036" font-family="Inconsolata" font-size="14.00" fill="#000000">edits munge it.</text>
</g>
<!-- raw_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>raw_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1612.4099,-2563.4816C1606.8952,-2548.7194 1597.0799,-2528.1505 1582,-2515.6042 1542.7807,-2482.9743 1515.7512,-2507.4466 1473,-2479.6042 1356.0536,-2403.441 1256.4186,-2267.3162 1213.11,-2202.6793"/>
<polygon fill="#000000" stroke="#000000" points="1215.8249,-2200.4407 1207.3768,-2194.0468 1209.9937,-2204.3134 1215.8249,-2200.4407"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="2030,-2202.0039 1482,-2202.0039 1482,-2131.4033 2030,-2131.4033 2030,-2202.0039"/>
<text text-anchor="middle" x="1756" y="-2170.9036" font-family="Inconsolata" font-size="14.00" fill="#000000">Next step: now that we clone a new txtbuf each time, we have an immutable</text>
<text text-anchor="middle" x="1756" y="-2155.5036" font-family="Inconsolata" font-size="14.00" fill="#000000">record. &#160;We should store the line as a string, to facilitate fuzzy matching.</text>
</g>
<!-- raw_19&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>raw_19&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1692.8784,-2563.1272C1702.5897,-2502.1372 1734.3431,-2302.7155 1748.7614,-2212.164"/>
<polygon fill="#000000" stroke="#000000" points="1752.2329,-2212.6198 1750.349,-2202.1938 1745.32,-2211.519 1752.2329,-2212.6198"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2162,-2184.7036 2048,-2184.7036 2048,-2148.7036 2162,-2148.7036 2162,-2184.7036"/>
<text text-anchor="middle" x="2105" y="-2163.2036" font-family="Inconsolata" font-size="14.00" fill="#000000">** Persistence</text>
</g>
<!-- header_23&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>header_23&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2294.2485,-2563.7092C2278.9263,-2549.8472 2256.3814,-2530.4156 2235,-2515.6042 2208.1724,-2497.0201 2190.31,-2505.9141 2171,-2479.6042 2106.3679,-2391.5425 2102.0982,-2254.0137 2103.5836,-2195.0736"/>
<polygon fill="#000000" stroke="#000000" points="2107.0838,-2195.1221 2103.9147,-2185.0124 2100.0876,-2194.8919 2107.0838,-2195.1221"/>
</g>
<!-- raw_35 -->
<g id="node36" class="node">
<title>raw_35</title>
<ellipse fill="none" stroke="#000000" cx="2207" cy="-2166.7036" rx="27" ry="18"/>
<text text-anchor="middle" x="2207" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_24&#45;&gt;raw_35 -->
<g id="edge35" class="edge">
<title>prose_24&#45;&gt;raw_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2425.3924,-2563.4383C2418.9012,-2548.4409 2407.5503,-2527.5551 2391,-2515.6042 2336.1172,-2475.9734 2287.8087,-2530.3476 2243,-2479.6042 2171.1264,-2398.2112 2189.0952,-2254.8183 2200.7726,-2194.5852"/>
<polygon fill="#000000" stroke="#000000" points="2204.2266,-2195.1631 2202.7871,-2184.6665 2197.3666,-2193.7698 2204.2266,-2195.1631"/>
</g>
<!-- prespace_36 -->
<g id="node37" class="node">
<title>prespace_36</title>
<ellipse fill="none" stroke="#000000" cx="2298" cy="-2166.7036" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2298" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_24&#45;&gt;prespace_36 -->
<g id="edge36" class="edge">
<title>prose_24&#45;&gt;prespace_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2422.6152,-2563.7304C2414.9161,-2550.056 2403.312,-2530.8653 2391,-2515.6042 2376.5937,-2497.7471 2364.7594,-2499.8688 2354,-2479.6042 2303.4303,-2384.3594 2297.4333,-2252.2094 2297.4275,-2194.9871"/>
<polygon fill="#000000" stroke="#000000" points="2300.928,-2194.9087 2297.4907,-2184.8869 2293.9281,-2194.8648 2300.928,-2194.9087"/>
</g>
<!-- literal_37 -->
<g id="node38" class="node">
<title>literal_37</title>
<ellipse fill="none" stroke="#000000" cx="2394" cy="-2166.7036" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2394" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_24&#45;&gt;literal_37 -->
<g id="edge37" class="edge">
<title>prose_24&#45;&gt;literal_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2430.3428,-2563.1272C2424.367,-2497.9442 2403.8954,-2274.6414 2396.6044,-2195.1122"/>
<polygon fill="#000000" stroke="#000000" points="2400.0644,-2194.5146 2395.666,-2184.8759 2393.0936,-2195.1537 2400.0644,-2194.5146"/>
</g>
<!-- raw_38 -->
<g id="node39" class="node">
<title>raw_38</title>
<ellipse fill="none" stroke="#000000" cx="2470" cy="-2166.7036" rx="27" ry="18"/>
<text text-anchor="middle" x="2470" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_24&#45;&gt;raw_38 -->
<g id="edge38" class="edge">
<title>prose_24&#45;&gt;raw_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2433.6572,-2563.1272C2439.633,-2497.9442 2460.1046,-2274.6414 2467.3956,-2195.1122"/>
<polygon fill="#000000" stroke="#000000" points="2470.9064,-2195.1537 2468.334,-2184.8759 2463.9356,-2194.5146 2470.9064,-2195.1537"/>
</g>
<!-- raw_43 -->
<g id="node44" class="node">
<title>raw_43</title>
<ellipse fill="none" stroke="#000000" cx="2542" cy="-2166.7036" rx="27" ry="18"/>
<text text-anchor="middle" x="2542" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_25&#45;&gt;raw_43 -->
<g id="edge43" class="edge">
<title>prose_25&#45;&gt;raw_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2746.4474,-2575.095C2701.3914,-2564.3407 2618.1392,-2537.447 2578,-2479.6042 2516.5159,-2391.0024 2528.4005,-2253.2041 2537.0987,-2194.5998"/>
<polygon fill="#000000" stroke="#000000" points="2540.5739,-2195.0303 2538.6673,-2184.6085 2533.6586,-2193.9446 2540.5739,-2195.0303"/>
</g>
<!-- link_44 -->
<g id="node45" class="node">
<title>link_44</title>
<ellipse fill="none" stroke="#000000" cx="2614" cy="-2166.7036" rx="27" ry="18"/>
<text text-anchor="middle" x="2614" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">link</text>
</g>
<!-- prose_25&#45;&gt;link_44 -->
<g id="edge44" class="edge">
<title>prose_25&#45;&gt;link_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2752.546,-2569.2926C2722.7579,-2553.3565 2673.5094,-2522.1008 2650,-2479.6042 2598.1522,-2385.8819 2604.5703,-2252.3965 2610.4448,-2194.8655"/>
<polygon fill="#000000" stroke="#000000" points="2613.9464,-2195.0417 2611.5581,-2184.7195 2606.9882,-2194.2781 2613.9464,-2195.0417"/>
</g>
<!-- raw_45 -->
<g id="node46" class="node">
<title>raw_45</title>
<ellipse fill="none" stroke="#000000" cx="2686" cy="-2166.7036" rx="27" ry="18"/>
<text text-anchor="middle" x="2686" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_25&#45;&gt;raw_45 -->
<g id="edge45" class="edge">
<title>prose_25&#45;&gt;raw_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2765.0979,-2564.1361C2752.1641,-2544.6521 2732.0098,-2511.3595 2722,-2479.6042 2690.0978,-2378.3972 2685.8755,-2250.8232 2685.6999,-2195.0161"/>
<polygon fill="#000000" stroke="#000000" points="2689.2,-2194.8448 2685.7117,-2184.8407 2682.2,-2194.8366 2689.2,-2194.8448"/>
</g>
<!-- prespace_46 -->
<g id="node47" class="node">
<title>prespace_46</title>
<ellipse fill="none" stroke="#000000" cx="2777" cy="-2166.7036" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2777" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_25&#45;&gt;prespace_46 -->
<g id="edge46" class="edge">
<title>prose_25&#45;&gt;prespace_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2777,-2563.1272C2777,-2497.9442 2777,-2274.6414 2777,-2195.1122"/>
<polygon fill="#000000" stroke="#000000" points="2780.5001,-2194.8758 2777,-2184.8759 2773.5001,-2194.8759 2780.5001,-2194.8758"/>
</g>
<!-- literal_47 -->
<g id="node48" class="node">
<title>literal_47</title>
<ellipse fill="none" stroke="#000000" cx="2873" cy="-2166.7036" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2873" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_25&#45;&gt;literal_47 -->
<g id="edge47" class="edge">
<title>prose_25&#45;&gt;literal_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2788.8096,-2564.1065C2801.6604,-2544.596 2821.7405,-2511.2797 2832,-2479.6042 2864.7612,-2378.4557 2871.4133,-2250.8515 2872.7145,-2195.0264"/>
<polygon fill="#000000" stroke="#000000" points="2876.2172,-2194.9128 2872.9095,-2184.8475 2869.2185,-2194.7786 2876.2172,-2194.9128"/>
</g>
<!-- raw_48 -->
<g id="node49" class="node">
<title>raw_48</title>
<ellipse fill="none" stroke="#000000" cx="3060" cy="-2166.7036" rx="27" ry="18"/>
<text text-anchor="middle" x="3060" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_25&#45;&gt;raw_48 -->
<g id="edge48" class="edge">
<title>prose_25&#45;&gt;raw_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2800.1998,-2568.6961C2829.7012,-2551.8116 2880.6808,-2519.2299 2913,-2479.6042 2987.6381,-2388.0923 3034.3799,-2252.4167 3052.0172,-2194.5192"/>
<polygon fill="#000000" stroke="#000000" points="3055.4591,-2195.2254 3054.9719,-2184.6418 3048.7527,-2193.2192 3055.4591,-2195.2254"/>
</g>
<!-- raw_58 -->
<g id="node59" class="node">
<title>raw_58</title>
<ellipse fill="none" stroke="#000000" cx="3866" cy="-2166.7036" rx="27" ry="18"/>
<text text-anchor="middle" x="3866" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_26&#45;&gt;raw_58 -->
<g id="edge58" class="edge">
<title>prose_26&#45;&gt;raw_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4145.1238,-2569.6484C4112.547,-2553.4656 4055.3214,-2521.2968 4019,-2479.6042 3940.6615,-2389.6809 3892.2183,-2252.5973 3874.1034,-2194.3909"/>
<polygon fill="#000000" stroke="#000000" points="3877.3417,-2193.0112 3871.0735,-2184.4695 3870.647,-2195.0558 3877.3417,-2193.0112"/>
</g>
<!-- prespace_59 -->
<g id="node60" class="node">
<title>prespace_59</title>
<ellipse fill="none" stroke="#000000" cx="4074" cy="-2166.7036" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4074" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_26&#45;&gt;prespace_59 -->
<g id="edge59" class="edge">
<title>prose_26&#45;&gt;prespace_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4161.8251,-2563.5877C4152.8501,-2543.6123 4138.5778,-2509.8807 4130,-2479.6042 4100.8777,-2376.813 4083.7764,-2250.5478 4077.1692,-2195.0958"/>
<polygon fill="#000000" stroke="#000000" points="4080.624,-2194.5038 4075.9873,-2184.9775 4073.6712,-2195.3161 4080.624,-2194.5038"/>
</g>
<!-- literal_60 -->
<g id="node61" class="node">
<title>literal_60</title>
<ellipse fill="none" stroke="#000000" cx="4170" cy="-2166.7036" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4170" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_26&#45;&gt;literal_60 -->
<g id="edge60" class="edge">
<title>prose_26&#45;&gt;literal_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4170,-2563.1272C4170,-2497.9442 4170,-2274.6414 4170,-2195.1122"/>
<polygon fill="#000000" stroke="#000000" points="4173.5001,-2194.8758 4170,-2184.8759 4166.5001,-2194.8759 4173.5001,-2194.8758"/>
</g>
<!-- raw_61 -->
<g id="node62" class="node">
<title>raw_61</title>
<ellipse fill="none" stroke="#000000" cx="4268" cy="-2166.7036" rx="27" ry="18"/>
<text text-anchor="middle" x="4268" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_26&#45;&gt;raw_61 -->
<g id="edge61" class="edge">
<title>prose_26&#45;&gt;raw_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4178.1402,-2563.5778C4187.0841,-2543.5935 4201.3286,-2509.854 4210,-2479.6042 4239.4733,-2376.7878 4257.5385,-2250.5355 4264.5948,-2195.0913"/>
<polygon fill="#000000" stroke="#000000" points="4268.0919,-2195.3314 4265.8593,-2184.9745 4261.1459,-2194.4631 4268.0919,-2195.3314"/>
</g>
<!-- raw_66 -->
<g id="node67" class="node">
<title>raw_66</title>
<ellipse fill="none" stroke="#000000" cx="4948" cy="-2166.7036" rx="27" ry="18"/>
<text text-anchor="middle" x="4948" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_27&#45;&gt;raw_66 -->
<g id="edge66" class="edge">
<title>prose_27&#45;&gt;raw_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5150.0684,-2563.6585C5116.9708,-2498.6398 5001.1845,-2271.1824 4961.4809,-2193.1864"/>
<polygon fill="#000000" stroke="#000000" points="4964.4722,-2191.3473 4956.8165,-2184.0233 4958.234,-2194.5229 4964.4722,-2191.3473"/>
</g>
<!-- raw_68 -->
<g id="node69" class="node">
<title>raw_68</title>
<ellipse fill="none" stroke="#000000" cx="5221" cy="-2166.7036" rx="27" ry="18"/>
<text text-anchor="middle" x="5221" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_28&#45;&gt;raw_68 -->
<g id="edge68" class="edge">
<title>prose_28&#45;&gt;raw_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5738.1338,-2578.1595C5645.7132,-2568.7136 5380.1902,-2537.0366 5318,-2479.6042 5234.8334,-2402.8 5222.3543,-2256.2645 5220.9179,-2194.8674"/>
<polygon fill="#000000" stroke="#000000" points="5224.416,-2194.7087 5220.7657,-2184.7626 5217.4168,-2194.8142 5224.416,-2194.7087"/>
</g>
<!-- prespace_69 -->
<g id="node70" class="node">
<title>prespace_69</title>
<ellipse fill="none" stroke="#000000" cx="5373" cy="-2166.7036" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5373" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_28&#45;&gt;prespace_69 -->
<g id="edge69" class="edge">
<title>prose_28&#45;&gt;prespace_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5738.9825,-2576.1949C5663.0622,-2563.2998 5471.0306,-2526.6495 5429,-2479.6042 5356.1618,-2398.0754 5362.52,-2255.3503 5369.1211,-2194.9653"/>
<polygon fill="#000000" stroke="#000000" points="5372.5997,-2195.3513 5370.2956,-2185.0101 5365.6479,-2194.5311 5372.5997,-2195.3513"/>
</g>
<!-- literal_70 -->
<g id="node71" class="node">
<title>literal_70</title>
<ellipse fill="none" stroke="#000000" cx="5469" cy="-2166.7036" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5469" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_28&#45;&gt;literal_70 -->
<g id="edge70" class="edge">
<title>prose_28&#45;&gt;literal_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5737.8004,-2578.896C5681.4919,-2572.995 5565.739,-2552.2068 5509,-2479.6042 5442.3321,-2394.2968 5454.7778,-2254.143 5463.905,-2194.7271"/>
<polygon fill="#000000" stroke="#000000" points="5467.4007,-2195.036 5465.5508,-2184.6039 5460.4914,-2193.9126 5467.4007,-2195.036"/>
</g>
<!-- raw_71 -->
<g id="node72" class="node">
<title>raw_71</title>
<ellipse fill="none" stroke="#000000" cx="5545" cy="-2166.7036" rx="27" ry="18"/>
<text text-anchor="middle" x="5545" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_28&#45;&gt;raw_71 -->
<g id="edge71" class="edge">
<title>prose_28&#45;&gt;raw_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5739.871,-2574.33C5696.7895,-2562.7824 5618.6434,-2535.0967 5581,-2479.6042 5520.6027,-2390.5689 5531.7793,-2253.563 5540.1874,-2194.9172"/>
<polygon fill="#000000" stroke="#000000" points="5543.6663,-2195.32 5541.7073,-2184.9078 5536.7456,-2194.269 5543.6663,-2195.32"/>
</g>
<!-- prespace_72 -->
<g id="node73" class="node">
<title>prespace_72</title>
<ellipse fill="none" stroke="#000000" cx="5636" cy="-2166.7036" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5636" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_28&#45;&gt;prespace_72 -->
<g id="edge72" class="edge">
<title>prose_28&#45;&gt;prespace_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5754.0369,-2565.556C5735.9691,-2546.8543 5707.0942,-2513.7782 5692,-2479.6042 5648.6255,-2381.4023 5638.8345,-2251.7673 5636.6333,-2195.175"/>
<polygon fill="#000000" stroke="#000000" points="5640.1207,-2194.7382 5636.2865,-2184.8615 5633.1246,-2194.9735 5640.1207,-2194.7382"/>
</g>
<!-- literal_73 -->
<g id="node74" class="node">
<title>literal_73</title>
<ellipse fill="none" stroke="#000000" cx="5732" cy="-2166.7036" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5732" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_28&#45;&gt;literal_73 -->
<g id="edge73" class="edge">
<title>prose_28&#45;&gt;literal_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5768.3428,-2563.1272C5762.367,-2497.9442 5741.8954,-2274.6414 5734.6044,-2195.1122"/>
<polygon fill="#000000" stroke="#000000" points="5738.0644,-2194.5146 5733.666,-2184.8759 5731.0936,-2195.1537 5738.0644,-2194.5146"/>
</g>
<!-- raw_74 -->
<g id="node75" class="node">
<title>raw_74</title>
<ellipse fill="none" stroke="#000000" cx="5808" cy="-2166.7036" rx="27" ry="18"/>
<text text-anchor="middle" x="5808" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_28&#45;&gt;raw_74 -->
<g id="edge74" class="edge">
<title>prose_28&#45;&gt;raw_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5771.6572,-2563.1272C5777.633,-2497.9442 5798.1046,-2274.6414 5805.3956,-2195.1122"/>
<polygon fill="#000000" stroke="#000000" points="5808.9064,-2195.1537 5806.334,-2184.8759 5801.9356,-2194.5146 5808.9064,-2195.1537"/>
</g>
<!-- prespace_75 -->
<g id="node76" class="node">
<title>prespace_75</title>
<ellipse fill="none" stroke="#000000" cx="5899" cy="-2166.7036" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5899" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_28&#45;&gt;prespace_75 -->
<g id="edge75" class="edge">
<title>prose_28&#45;&gt;prespace_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5785.4462,-2565.0646C5802.601,-2546.1615 5829.7502,-2513.1447 5844,-2479.6042 5885.9554,-2380.8518 5895.9066,-2251.5029 5898.2666,-2195.0798"/>
<polygon fill="#000000" stroke="#000000" points="5901.7747,-2194.9201 5898.6446,-2184.7982 5894.7794,-2194.6629 5901.7747,-2194.9201"/>
</g>
<!-- literal_76 -->
<g id="node77" class="node">
<title>literal_76</title>
<ellipse fill="none" stroke="#000000" cx="5995" cy="-2166.7036" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5995" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_28&#45;&gt;literal_76 -->
<g id="edge76" class="edge">
<title>prose_28&#45;&gt;literal_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5799.5894,-2573.9079C5841.4891,-2561.9024 5917.108,-2533.7277 5954,-2479.6042 6014.7139,-2390.5319 6006.3207,-2253.5459 5999.184,-2194.9112"/>
<polygon fill="#000000" stroke="#000000" points="6002.6431,-2194.3692 5997.883,-2184.9039 5995.7015,-2195.2717 6002.6431,-2194.3692"/>
</g>
<!-- raw_77 -->
<g id="node78" class="node">
<title>raw_77</title>
<ellipse fill="none" stroke="#000000" cx="6101" cy="-2166.7036" rx="27" ry="18"/>
<text text-anchor="middle" x="6101" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_28&#45;&gt;raw_77 -->
<g id="edge77" class="edge">
<title>prose_28&#45;&gt;raw_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5802.0877,-2578.5786C5858.311,-2572.1805 5974.4011,-2550.6391 6035,-2479.6042 6106.2336,-2396.1033 6106.8074,-2254.9658 6103.3738,-2195.0083"/>
<polygon fill="#000000" stroke="#000000" points="6106.8506,-2194.5387 6102.7022,-2184.7898 6099.8657,-2194.9978 6106.8506,-2194.5387"/>
</g>
<!-- prespace_78 -->
<g id="node79" class="node">
<title>prespace_78</title>
<ellipse fill="none" stroke="#000000" cx="6209" cy="-2166.7036" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6209" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_28&#45;&gt;prespace_78 -->
<g id="edge78" class="edge">
<title>prose_28&#45;&gt;prespace_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5801.4342,-2576.6769C5881.475,-2564.5227 6089.9752,-2528.7404 6137,-2479.6042 6213.5341,-2399.6337 6214.6567,-2255.4565 6211.3095,-2194.7999"/>
<polygon fill="#000000" stroke="#000000" points="6214.8019,-2194.5669 6210.6737,-2184.8094 6207.816,-2195.0116 6214.8019,-2194.5669"/>
</g>
<!-- literal_79 -->
<g id="node80" class="node">
<title>literal_79</title>
<ellipse fill="none" stroke="#000000" cx="6322" cy="-2166.7036" rx="31.481" ry="18"/>
<text text-anchor="middle" x="6322" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_28&#45;&gt;literal_79 -->
<g id="edge79" class="edge">
<title>prose_28&#45;&gt;literal_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5802.3009,-2579.1542C5901.483,-2572.1832 6198.8633,-2546.0275 6264,-2479.6042 6340.8148,-2401.2721 6333.3589,-2256.1915 6326.1491,-2195.0472"/>
<polygon fill="#000000" stroke="#000000" points="6329.602,-2194.4541 6324.8714,-2184.974 6322.6577,-2195.335 6329.602,-2194.4541"/>
</g>
<!-- raw_80 -->
<g id="node81" class="node">
<title>raw_80</title>
<ellipse fill="none" stroke="#000000" cx="6459" cy="-2166.7036" rx="27" ry="18"/>
<text text-anchor="middle" x="6459" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_28&#45;&gt;raw_80 -->
<g id="edge80" class="edge">
<title>prose_28&#45;&gt;raw_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5801.36,-2576.7478C5920.6445,-2559.6781 6340.4908,-2498.4721 6362,-2479.6042 6447.1031,-2404.9514 6458.5073,-2257.2217 6459.3696,-2195.1868"/>
<polygon fill="#000000" stroke="#000000" points="6462.8706,-2194.9927 6459.4245,-2184.974 6455.8707,-2194.955 6462.8706,-2194.9927"/>
</g>
<!-- raw_94 -->
<g id="node95" class="node">
<title>raw_94</title>
<ellipse fill="none" stroke="#000000" cx="6665" cy="-2166.7036" rx="27" ry="18"/>
<text text-anchor="middle" x="6665" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_29&#45;&gt;raw_94 -->
<g id="edge94" class="edge">
<title>prose_29&#45;&gt;raw_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6271.0661,-2575.9361C6323.0149,-2565.7134 6428.3639,-2538.7753 6495,-2479.6042 6586.7981,-2398.0898 6638.4708,-2254.7639 6657.0332,-2194.5669"/>
<polygon fill="#000000" stroke="#000000" points="6660.4861,-2195.2389 6660.0202,-2184.6543 6653.7838,-2193.2192 6660.4861,-2195.2389"/>
</g>
<!-- raw_96 -->
<g id="node97" class="node">
<title>raw_96</title>
<ellipse fill="none" stroke="#000000" cx="7079" cy="-2166.7036" rx="27" ry="18"/>
<text text-anchor="middle" x="7079" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_30&#45;&gt;raw_96 -->
<g id="edge96" class="edge">
<title>prose_30&#45;&gt;raw_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7365.1652,-2577.8918C7311.174,-2570.5009 7201.9765,-2547.563 7145,-2479.6042 7074.4842,-2395.4963 7073.5195,-2254.6893 7076.7379,-2194.9138"/>
<polygon fill="#000000" stroke="#000000" points="7080.2438,-2194.9254 7077.3716,-2184.7273 7073.2573,-2194.4907 7080.2438,-2194.9254"/>
</g>
<!-- prespace_97 -->
<g id="node98" class="node">
<title>prespace_97</title>
<ellipse fill="none" stroke="#000000" cx="7200" cy="-2166.7036" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="7200" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_30&#45;&gt;prespace_97 -->
<g id="edge97" class="edge">
<title>prose_30&#45;&gt;prespace_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7376.3246,-2567.1683C7351.907,-2549.5279 7311.7443,-2516.9924 7289,-2479.6042 7231.6435,-2385.3185 7209.9935,-2252.6634 7202.958,-2195.1483"/>
<polygon fill="#000000" stroke="#000000" points="7206.4088,-2194.522 7201.7742,-2184.9946 7199.4559,-2195.3327 7206.4088,-2194.522"/>
</g>
<!-- literal_98 -->
<g id="node99" class="node">
<title>literal_98</title>
<ellipse fill="none" stroke="#000000" cx="7329" cy="-2166.7036" rx="31.481" ry="18"/>
<text text-anchor="middle" x="7329" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_30&#45;&gt;literal_98 -->
<g id="edge98" class="edge">
<title>prose_30&#45;&gt;literal_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7394.0344,-2563.1272C7383.3409,-2497.9442 7346.7075,-2274.6414 7333.6605,-2195.1122"/>
<polygon fill="#000000" stroke="#000000" points="7337.054,-2194.1773 7331.9812,-2184.8759 7330.1463,-2195.3106 7337.054,-2194.1773"/>
</g>
<!-- raw_99 -->
<g id="node100" class="node">
<title>raw_99</title>
<ellipse fill="none" stroke="#000000" cx="7466" cy="-2166.7036" rx="27" ry="18"/>
<text text-anchor="middle" x="7466" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_30&#45;&gt;raw_99 -->
<g id="edge99" class="edge">
<title>prose_30&#45;&gt;raw_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7400.0092,-2563.1272C7410.8599,-2497.9442 7448.0321,-2274.6414 7461.271,-2195.1122"/>
<polygon fill="#000000" stroke="#000000" points="7464.7853,-2195.3149 7462.9749,-2184.8759 7457.8803,-2194.1654 7464.7853,-2195.3149"/>
</g>
<!-- prespace_100 -->
<g id="node101" class="node">
<title>prespace_100</title>
<ellipse fill="none" stroke="#000000" cx="7613" cy="-2166.7036" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="7613" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_30&#45;&gt;prespace_100 -->
<g id="edge100" class="edge">
<title>prose_30&#45;&gt;prespace_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7416.6922,-2566.7906C7440.0291,-2548.7784 7478.68,-2515.8768 7502,-2479.6042 7562.9101,-2384.8629 7595.5067,-2252.4477 7607.5251,-2195.0717"/>
<polygon fill="#000000" stroke="#000000" points="7611.0217,-2195.4417 7609.5945,-2184.9434 7604.1634,-2194.0404 7611.0217,-2195.4417"/>
</g>
<!-- literal_101 -->
<g id="node102" class="node">
<title>literal_101</title>
<ellipse fill="none" stroke="#000000" cx="7723" cy="-2166.7036" rx="31.481" ry="18"/>
<text text-anchor="middle" x="7723" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_30&#45;&gt;literal_101 -->
<g id="edge101" class="edge">
<title>prose_30&#45;&gt;literal_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7429.1338,-2579.1161C7486.6414,-2573.5462 7606.846,-2553.2411 7668,-2479.6042 7737.6646,-2395.7193 7732.5327,-2254.7909 7726.5815,-2194.9485"/>
<polygon fill="#000000" stroke="#000000" points="7730.0336,-2194.316 7725.4786,-2184.7503 7723.0742,-2195.0687 7730.0336,-2194.316"/>
</g>
<!-- raw_102 -->
<g id="node103" class="node">
<title>raw_102</title>
<ellipse fill="none" stroke="#000000" cx="7813" cy="-2166.7036" rx="27" ry="18"/>
<text text-anchor="middle" x="7813" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_30&#45;&gt;raw_102 -->
<g id="edge102" class="edge">
<title>prose_30&#45;&gt;raw_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7428.5444,-2576.8446C7508.8365,-2565.0924 7717.7979,-2530.1916 7763,-2479.6042 7835.7878,-2398.1445 7825.7387,-2254.7884 7817.5682,-2194.5751"/>
<polygon fill="#000000" stroke="#000000" points="7821.0297,-2194.0563 7816.1352,-2184.6598 7814.1017,-2195.0577 7821.0297,-2194.0563"/>
</g>
<!-- header_110 -->
<g id="node111" class="node">
<title>header_110</title>
<ellipse fill="none" stroke="#000000" cx="7937" cy="-2166.7036" rx="78.8488" ry="18"/>
<text text-anchor="middle" x="7937" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : SQLite battery</text>
</g>
<!-- section_31&#45;&gt;header_110 -->
<g id="edge110" class="edge">
<title>section_31&#45;&gt;header_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7998.2088,-2563.1272C7988.1444,-2497.9442 7953.6659,-2274.6414 7941.3864,-2195.1122"/>
<polygon fill="#000000" stroke="#000000" points="7944.7909,-2194.2247 7939.8058,-2184.8759 7937.8729,-2195.2929 7944.7909,-2194.2247"/>
</g>
<!-- prose_111 -->
<g id="node112" class="node">
<title>prose_111</title>
<ellipse fill="none" stroke="#000000" cx="8066" cy="-2166.7036" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8066" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_31&#45;&gt;prose_111 -->
<g id="edge111" class="edge">
<title>section_31&#45;&gt;prose_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8005.8997,-2562.9682C8011.2,-2542.7239 8019.6129,-2509.0201 8025,-2479.6042 8044.1065,-2375.2744 8057.7623,-2249.7976 8063.2848,-2194.8215"/>
<polygon fill="#000000" stroke="#000000" points="8066.7752,-2195.0902 8064.28,-2184.7934 8059.8094,-2194.3988 8066.7752,-2195.0902"/>
</g>
<!-- codeblock_112 -->
<g id="node113" class="node">
<title>codeblock_112</title>
<ellipse fill="none" stroke="#000000" cx="8286" cy="-2166.7036" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="8286" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 61&#45;172</text>
</g>
<!-- section_31&#45;&gt;codeblock_112 -->
<g id="edge112" class="edge">
<title>section_31&#45;&gt;codeblock_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8022.2595,-2564.0354C8045.0012,-2544.9809 8081.2659,-2512.5502 8107,-2479.6042 8182.5926,-2382.8267 8247.4657,-2250.5789 8273.6419,-2194.0912"/>
<polygon fill="#000000" stroke="#000000" points="8276.9348,-2195.3076 8277.9323,-2184.7598 8270.5748,-2192.3834 8276.9348,-2195.3076"/>
</g>
<!-- header_117 -->
<g id="node118" class="node">
<title>header_117</title>
<ellipse fill="none" stroke="#000000" cx="8732" cy="-2166.7036" rx="82.2147" ry="18"/>
<text text-anchor="middle" x="8732" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Historian:load()</text>
</g>
<!-- section_32&#45;&gt;header_117 -->
<g id="edge117" class="edge">
<title>section_32&#45;&gt;header_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8857.0498,-2563.054C8848.3629,-2542.8849 8834.3112,-2509.2466 8824,-2479.6042 8787.9109,-2375.8559 8753.6864,-2249.6617 8739.2251,-2194.6194"/>
<polygon fill="#000000" stroke="#000000" points="8742.5966,-2193.6777 8736.6801,-2184.8888 8735.8244,-2195.449 8742.5966,-2193.6777"/>
</g>
<!-- prose_118 -->
<g id="node119" class="node">
<title>prose_118</title>
<ellipse fill="none" stroke="#000000" cx="8865" cy="-2166.7036" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8865" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_32&#45;&gt;prose_118 -->
<g id="edge118" class="edge">
<title>section_32&#45;&gt;prose_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8865,-2563.1272C8865,-2497.9442 8865,-2274.6414 8865,-2195.1122"/>
<polygon fill="#000000" stroke="#000000" points="8868.5001,-2194.8758 8865,-2184.8759 8861.5001,-2194.8759 8868.5001,-2194.8758"/>
</g>
<!-- prose_119 -->
<g id="node120" class="node">
<title>prose_119</title>
<ellipse fill="none" stroke="#000000" cx="8947" cy="-2166.7036" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8947" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_32&#45;&gt;prose_119 -->
<g id="edge119" class="edge">
<title>section_32&#45;&gt;prose_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8873.8358,-2563.3239C8883.298,-2543.3911 8898.025,-2509.9587 8906,-2479.6042 8932.9517,-2377.0207 8942.5873,-2250.649 8945.6834,-2195.1328"/>
<polygon fill="#000000" stroke="#000000" points="8949.1861,-2195.1731 8946.2186,-2185.0023 8942.1958,-2194.8037 8949.1861,-2195.1731"/>
</g>
<!-- codeblock_120 -->
<g id="node121" class="node">
<title>codeblock_120</title>
<ellipse fill="none" stroke="#000000" cx="9153" cy="-2166.7036" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9153" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 182&#45;231</text>
</g>
<!-- section_32&#45;&gt;codeblock_120 -->
<g id="edge120" class="edge">
<title>section_32&#45;&gt;codeblock_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8891.1207,-2564.2485C8917.9527,-2545.8532 8959.6879,-2514.4134 8988,-2479.6042 9064.2197,-2385.8935 9120.7194,-2251.4717 9142.8079,-2194.2165"/>
<polygon fill="#000000" stroke="#000000" points="9146.1197,-2195.3543 9146.4112,-2184.7635 9139.5788,-2192.861 9146.1197,-2195.3543"/>
</g>
<!-- header_127 -->
<g id="node128" class="node">
<title>header_127</title>
<ellipse fill="none" stroke="#000000" cx="9882" cy="-2166.7036" rx="113.1277" ry="18"/>
<text text-anchor="middle" x="9882" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Historian:persist(txtbuf)</text>
</g>
<!-- section_33&#45;&gt;header_127 -->
<g id="edge127" class="edge">
<title>section_33&#45;&gt;header_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10100.3155,-2564.3601C10072.8197,-2546.3893 10031.0987,-2515.5904 10005,-2479.6042 9937.7369,-2386.8582 9901.3104,-2252.3877 9887.9761,-2194.6989"/>
<polygon fill="#000000" stroke="#000000" points="9891.3686,-2193.8321 9885.7528,-2184.848 9884.5404,-2195.3733 9891.3686,-2193.8321"/>
</g>
<!-- prose_128 -->
<g id="node129" class="node">
<title>prose_128</title>
<ellipse fill="none" stroke="#000000" cx="10046" cy="-2166.7036" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10046" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_33&#45;&gt;prose_128 -->
<g id="edge128" class="edge">
<title>section_33&#45;&gt;prose_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10119.1642,-2563.3239C10109.702,-2543.3911 10094.975,-2509.9587 10087,-2479.6042 10060.0483,-2377.0207 10050.4127,-2250.649 10047.3166,-2195.1328"/>
<polygon fill="#000000" stroke="#000000" points="10050.8042,-2194.8037 10046.7814,-2185.0023 10043.8139,-2195.1731 10050.8042,-2194.8037"/>
</g>
<!-- prose_129 -->
<g id="node130" class="node">
<title>prose_129</title>
<ellipse fill="none" stroke="#000000" cx="10128" cy="-2166.7036" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10128" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_33&#45;&gt;prose_129 -->
<g id="edge129" class="edge">
<title>section_33&#45;&gt;prose_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10128,-2563.1272C10128,-2497.9442 10128,-2274.6414 10128,-2195.1122"/>
<polygon fill="#000000" stroke="#000000" points="10131.5001,-2194.8758 10128,-2184.8759 10124.5001,-2194.8759 10131.5001,-2194.8758"/>
</g>
<!-- prose_130 -->
<g id="node131" class="node">
<title>prose_130</title>
<ellipse fill="none" stroke="#000000" cx="10592" cy="-2166.7036" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10592" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_33&#45;&gt;prose_130 -->
<g id="edge130" class="edge">
<title>section_33&#45;&gt;prose_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10147.6411,-2563.6585C10221.7591,-2497.4474 10484.4447,-2262.785 10566.9873,-2189.0479"/>
<polygon fill="#000000" stroke="#000000" points="10569.4944,-2191.5015 10574.6204,-2182.2292 10564.831,-2186.2811 10569.4944,-2191.5015"/>
</g>
<!-- prose_131 -->
<g id="node132" class="node">
<title>prose_131</title>
<ellipse fill="none" stroke="#000000" cx="10674" cy="-2166.7036" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10674" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_33&#45;&gt;prose_131 -->
<g id="edge131" class="edge">
<title>section_33&#45;&gt;prose_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10201.3143,-2576.6979C10326.8947,-2567.3798 10575.2385,-2541.4487 10633,-2479.6042 10707.2604,-2400.0945 10690.984,-2255.6632 10679.9458,-2194.8695"/>
<polygon fill="#000000" stroke="#000000" points="10683.3474,-2194.0224 10678.035,-2184.8557 10676.4715,-2195.3345 10683.3474,-2194.0224"/>
</g>
<!-- codeblock_132 -->
<g id="node133" class="node">
<title>codeblock_132</title>
<ellipse fill="none" stroke="#000000" cx="10812" cy="-2166.7036" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="10812" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 249&#45;281</text>
</g>
<!-- section_33&#45;&gt;codeblock_132 -->
<g id="edge132" class="edge">
<title>section_33&#45;&gt;codeblock_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10202.1652,-2577.8178C10342.5422,-2569.9279 10639.775,-2545.6865 10715,-2479.6042 10800.05,-2404.891 10811.4837,-2257.1948 10812.3617,-2195.1779"/>
<polygon fill="#000000" stroke="#000000" points="10815.8627,-2194.9877 10812.4193,-2184.968 10808.8628,-2194.9481 10815.8627,-2194.9877"/>
</g>
<!-- leaf_39 -->
<g id="node40" class="node">
<title>leaf_39</title>
<polygon fill="none" stroke="#c0c0c0" points="1722.5,-989.903 1503.5,-989.903 1503.5,-934.1001 1722.5,-934.1001 1722.5,-989.903"/>
<text text-anchor="middle" x="1613" y="-942.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">This is where we practice for</text>
</g>
<!-- raw_35&#45;&gt;leaf_39 -->
<g id="edge39" class="edge">
<title>raw_35&#45;&gt;leaf_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2211.6482,-2148.9173C2224.4641,-2095.3379 2254.1049,-1934.2316 2171,-1853.803 2100.663,-1785.7311 1803.1359,-1885.0397 1732,-1817.803 1495.3324,-1594.1081 1574.4863,-1134.365 1604.0114,-999.7922"/>
<polygon fill="#000000" stroke="#000000" points="1607.4464,-1000.4691 1606.2115,-989.9464 1600.6149,-998.9425 1607.4464,-1000.4691"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="1795,-980.0016 1741,-980.0016 1741,-944.0016 1795,-944.0016 1795,-980.0016"/>
<text text-anchor="middle" x="1768" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_36&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>prespace_36&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2301.406,-2148.7515C2310.5088,-2094.702 2329.2,-1932.4024 2243,-1853.803 2170.671,-1787.8516 1871.8235,-1888.3797 1804,-1817.803 1687.8668,-1696.9557 1748.3374,-1125.4094 1764.4454,-990.5577"/>
<polygon fill="#000000" stroke="#000000" points="1767.9672,-990.5878 1765.6938,-980.2398 1761.0179,-989.7469 1767.9672,-990.5878"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="1867,-980.0016 1813,-980.0016 1813,-944.0016 1867,-944.0016 1867,-980.0016"/>
<text text-anchor="middle" x="1840" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">codex</text>
</g>
<!-- literal_37&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>literal_37&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2398.3428,-2148.8471C2410.2425,-2095.0686 2437.1566,-1933.4569 2353,-1853.803 2275.7966,-1780.7303 1949.9051,-1894.2101 1876,-1817.803 1759.4751,-1697.3333 1820.2438,-1125.4996 1836.4286,-990.5739"/>
<polygon fill="#000000" stroke="#000000" points="1839.9512,-990.5994 1837.6829,-980.2502 1833.0023,-989.755 1839.9512,-990.5994"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="1939,-980.0016 1885,-980.0016 1885,-944.0016 1939,-944.0016 1939,-980.0016"/>
<text text-anchor="middle" x="1912" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_38&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>raw_38&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2474.6768,-2148.8876C2487.5741,-2095.2239 2517.4212,-1933.9035 2434,-1853.803 2355.8842,-1778.7968 2023.3457,-1895.5913 1948,-1817.803 1831.3915,-1697.4143 1892.2238,-1125.519 1908.425,-990.5773"/>
<polygon fill="#000000" stroke="#000000" points="1911.9477,-990.6019 1909.6806,-980.2524 1904.9989,-989.7568 1911.9477,-990.6019"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="2449,-981.9036 1957,-981.9036 1957,-942.0995 2449,-942.0995 2449,-981.9036"/>
<text text-anchor="middle" x="2203" y="-950.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">Note: I&#39;m not happy with how the existing SQLite binding is handling</text>
</g>
<!-- raw_43&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>raw_43&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2544.6021,-2148.5974C2550.9362,-2098.0574 2562.7408,-1952.6914 2506,-1853.803 2492.7285,-1830.6734 2473.2424,-1839.6841 2458,-1817.803 2263.3638,-1538.3954 2215.0024,-1108.4586 2205.1916,-991.9754"/>
<polygon fill="#000000" stroke="#000000" points="2208.6794,-991.681 2204.3822,-981.9967 2201.7023,-992.247 2208.6794,-991.681"/>
</g>
<!-- anchortext_50 -->
<g id="node51" class="node">
<title>anchortext_50</title>
<ellipse fill="none" stroke="#000000" cx="2518" cy="-962.0016" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="2518" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">anchortext</text>
</g>
<!-- link_44&#45;&gt;anchortext_50 -->
<g id="edge50" class="edge">
<title>link_44&#45;&gt;anchortext_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2611.9159,-2148.5625C2606.0276,-2096.9095 2588.9832,-1944.5979 2578,-1817.803 2549.8536,-1492.8688 2525.958,-1097.6435 2519.6355,-990.1306"/>
<polygon fill="#000000" stroke="#000000" points="2523.126,-989.8641 2519.0468,-980.086 2516.138,-990.2737 2523.126,-989.8641"/>
</g>
<!-- url_51 -->
<g id="node52" class="node">
<title>url_51</title>
<ellipse fill="none" stroke="#000000" cx="2614" cy="-962.0016" rx="27" ry="18"/>
<text text-anchor="middle" x="2614" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">url</text>
</g>
<!-- link_44&#45;&gt;url_51 -->
<g id="edge51" class="edge">
<title>link_44&#45;&gt;url_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2614,-2148.2627C2614,-2011.6756 2614,-1157.8957 2614,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="2617.5001,-990.0329 2614,-980.0329 2610.5001,-990.0329 2617.5001,-990.0329"/>
</g>
<!-- leaf_54 -->
<g id="node55" class="node">
<title>leaf_54</title>
<polygon fill="none" stroke="#c0c0c0" points="2731,-980.0016 2659,-980.0016 2659,-944.0016 2731,-944.0016 2731,-980.0016"/>
<text text-anchor="middle" x="2695" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">. &#160;Lua&#39;s</text>
</g>
<!-- raw_45&#45;&gt;leaf_54 -->
<g id="edge54" class="edge">
<title>raw_45&#45;&gt;leaf_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2686.1378,-2148.2627C2687.1582,-2011.6756 2693.5365,-1157.8957 2694.7873,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="2698.2904,-990.0588 2694.8653,-980.0329 2691.2906,-990.0064 2698.2904,-990.0588"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="2803,-980.0016 2749,-980.0016 2749,-944.0016 2803,-944.0016 2803,-980.0016"/>
<text text-anchor="middle" x="2776" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_46&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>prespace_46&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2776.9847,-2148.2627C2776.8713,-2011.6756 2776.1626,-1157.8957 2776.0236,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="2779.5234,-990.03 2776.015,-980.0329 2772.5234,-990.0358 2779.5234,-990.03"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="2875,-980.0016 2821,-980.0016 2821,-944.0016 2875,-944.0016 2875,-980.0016"/>
<text text-anchor="middle" x="2848" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">nil</text>
</g>
<!-- literal_47&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>literal_47&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2872.6173,-2148.2627C2869.7829,-2011.6756 2852.0652,-1157.8957 2848.5908,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="2852.081,-989.9581 2848.3742,-980.0329 2845.0825,-990.1034 2852.081,-989.9581"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="3448.5,-989.202 2893.5,-989.202 2893.5,-934.8011 3448.5,-934.8011 3448.5,-989.202"/>
<text text-anchor="middle" x="3171" y="-973.9016" font-family="Inconsolata" font-size="14.00" fill="#000000"> is a frequent source of</text>
<text text-anchor="middle" x="3171" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">annoyance, true, but every union type system has a bottom value, and Lua&#39;s is</text>
<text text-anchor="middle" x="3171" y="-943.1015" font-family="Inconsolata" font-size="14.00" fill="#000000">implemented cleanly.</text>
</g>
<!-- raw_48&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>raw_48&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3061.6991,-2148.2627C3074.0739,-2013.9567 3150.3413,-1186.2136 3167.5518,-999.426"/>
<polygon fill="#000000" stroke="#000000" points="3171.054,-999.5612 3168.4864,-989.2823 3164.0836,-998.9189 3171.054,-999.5612"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="2576,-53.1 2434,-53.1 2434,-17.1 2576,-17.1 2576,-53.1"/>
<text text-anchor="middle" x="2505" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">three&#45;valued logic</text>
</g>
<!-- anchortext_50&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>anchortext_50&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2517.7461,-943.902C2516.1381,-829.2467 2507.372,-204.2234 2505.3959,-63.3245"/>
<polygon fill="#000000" stroke="#000000" points="2508.8955,-63.2656 2505.2555,-53.3157 2501.8962,-63.3638 2508.8955,-63.2656"/>
</g>
<!-- leaf_53 -->
<g id="node54" class="node">
<title>leaf_53</title>
<polygon fill="none" stroke="#c0c0c0" points="2659.5,-53.1 2594.5,-53.1 2594.5,-17.1 2659.5,-17.1 2659.5,-53.1"/>
<text text-anchor="middle" x="2627" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">httk://</text>
</g>
<!-- url_51&#45;&gt;leaf_53 -->
<g id="edge53" class="edge">
<title>url_51&#45;&gt;leaf_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2614.2539,-943.902C2615.8619,-829.2467 2624.628,-204.2234 2626.6041,-63.3245"/>
<polygon fill="#000000" stroke="#000000" points="2630.1038,-63.3638 2626.7445,-53.3157 2623.1045,-63.2656 2630.1038,-63.3638"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="4029,-1004.6026 3467,-1004.6026 3467,-919.4005 4029,-919.4005 4029,-1004.6026"/>
<text text-anchor="middle" x="3748" y="-973.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">But this is not the semantics of SQLite&#39;s NULL, which cleanly represents &quot;no</text>
<text text-anchor="middle" x="3748" y="-958.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">answer available for constraint&quot;. &#160;Our bindings would appear to represent</text>
<text text-anchor="middle" x="3748" y="-942.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">nulls on the right side of a left join as missing values, which breaks some of</text>
<text text-anchor="middle" x="3748" y="-927.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">the conventions of Lua, such as</text>
</g>
<!-- raw_58&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>raw_58&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3864.2404,-2148.7389C3851.561,-2019.2914 3774.0566,-1228.0226 3753.1771,-1014.8566"/>
<polygon fill="#000000" stroke="#000000" points="3756.6556,-1014.4652 3752.1974,-1004.854 3749.689,-1015.1476 3756.6556,-1014.4652"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="4101,-980.0016 4047,-980.0016 4047,-944.0016 4101,-944.0016 4101,-980.0016"/>
<text text-anchor="middle" x="4074" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_59&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>prespace_59&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4074,-2148.2627C4074,-2011.6756 4074,-1157.8957 4074,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="4077.5001,-990.0329 4074,-980.0329 4070.5001,-990.0329 4077.5001,-990.0329"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="4173,-980.0016 4119,-980.0016 4119,-944.0016 4173,-944.0016 4173,-980.0016"/>
<text text-anchor="middle" x="4146" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">#</text>
</g>
<!-- literal_60&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>literal_60&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4169.6326,-2148.2627C4166.9115,-2011.6756 4149.9026,-1157.8957 4146.5671,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="4150.0578,-989.9612 4146.3592,-980.0329 4143.0592,-990.1007 4150.0578,-989.9612"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="4389,-980.0016 4191,-980.0016 4191,-944.0016 4389,-944.0016 4389,-980.0016"/>
<text text-anchor="middle" x="4290" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">, to no plausible benefit.</text>
</g>
<!-- raw_61&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>raw_61&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4268.3368,-2148.2627C4270.8311,-2011.6756 4286.4226,-1157.8957 4289.4801,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="4292.9875,-990.0952 4289.6707,-980.0329 4285.9886,-989.9673 4292.9875,-990.0952"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="4962.5,-989.302 4407.5,-989.302 4407.5,-934.7011 4962.5,-934.7011 4962.5,-989.302"/>
<text text-anchor="middle" x="4685" y="-958.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">It&#39;s also quite possible I&#39;m trying to unwrap a data structure which is meant</text>
<text text-anchor="middle" x="4685" y="-942.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">to be handled through method calls.</text>
</g>
<!-- raw_66&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>raw_66&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4944.0781,-2148.7389C4915.0731,-2015.8782 4733.8652,-1185.8343 4693.1258,-999.2229"/>
<polygon fill="#000000" stroke="#000000" points="4696.5203,-998.3613 4690.9678,-989.3379 4689.6813,-999.8544 4696.5203,-998.3613"/>
</g>
<!-- leaf_81 -->
<g id="node82" class="node">
<title>leaf_81</title>
<polygon fill="none" stroke="#c0c0c0" points="5339.5,-981.9036 4980.5,-981.9036 4980.5,-942.0995 5339.5,-942.0995 5339.5,-981.9036"/>
<text text-anchor="middle" x="5160" y="-950.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">Looks like there&#39;s a magic &quot;hik&quot; string where the</text>
</g>
<!-- raw_68&#45;&gt;leaf_81 -->
<g id="edge81" class="edge">
<title>raw_68&#45;&gt;leaf_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5220.0662,-2148.2627C5213.1692,-2012.0506 5170.1562,-1162.5778 5161.5121,-991.864"/>
<polygon fill="#000000" stroke="#000000" points="5165.0054,-991.6409 5161.004,-981.8307 5158.0143,-991.9949 5165.0054,-991.6409"/>
</g>
<!-- leaf_82 -->
<g id="node83" class="node">
<title>leaf_82</title>
<polygon fill="none" stroke="#c0c0c0" points="5412,-980.0016 5358,-980.0016 5358,-944.0016 5412,-944.0016 5412,-980.0016"/>
<text text-anchor="middle" x="5385" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_69&#45;&gt;leaf_82 -->
<g id="edge82" class="edge">
<title>prespace_69&#45;&gt;leaf_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5373.1837,-2148.2627C5374.5442,-2011.6756 5383.0487,-1157.8957 5384.7164,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="5388.2205,-990.0673 5384.8204,-980.0329 5381.2209,-989.9975 5388.2205,-990.0673"/>
</g>
<!-- leaf_83 -->
<g id="node84" class="node">
<title>leaf_83</title>
<polygon fill="none" stroke="#c0c0c0" points="5484,-980.0016 5430,-980.0016 5430,-944.0016 5484,-944.0016 5484,-980.0016"/>
<text text-anchor="middle" x="5457" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">i</text>
</g>
<!-- literal_70&#45;&gt;leaf_83 -->
<g id="edge83" class="edge">
<title>literal_70&#45;&gt;leaf_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5468.8163,-2148.2627C5467.4558,-2011.6756 5458.9513,-1157.8957 5457.2836,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="5460.7791,-989.9975 5457.1796,-980.0329 5453.7795,-990.0673 5460.7791,-989.9975"/>
</g>
<!-- leaf_84 -->
<g id="node85" class="node">
<title>leaf_84</title>
<polygon fill="none" stroke="#c0c0c0" points="5588,-980.0016 5502,-980.0016 5502,-944.0016 5588,-944.0016 5588,-980.0016"/>
<text text-anchor="middle" x="5545" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000"> is index,</text>
</g>
<!-- raw_71&#45;&gt;leaf_84 -->
<g id="edge84" class="edge">
<title>raw_71&#45;&gt;leaf_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5545,-2148.2627C5545,-2011.6756 5545,-1157.8957 5545,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="5548.5001,-990.0329 5545,-980.0329 5541.5001,-990.0329 5548.5001,-990.0329"/>
</g>
<!-- leaf_85 -->
<g id="node86" class="node">
<title>leaf_85</title>
<polygon fill="none" stroke="#c0c0c0" points="5660,-980.0016 5606,-980.0016 5606,-944.0016 5660,-944.0016 5660,-980.0016"/>
<text text-anchor="middle" x="5633" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_72&#45;&gt;leaf_85 -->
<g id="edge85" class="edge">
<title>prespace_72&#45;&gt;leaf_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5635.9541,-2148.2627C5635.6139,-2011.6756 5633.4878,-1157.8957 5633.0709,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="5636.5699,-990.0241 5633.0449,-980.0329 5629.5699,-990.0416 5636.5699,-990.0241"/>
</g>
<!-- leaf_86 -->
<g id="node87" class="node">
<title>leaf_86</title>
<polygon fill="none" stroke="#c0c0c0" points="5732,-980.0016 5678,-980.0016 5678,-944.0016 5732,-944.0016 5732,-980.0016"/>
<text text-anchor="middle" x="5705" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">k</text>
</g>
<!-- literal_73&#45;&gt;leaf_86 -->
<g id="edge86" class="edge">
<title>literal_73&#45;&gt;leaf_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5731.5867,-2148.2627C5728.5255,-2011.6756 5709.3904,-1157.8957 5705.638,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="5709.1274,-989.9519 5705.4041,-980.0329 5702.1292,-990.1088 5709.1274,-989.9519"/>
</g>
<!-- leaf_87 -->
<g id="node88" class="node">
<title>leaf_87</title>
<polygon fill="none" stroke="#c0c0c0" points="5864,-981.3021 5750,-981.3021 5750,-942.701 5864,-942.701 5864,-981.3021"/>
<text text-anchor="middle" x="5807" y="-966.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> is key/value,</text>
<text text-anchor="middle" x="5807" y="-950.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">and</text>
</g>
<!-- raw_74&#45;&gt;leaf_87 -->
<g id="edge87" class="edge">
<title>raw_74&#45;&gt;leaf_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5807.9847,-2148.2627C5807.8716,-2011.9737 5807.1657,-1161.6184 5807.0245,-991.5755"/>
<polygon fill="#000000" stroke="#000000" points="5810.5245,-991.3707 5807.0161,-981.3737 5803.5245,-991.3766 5810.5245,-991.3707"/>
</g>
<!-- leaf_88 -->
<g id="node89" class="node">
<title>leaf_88</title>
<polygon fill="none" stroke="#c0c0c0" points="5936,-980.0016 5882,-980.0016 5882,-944.0016 5936,-944.0016 5936,-980.0016"/>
<text text-anchor="middle" x="5909" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_75&#45;&gt;leaf_88 -->
<g id="edge88" class="edge">
<title>prespace_75&#45;&gt;leaf_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5899.1531,-2148.2627C5900.2869,-2011.6756 5907.3739,-1157.8957 5908.7637,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="5912.2671,-990.0616 5908.8503,-980.0329 5905.2673,-990.0035 5912.2671,-990.0616"/>
</g>
<!-- leaf_89 -->
<g id="node90" class="node">
<title>leaf_89</title>
<polygon fill="none" stroke="#c0c0c0" points="6008,-980.0016 5954,-980.0016 5954,-944.0016 6008,-944.0016 6008,-980.0016"/>
<text text-anchor="middle" x="5981" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">h</text>
</g>
<!-- literal_76&#45;&gt;leaf_89 -->
<g id="edge89" class="edge">
<title>literal_76&#45;&gt;leaf_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5994.7857,-2148.2627C5993.1984,-2011.6756 5983.2765,-1157.8957 5981.3308,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="5984.8256,-989.9915 5981.2095,-980.0329 5977.8261,-990.0729 5984.8256,-989.9915"/>
</g>
<!-- leaf_90 -->
<g id="node91" class="node">
<title>leaf_90</title>
<polygon fill="none" stroke="#c0c0c0" points="6238,-980.0016 6026,-980.0016 6026,-944.0016 6238,-944.0016 6238,-980.0016"/>
<text text-anchor="middle" x="6132" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000"> is some weird object on the</text>
</g>
<!-- raw_77&#45;&gt;leaf_90 -->
<g id="edge90" class="edge">
<title>raw_77&#45;&gt;leaf_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6101.4745,-2148.2627C6104.9893,-2011.6756 6126.9592,-1157.8957 6131.2674,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="6134.7775,-990.1197 6131.536,-980.0329 6127.7798,-989.9395 6134.7775,-990.1197"/>
</g>
<!-- leaf_91 -->
<g id="node92" class="node">
<title>leaf_91</title>
<polygon fill="none" stroke="#c0c0c0" points="6310,-980.0016 6256,-980.0016 6256,-944.0016 6310,-944.0016 6310,-980.0016"/>
<text text-anchor="middle" x="6283" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_78&#45;&gt;leaf_91 -->
<g id="edge91" class="edge">
<title>prespace_78&#45;&gt;leaf_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6211.404,-2148.5818C6218.1563,-2096.9795 6237.4245,-1944.7888 6247,-1817.803 6271.4857,-1493.0848 6280.4226,-1097.706 6282.4954,-990.1441"/>
<polygon fill="#000000" stroke="#000000" points="6285.9956,-990.1592 6282.685,-980.0949 6278.9969,-990.0271 6285.9956,-990.1592"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="6382,-980.0016 6328,-980.0016 6328,-944.0016 6382,-944.0016 6382,-980.0016"/>
<text text-anchor="middle" x="6355" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">[0]</text>
</g>
<!-- literal_79&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>literal_79&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6322.5051,-2148.2627C6326.2466,-2011.6756 6349.6339,-1157.8957 6354.2202,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="6357.7308,-990.125 6354.5061,-980.0329 6350.7335,-989.9333 6357.7308,-990.125"/>
</g>
<!-- leaf_93 -->
<g id="node94" class="node">
<title>leaf_93</title>
<polygon fill="none" stroke="#c0c0c0" points="6640,-981.3021 6400,-981.3021 6400,-942.701 6640,-942.701 6640,-981.3021"/>
<text text-anchor="middle" x="6520" y="-966.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> index which has column&#45;centered</text>
<text text-anchor="middle" x="6520" y="-950.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">values.</text>
</g>
<!-- raw_80&#45;&gt;leaf_93 -->
<g id="edge93" class="edge">
<title>raw_80&#45;&gt;leaf_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6459.9338,-2148.2627C6466.8347,-2011.9737 6509.8924,-1161.6184 6518.5025,-991.5755"/>
<polygon fill="#000000" stroke="#000000" points="6522.0088,-991.5379 6519.0191,-981.3737 6515.0178,-991.1839 6522.0088,-991.5379"/>
</g>
<!-- leaf_95 -->
<g id="node96" class="node">
<title>leaf_95</title>
<polygon fill="none" stroke="#c0c0c0" points="6940,-981.9036 6658,-981.9036 6658,-942.0995 6940,-942.0995 6940,-981.9036"/>
<text text-anchor="middle" x="6799" y="-950.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;ve been getting back all three. Hmm.</text>
</g>
<!-- raw_94&#45;&gt;leaf_95 -->
<g id="edge95" class="edge">
<title>raw_94&#45;&gt;leaf_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6666.9982,-2148.7389C6681.9787,-2014.0595 6776.645,-1162.9799 6795.6716,-991.9248"/>
<polygon fill="#000000" stroke="#000000" points="6799.1628,-992.197 6796.7899,-981.8714 6792.2057,-991.4231 6799.1628,-992.197"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="7149.5,-981.9036 6958.5,-981.9036 6958.5,-942.0995 7149.5,-942.0995 7149.5,-981.9036"/>
<text text-anchor="middle" x="7054" y="-950.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">Also the return format is</text>
</g>
<!-- raw_96&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>raw_96&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7078.6173,-2148.2627C7075.7906,-2012.0506 7058.1624,-1162.5778 7054.6197,-991.864"/>
<polygon fill="#000000" stroke="#000000" points="7058.1183,-991.7559 7054.4115,-981.8307 7051.1198,-991.9012 7058.1183,-991.7559"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="7222,-980.0016 7168,-980.0016 7168,-944.0016 7222,-944.0016 7222,-980.0016"/>
<text text-anchor="middle" x="7195" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_97&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>prespace_97&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7199.9235,-2148.2627C7199.3566,-2011.6756 7195.813,-1157.8957 7195.1182,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="7198.6164,-990.0182 7195.0748,-980.0329 7191.6165,-990.0474 7198.6164,-990.0182"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="7361.5,-980.0016 7240.5,-980.0016 7240.5,-944.0016 7361.5,-944.0016 7361.5,-980.0016"/>
<text text-anchor="middle" x="7301" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">resultset, nrow</text>
</g>
<!-- literal_98&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>literal_98&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7328.5714,-2148.2627C7325.3968,-2011.6756 7305.553,-1157.8957 7301.6617,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="7305.1506,-989.9488 7301.4191,-980.0329 7298.1525,-990.1116 7305.1506,-989.9488"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="7620,-980.0016 7380,-980.0016 7380,-944.0016 7620,-944.0016 7620,-980.0016"/>
<text text-anchor="middle" x="7500" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000"> which mitigates the damage from</text>
</g>
<!-- raw_99&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>raw_99&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7466.5205,-2148.2627C7470.3753,-2011.6756 7494.4713,-1157.8957 7499.1966,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="7502.7075,-990.1277 7499.4911,-980.0329 7495.7103,-989.9301 7502.7075,-990.1277"/>
</g>
<!-- leaf_107 -->
<g id="node108" class="node">
<title>leaf_107</title>
<polygon fill="none" stroke="#c0c0c0" points="7692,-980.0016 7638,-980.0016 7638,-944.0016 7692,-944.0016 7692,-980.0016"/>
</g>
<!-- prespace_100&#45;&gt;leaf_107 -->
<g id="edge107" class="edge">
<title>prespace_100&#45;&gt;leaf_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7613.8571,-2148.5436C7616.2919,-2096.841 7623.4341,-1944.4114 7629,-1817.803 7643.302,-1492.4771 7659.4773,-1097.5302 7663.8565,-990.106"/>
<polygon fill="#000000" stroke="#000000" points="7667.3553,-990.2041 7664.2654,-980.0699 7660.3611,-989.9191 7667.3553,-990.2041"/>
</g>
<!-- leaf_108 -->
<g id="node109" class="node">
<title>leaf_108</title>
<polygon fill="none" stroke="#c0c0c0" points="7764,-980.0016 7710,-980.0016 7710,-944.0016 7764,-944.0016 7764,-980.0016"/>
<text text-anchor="middle" x="7737" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">NULL</text>
</g>
<!-- literal_101&#45;&gt;leaf_108 -->
<g id="edge108" class="edge">
<title>literal_101&#45;&gt;leaf_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7723.2143,-2148.2627C7724.8016,-2011.6756 7734.7235,-1157.8957 7736.6692,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="7740.1739,-990.0729 7736.7905,-980.0329 7733.1744,-989.9915 7740.1739,-990.0729"/>
</g>
<!-- leaf_109 -->
<g id="node110" class="node">
<title>leaf_109</title>
<polygon fill="none" stroke="#c0c0c0" points="7847.5,-981.9036 7782.5,-981.9036 7782.5,-942.0995 7847.5,-942.0995 7847.5,-981.9036"/>
<text text-anchor="middle" x="7815" y="-966.5016" font-family="Inconsolata" font-size="14.00" fill="#000000"> holes.</text>
</g>
<!-- raw_102&#45;&gt;leaf_109 -->
<g id="edge109" class="edge">
<title>raw_102&#45;&gt;leaf_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7813.0306,-2148.2627C7813.2567,-2012.0506 7814.667,-1162.5778 7814.9504,-991.864"/>
<polygon fill="#000000" stroke="#000000" points="7818.4504,-991.8365 7814.9671,-981.8307 7811.4504,-991.8248 7818.4504,-991.8365"/>
</g>
<!-- leaf_113 -->
<g id="node114" class="node">
<title>leaf_113</title>
<polygon fill="none" stroke="#c0c0c0" points="8008,-980.0016 7866,-980.0016 7866,-944.0016 8008,-944.0016 8008,-980.0016"/>
<text text-anchor="middle" x="7937" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">*** SQLite battery</text>
</g>
<!-- header_110&#45;&gt;leaf_113 -->
<g id="edge113" class="edge">
<title>header_110&#45;&gt;leaf_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7937,-2148.2627C7937,-2011.6756 7937,-1157.8957 7937,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="7940.5001,-990.0329 7937,-980.0329 7933.5001,-990.0329 7940.5001,-990.0329"/>
</g>
<!-- raw_114 -->
<g id="node115" class="node">
<title>raw_114</title>
<ellipse fill="none" stroke="#000000" cx="8053" cy="-962.0016" rx="27" ry="18"/>
<text text-anchor="middle" x="8053" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_111&#45;&gt;raw_114 -->
<g id="edge114" class="edge">
<title>prose_111&#45;&gt;raw_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8065.801,-2148.2627C8064.3271,-2011.6756 8055.1139,-1157.8957 8053.3072,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="8056.8024,-989.9945 8053.1946,-980.0329 8049.8028,-990.0701 8056.8024,-989.9945"/>
</g>
<!-- leaf_116 -->
<g id="node117" class="node">
<title>leaf_116</title>
<polygon fill="none" stroke="#c0c0c0" points="8646,-1817.6045 8098,-1817.6045 8098,-106.3986 8646,-106.3986 8646,-1817.6045"/>
<text text-anchor="middle" x="8372" y="-1802.603" font-family="Inconsolata" font-size="14.00" fill="#000000">Historian.HISTORY_LIMIT = 1000</text>
<text text-anchor="middle" x="8372" y="-1771.203" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_repl_table = [[</text>
<text text-anchor="middle" x="8372" y="-1755.803" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS repl (</text>
<text text-anchor="middle" x="8372" y="-1740.4029" font-family="Inconsolata" font-size="14.00" fill="#000000">line_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="8372" y="-1725.0029" font-family="Inconsolata" font-size="14.00" fill="#000000">project TEXT,</text>
<text text-anchor="middle" x="8372" y="-1709.6029" font-family="Inconsolata" font-size="14.00" fill="#000000">line TEXT,</text>
<text text-anchor="middle" x="8372" y="-1694.2028" font-family="Inconsolata" font-size="14.00" fill="#000000">time DATETIME DEFAULT CURRENT_TIMESTAMP );</text>
<text text-anchor="middle" x="8372" y="-1678.8028" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="8372" y="-1647.4028" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_project_table = [[</text>
<text text-anchor="middle" x="8372" y="-1632.0027" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS project (</text>
<text text-anchor="middle" x="8372" y="-1616.6027" font-family="Inconsolata" font-size="14.00" fill="#000000">project_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="8372" y="-1601.2027" font-family="Inconsolata" font-size="14.00" fill="#000000">directory TEXT UNIQUE,</text>
<text text-anchor="middle" x="8372" y="-1585.8027" font-family="Inconsolata" font-size="14.00" fill="#000000">time DATETIME DEFAULT CURRENT_TIMESTAMP );</text>
<text text-anchor="middle" x="8372" y="-1570.4026" font-family="Inconsolata" font-size="14.00" fill="#000000">)</text>
<text text-anchor="middle" x="8372" y="-1555.0026" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="8372" y="-1523.6026" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_repl_table_v2 = [[</text>
<text text-anchor="middle" x="8372" y="-1508.2025" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS repl (</text>
<text text-anchor="middle" x="8372" y="-1492.8025" font-family="Inconsolata" font-size="14.00" fill="#000000">line_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="8372" y="-1477.4025" font-family="Inconsolata" font-size="14.00" fill="#000000">project INTEGER,</text>
<text text-anchor="middle" x="8372" y="-1462.0024" font-family="Inconsolata" font-size="14.00" fill="#000000">line TEXT,</text>
<text text-anchor="middle" x="8372" y="-1446.6024" font-family="Inconsolata" font-size="14.00" fill="#000000">time DATETIME DEFAULT CURRENT_TIMESTAMP,</text>
<text text-anchor="middle" x="8372" y="-1431.2024" font-family="Inconsolata" font-size="14.00" fill="#000000">FOREIGN KEY (project)</text>
<text text-anchor="middle" x="8372" y="-1415.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;REFERENCES project (project_id)</text>
<text text-anchor="middle" x="8372" y="-1400.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;ON DELETE CASCADE );</text>
<text text-anchor="middle" x="8372" y="-1385.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="8372" y="-1353.6022" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_result_table = [[</text>
<text text-anchor="middle" x="8372" y="-1338.2022" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS results (</text>
<text text-anchor="middle" x="8372" y="-1322.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">result_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="8372" y="-1307.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">line_id INTEGER,</text>
<text text-anchor="middle" x="8372" y="-1292.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">repr text NOT NULL,</text>
<text text-anchor="middle" x="8372" y="-1276.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">value blob,</text>
<text text-anchor="middle" x="8372" y="-1261.2021" font-family="Inconsolata" font-size="14.00" fill="#000000">FOREIGN KEY (line_id)</text>
<text text-anchor="middle" x="8372" y="-1245.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;REFERENCES repl (line_id)</text>
<text text-anchor="middle" x="8372" y="-1230.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;ON DELETE CASCADE );</text>
<text text-anchor="middle" x="8372" y="-1215.002" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="8372" y="-1183.6019" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_session_table = [[</text>
<text text-anchor="middle" x="8372" y="-1168.2019" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS sessions (</text>
<text text-anchor="middle" x="8372" y="-1152.8019" font-family="Inconsolata" font-size="14.00" fill="#000000">session_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="8372" y="-1137.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">name TEXT,</text>
<text text-anchor="middle" x="8372" y="-1122.0018" font-family="Inconsolata" font-size="14.00" fill="#000000">project INTEGER,</text>
<text text-anchor="middle" x="8372" y="-1106.6018" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; These two are line_ids</text>
<text text-anchor="middle" x="8372" y="-1091.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">start INTEGER NOT NULL,</text>
<text text-anchor="middle" x="8372" y="-1075.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">end INTEGER,</text>
<text text-anchor="middle" x="8372" y="-1060.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">test BOOLEAN,</text>
<text text-anchor="middle" x="8372" y="-1045.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">commit TEXT,</text>
<text text-anchor="middle" x="8372" y="-1029.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">FOREIGN KEY (project)</text>
<text text-anchor="middle" x="8372" y="-1014.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;REFERENCES project(project_id)</text>
<text text-anchor="middle" x="8372" y="-998.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;ON DELETE CASCADE );</text>
<text text-anchor="middle" x="8372" y="-983.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="8372" y="-952.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">local insert_line_stmt = [[</text>
<text text-anchor="middle" x="8372" y="-936.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO repl (project, line) VALUES (:project, :line);</text>
<text text-anchor="middle" x="8372" y="-921.2014" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="8372" y="-889.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">local insert_result_stmt = [[</text>
<text text-anchor="middle" x="8372" y="-874.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO results (line_id, repr) VALUES (:line_id, :repr);</text>
<text text-anchor="middle" x="8372" y="-859.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="8372" y="-827.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">local insert_project = [[</text>
<text text-anchor="middle" x="8372" y="-812.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO project (directory) VALUES (:dir)</text>
<text text-anchor="middle" x="8372" y="-796.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">ON CONFLICT IGNORE;</text>
<text text-anchor="middle" x="8372" y="-781.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="8372" y="-750.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_tables = [[</text>
<text text-anchor="middle" x="8372" y="-734.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT name FROM sqlite_master WHERE type=&#39;table&#39;;</text>
<text text-anchor="middle" x="8372" y="-719.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="8372" y="-687.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_recent = [[</text>
<text text-anchor="middle" x="8372" y="-672.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (line_id AS REAL), line FROM repl</text>
<text text-anchor="middle" x="8372" y="-657.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;WHERE project = %d</text>
<text text-anchor="middle" x="8372" y="-641.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;ORDER BY time</text>
<text text-anchor="middle" x="8372" y="-626.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;DESC LIMIT %d;</text>
<text text-anchor="middle" x="8372" y="-610.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="8372" y="-579.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_project == [[</text>
<text text-anchor="middle" x="8372" y="-564.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (project_id AS REAL) FROM project</text>
<text text-anchor="middle" x="8372" y="-548.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;WHERE directory = %s;</text>
<text text-anchor="middle" x="8372" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="8372" y="-501.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_reprs = [[</text>
<text text-anchor="middle" x="8372" y="-486.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (repl.line_id AS REAL), results.repr</text>
<text text-anchor="middle" x="8372" y="-471.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">FROM repl</text>
<text text-anchor="middle" x="8372" y="-455.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">LEFT OUTER JOIN results</text>
<text text-anchor="middle" x="8372" y="-440.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">ON repl.line_id = results.line_id</text>
<text text-anchor="middle" x="8372" y="-424.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE repl.project = &#39;%s&#39;</text>
<text text-anchor="middle" x="8372" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">ORDER BY repl.time</text>
<text text-anchor="middle" x="8372" y="-394.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">DESC LIMIT %d;</text>
<text text-anchor="middle" x="8372" y="-378.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="8372" y="-347.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">local home_dir = io.popen(&quot;echo $HOME&quot;, &quot;r&quot;):read(&quot;*a&quot;):sub(1, &#45;2)</text>
<text text-anchor="middle" x="8372" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">local bridge_home = io.popen(&quot;echo $BRIDGE_HOME&quot;, &quot;r&quot;):read(&quot;*a&quot;):sub(1, &#45;2)</text>
<text text-anchor="middle" x="8372" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">Historian.bridge_home = bridge_home ~= &quot;&quot; and bridge_home</text>
<text text-anchor="middle" x="8372" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;or home_dir .. &quot;/.bridge&quot;</text>
<text text-anchor="middle" x="8372" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">Historian.project = io.popen(&quot;pwd&quot;, &quot;r&quot;):read(&quot;*a&quot;):sub(1, &#45;2)</text>
<text text-anchor="middle" x="8372" y="-222.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">local function has(table, name)</text>
<text text-anchor="middle" x="8372" y="-206.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for _,v in ipairs(table) do</text>
<text text-anchor="middle" x="8372" y="-191.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if name == v then</text>
<text text-anchor="middle" x="8372" y="-176.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="8372" y="-160.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="8372" y="-145.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8372" y="-129.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return false</text>
<text text-anchor="middle" x="8372" y="-114.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_112&#45;&gt;leaf_116 -->
<g id="edge116" class="edge">
<title>codeblock_112&#45;&gt;leaf_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8287.3164,-2148.2627C8290.5449,-2103.0382 8299.3862,-1979.1881 8310.2033,-1827.6594"/>
<polygon fill="#000000" stroke="#000000" points="8313.6976,-1827.8628 8310.9187,-1817.639 8306.7154,-1827.3643 8313.6976,-1827.8628"/>
</g>
<!-- leaf_115 -->
<g id="node116" class="node">
<title>leaf_115</title>
<polygon fill="none" stroke="#c0c0c0" points="8009,-53.1 7955,-53.1 7955,-17.1 8009,-17.1 8009,-53.1"/>
</g>
<!-- raw_114&#45;&gt;leaf_115 -->
<g id="edge115" class="edge">
<title>raw_114&#45;&gt;leaf_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8054.9614,-943.834C8064.2876,-852.2739 8100.3387,-432.9346 8017,-106.2001 8013.0872,-90.8595 8005.6204,-74.9446 7998.5851,-62.0711"/>
<polygon fill="#000000" stroke="#000000" points="8001.5778,-60.2532 7993.5956,-53.2864 7995.4911,-63.7103 8001.5778,-60.2532"/>
</g>
<!-- leaf_121 -->
<g id="node122" class="node">
<title>leaf_121</title>
<polygon fill="none" stroke="#c0c0c0" points="8820,-980.0016 8664,-980.0016 8664,-944.0016 8820,-944.0016 8820,-980.0016"/>
<text text-anchor="middle" x="8742" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Historian:load()</text>
</g>
<!-- header_117&#45;&gt;leaf_121 -->
<g id="edge121" class="edge">
<title>header_117&#45;&gt;leaf_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8732.1531,-2148.2627C8733.2869,-2011.6756 8740.3739,-1157.8957 8741.7637,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="8745.2671,-990.0616 8741.8503,-980.0329 8738.2673,-990.0035 8745.2671,-990.0616"/>
</g>
<!-- raw_122 -->
<g id="node123" class="node">
<title>raw_122</title>
<ellipse fill="none" stroke="#000000" cx="8865" cy="-962.0016" rx="27" ry="18"/>
<text text-anchor="middle" x="8865" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_118&#45;&gt;raw_122 -->
<g id="edge122" class="edge">
<title>prose_118&#45;&gt;raw_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8865,-2148.2627C8865,-2011.6756 8865,-1157.8957 8865,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="8868.5001,-990.0329 8865,-980.0329 8861.5001,-990.0329 8868.5001,-990.0329"/>
</g>
<!-- raw_124 -->
<g id="node125" class="node">
<title>raw_124</title>
<ellipse fill="none" stroke="#000000" cx="8937" cy="-962.0016" rx="27" ry="18"/>
<text text-anchor="middle" x="8937" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_119&#45;&gt;raw_124 -->
<g id="edge124" class="edge">
<title>prose_119&#45;&gt;raw_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8946.8469,-2148.2627C8945.7131,-2011.6756 8938.6261,-1157.8957 8937.2363,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="8940.7327,-990.0035 8937.1497,-980.0329 8933.7329,-990.0616 8940.7327,-990.0035"/>
</g>
<!-- leaf_126 -->
<g id="node127" class="node">
<title>leaf_126</title>
<polygon fill="none" stroke="#c0c0c0" points="9460,-1335.7031 8982,-1335.7031 8982,-588.3 9460,-588.3 9460,-1335.7031"/>
<text text-anchor="middle" x="9221" y="-1320.4023" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.load(historian)</text>
<text text-anchor="middle" x="9221" y="-1305.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local conn = sql.open(historian.bridge_home)</text>
<text text-anchor="middle" x="9221" y="-1289.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.conn = conn</text>
<text text-anchor="middle" x="9221" y="-1274.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Set up bridge tables</text>
<text text-anchor="middle" x="9221" y="-1258.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn.pragma.foreign_keys(true)</text>
<text text-anchor="middle" x="9221" y="-1243.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:exec(create_result_table)</text>
<text text-anchor="middle" x="9221" y="-1228.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:exec(create_repl_table)</text>
<text text-anchor="middle" x="9221" y="-1212.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Create insert prepared statements</text>
<text text-anchor="middle" x="9221" y="-1197.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.insert_line_stmt = conn:prepare(insert_line_stmt)</text>
<text text-anchor="middle" x="9221" y="-1181.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.insert_result_stmt = conn:prepare(insert_result_stmt)</text>
<text text-anchor="middle" x="9221" y="-1166.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Retrieve history</text>
<text text-anchor="middle" x="9221" y="-1151.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local pop_str = sql.format(get_recent, historian.project,</text>
<text text-anchor="middle" x="9221" y="-1135.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;historian.HISTORY_LIMIT)</text>
<text text-anchor="middle" x="9221" y="-1120.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local repl_val, repl_row = sql.pexec(conn, pop_str, &quot;i&quot;)</text>
<text text-anchor="middle" x="9221" y="-1104.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local res_str = sql.format(get_reprs, historian.project,</text>
<text text-anchor="middle" x="9221" y="-1089.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;historian.HISTORY_LIMIT * 2)</text>
<text text-anchor="middle" x="9221" y="-1074.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local res_val, res_row = sql.pexec(conn, res_str, &quot;i&quot;)</text>
<text text-anchor="middle" x="9221" y="-1058.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if repl_val and res_val then</text>
<text text-anchor="middle" x="9221" y="-1043.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local lines = reverse(repl_val[2])</text>
<text text-anchor="middle" x="9221" y="-1027.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local line_ids = reverse(repl_val[1])</text>
<text text-anchor="middle" x="9221" y="-1012.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local repl_map = {}</text>
<text text-anchor="middle" x="9221" y="-997.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;for i, v in ipairs(lines) do</text>
<text text-anchor="middle" x="9221" y="-981.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local buf = Txtbuf(v)</text>
<text text-anchor="middle" x="9221" y="-966.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;historian[i] = buf</text>
<text text-anchor="middle" x="9221" y="-950.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repl_map[line_ids[i]] = buf</text>
<text text-anchor="middle" x="9221" y="-935.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="9221" y="-920.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;historian.cursor = #historian</text>
<text text-anchor="middle" x="9221" y="-904.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;historian.repl_map = repl_map &#45;&#45; remove</text>
<text text-anchor="middle" x="9221" y="-889.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; reuse line_id var for foreign keys</text>
<text text-anchor="middle" x="9221" y="-873.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;line_ids = res_val[1]</text>
<text text-anchor="middle" x="9221" y="-858.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local reprs = res_val[2]</text>
<text text-anchor="middle" x="9221" y="-843.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; This is keyed by txtbuf with a string value.</text>
<text text-anchor="middle" x="9221" y="-827.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local result_map = {}</text>
<text text-anchor="middle" x="9221" y="-812.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;for i = 1, #reprs do</text>
<text text-anchor="middle" x="9221" y="-796.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local buf = repl_map[line_ids[i]]</text>
<text text-anchor="middle" x="9221" y="-781.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if buf then</text>
<text text-anchor="middle" x="9221" y="-766.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local result = result_map[buf] or {frozen = true}</text>
<text text-anchor="middle" x="9221" y="-750.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;result[#result + 1] = reprs[i]</text>
<text text-anchor="middle" x="9221" y="-735.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;result.n = #result &#45;&#45; for compat with nil in live use</text>
<text text-anchor="middle" x="9221" y="-719.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;result_map[buf] = result</text>
<text text-anchor="middle" x="9221" y="-704.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="9221" y="-689.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="9221" y="-673.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;historian.results = result_map</text>
<text text-anchor="middle" x="9221" y="-658.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="9221" y="-642.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; one of the &#39;row&#39; vals will have an error</text>
<text text-anchor="middle" x="9221" y="-627.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;error(repr_row .. res_row)</text>
<text text-anchor="middle" x="9221" y="-612.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="9221" y="-596.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_120&#45;&gt;leaf_126 -->
<g id="edge126" class="edge">
<title>codeblock_120&#45;&gt;leaf_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9154.0409,-2148.2627C9159.1197,-2058.285 9181.7663,-1657.0737 9199.3325,-1345.8674"/>
<polygon fill="#000000" stroke="#000000" points="9202.8337,-1345.9431 9199.9029,-1335.7617 9195.8448,-1345.5485 9202.8337,-1345.9431"/>
</g>
<!-- leaf_123 -->
<g id="node124" class="node">
<title>leaf_123</title>
<polygon fill="none" stroke="#c0c0c0" points="8540.5,-63.0015 8027.5,-63.0015 8027.5,-7.1986 8540.5,-7.1986 8540.5,-63.0015"/>
<text text-anchor="middle" x="8284" y="-15.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Brings up the project history and (eventually) results and user config.</text>
</g>
<!-- raw_122&#45;&gt;leaf_123 -->
<g id="edge123" class="edge">
<title>raw_122&#45;&gt;leaf_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8867.2284,-943.8365C8880.5751,-831.5996 8945.5059,-233.1607 8829,-106.2001 8786.584,-59.9779 8611.2068,-78.3188 8549,-70.2001 8533.9946,-68.2417 8518.5124,-66.2128 8502.9183,-64.163"/>
<polygon fill="#000000" stroke="#000000" points="8503.0296,-60.6476 8492.6586,-62.8135 8502.1167,-67.5878 8503.0296,-60.6476"/>
</g>
<!-- leaf_125 -->
<g id="node126" class="node">
<title>leaf_125</title>
<polygon fill="none" stroke="#c0c0c0" points="9057.5,-62.4005 8558.5,-62.4005 8558.5,-7.7996 9057.5,-7.7996 9057.5,-62.4005"/>
<text text-anchor="middle" x="8808" y="-31.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">Most of the complexity serves to make a simple key/value relationship</text>
<text text-anchor="middle" x="8808" y="-15.9" font-family="Inconsolata" font-size="14.00" fill="#000000">between the regenerated txtbufs and their associated result history.</text>
</g>
<!-- raw_124&#45;&gt;leaf_125 -->
<g id="edge125" class="edge">
<title>raw_124&#45;&gt;leaf_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8938.2823,-943.8273C8945.7299,-834.0125 8980.4084,-258.7089 8901,-106.2001 8893.3826,-91.5704 8881.2484,-79.0709 8868.2268,-68.8212"/>
<polygon fill="#000000" stroke="#000000" points="8870.1499,-65.8897 8860.0368,-62.7312 8865.9729,-71.5069 8870.1499,-65.8897"/>
</g>
<!-- leaf_133 -->
<g id="node134" class="node">
<title>leaf_133</title>
<polygon fill="none" stroke="#c0c0c0" points="9991.5,-980.0016 9772.5,-980.0016 9772.5,-944.0016 9991.5,-944.0016 9991.5,-980.0016"/>
<text text-anchor="middle" x="9882" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Historian:persist(txtbuf)</text>
</g>
<!-- header_127&#45;&gt;leaf_133 -->
<g id="edge133" class="edge">
<title>header_127&#45;&gt;leaf_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9882,-2148.2627C9882,-2011.6756 9882,-1157.8957 9882,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="9885.5001,-990.0329 9882,-980.0329 9878.5001,-990.0329 9885.5001,-990.0329"/>
</g>
<!-- raw_134 -->
<g id="node135" class="node">
<title>raw_134</title>
<ellipse fill="none" stroke="#000000" cx="10041" cy="-962.0016" rx="27" ry="18"/>
<text text-anchor="middle" x="10041" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_128&#45;&gt;raw_134 -->
<g id="edge134" class="edge">
<title>prose_128&#45;&gt;raw_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10045.9235,-2148.2627C10045.3566,-2011.6756 10041.813,-1157.8957 10041.1182,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="10044.6164,-990.0182 10041.0748,-980.0329 10037.6165,-990.0474 10044.6164,-990.0182"/>
</g>
<!-- raw_136 -->
<g id="node137" class="node">
<title>raw_136</title>
<ellipse fill="none" stroke="#000000" cx="10120" cy="-962.0016" rx="27" ry="18"/>
<text text-anchor="middle" x="10120" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_129&#45;&gt;raw_136 -->
<g id="edge136" class="edge">
<title>prose_129&#45;&gt;raw_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10127.8775,-2148.2627C10126.9705,-2011.6756 10121.3009,-1157.8957 10120.189,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="10123.6862,-990.0094 10120.1197,-980.0329 10116.6863,-990.0559 10123.6862,-990.0094"/>
</g>
<!-- raw_138 -->
<g id="node139" class="node">
<title>raw_138</title>
<ellipse fill="none" stroke="#000000" cx="10334" cy="-962.0016" rx="27" ry="18"/>
<text text-anchor="middle" x="10334" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_130&#45;&gt;raw_138 -->
<g id="edge138" class="edge">
<title>prose_130&#45;&gt;raw_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10582.2722,-2149.1979C10554.9798,-2099.2168 10477.3176,-1950.8817 10441,-1817.803 10354.5804,-1501.136 10337.705,-1099.2495 10334.6398,-990.3097"/>
<polygon fill="#000000" stroke="#000000" points="10338.134,-990.0414 10334.3706,-980.1375 10331.1364,-990.2266 10338.134,-990.0414"/>
</g>
<!-- prespace_139 -->
<g id="node140" class="node">
<title>prespace_139</title>
<ellipse fill="none" stroke="#000000" cx="10496" cy="-962.0016" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="10496" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_130&#45;&gt;prespace_139 -->
<g id="edge139" class="edge">
<title>prose_130&#45;&gt;prespace_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10589.6051,-2148.5746C10582.8543,-2096.9532 10563.4206,-1944.7171 10552,-1817.803 10522.7781,-1493.067 10502.5737,-1097.7008 10497.3413,-990.143"/>
<polygon fill="#000000" stroke="#000000" points="10500.8344,-989.9134 10496.8554,-980.0942 10493.8425,-990.2516 10500.8344,-989.9134"/>
</g>
<!-- literal_140 -->
<g id="node141" class="node">
<title>literal_140</title>
<ellipse fill="none" stroke="#000000" cx="10592" cy="-962.0016" rx="31.481" ry="18"/>
<text text-anchor="middle" x="10592" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_130&#45;&gt;literal_140 -->
<g id="edge140" class="edge">
<title>prose_130&#45;&gt;literal_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10592,-2148.2627C10592,-2011.6756 10592,-1157.8957 10592,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="10595.5001,-990.0329 10592,-980.0329 10588.5001,-990.0329 10595.5001,-990.0329"/>
</g>
<!-- raw_141 -->
<g id="node142" class="node">
<title>raw_141</title>
<ellipse fill="none" stroke="#000000" cx="10668" cy="-962.0016" rx="27" ry="18"/>
<text text-anchor="middle" x="10668" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_130&#45;&gt;raw_141 -->
<g id="edge141" class="edge">
<title>prose_130&#45;&gt;raw_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10594.5445,-2148.5871C10601.689,-2096.9989 10622.0588,-1944.8415 10632,-1817.803 10657.4048,-1493.1554 10665.6885,-1097.7264 10667.553,-990.1485"/>
<polygon fill="#000000" stroke="#000000" points="10671.0533,-990.1556 10667.7229,-980.0978 10664.0543,-990.0372 10671.0533,-990.1556"/>
</g>
<!-- prespace_142 -->
<g id="node143" class="node">
<title>prespace_142</title>
<ellipse fill="none" stroke="#000000" cx="10759" cy="-962.0016" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="10759" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_130&#45;&gt;prespace_142 -->
<g id="edge142" class="edge">
<title>prose_130&#45;&gt;prespace_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10589.0036,-2148.7564C10581.4532,-2097.3916 10566.6916,-1947.4916 10633,-1853.803 10653.4392,-1824.9241 10684.5264,-1847.3417 10704,-1817.803 10885.1983,-1542.9505 10794.413,-1104.4332 10766.3077,-990.0308"/>
<polygon fill="#000000" stroke="#000000" points="10769.6175,-988.8391 10763.7947,-979.9878 10762.8268,-990.5383 10769.6175,-988.8391"/>
</g>
<!-- literal_143 -->
<g id="node144" class="node">
<title>literal_143</title>
<ellipse fill="none" stroke="#000000" cx="10855" cy="-962.0016" rx="31.481" ry="18"/>
<text text-anchor="middle" x="10855" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_130&#45;&gt;literal_143 -->
<g id="edge143" class="edge">
<title>prose_130&#45;&gt;literal_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10587.9562,-2148.5433C10577.2639,-2095.2909 10554.188,-1937.9998 10633,-1853.803 10689.0506,-1793.9228 10760.4639,-1879.9415 10814,-1817.803 10923.4268,-1690.7931 10871.9366,-1123.9368 10858.0703,-990.2938"/>
<polygon fill="#000000" stroke="#000000" points="10861.5218,-989.648 10856.9945,-980.0692 10854.5602,-990.3806 10861.5218,-989.648"/>
</g>
<!-- raw_144 -->
<g id="node145" class="node">
<title>raw_144</title>
<ellipse fill="none" stroke="#000000" cx="10931" cy="-962.0016" rx="27" ry="18"/>
<text text-anchor="middle" x="10931" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_130&#45;&gt;raw_144 -->
<g id="edge144" class="edge">
<title>prose_130&#45;&gt;raw_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10587.8017,-2148.6986C10576.4997,-2095.1952 10551.5137,-1935.801 10633,-1853.803 10715.8518,-1770.431 10815.9064,-1904.7485 10895,-1817.803 11007.7832,-1693.8234 10949.8621,-1124.6609 10934.4112,-990.4236"/>
<polygon fill="#000000" stroke="#000000" points="10937.8483,-989.6803 10933.2135,-980.1531 10930.8954,-990.4912 10937.8483,-989.6803"/>
</g>
<!-- raw_152 -->
<g id="node153" class="node">
<title>raw_152</title>
<ellipse fill="none" stroke="#000000" cx="11003" cy="-962.0016" rx="27" ry="18"/>
<text text-anchor="middle" x="11003" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_131&#45;&gt;raw_152 -->
<g id="edge152" class="edge">
<title>prose_131&#45;&gt;raw_152</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10669.8909,-2148.7122C10658.8483,-2095.2468 10634.5933,-1935.9478 10716,-1853.803 10795.3285,-1773.7554 10891.4108,-1901.3908 10967,-1817.803 11079.4167,-1693.491 11021.7745,-1124.5815 11006.3955,-990.4093"/>
<polygon fill="#000000" stroke="#000000" points="11009.8336,-989.6733 11005.2034,-980.1439 11002.8803,-990.4809 11009.8336,-989.6733"/>
</g>
<!-- leaf_154 -->
<g id="node155" class="node">
<title>leaf_154</title>
<polygon fill="none" stroke="#c0c0c0" points="11554,-1205.0025 11048,-1205.0025 11048,-719.0006 11554,-719.0006 11554,-1205.0025"/>
<text text-anchor="middle" x="11301" y="-1189.802" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.persist(historian, txtbuf, results)</text>
<text text-anchor="middle" x="11301" y="-1174.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local lb = tostring(txtbuf)</text>
<text text-anchor="middle" x="11301" y="-1159.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if lb ~= &quot;&quot; then</text>
<text text-anchor="middle" x="11301" y="-1143.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;historian.insert_line_stmt:bindkv { project = historian.project,</text>
<text text-anchor="middle" x="11301" y="-1128.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;line &#160;&#160;&#160;= lb }</text>
<text text-anchor="middle" x="11301" y="-1112.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local err = historian.insert_line_stmt:step()</text>
<text text-anchor="middle" x="11301" y="-1097.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not err then</text>
<text text-anchor="middle" x="11301" y="-1082.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;historian.insert_line_stmt:clearbind():reset()</text>
<text text-anchor="middle" x="11301" y="-1066.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="11301" y="-1051.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error(err)</text>
<text text-anchor="middle" x="11301" y="-1035.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11301" y="-1020.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local line_id = sql.lastRowId(historian.conn)</text>
<text text-anchor="middle" x="11301" y="-1005.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if results and type(results) == &quot;table&quot; then</text>
<text text-anchor="middle" x="11301" y="-989.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;for _,v in ipairs(results) do</text>
<text text-anchor="middle" x="11301" y="-974.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; insert result repr</text>
<text text-anchor="middle" x="11301" y="-958.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; tostring() just for compactness</text>
<text text-anchor="middle" x="11301" y="-943.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;historian.insert_result_stmt:bindkv { line_id = line_id,</text>
<text text-anchor="middle" x="11301" y="-928.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repr = color.ts(v) }</text>
<text text-anchor="middle" x="11301" y="-912.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = historian.insert_result_stmt:step()</text>
<text text-anchor="middle" x="11301" y="-897.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if not err then</text>
<text text-anchor="middle" x="11301" y="-881.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;historian.insert_result_stmt:clearbind():reset()</text>
<text text-anchor="middle" x="11301" y="-866.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11301" y="-851.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11301" y="-835.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11301" y="-804.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return true</text>
<text text-anchor="middle" x="11301" y="-788.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="11301" y="-773.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; A blank line can have no results and is uninteresting.</text>
<text text-anchor="middle" x="11301" y="-758.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="11301" y="-742.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11301" y="-727.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_132&#45;&gt;leaf_154 -->
<g id="edge154" class="edge">
<title>codeblock_132&#45;&gt;leaf_154</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10811.8871,-2148.4603C10812.5875,-2094.9796 10822.1841,-1937.1239 10908,-1853.803 10951.3207,-1811.7418 10995.692,-1859.8773 11039,-1817.803 11200.9077,-1660.5076 11263.4293,-1406.1375 11287.2245,-1215.5241"/>
<polygon fill="#000000" stroke="#000000" points="11290.7283,-1215.7047 11288.4649,-1205.3545 11283.7798,-1214.8571 11290.7283,-1215.7047"/>
</g>
<!-- leaf_135 -->
<g id="node136" class="node">
<title>leaf_135</title>
<polygon fill="none" stroke="#c0c0c0" points="9350.5,-63.0015 9075.5,-63.0015 9075.5,-7.1986 9350.5,-7.1986 9350.5,-63.0015"/>
<text text-anchor="middle" x="9213" y="-15.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Persists a line and results to store.</text>
</g>
<!-- raw_134&#45;&gt;leaf_135 -->
<g id="edge135" class="edge">
<title>raw_134&#45;&gt;leaf_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10043.2332,-943.7133C10056.5941,-830.7324 10121.3694,-228.5834 10000,-106.2001 9949.8473,-55.6284 9430.4731,-80.5117 9360,-70.2001 9349.9662,-68.7319 9339.6115,-66.9071 9329.2616,-64.8667"/>
<polygon fill="#000000" stroke="#000000" points="9329.8478,-61.4143 9319.3506,-62.849 9328.4514,-68.2736 9329.8478,-61.4143"/>
</g>
<!-- leaf_137 -->
<g id="node138" class="node">
<title>leaf_137</title>
<polygon fill="none" stroke="#c0c0c0" points="9931,-70.3004 9369,-70.3004 9369,.1003 9931,.1003 9931,-70.3004"/>
<text text-anchor="middle" x="9650" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">The hooks are in place to persist the results. I&#39;m starting with a string</text>
<text text-anchor="middle" x="9650" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">representation; the goal is to provide the sense of persistence across</text>
<text text-anchor="middle" x="9650" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">sessions, and supplement that over time with better and better approximations.</text>
</g>
<!-- raw_136&#45;&gt;leaf_137 -->
<g id="edge137" class="edge">
<title>raw_136&#45;&gt;leaf_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10126.1226,-944.2611C10158.9063,-845.7018 10303.9219,-360.7897 10077,-106.2001 10070.3268,-98.7133 9994.9571,-85.1055 9909.3489,-71.7841"/>
<polygon fill="#000000" stroke="#000000" points="9909.8264,-68.3164 9899.4087,-70.2455 9908.7556,-75.234 9909.8264,-68.3164"/>
</g>
<!-- leaf_145 -->
<g id="node146" class="node">
<title>leaf_145</title>
<polygon fill="none" stroke="#c0c0c0" points="10469,-62.4005 9949,-62.4005 9949,-7.7996 10469,-7.7996 10469,-62.4005"/>
<text text-anchor="middle" x="10209" y="-31.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">To really nail it down will require semantic analysis and hence thorough</text>
<text text-anchor="middle" x="10209" y="-15.9" font-family="Inconsolata" font-size="14.00" fill="#000000">parsing. &#160;General&#45;purpose persistence tools belong in</text>
</g>
<!-- raw_138&#45;&gt;leaf_145 -->
<g id="edge145" class="edge">
<title>raw_138&#45;&gt;leaf_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10331.5591,-943.902C10316.4169,-831.6195 10235.267,-229.8752 10214.0687,-72.6857"/>
<polygon fill="#000000" stroke="#000000" points="10217.5091,-72.0084 10212.704,-62.5659 10210.5719,-72.9439 10217.5091,-72.0084"/>
</g>
<!-- leaf_146 -->
<g id="node147" class="node">
<title>leaf_146</title>
<polygon fill="none" stroke="#c0c0c0" points="10541,-53.1 10487,-53.1 10487,-17.1 10541,-17.1 10541,-53.1"/>
<text text-anchor="middle" x="10514" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_139&#45;&gt;leaf_146 -->
<g id="edge146" class="edge">
<title>prespace_139&#45;&gt;leaf_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10496.3515,-943.902C10498.578,-829.2467 10510.7157,-204.2234 10513.4519,-63.3245"/>
<polygon fill="#000000" stroke="#000000" points="10516.9513,-63.3818 10513.6463,-53.3157 10509.9527,-63.2458 10516.9513,-63.3818"/>
</g>
<!-- leaf_147 -->
<g id="node148" class="node">
<title>leaf_147</title>
<polygon fill="none" stroke="#c0c0c0" points="10624.5,-53.1 10559.5,-53.1 10559.5,-17.1 10624.5,-17.1 10624.5,-53.1"/>
<text text-anchor="middle" x="10592" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">sqlayer</text>
</g>
<!-- literal_140&#45;&gt;leaf_147 -->
<g id="edge147" class="edge">
<title>literal_140&#45;&gt;leaf_147</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10592,-943.902C10592,-829.2467 10592,-204.2234 10592,-63.3245"/>
<polygon fill="#000000" stroke="#000000" points="10595.5001,-63.3157 10592,-53.3157 10588.5001,-63.3157 10595.5001,-63.3157"/>
</g>
<!-- leaf_148 -->
<g id="node149" class="node">
<title>leaf_148</title>
<polygon fill="none" stroke="#c0c0c0" points="10911,-54.4006 10643,-54.4006 10643,-15.7995 10911,-15.7995 10911,-54.4006"/>
<text text-anchor="middle" x="10777" y="-39.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">, which will</text>
<text text-anchor="middle" x="10777" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">merge with our increasingly&#45;modified</text>
</g>
<!-- raw_141&#45;&gt;leaf_148 -->
<g id="edge148" class="edge">
<title>raw_141&#45;&gt;leaf_148</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10666.977,-943.9526C10661.0582,-834.8766 10633.8392,-263.1781 10704,-106.2001 10711.8449,-88.6478 10726.1841,-73.1852 10740.0903,-61.201"/>
<polygon fill="#000000" stroke="#000000" points="10742.6713,-63.6102 10748.1756,-54.5573 10738.2273,-58.2018 10742.6713,-63.6102"/>
</g>
<!-- leaf_149 -->
<g id="node150" class="node">
<title>leaf_149</title>
<polygon fill="none" stroke="#c0c0c0" points="10983,-53.1 10929,-53.1 10929,-17.1 10983,-17.1 10983,-53.1"/>
<text text-anchor="middle" x="10956" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_142&#45;&gt;leaf_149 -->
<g id="edge149" class="edge">
<title>prespace_142&#45;&gt;leaf_149</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10757.5636,-943.7483C10749.1654,-832.2369 10710.2987,-243.0961 10815,-106.2001 10844.9704,-67.014 10877.9813,-96.0499 10920,-70.2001 10924.5306,-67.4129 10928.9441,-63.9638 10933.0395,-60.3258"/>
<polygon fill="#000000" stroke="#000000" points="10935.661,-62.6618 10940.4704,-53.2215 10930.8236,-57.6021 10935.661,-62.6618"/>
</g>
<!-- leaf_150 -->
<g id="node151" class="node">
<title>leaf_150</title>
<polygon fill="none" stroke="#c0c0c0" points="11059,-53.1 11001,-53.1 11001,-17.1 11059,-17.1 11059,-53.1"/>
<text text-anchor="middle" x="11030" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">sqlite</text>
</g>
<!-- literal_143&#45;&gt;leaf_150 -->
<g id="edge150" class="edge">
<title>literal_143&#45;&gt;leaf_150</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10853.2379,-943.8063C10842.8472,-832.6409 10793.422,-245.2065 10895,-106.2001 10922.131,-69.0722 10952.8107,-94.2576 10992,-70.2001 10996.5708,-67.3942 11001.0769,-63.9873 11005.2999,-60.4126"/>
<polygon fill="#000000" stroke="#000000" points="11007.9389,-62.7453 11013.0142,-53.4451 11003.247,-57.5504 11007.9389,-62.7453"/>
</g>
<!-- leaf_151 -->
<g id="node152" class="node">
<title>leaf_151</title>
<polygon fill="none" stroke="#c0c0c0" points="11163,-53.1 11077,-53.1 11077,-17.1 11163,-17.1 11163,-53.1"/>
<text text-anchor="middle" x="11120" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> bindings.</text>
</g>
<!-- raw_144&#45;&gt;leaf_151 -->
<g id="edge151" class="edge">
<title>raw_144&#45;&gt;leaf_151</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10929.1197,-943.7939C10918.0118,-832.5543 10864.8661,-244.7542 10967,-106.2001 10995.2764,-67.8405 11025.4707,-91.7006 11068,-70.2001 11074.5491,-66.8892 11081.2528,-62.8899 11087.5761,-58.7937"/>
<polygon fill="#000000" stroke="#000000" points="11089.5563,-61.68 11095.9127,-53.2037 11085.6578,-55.866 11089.5563,-61.68"/>
</g>
<!-- leaf_153 -->
<g id="node154" class="node">
<title>leaf_153</title>
<polygon fill="none" stroke="#c0c0c0" points="11715,-62.4005 11181,-62.4005 11181,-7.7996 11715,-7.7996 11715,-62.4005"/>
<text text-anchor="middle" x="11448" y="-31.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">Medium&#45;term goal is to hash any Lua object in a way that will resolve to a</text>
<text text-anchor="middle" x="11448" y="-15.9" font-family="Inconsolata" font-size="14.00" fill="#000000">common value for any identical semantics.</text>
</g>
<!-- raw_152&#45;&gt;leaf_153 -->
<g id="edge153" class="edge">
<title>raw_152&#45;&gt;leaf_153</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11000.848,-943.905C10987.9624,-832.082 10925.3313,-235.707 11039,-106.2001 11046.6349,-97.5014 11149.6121,-79.6272 11250.3149,-63.9775"/>
<polygon fill="#000000" stroke="#000000" points="11251.0171,-67.4106 11260.3639,-62.4219 11249.9462,-60.493 11251.0171,-67.4106"/>
</g>
<!-- leaf_158 -->
<g id="node159" class="node">
<title>leaf_158</title>
<polygon fill="none" stroke="#c0c0c0" points="11108.5,-2184.7036 10917.5,-2184.7036 10917.5,-2148.7036 11108.5,-2148.7036 11108.5,-2184.7036"/>
<text text-anchor="middle" x="11013" y="-2163.2036" font-family="Inconsolata" font-size="14.00" fill="#000000">** Historian:search(frag)</text>
</g>
<!-- header_155&#45;&gt;leaf_158 -->
<g id="edge158" class="edge">
<title>header_155&#45;&gt;leaf_158</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11008.2181,-2563.1272C11009.0043,-2497.9442 11011.698,-2274.6414 11012.6573,-2195.1122"/>
<polygon fill="#000000" stroke="#000000" points="11016.1598,-2194.9174 11012.7808,-2184.8759 11009.1603,-2194.8329 11016.1598,-2194.9174"/>
</g>
<!-- raw_159 -->
<g id="node160" class="node">
<title>raw_159</title>
<ellipse fill="none" stroke="#000000" cx="11162" cy="-2166.7036" rx="27" ry="18"/>
<text text-anchor="middle" x="11162" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_156&#45;&gt;raw_159 -->
<g id="edge159" class="edge">
<title>prose_156&#45;&gt;raw_159</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11165.8256,-2563.1272C11165.1965,-2497.9442 11163.0416,-2274.6414 11162.2741,-2195.1122"/>
<polygon fill="#000000" stroke="#000000" points="11165.7718,-2194.8416 11162.1754,-2184.8759 11158.7721,-2194.9092 11165.7718,-2194.8416"/>
</g>
<!-- leaf_161 -->
<g id="node162" class="node">
<title>leaf_161</title>
<polygon fill="none" stroke="#c0c0c0" points="11762.5,-2479.5048 11207.5,-2479.5048 11207.5,-1853.9024 11762.5,-1853.9024 11762.5,-2479.5048"/>
<text text-anchor="middle" x="11485" y="-2464.4042" font-family="Inconsolata" font-size="14.00" fill="#000000">local P, match = L.P, L.match</text>
<text text-anchor="middle" x="11485" y="-2433.0042" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; second_best is broke and I don&#39;t know why</text>
<text text-anchor="middle" x="11485" y="-2417.6041" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; also this fails on a single key search &gt;.&lt;</text>
<text text-anchor="middle" x="11485" y="-2402.2041" font-family="Inconsolata" font-size="14.00" fill="#000000">local function fuzz_patt(frag)</text>
<text text-anchor="middle" x="11485" y="-2386.8041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;frag = type(frag) == &quot;string&quot; and codepoints(frag) or frag</text>
<text text-anchor="middle" x="11485" y="-2371.404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local patt = &#160;&#160;&#160;&#160;&#160;&#160;&#160;(P(1) &#45; P(frag[1]))^0</text>
<text text-anchor="middle" x="11485" y="-2356.004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i = 1 , #frag &#45; 1 do</text>
<text text-anchor="middle" x="11485" y="-2340.604" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local v = frag[i]</text>
<text text-anchor="middle" x="11485" y="-2325.2039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;patt = patt * (P(v) * (P(1) &#45; P(frag[i + 1]))^0)</text>
<text text-anchor="middle" x="11485" y="-2309.8039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11485" y="-2294.4039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;patt = patt * P(frag[#frag])</text>
<text text-anchor="middle" x="11485" y="-2279.0038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return patt</text>
<text text-anchor="middle" x="11485" y="-2263.6038" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="11485" y="-2232.2038" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.search(historian, frag)</text>
<text text-anchor="middle" x="11485" y="-2216.8037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local collection = {}</text>
<text text-anchor="middle" x="11485" y="-2201.4037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local best = true</text>
<text text-anchor="middle" x="11485" y="-2186.0037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local patt = fuzz_patt(frag)</text>
<text text-anchor="middle" x="11485" y="-2170.6037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i = #historian, 1, &#45;1 do</text>
<text text-anchor="middle" x="11485" y="-2155.2036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local score = match(patt, tostring(historian[i]))</text>
<text text-anchor="middle" x="11485" y="-2139.8036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if score then</text>
<text text-anchor="middle" x="11485" y="-2124.4036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;collection[#collection + 1] = tostring(historian[i])</text>
<text text-anchor="middle" x="11485" y="-2109.0035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11485" y="-2093.6035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11485" y="-2078.2035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if #collection == 0 then</text>
<text text-anchor="middle" x="11485" y="-2062.8034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; try the transpose</text>
<text text-anchor="middle" x="11485" y="-2047.4034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;best = false</text>
<text text-anchor="middle" x="11485" y="-2032.0034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local slip = sub(frag, 1, &#45;3) .. sub(frag, &#45;1, &#45;1) .. sub(frag, &#45;2, &#45;2)</text>
<text text-anchor="middle" x="11485" y="-2016.6033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local second = fuzz_patt(slip)</text>
<text text-anchor="middle" x="11485" y="-2001.2033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;for i = #historian, 1, &#45;1 do</text>
<text text-anchor="middle" x="11485" y="-1985.8033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local score = match(second, tostring(historian[i]))</text>
<text text-anchor="middle" x="11485" y="-1970.4032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if score then</text>
<text text-anchor="middle" x="11485" y="-1955.0032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;collection[#collection + 1] = tostring(historian[i])</text>
<text text-anchor="middle" x="11485" y="-1939.6032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11485" y="-1924.2032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11485" y="-1908.8031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11485" y="-1877.4031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return collection, best</text>
<text text-anchor="middle" x="11485" y="-1862.0031" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_157&#45;&gt;leaf_161 -->
<g id="edge161" class="edge">
<title>codeblock_157&#45;&gt;leaf_161</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11397.0123,-2563.1272C11400.6167,-2546.8879 11406.3993,-2520.8345 11413.3241,-2489.6351"/>
<polygon fill="#000000" stroke="#000000" points="11416.7587,-2490.3134 11415.5087,-2479.7926 11409.925,-2488.7966 11416.7587,-2490.3134"/>
</g>
<!-- leaf_160 -->
<g id="node161" class="node">
<title>leaf_160</title>
<polygon fill="none" stroke="#c0c0c0" points="11626,-980.0016 11572,-980.0016 11572,-944.0016 11626,-944.0016 11626,-980.0016"/>
</g>
<!-- raw_159&#45;&gt;leaf_160 -->
<g id="edge160" class="edge">
<title>raw_159&#45;&gt;leaf_160</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11157.3222,-2148.5986C11144.63,-2094.816 11115.756,-1934.7224 11198,-1853.803 11256.0985,-1796.6403 11507.0116,-1877.034 11563,-1817.803 11790.3048,-1577.3337 11649.6621,-1108.333 11608.9803,-989.7547"/>
<polygon fill="#000000" stroke="#000000" points="11612.2806,-988.589 11605.6896,-980.2939 11605.6692,-990.8887 11612.2806,-988.589"/>
</g>
<!-- leaf_167 -->
<g id="node168" class="node">
<title>leaf_167</title>
<polygon fill="none" stroke="#c0c0c0" points="11929.5,-2184.7036 11780.5,-2184.7036 11780.5,-2148.7036 11929.5,-2148.7036 11929.5,-2184.7036"/>
<text text-anchor="middle" x="11855" y="-2163.2036" font-family="Inconsolata" font-size="14.00" fill="#000000">** Historian:prev()</text>
</g>
<!-- header_162&#45;&gt;leaf_167 -->
<g id="edge167" class="edge">
<title>header_162&#45;&gt;leaf_167</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11864.5639,-2563.1272C11862.9913,-2497.9442 11857.604,-2274.6414 11855.6854,-2195.1122"/>
<polygon fill="#000000" stroke="#000000" points="11859.1787,-2194.7885 11855.4384,-2184.8759 11852.1807,-2194.9574 11859.1787,-2194.7885"/>
</g>
<!-- raw_168 -->
<g id="node169" class="node">
<title>raw_168</title>
<ellipse fill="none" stroke="#000000" cx="11975" cy="-2166.7036" rx="27" ry="18"/>
<text text-anchor="middle" x="11975" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_163&#45;&gt;raw_168 -->
<g id="edge168" class="edge">
<title>prose_163&#45;&gt;raw_168</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12033.9694,-2563.4352C12027.3694,-2543.3231 12016.9388,-2509.4694 12011,-2479.6042 11990.3535,-2375.7774 11980.3463,-2250.0429 11976.6942,-2194.9112"/>
<polygon fill="#000000" stroke="#000000" points="11980.182,-2194.6083 11976.0472,-2184.8536 11973.1965,-2195.0577 11980.182,-2194.6083"/>
</g>
<!-- leaf_170 -->
<g id="node171" class="node">
<title>leaf_170</title>
<polygon fill="none" stroke="#c0c0c0" points="12400,-2268.0839 12020,-2268.0839 12020,-2065.3233 12400,-2065.3233 12400,-2268.0839"/>
<text text-anchor="middle" x="12210" y="-2252.9437" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.prev(historian)</text>
<text text-anchor="middle" x="12210" y="-2237.5437" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if historian.cursor == 0 then</text>
<text text-anchor="middle" x="12210" y="-2222.1437" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return Txtbuf()</text>
<text text-anchor="middle" x="12210" y="-2206.7437" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="12210" y="-2191.3436" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local Δ = historian.cursor &gt; 1 and 1 or 0</text>
<text text-anchor="middle" x="12210" y="-2172.5836" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local txtbuf = historian[historian.cursor &#45; Δ]</text>
<text text-anchor="middle" x="12210" y="-2153.8236" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cur_row = 1</text>
<text text-anchor="middle" x="12210" y="-2138.4236" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local result = historian.results[txtbuf]</text>
<text text-anchor="middle" x="12210" y="-2123.0236" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.cursor = historian.cursor &#45; Δ</text>
<text text-anchor="middle" x="12210" y="-2104.2636" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cursor = #txtbuf.lines[txtbuf.cur_row] + 1</text>
<text text-anchor="middle" x="12210" y="-2088.8635" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return txtbuf:clone(), result</text>
<text text-anchor="middle" x="12210" y="-2073.4635" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_164&#45;&gt;leaf_170 -->
<g id="edge170" class="edge">
<title>codeblock_164&#45;&gt;leaf_170</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12189.9158,-2563.1272C12192.3811,-2514.4687 12199.3103,-2377.698 12204.3412,-2278.3973"/>
<polygon fill="#000000" stroke="#000000" points="12207.842,-2278.4683 12204.8526,-2268.304 12200.851,-2278.114 12207.842,-2278.4683"/>
</g>
<!-- header_171 -->
<g id="node172" class="node">
<title>header_171</title>
<ellipse fill="none" stroke="#000000" cx="12500" cy="-2166.7036" rx="82.2061" ry="18"/>
<text text-anchor="middle" x="12500" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Historian:next()</text>
</g>
<!-- section_165&#45;&gt;header_171 -->
<g id="edge171" class="edge">
<title>section_165&#45;&gt;header_171</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12625.0498,-2563.054C12616.3629,-2542.8849 12602.3112,-2509.2466 12592,-2479.6042 12555.9109,-2375.8559 12521.6864,-2249.6617 12507.2251,-2194.6194"/>
<polygon fill="#000000" stroke="#000000" points="12510.5966,-2193.6777 12504.6801,-2184.8888 12503.8244,-2195.449 12510.5966,-2193.6777"/>
</g>
<!-- prose_172 -->
<g id="node173" class="node">
<title>prose_172</title>
<ellipse fill="none" stroke="#000000" cx="12633" cy="-2166.7036" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="12633" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_165&#45;&gt;prose_172 -->
<g id="edge172" class="edge">
<title>section_165&#45;&gt;prose_172</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12633,-2563.1272C12633,-2497.9442 12633,-2274.6414 12633,-2195.1122"/>
<polygon fill="#000000" stroke="#000000" points="12636.5001,-2194.8758 12633,-2184.8759 12629.5001,-2194.8759 12636.5001,-2194.8758"/>
</g>
<!-- prose_173 -->
<g id="node174" class="node">
<title>prose_173</title>
<ellipse fill="none" stroke="#000000" cx="12748" cy="-2166.7036" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="12748" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_165&#45;&gt;prose_173 -->
<g id="edge173" class="edge">
<title>section_165&#45;&gt;prose_173</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12641.2535,-2563.155C12650.2059,-2543.0742 12664.4888,-2509.5129 12674,-2479.6042 12706.7499,-2376.6192 12732.2861,-2250.4533 12742.79,-2195.0612"/>
<polygon fill="#000000" stroke="#000000" points="12746.2822,-2195.4285 12744.6881,-2184.9543 12739.4024,-2194.1365 12746.2822,-2195.4285"/>
</g>
<!-- codeblock_174 -->
<g id="node175" class="node">
<title>codeblock_174</title>
<ellipse fill="none" stroke="#000000" cx="12936" cy="-2166.7036" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="12936" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 355&#45;379</text>
</g>
<!-- section_165&#45;&gt;codeblock_174 -->
<g id="edge174" class="edge">
<title>section_165&#45;&gt;codeblock_174</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12668.6838,-2565.1918C12703.2495,-2548.1689 12755.2551,-2518.3628 12789,-2479.6042 12866.7038,-2390.3556 12911.9117,-2252.9811 12928.5878,-2194.5486"/>
<polygon fill="#000000" stroke="#000000" points="12931.9622,-2195.4779 12931.2839,-2184.9048 12925.2207,-2193.5931 12931.9622,-2195.4779"/>
</g>
<!-- header_187 -->
<g id="node188" class="node">
<title>header_187</title>
<ellipse fill="none" stroke="#000000" cx="13339" cy="-2166.7036" rx="95.2951" ry="18"/>
<text text-anchor="middle" x="13339" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Historian:append()</text>
</g>
<!-- section_166&#45;&gt;header_187 -->
<g id="edge187" class="edge">
<title>section_166&#45;&gt;header_187</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13537.6482,-2564.4808C13509.8312,-2546.7111 13468.0457,-2516.1633 13443,-2479.6042 13379.6279,-2387.1004 13352.3472,-2252.9689 13343.0284,-2195.0672"/>
<polygon fill="#000000" stroke="#000000" points="13346.4358,-2194.1995 13341.4456,-2184.8535 13339.5184,-2195.2716 13346.4358,-2194.1995"/>
</g>
<!-- prose_188 -->
<g id="node189" class="node">
<title>prose_188</title>
<ellipse fill="none" stroke="#000000" cx="13484" cy="-2166.7036" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="13484" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_166&#45;&gt;prose_188 -->
<g id="edge188" class="edge">
<title>section_166&#45;&gt;prose_188</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13557.1642,-2563.3239C13547.702,-2543.3911 13532.975,-2509.9587 13525,-2479.6042 13498.0483,-2377.0207 13488.4127,-2250.649 13485.3166,-2195.1328"/>
<polygon fill="#000000" stroke="#000000" points="13488.8042,-2194.8037 13484.7814,-2185.0023 13481.8139,-2195.1731 13488.8042,-2194.8037"/>
</g>
<!-- prose_189 -->
<g id="node190" class="node">
<title>prose_189</title>
<ellipse fill="none" stroke="#000000" cx="13566" cy="-2166.7036" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="13566" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_166&#45;&gt;prose_189 -->
<g id="edge189" class="edge">
<title>section_166&#45;&gt;prose_189</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13566,-2563.1272C13566,-2497.9442 13566,-2274.6414 13566,-2195.1122"/>
<polygon fill="#000000" stroke="#000000" points="13569.5001,-2194.8758 13566,-2184.8759 13562.5001,-2194.8759 13569.5001,-2194.8758"/>
</g>
<!-- codeblock_190 -->
<g id="node191" class="node">
<title>codeblock_190</title>
<ellipse fill="none" stroke="#000000" cx="13761" cy="-2166.7036" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="13761" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 388&#45;402</text>
</g>
<!-- section_166&#45;&gt;codeblock_190 -->
<g id="edge190" class="edge">
<title>section_166&#45;&gt;codeblock_190</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13574.5043,-2563.1272C13605.2948,-2497.6776 13711.0817,-2272.8122 13748.091,-2194.1436"/>
<polygon fill="#000000" stroke="#000000" points="13751.361,-2195.4145 13752.4509,-2184.8759 13745.0269,-2192.4346 13751.361,-2195.4145"/>
</g>
<!-- codeblock_191 -->
<g id="node192" class="node">
<title>codeblock_191</title>
<ellipse fill="none" stroke="#000000" cx="14074" cy="-2166.7036" rx="86.7905" ry="18"/>
<text text-anchor="middle" x="14074" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 404&#45;411</text>
</g>
<!-- section_166&#45;&gt;codeblock_191 -->
<g id="edge191" class="edge">
<title>section_166&#45;&gt;codeblock_191</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13628.7346,-2571.0411C13691.611,-2558.3288 13788.6366,-2531.5931 13857,-2479.6042 13961.9253,-2399.8106 14035.0492,-2254.486 14062.2549,-2194.1252"/>
<polygon fill="#000000" stroke="#000000" points="14065.5093,-2195.4202 14066.3691,-2184.8603 14059.1118,-2192.5792 14065.5093,-2195.4202"/>
</g>
<!-- codeblock_192 -->
<g id="node193" class="node">
<title>codeblock_192</title>
<ellipse fill="none" stroke="#000000" cx="14328" cy="-2166.7036" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="14328" y="-2162.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 413&#45;415</text>
</g>
<!-- section_166&#45;&gt;codeblock_192 -->
<g id="edge192" class="edge">
<title>section_166&#45;&gt;codeblock_192</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13639.6857,-2577.032C13781.7347,-2567.6869 14086.7962,-2540.8989 14170,-2479.6042 14267.9595,-2407.4391 14309.2796,-2257.142 14322.68,-2194.7704"/>
<polygon fill="#000000" stroke="#000000" points="14326.1316,-2195.3624 14324.7309,-2184.8605 14319.2768,-2193.9437 14326.1316,-2195.3624"/>
</g>
<!-- leaf_169 -->
<g id="node170" class="node">
<title>leaf_169</title>
<polygon fill="none" stroke="#c0c0c0" points="12002,-980.0016 11948,-980.0016 11948,-944.0016 12002,-944.0016 12002,-980.0016"/>
</g>
<!-- raw_168&#45;&gt;leaf_169 -->
<g id="edge169" class="edge">
<title>raw_168&#45;&gt;leaf_169</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11975,-2148.2627C11975,-2011.6756 11975,-1157.8957 11975,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="11978.5001,-990.0329 11975,-980.0329 11971.5001,-990.0329 11978.5001,-990.0329"/>
</g>
<!-- leaf_175 -->
<g id="node176" class="node">
<title>leaf_175</title>
<polygon fill="none" stroke="#c0c0c0" points="12384,-980.0016 12228,-980.0016 12228,-944.0016 12384,-944.0016 12384,-980.0016"/>
<text text-anchor="middle" x="12306" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Historian:next()</text>
</g>
<!-- header_171&#45;&gt;leaf_175 -->
<g id="edge175" class="edge">
<title>header_171&#45;&gt;leaf_175</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12495.6097,-2148.4379C12483.7288,-2099.8274 12449.1272,-1963.5201 12409,-1853.803 12402.9859,-1837.3592 12397.4973,-1834.7247 12393,-1817.803 12308.9078,-1501.3969 12305.0398,-1099.3244 12305.6641,-990.3259"/>
<polygon fill="#000000" stroke="#000000" points="12309.1652,-990.1744 12305.7412,-980.1481 12302.1654,-990.1212 12309.1652,-990.1744"/>
</g>
<!-- raw_176 -->
<g id="node177" class="node">
<title>raw_176</title>
<ellipse fill="none" stroke="#000000" cx="12429" cy="-962.0016" rx="27" ry="18"/>
<text text-anchor="middle" x="12429" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_172&#45;&gt;raw_176 -->
<g id="edge176" class="edge">
<title>prose_172&#45;&gt;raw_176</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12636.7115,-2148.4593C12646.318,-2095.647 12666.2854,-1940.8688 12591,-1853.803 12552.9059,-1809.7481 12501.042,-1863.5521 12465,-1817.803 12361.3915,-1686.2899 12412.1937,-1124.0416 12425.9326,-990.5259"/>
<polygon fill="#000000" stroke="#000000" points="12429.4427,-990.6103 12426.9992,-980.3011 12422.4805,-989.884 12429.4427,-990.6103"/>
</g>
<!-- prespace_177 -->
<g id="node178" class="node">
<title>prespace_177</title>
<ellipse fill="none" stroke="#000000" cx="12520" cy="-962.0016" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="12520" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_172&#45;&gt;prespace_177 -->
<g id="edge177" class="edge">
<title>prose_172&#45;&gt;prespace_177</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12632.2104,-2148.3865C12629.7543,-2099.6501 12620.5466,-1963.0615 12591,-1853.803 12586.4751,-1837.0707 12579.9527,-1834.6796 12576,-1817.803 12501.5651,-1499.9954 12513.5471,-1098.9218 12518.5264,-990.2391"/>
<polygon fill="#000000" stroke="#000000" points="12522.0299,-990.2469 12519.0108,-980.0913 12515.0379,-989.913 12522.0299,-990.2469"/>
</g>
<!-- literal_178 -->
<g id="node179" class="node">
<title>literal_178</title>
<ellipse fill="none" stroke="#000000" cx="12616" cy="-962.0016" rx="31.481" ry="18"/>
<text text-anchor="middle" x="12616" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_172&#45;&gt;literal_178 -->
<g id="edge178" class="edge">
<title>prose_172&#45;&gt;literal_178</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12632.7398,-2148.2627C12630.8123,-2011.6756 12618.7643,-1157.8957 12616.4017,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="12619.8953,-989.9825 12616.2544,-980.0329 12612.896,-990.0813 12619.8953,-989.9825"/>
</g>
<!-- raw_179 -->
<g id="node180" class="node">
<title>raw_179</title>
<ellipse fill="none" stroke="#000000" cx="12692" cy="-962.0016" rx="27" ry="18"/>
<text text-anchor="middle" x="12692" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_172&#45;&gt;raw_179 -->
<g id="edge179" class="edge">
<title>prose_172&#45;&gt;raw_179</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12634.3495,-2148.5517C12638.1587,-2096.8702 12649.1606,-1944.4909 12656,-1817.803 12673.5544,-1492.6364 12687.418,-1097.5763 12691.0605,-990.116"/>
<polygon fill="#000000" stroke="#000000" points="12694.56,-990.1889 12691.3994,-980.0764 12687.5639,-989.9527 12694.56,-990.1889"/>
</g>
<!-- raw_184 -->
<g id="node185" class="node">
<title>raw_184</title>
<ellipse fill="none" stroke="#000000" cx="12764" cy="-962.0016" rx="27" ry="18"/>
<text text-anchor="middle" x="12764" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_173&#45;&gt;raw_184 -->
<g id="edge184" class="edge">
<title>prose_173&#45;&gt;raw_184</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12748.2449,-2148.2627C12750.059,-2011.6756 12761.3983,-1157.8957 12763.6219,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="12767.1273,-990.0785 12763.7605,-980.0329 12760.1279,-989.9855 12767.1273,-990.0785"/>
</g>
<!-- leaf_186 -->
<g id="node187" class="node">
<title>leaf_186</title>
<polygon fill="none" stroke="#c0c0c0" points="13197.4016,-1149.6423 12808.5984,-1149.6423 12808.5984,-774.3608 13197.4016,-774.3608 13197.4016,-1149.6423"/>
<text text-anchor="middle" x="13003" y="-1134.6219" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.next(historian)</text>
<text text-anchor="middle" x="13003" y="-1119.2218" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local Δ = historian.cursor &lt; #historian and 1 or 0</text>
<text text-anchor="middle" x="13003" y="-1100.4618" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if historian.cursor == 0 then</text>
<text text-anchor="middle" x="13003" y="-1085.0618" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return Txtbuf()</text>
<text text-anchor="middle" x="13003" y="-1069.6618" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="13003" y="-1054.2617" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local txtbuf = historian[historian.cursor + Δ]</text>
<text text-anchor="middle" x="13003" y="-1035.5017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not txtbuf then</text>
<text text-anchor="middle" x="13003" y="-1020.1017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return Txtbuf()</text>
<text text-anchor="middle" x="13003" y="-1004.7017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="13003" y="-989.3016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cur_row = #txtbuf.lines</text>
<text text-anchor="middle" x="13003" y="-973.9016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local result = historian.results[txtbuf]</text>
<text text-anchor="middle" x="13003" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not txtbuf then</text>
<text text-anchor="middle" x="13003" y="-943.1015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return Txtbuf()</text>
<text text-anchor="middle" x="13003" y="-927.7015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="13003" y="-912.3015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.cursor = historian.cursor + Δ</text>
<text text-anchor="middle" x="13003" y="-893.5415" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cursor = #txtbuf.lines[txtbuf.cur_row] + 1</text>
<text text-anchor="middle" x="13003" y="-878.1414" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not (Δ &gt; 0) and #txtbuf.lines &gt; 0 then</text>
<text text-anchor="middle" x="13003" y="-859.3814" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;historian.cursor = #historian + 1</text>
<text text-anchor="middle" x="13003" y="-843.9814" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return txtbuf:clone(), nil, true</text>
<text text-anchor="middle" x="13003" y="-828.5814" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="13003" y="-813.1814" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return txtbuf:clone(), result, false</text>
<text text-anchor="middle" x="13003" y="-797.7813" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="13003" y="-782.3813" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_174&#45;&gt;leaf_186 -->
<g id="edge186" class="edge">
<title>codeblock_174&#45;&gt;leaf_186</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12937.0256,-2148.2627C12943.1159,-2038.7548 12974.8453,-1468.2402 12991.9858,-1160.0445"/>
<polygon fill="#000000" stroke="#000000" points="12995.5033,-1159.8246 12992.5641,-1149.6456 12988.5141,-1159.4358 12995.5033,-1159.8246"/>
</g>
<!-- leaf_180 -->
<g id="node181" class="node">
<title>leaf_180</title>
<polygon fill="none" stroke="#c0c0c0" points="12441.5,-63.0015 11970.5,-63.0015 11970.5,-7.1986 12441.5,-7.1986 12441.5,-63.0015"/>
<text text-anchor="middle" x="12206" y="-15.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Returns the next txtbuf in history, and a second flag to tell the</text>
</g>
<!-- raw_176&#45;&gt;leaf_180 -->
<g id="edge180" class="edge">
<title>raw_176&#45;&gt;leaf_180</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12430.8403,-943.823C12441.7095,-832.7575 12493.6779,-245.8158 12393,-106.2001 12382.7405,-91.9727 12351.467,-77.9041 12317.3585,-66.0837"/>
<polygon fill="#000000" stroke="#000000" points="12318.2724,-62.6981 12307.6781,-62.8111 12316.0305,-69.3294 12318.2724,-62.6981"/>
</g>
<!-- leaf_181 -->
<g id="node182" class="node">
<title>leaf_181</title>
<polygon fill="none" stroke="#c0c0c0" points="12514,-53.1 12460,-53.1 12460,-17.1 12514,-17.1 12514,-53.1"/>
</g>
<!-- prespace_177&#45;&gt;leaf_181 -->
<g id="edge181" class="edge">
<title>prespace_177&#45;&gt;leaf_181</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12519.3556,-943.902C12515.2736,-829.2467 12493.0212,-204.2234 12488.0049,-63.3245"/>
<polygon fill="#000000" stroke="#000000" points="12491.5022,-63.1848 12487.6485,-53.3157 12484.5066,-63.4339 12491.5022,-63.1848"/>
</g>
<!-- leaf_182 -->
<g id="node183" class="node">
<title>leaf_182</title>
<polygon fill="none" stroke="#c0c0c0" points="12632,-53.1 12532,-53.1 12532,-17.1 12632,-17.1 12632,-53.1"/>
<text text-anchor="middle" x="12582" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">modeselektor</text>
</g>
<!-- literal_178&#45;&gt;leaf_182 -->
<g id="edge182" class="edge">
<title>literal_178&#45;&gt;leaf_182</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12615.3361,-943.902C12611.1304,-829.2467 12588.2037,-204.2234 12583.0353,-63.3245"/>
<polygon fill="#000000" stroke="#000000" points="12586.5325,-63.1806 12582.6682,-53.3157 12579.5372,-63.4373 12586.5325,-63.1806"/>
</g>
<!-- leaf_183 -->
<g id="node184" class="node">
<title>leaf_183</title>
<polygon fill="none" stroke="#c0c0c0" points="12890,-53.1 12650,-53.1 12650,-17.1 12890,-17.1 12890,-53.1"/>
<text text-anchor="middle" x="12770" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> it might be time for a new one.</text>
</g>
<!-- raw_179&#45;&gt;leaf_183 -->
<g id="edge183" class="edge">
<title>raw_179&#45;&gt;leaf_183</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12689.5925,-944.0043C12677.9857,-852.4257 12632.1827,-429.8831 12728,-106.2001 12732.6951,-90.3396 12741.689,-74.3337 12750.1533,-61.535"/>
<polygon fill="#000000" stroke="#000000" points="12753.084,-63.4501 12755.8693,-53.2279 12747.3173,-59.4821 12753.084,-63.4501"/>
</g>
<!-- leaf_185 -->
<g id="node186" class="node">
<title>leaf_185</title>
<polygon fill="none" stroke="#c0c0c0" points="13295.5,-55.0021 12908.5,-55.0021 12908.5,-15.198 13295.5,-15.198 13295.5,-55.0021"/>
<text text-anchor="middle" x="13102" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;d like to stop buffering blank lines at some point.</text>
</g>
<!-- raw_184&#45;&gt;leaf_185 -->
<g id="edge185" class="edge">
<title>raw_184&#45;&gt;leaf_185</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12761.9523,-943.9939C12749.6967,-832.7076 12690.2074,-239.0089 12800,-106.2001 12812.013,-91.6687 12901.2206,-71.7648 12979.5908,-56.7116"/>
<polygon fill="#000000" stroke="#000000" points="12980.4123,-60.1182 12989.5801,-54.8076 12979.1016,-53.2419 12980.4123,-60.1182"/>
</g>
<!-- leaf_193 -->
<g id="node194" class="node">
<title>leaf_193</title>
<polygon fill="none" stroke="#c0c0c0" points="13424,-980.0016 13254,-980.0016 13254,-944.0016 13424,-944.0016 13424,-980.0016"/>
<text text-anchor="middle" x="13339" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Historian:append()</text>
</g>
<!-- header_187&#45;&gt;leaf_193 -->
<g id="edge193" class="edge">
<title>header_187&#45;&gt;leaf_193</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13339,-2148.2627C13339,-2011.6756 13339,-1157.8957 13339,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="13342.5001,-990.0329 13339,-980.0329 13335.5001,-990.0329 13342.5001,-990.0329"/>
</g>
<!-- raw_194 -->
<g id="node195" class="node">
<title>raw_194</title>
<ellipse fill="none" stroke="#000000" cx="13476" cy="-962.0016" rx="27" ry="18"/>
<text text-anchor="middle" x="13476" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_188&#45;&gt;raw_194 -->
<g id="edge194" class="edge">
<title>prose_188&#45;&gt;raw_194</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13483.8775,-2148.2627C13482.9705,-2011.6756 13477.3009,-1157.8957 13476.189,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="13479.6862,-990.0094 13476.1197,-980.0329 13472.6863,-990.0559 13479.6862,-990.0094"/>
</g>
<!-- raw_196 -->
<g id="node197" class="node">
<title>raw_196</title>
<ellipse fill="none" stroke="#000000" cx="13548" cy="-962.0016" rx="27" ry="18"/>
<text text-anchor="middle" x="13548" y="-957.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_189&#45;&gt;raw_196 -->
<g id="edge196" class="edge">
<title>prose_189&#45;&gt;raw_196</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13565.7245,-2148.2627C13563.6837,-2011.6756 13550.9269,-1157.8957 13548.4254,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="13551.9185,-989.9795 13548.2694,-980.0329 13544.9193,-990.0841 13551.9185,-989.9795"/>
</g>
<!-- leaf_198 -->
<g id="node199" class="node">
<title>leaf_198</title>
<polygon fill="none" stroke="#c0c0c0" points="14043,-1066.2021 13593,-1066.2021 13593,-857.8011 14043,-857.8011 14043,-1066.2021"/>
<text text-anchor="middle" x="13818" y="-1050.9018" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.append(historian, txtbuf, results, success)</text>
<text text-anchor="middle" x="13818" y="-1035.5017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if tostring(historian[#historian]) == tostring(txtbuf) then</text>
<text text-anchor="middle" x="13818" y="-1020.1017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; don&#39;t bother</text>
<text text-anchor="middle" x="13818" y="-1004.7017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="13818" y="-989.3016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="13818" y="-973.9016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian[#historian + 1] = txtbuf</text>
<text text-anchor="middle" x="13818" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if success then</text>
<text text-anchor="middle" x="13818" y="-943.1015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;historian:persist(txtbuf, results)</text>
<text text-anchor="middle" x="13818" y="-927.7015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="13818" y="-912.3015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;historian:persist(txtbuf)</text>
<text text-anchor="middle" x="13818" y="-896.9015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="13818" y="-881.5014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return true</text>
<text text-anchor="middle" x="13818" y="-866.1014" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_190&#45;&gt;leaf_198 -->
<g id="edge198" class="edge">
<title>codeblock_190&#45;&gt;leaf_198</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13761.8725,-2148.2627C13767.5699,-2027.8473 13799.6413,-1350.0145 13812.5838,-1076.4735"/>
<polygon fill="#000000" stroke="#000000" points="13816.0969,-1076.2783 13813.0735,-1066.1241 13809.1047,-1075.9474 13816.0969,-1076.2783"/>
</g>
<!-- leaf_199 -->
<g id="node200" class="node">
<title>leaf_199</title>
<polygon fill="none" stroke="#c0c0c0" points="14329,-1012.4025 14061,-1012.4025 14061,-911.6006 14329,-911.6006 14329,-1012.4025"/>
<text text-anchor="middle" x="14195" y="-997.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new()</text>
<text text-anchor="middle" x="14195" y="-981.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local historian = meta(Historian)</text>
<text text-anchor="middle" x="14195" y="-966.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian:load()</text>
<text text-anchor="middle" x="14195" y="-950.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return historian</text>
<text text-anchor="middle" x="14195" y="-935.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="14195" y="-920.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">Historian.idEst = new</text>
</g>
<!-- codeblock_191&#45;&gt;leaf_199 -->
<g id="edge199" class="edge">
<title>codeblock_191&#45;&gt;leaf_199</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14075.8522,-2148.2627C14088.8474,-2018.8797 14166.4789,-1245.9638 14188.9252,-1022.4839"/>
<polygon fill="#000000" stroke="#000000" points="14192.4349,-1022.5619 14189.9518,-1012.2621 14185.4699,-1021.8622 14192.4349,-1022.5619"/>
</g>
<!-- leaf_200 -->
<g id="node201" class="node">
<title>leaf_200</title>
<polygon fill="none" stroke="#c0c0c0" points="14433,-980.0016 14347,-980.0016 14347,-944.0016 14433,-944.0016 14433,-980.0016"/>
<text text-anchor="middle" x="14390" y="-958.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">return new</text>
</g>
<!-- codeblock_192&#45;&gt;leaf_200 -->
<g id="edge200" class="edge">
<title>codeblock_192&#45;&gt;leaf_200</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14328.9491,-2148.2627C14335.9785,-2011.6756 14379.9183,-1157.8957 14388.5349,-990.4697"/>
<polygon fill="#000000" stroke="#000000" points="14392.0533,-990.1996 14389.072,-980.0329 14385.0626,-989.8398 14392.0533,-990.1996"/>
</g>
<!-- leaf_195 -->
<g id="node196" class="node">
<title>leaf_195</title>
<polygon fill="none" stroke="#c0c0c0" points="13638,-63.0015 13314,-63.0015 13314,-7.1986 13638,-7.1986 13638,-63.0015"/>
<text text-anchor="middle" x="13476" y="-15.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Appends a txtbuf to history and persists it.</text>
</g>
<!-- raw_194&#45;&gt;leaf_195 -->
<g id="edge195" class="edge">
<title>raw_194&#45;&gt;leaf_195</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13476,-943.902C13476,-831.743 13476,-231.1986 13476,-73.2061"/>
<polygon fill="#000000" stroke="#000000" points="13479.5001,-73.0277 13476,-63.0277 13472.5001,-73.0277 13479.5001,-73.0277"/>
</g>
<!-- leaf_197 -->
<g id="node198" class="node">
<title>leaf_197</title>
<polygon fill="none" stroke="#c0c0c0" points="13854,-55.0021 13656,-55.0021 13656,-15.198 13854,-15.198 13854,-55.0021"/>
<text text-anchor="middle" x="13755" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Doesn&#39;t adjust the cursor.</text>
</g>
<!-- raw_196&#45;&gt;leaf_197 -->
<g id="edge197" class="edge">
<title>raw_196&#45;&gt;leaf_197</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13546.2189,-943.8651C13535.7031,-833.0502 13485.4777,-247.3452 13584,-106.2001 13590.636,-96.6932 13644.0802,-75.3278 13689.4788,-58.485"/>
<polygon fill="#000000" stroke="#000000" points="13690.8528,-61.7089 13699.0245,-54.9655 13688.4312,-55.141 13690.8528,-61.7089"/>
</g>
</g>
</svg>
