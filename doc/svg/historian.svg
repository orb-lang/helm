<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="7279pt" height="1260pt"
 viewBox="0.00 0.00 7279.30 1259.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1255.6017)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1255.6017 7275.2972,-1255.6017 7275.2972,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1728" cy="-1233.6017" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="1728" y="-1229.4017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 214</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1728" cy="-1161.6017" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1728" y="-1157.4017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;152</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1728,-1215.433C1728,-1207.7326 1728,-1198.576 1728,-1190.0183"/>
<polygon fill="#000000" stroke="#000000" points="1731.5001,-1190.0149 1728,-1180.015 1724.5001,-1190.015 1731.5001,-1190.0149"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="1305" cy="-1089.6017" rx="57.0821" ry="18"/>
<text text-anchor="middle" x="1305" y="-1085.4017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Historian</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1667.7149,-1154.2444C1597.1794,-1145.2061 1477.0436,-1128.4723 1375,-1107.6017 1369.6215,-1106.5016 1364.037,-1105.2519 1358.4738,-1103.9357"/>
<polygon fill="#000000" stroke="#000000" points="1359.0769,-1100.4803 1348.5325,-1101.5128 1357.4193,-1107.2812 1359.0769,-1100.4803"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="1416" cy="-1089.6017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1416" y="-1085.4017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1669.191,-1153.4452C1613.8997,-1144.9347 1529.2172,-1129.721 1458,-1107.6017 1455.5472,-1106.8399 1453.0431,-1105.9829 1450.5399,-1105.0669"/>
<polygon fill="#000000" stroke="#000000" points="1451.5872,-1101.718 1440.9998,-1101.3188 1449.0274,-1108.2332 1451.5872,-1101.718"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="1499" cy="-1089.6017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1499" y="-1085.4017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1679.4359,-1149.3469C1641.3795,-1139.3206 1587.3029,-1124.1376 1541,-1107.6017 1538.5813,-1106.7379 1536.1026,-1105.8047 1533.6178,-1104.8335"/>
<polygon fill="#000000" stroke="#000000" points="1534.6994,-1101.4949 1524.1178,-1100.9654 1532.0596,-1107.9781 1534.6994,-1101.4949"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="1582" cy="-1089.6017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1582" y="-1085.4017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1695.9597,-1145.801C1672.0983,-1134.0337 1639.6044,-1118.0093 1615.4189,-1106.0823"/>
<polygon fill="#000000" stroke="#000000" points="1616.7832,-1102.8526 1606.2664,-1101.5687 1613.6871,-1109.1307 1616.7832,-1102.8526"/>
</g>
<!-- prose_6 -->
<g id="node7" class="node">
<title>prose_6</title>
<ellipse fill="none" stroke="#000000" cx="1664" cy="-1089.6017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1664" y="-1085.4017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;prose_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1712.1798,-1143.8039C1704.1184,-1134.7348 1694.1979,-1123.5743 1685.4584,-1113.7424"/>
<polygon fill="#000000" stroke="#000000" points="1688.0204,-1111.3563 1678.7607,-1106.2075 1682.7885,-1116.0069 1688.0204,-1111.3563"/>
</g>
<!-- codeblock_7 -->
<g id="node8" class="node">
<title>codeblock_7</title>
<ellipse fill="none" stroke="#000000" cx="1792" cy="-1089.6017" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1792" y="-1085.4017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 16&#45;21</text>
</g>
<!-- section_1&#45;&gt;codeblock_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;codeblock_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1743.8202,-1143.8039C1751.5126,-1135.15 1760.8978,-1124.5917 1769.3344,-1115.1005"/>
<polygon fill="#000000" stroke="#000000" points="1772.1122,-1117.2436 1776.14,-1107.4442 1766.8803,-1112.5931 1772.1122,-1117.2436"/>
</g>
<!-- codeblock_8 -->
<g id="node9" class="node">
<title>codeblock_8</title>
<ellipse fill="none" stroke="#000000" cx="2009" cy="-1089.6017" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2009" y="-1085.4017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 23&#45;25</text>
</g>
<!-- section_1&#45;&gt;codeblock_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;codeblock_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1775.9863,-1149.3063C1823.2571,-1137.1942 1895.679,-1118.6377 1947.2255,-1105.43"/>
<polygon fill="#000000" stroke="#000000" points="1948.1011,-1108.8188 1956.9194,-1102.9462 1946.3636,-1102.0379 1948.1011,-1108.8188"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="2316" cy="-1089.6017" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2316" y="-1085.4017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 28&#45;72</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1788.163,-1154.2348C1897.6924,-1140.823 2129.0742,-1112.4906 2245.6839,-1098.2118"/>
<polygon fill="#000000" stroke="#000000" points="2246.4215,-1101.6477 2255.922,-1096.9582 2245.5707,-1094.6996 2246.4215,-1101.6477"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="3485" cy="-1089.6017" rx="70.655" ry="18"/>
<text text-anchor="middle" x="3485" y="-1085.4017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 73&#45;152</text>
</g>
<!-- section_1&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1793.1421,-1158.9322C2064.7366,-1147.8026 3106.6513,-1105.106 3404.8409,-1092.8865"/>
<polygon fill="#000000" stroke="#000000" points="3405.284,-1096.3714 3415.1322,-1092.4648 3404.9973,-1089.3773 3405.284,-1096.3714"/>
</g>
<!-- section_11 -->
<g id="node12" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="5134" cy="-1089.6017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="5134" y="-1085.4017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 153&#45;191</text>
</g>
<!-- section_1&#45;&gt;section_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;section_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1793.7514,-1160.2118C2218.1673,-1151.24 4568.5002,-1101.5559 5048.4128,-1091.4109"/>
<polygon fill="#000000" stroke="#000000" points="5048.8048,-1094.9035 5058.7285,-1091.1929 5048.6568,-1087.9051 5048.8048,-1094.9035"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="1350.5,-1018.8016 1257.5,-1018.8016 1257.5,-982.8016 1350.5,-982.8016 1350.5,-1018.8016"/>
<text text-anchor="middle" x="1304" y="-997.3016" font-family="Inconsolata" font-size="14.00" fill="#000000">* Historian</text>
</g>
<!-- header_2&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>header_2&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1304.7928,-1071.2023C1304.6565,-1059.0965 1304.4753,-1043.0093 1304.3206,-1029.269"/>
<polygon fill="#000000" stroke="#000000" points="1307.816,-1028.8336 1304.2035,-1018.8737 1300.8164,-1028.9125 1307.816,-1028.8336"/>
</g>
<!-- raw_13 -->
<g id="node14" class="node">
<title>raw_13</title>
<ellipse fill="none" stroke="#000000" cx="1396" cy="-1000.8016" rx="27" ry="18"/>
<text text-anchor="middle" x="1396" y="-996.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_13 -->
<g id="edge13" class="edge">
<title>prose_3&#45;&gt;raw_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1411.9527,-1071.6317C1409.1876,-1059.3547 1405.4678,-1042.8389 1402.3158,-1028.8437"/>
<polygon fill="#000000" stroke="#000000" points="1405.653,-1027.7315 1400.0413,-1018.7449 1398.8241,-1029.2696 1405.653,-1027.7315"/>
</g>
<!-- raw_15 -->
<g id="node16" class="node">
<title>raw_15</title>
<ellipse fill="none" stroke="#000000" cx="1468" cy="-1000.8016" rx="27" ry="18"/>
<text text-anchor="middle" x="1468" y="-996.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_15 -->
<g id="edge15" class="edge">
<title>prose_4&#45;&gt;raw_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1492.7267,-1071.6317C1488.3703,-1059.1528 1482.4851,-1042.2944 1477.5491,-1028.1553"/>
<polygon fill="#000000" stroke="#000000" points="1480.7586,-1026.7295 1474.1582,-1018.4419 1474.1497,-1029.0367 1480.7586,-1026.7295"/>
</g>
<!-- raw_17 -->
<g id="node18" class="node">
<title>raw_17</title>
<ellipse fill="none" stroke="#000000" cx="1540" cy="-1000.8016" rx="27" ry="18"/>
<text text-anchor="middle" x="1540" y="-996.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_17 -->
<g id="edge17" class="edge">
<title>prose_5&#45;&gt;raw_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1573.7022,-1072.0577C1567.6807,-1059.3266 1559.4275,-1041.8769 1552.5955,-1027.4322"/>
<polygon fill="#000000" stroke="#000000" points="1555.5773,-1025.5504 1548.1377,-1018.0071 1549.2494,-1028.5434 1555.5773,-1025.5504"/>
</g>
<!-- raw_19 -->
<g id="node20" class="node">
<title>raw_19</title>
<ellipse fill="none" stroke="#000000" cx="1612" cy="-1000.8016" rx="27" ry="18"/>
<text text-anchor="middle" x="1612" y="-996.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_19 -->
<g id="edge19" class="edge">
<title>prose_6&#45;&gt;raw_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1653.9739,-1072.4801C1646.2996,-1059.3748 1635.5939,-1041.0928 1626.9154,-1026.2725"/>
<polygon fill="#000000" stroke="#000000" points="1629.8925,-1024.4302 1621.819,-1017.5695 1623.852,-1027.9674 1629.8925,-1024.4302"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="1939,-1035.4029 1657,-1035.4029 1657,-966.2004 1939,-966.2004 1939,-1035.4029"/>
<text text-anchor="middle" x="1798" y="-1020.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">local Linebuf = require &quot;linebuf&quot;</text>
<text text-anchor="middle" x="1798" y="-1005.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">local sql &#160;&#160;&#160;&#160;= require &quot;sqlayer&quot;</text>
<text text-anchor="middle" x="1798" y="-989.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">local L &#160;&#160;&#160;&#160;&#160;&#160;= require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1798" y="-974.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">local format &#160;= assert (string.format)</text>
</g>
<!-- codeblock_7&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>codeblock_7&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1793.2432,-1071.2023C1793.747,-1063.7464 1794.3528,-1054.7803 1794.9608,-1045.7823"/>
<polygon fill="#000000" stroke="#000000" points="1798.4606,-1045.9019 1795.6428,-1035.6887 1791.4765,-1045.4299 1798.4606,-1045.9019"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="2148.5,-1018.8016 1957.5,-1018.8016 1957.5,-982.8016 2148.5,-982.8016 2148.5,-1018.8016"/>
<text text-anchor="middle" x="2053" y="-997.3016" font-family="Inconsolata" font-size="14.00" fill="#000000">local Historian = meta {}</text>
</g>
<!-- codeblock_8&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>codeblock_8&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2017.9041,-1071.6317C2024.0657,-1059.1963 2032.3822,-1042.412 2039.373,-1028.3034"/>
<polygon fill="#000000" stroke="#000000" points="2042.6544,-1029.564 2043.9582,-1019.0497 2036.3822,-1026.4561 2042.6544,-1029.564"/>
</g>
<!-- header_23 -->
<g id="node24" class="node">
<title>header_23</title>
<ellipse fill="none" stroke="#000000" cx="2249" cy="-1000.8016" rx="82.2147" ry="18"/>
<text text-anchor="middle" x="2249" y="-996.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Historian:load()</text>
</g>
<!-- section_9&#45;&gt;header_23 -->
<g id="edge23" class="edge">
<title>section_9&#45;&gt;header_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2302.4416,-1071.6317C2292.7244,-1058.7529 2279.4879,-1041.2095 2268.6194,-1026.8046"/>
<polygon fill="#000000" stroke="#000000" points="2271.3553,-1024.6196 2262.5383,-1018.7449 2265.7674,-1028.8357 2271.3553,-1024.6196"/>
</g>
<!-- prose_24 -->
<g id="node25" class="node">
<title>prose_24</title>
<ellipse fill="none" stroke="#000000" cx="2382" cy="-1000.8016" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2382" y="-996.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_24 -->
<g id="edge24" class="edge">
<title>section_9&#45;&gt;prose_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2329.3561,-1071.6317C2339.1801,-1058.414 2352.6558,-1040.2829 2363.5137,-1025.674"/>
<polygon fill="#000000" stroke="#000000" points="2366.4006,-1027.6572 2369.5568,-1017.5434 2360.7825,-1023.4815 2366.4006,-1027.6572"/>
</g>
<!-- codeblock_25 -->
<g id="node26" class="node">
<title>codeblock_25</title>
<ellipse fill="none" stroke="#000000" cx="2633" cy="-1000.8016" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2633" y="-996.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 33&#45;70</text>
</g>
<!-- section_9&#45;&gt;codeblock_25 -->
<g id="edge25" class="edge">
<title>section_9&#45;&gt;codeblock_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2362.0945,-1076.6894C2417.9688,-1061.0375 2512.2393,-1034.6299 2573.5361,-1017.459"/>
<polygon fill="#000000" stroke="#000000" points="2574.7693,-1020.7484 2583.4545,-1014.6806 2572.881,-1014.0079 2574.7693,-1020.7484"/>
</g>
<!-- header_36 -->
<g id="node37" class="node">
<title>header_36</title>
<ellipse fill="none" stroke="#000000" cx="3187" cy="-1000.8016" rx="107.339" ry="18"/>
<text text-anchor="middle" x="3187" y="-996.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Historian:search(frag)</text>
</g>
<!-- section_10&#45;&gt;header_36 -->
<g id="edge36" class="edge">
<title>section_10&#45;&gt;header_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3439.0906,-1075.9213C3388.342,-1060.7989 3306.2985,-1036.351 3249.6633,-1019.4744"/>
<polygon fill="#000000" stroke="#000000" points="3250.332,-1016.0217 3239.7489,-1016.5201 3248.3329,-1022.7302 3250.332,-1016.0217"/>
</g>
<!-- prose_37 -->
<g id="node38" class="node">
<title>prose_37</title>
<ellipse fill="none" stroke="#000000" cx="3406" cy="-1000.8016" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3406" y="-996.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_37 -->
<g id="edge37" class="edge">
<title>section_10&#45;&gt;prose_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3469.0132,-1071.6317C3456.9921,-1058.1194 3440.403,-1039.4723 3427.2633,-1024.7027"/>
<polygon fill="#000000" stroke="#000000" points="3429.6311,-1022.0984 3420.3693,-1016.9534 3424.4011,-1026.7512 3429.6311,-1022.0984"/>
</g>
<!-- codeblock_38 -->
<g id="node39" class="node">
<title>codeblock_38</title>
<ellipse fill="none" stroke="#000000" cx="3564" cy="-1000.8016" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3564" y="-996.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 76&#45;91</text>
</g>
<!-- section_10&#45;&gt;codeblock_38 -->
<g id="edge38" class="edge">
<title>section_10&#45;&gt;codeblock_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3500.9868,-1071.6317C3512.6275,-1058.547 3528.5517,-1040.6474 3541.4792,-1026.1162"/>
<polygon fill="#000000" stroke="#000000" points="3544.2747,-1028.2396 3548.3066,-1018.4419 3539.0448,-1023.5868 3544.2747,-1028.2396"/>
</g>
<!-- codeblock_39 -->
<g id="node40" class="node">
<title>codeblock_39</title>
<ellipse fill="none" stroke="#000000" cx="3895" cy="-1000.8016" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="3895" y="-996.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 93&#45;109</text>
</g>
<!-- section_10&#45;&gt;codeblock_39 -->
<g id="edge39" class="edge">
<title>section_10&#45;&gt;codeblock_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3539.0219,-1077.9013C3612.8409,-1061.9132 3745.2683,-1033.2313 3826.1306,-1015.7177"/>
<polygon fill="#000000" stroke="#000000" points="3827.1819,-1019.0713 3836.2144,-1013.5337 3825.7001,-1012.2299 3827.1819,-1019.0713"/>
</g>
<!-- codeblock_40 -->
<g id="node41" class="node">
<title>codeblock_40</title>
<ellipse fill="none" stroke="#000000" cx="4378" cy="-1000.8016" rx="86.7905" ry="18"/>
<text text-anchor="middle" x="4378" y="-996.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 112&#45;150</text>
</g>
<!-- section_10&#45;&gt;codeblock_40 -->
<g id="edge40" class="edge">
<title>section_10&#45;&gt;codeblock_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3551.0271,-1083.0359C3709.3534,-1067.292 4110.7094,-1027.381 4289.6031,-1009.5918"/>
<polygon fill="#000000" stroke="#000000" points="4290.162,-1013.0536 4299.7666,-1008.5812 4289.4693,-1006.088 4290.162,-1013.0536"/>
</g>
<!-- header_47 -->
<g id="node48" class="node">
<title>header_47</title>
<ellipse fill="none" stroke="#000000" cx="4858" cy="-1000.8016" rx="82.6821" ry="18"/>
<text text-anchor="middle" x="4858" y="-996.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Historian:prev()</text>
</g>
<!-- section_11&#45;&gt;header_47 -->
<g id="edge47" class="edge">
<title>section_11&#45;&gt;header_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5089.0416,-1075.1368C5041.3992,-1059.8083 4966.0634,-1035.5699 4914.4545,-1018.9653"/>
<polygon fill="#000000" stroke="#000000" points="4915.3769,-1015.5854 4904.7855,-1015.8543 4913.2329,-1022.249 4915.3769,-1015.5854"/>
</g>
<!-- prose_48 -->
<g id="node49" class="node">
<title>prose_48</title>
<ellipse fill="none" stroke="#000000" cx="5050" cy="-1000.8016" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5050" y="-996.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_48 -->
<g id="edge48" class="edge">
<title>section_11&#45;&gt;prose_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5117.0013,-1071.6317C5104.1011,-1057.9943 5086.2533,-1039.1266 5072.2219,-1024.2934"/>
<polygon fill="#000000" stroke="#000000" points="5074.6934,-1021.813 5065.2787,-1016.9534 5069.6081,-1026.6234 5074.6934,-1021.813"/>
</g>
<!-- codeblock_49 -->
<g id="node50" class="node">
<title>codeblock_49</title>
<ellipse fill="none" stroke="#000000" cx="5203" cy="-1000.8016" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5203" y="-996.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 155&#45;166</text>
</g>
<!-- section_11&#45;&gt;codeblock_49 -->
<g id="edge49" class="edge">
<title>section_11&#45;&gt;codeblock_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5147.9632,-1071.6317C5157.9703,-1058.7529 5171.602,-1041.2095 5182.795,-1026.8046"/>
<polygon fill="#000000" stroke="#000000" points="5185.6856,-1028.7888 5189.0576,-1018.7449 5180.1581,-1024.4938 5185.6856,-1028.7888"/>
</g>
<!-- section_50 -->
<g id="node51" class="node">
<title>section_50</title>
<ellipse fill="none" stroke="#000000" cx="5624" cy="-1000.8016" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="5624" y="-996.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 169&#45;191</text>
</g>
<!-- section_11&#45;&gt;section_50 -->
<g id="edge50" class="edge">
<title>section_11&#45;&gt;section_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5194.5751,-1078.624C5285.5824,-1062.1312 5457.174,-1031.0346 5553.6138,-1013.5573"/>
<polygon fill="#000000" stroke="#000000" points="5554.3477,-1016.9814 5563.5633,-1011.7542 5553.0994,-1010.0936 5554.3477,-1016.9814"/>
</g>
<!-- section_51 -->
<g id="node52" class="node">
<title>section_51</title>
<ellipse fill="none" stroke="#000000" cx="6616" cy="-1000.8016" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="6616" y="-996.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 192&#45;214</text>
</g>
<!-- section_11&#45;&gt;section_51 -->
<g id="edge51" class="edge">
<title>section_11&#45;&gt;section_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5207.2397,-1085.2132C5456.0588,-1070.3042 6268.0687,-1021.6493 6532.1739,-1005.8244"/>
<polygon fill="#000000" stroke="#000000" points="6532.6903,-1009.2998 6542.463,-1005.2079 6532.2715,-1002.3124 6532.6903,-1009.2998"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="324,-676.4022 0,-676.4022 0,-604.5999 324,-604.5999 324,-676.4022"/>
<text text-anchor="middle" x="162" y="-613.001" font-family="Inconsolata" font-size="14.00" fill="#000000">This module is responsible for REPL history.</text>
</g>
<!-- raw_13&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>raw_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1383.3776,-984.493C1376.9241,-977.4513 1368.442,-969.9372 1359,-966.0016 1253.7102,-922.1148 431.063,-988.2738 333,-930.0016 241.9516,-875.8976 194.0674,-753.0669 173.8975,-686.1041"/>
<polygon fill="#000000" stroke="#000000" points="177.1806,-684.8613 171.0083,-676.2501 170.4633,-686.8309 177.1806,-684.8613"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="897.5,-667.8014 342.5,-667.8014 342.5,-613.2006 897.5,-613.2006 897.5,-667.8014"/>
<text text-anchor="middle" x="620" y="-636.701" font-family="Inconsolata" font-size="14.00" fill="#000000">Eventually this will include persisting and restoring from a SQLite database,</text>
<text text-anchor="middle" x="620" y="-621.301" font-family="Inconsolata" font-size="14.00" fill="#000000">fuzzy searching, and variable cacheing.</text>
</g>
<!-- raw_15&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>raw_15&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1455.7427,-984.6382C1449.4689,-977.6284 1441.2136,-970.0991 1432,-966.0016 1218.2988,-870.9635 1119.6777,-1027.3084 907,-930.0016 784.3762,-873.8972 685.2992,-740.935 642.6472,-676.6038"/>
<polygon fill="#000000" stroke="#000000" points="645.4154,-674.4425 637.0067,-667.997 639.5607,-678.2794 645.4154,-674.4425"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="1464,-667.8014 916,-667.8014 916,-613.2006 1464,-613.2006 1464,-667.8014"/>
<text text-anchor="middle" x="1190" y="-636.701" font-family="Inconsolata" font-size="14.00" fill="#000000">Currently does the basic job of retaining history and not letting subsequent</text>
<text text-anchor="middle" x="1190" y="-621.301" font-family="Inconsolata" font-size="14.00" fill="#000000">edits munge it.</text>
</g>
<!-- raw_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>raw_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1524.9609,-985.32C1472.7166,-931.538 1298.2427,-751.9293 1223.9564,-675.4568"/>
<polygon fill="#000000" stroke="#000000" points="1226.1445,-672.6861 1216.6662,-667.952 1221.1235,-677.5636 1226.1445,-672.6861"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="2030,-675.8014 1482,-675.8014 1482,-605.2007 2030,-605.2007 2030,-675.8014"/>
<text text-anchor="middle" x="1756" y="-644.701" font-family="Inconsolata" font-size="14.00" fill="#000000">Next step: now that we clone a new linebuf each time, we have an immutable</text>
<text text-anchor="middle" x="1756" y="-629.301" font-family="Inconsolata" font-size="14.00" fill="#000000">record. &#160;We should store the line as a string, to facilitate fuzzy matching.</text>
</g>
<!-- raw_19&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>raw_19&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1619.141,-982.9343C1640.7908,-928.7644 1706.159,-765.2077 1738.0767,-685.3466"/>
<polygon fill="#000000" stroke="#000000" points="1741.3369,-686.6202 1741.7981,-676.0354 1734.8368,-684.0223 1741.3369,-686.6202"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="2197.5,-658.501 2048.5,-658.501 2048.5,-622.501 2197.5,-622.501 2197.5,-658.501"/>
<text text-anchor="middle" x="2123" y="-637.001" font-family="Inconsolata" font-size="14.00" fill="#000000">** Historian:load()</text>
</g>
<!-- header_23&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>header_23&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2236.6157,-982.8477C2227.449,-968.9261 2215.1828,-948.8849 2207,-930.0016 2167.0924,-837.9076 2139.8346,-721.3183 2128.6711,-668.6239"/>
<polygon fill="#000000" stroke="#000000" points="2132.0634,-667.7458 2126.5942,-658.6717 2125.211,-669.1759 2132.0634,-667.7458"/>
</g>
<!-- raw_27 -->
<g id="node28" class="node">
<title>raw_27</title>
<ellipse fill="none" stroke="#000000" cx="2243" cy="-640.501" rx="27" ry="18"/>
<text text-anchor="middle" x="2243" y="-636.301" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_24&#45;&gt;raw_27 -->
<g id="edge27" class="edge">
<title>prose_24&#45;&gt;raw_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2364.5083,-985.2524C2357.1502,-978.9939 2348.3676,-971.8815 2340,-966.0016 2314.2431,-947.902 2296.2699,-956.322 2279,-930.0016 2225.08,-847.8239 2232.2214,-723.8754 2238.8334,-668.7088"/>
<polygon fill="#000000" stroke="#000000" points="2242.3259,-668.9902 2240.1304,-658.6253 2235.3831,-668.097 2242.3259,-668.9902"/>
</g>
<!-- prespace_28 -->
<g id="node29" class="node">
<title>prespace_28</title>
<ellipse fill="none" stroke="#000000" cx="2334" cy="-640.501" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2334" y="-636.301" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_24&#45;&gt;prespace_28 -->
<g id="edge28" class="edge">
<title>prose_24&#45;&gt;prespace_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2379.5537,-982.4389C2371.7217,-923.6502 2347.2268,-739.7851 2337.774,-668.8294"/>
<polygon fill="#000000" stroke="#000000" points="2341.2314,-668.2769 2336.4414,-658.8267 2334.2927,-669.2014 2341.2314,-668.2769"/>
</g>
<!-- literal_29 -->
<g id="node30" class="node">
<title>literal_29</title>
<ellipse fill="none" stroke="#000000" cx="2430" cy="-640.501" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2430" y="-636.301" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_24&#45;&gt;literal_29 -->
<g id="edge29" class="edge">
<title>prose_24&#45;&gt;literal_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2384.4463,-982.4389C2392.2783,-923.6502 2416.7732,-739.7851 2426.226,-668.8294"/>
<polygon fill="#000000" stroke="#000000" points="2429.7073,-669.2014 2427.5586,-658.8267 2422.7686,-668.2769 2429.7073,-669.2014"/>
</g>
<!-- raw_30 -->
<g id="node31" class="node">
<title>raw_30</title>
<ellipse fill="none" stroke="#000000" cx="2506" cy="-640.501" rx="27" ry="18"/>
<text text-anchor="middle" x="2506" y="-636.301" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_24&#45;&gt;raw_30 -->
<g id="edge30" class="edge">
<title>prose_24&#45;&gt;raw_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2405.7761,-988.6012C2426.439,-976.6413 2455.2979,-956.378 2470,-930.0016 2517.6385,-844.5353 2513.8781,-723.1936 2509.1652,-668.7961"/>
<polygon fill="#000000" stroke="#000000" points="2512.6212,-668.1655 2508.194,-658.54 2505.6524,-668.8255 2512.6212,-668.1655"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="3057,-923.502 2551,-923.502 2551,-357.5001 3057,-357.5001 3057,-923.502"/>
<text text-anchor="middle" x="2804" y="-908.3015" font-family="Inconsolata" font-size="14.00" fill="#000000">Historian.HISTORY_LIMIT = 500</text>
<text text-anchor="middle" x="2804" y="-876.9015" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_repl_table = [[</text>
<text text-anchor="middle" x="2804" y="-861.5014" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE repl (</text>
<text text-anchor="middle" x="2804" y="-846.1014" font-family="Inconsolata" font-size="14.00" fill="#000000">line_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="2804" y="-830.7014" font-family="Inconsolata" font-size="14.00" fill="#000000">project TEXT,</text>
<text text-anchor="middle" x="2804" y="-815.3013" font-family="Inconsolata" font-size="14.00" fill="#000000">line TEXT,</text>
<text text-anchor="middle" x="2804" y="-799.9013" font-family="Inconsolata" font-size="14.00" fill="#000000">time DATETIME DEFAULT CURRENT_TIMESTAMP);</text>
<text text-anchor="middle" x="2804" y="-784.5013" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="2804" y="-753.1012" font-family="Inconsolata" font-size="14.00" fill="#000000">local insert_line_stmt = [[</text>
<text text-anchor="middle" x="2804" y="-737.7012" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO repl (project, line) VALUES(?, ?);</text>
<text text-anchor="middle" x="2804" y="-722.3012" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="2804" y="-690.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_tables = [[</text>
<text text-anchor="middle" x="2804" y="-675.5011" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT name FROM sqlite_master WHERE type=&#39;table&#39;;</text>
<text text-anchor="middle" x="2804" y="-660.1011" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="2804" y="-628.701" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_recent = [[</text>
<text text-anchor="middle" x="2804" y="-613.301" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT line FROM repl</text>
<text text-anchor="middle" x="2804" y="-597.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;WHERE project = %s</text>
<text text-anchor="middle" x="2804" y="-582.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;ORDER BY time</text>
<text text-anchor="middle" x="2804" y="-567.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;DESC LIMIT %d;</text>
<text text-anchor="middle" x="2804" y="-551.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="2804" y="-520.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">Historian.home_dir = io.popen(&quot;echo $HOME&quot;, &quot;r&quot;):read(&quot;*a&quot;):sub(1, &#45;2)</text>
<text text-anchor="middle" x="2804" y="-504.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">Historian.project = io.popen(&quot;pwd&quot;, &quot;r&quot;):read(&quot;*a&quot;):sub(1, &#45;2)</text>
<text text-anchor="middle" x="2804" y="-473.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">local function has(table, name)</text>
<text text-anchor="middle" x="2804" y="-458.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for _,v in ipairs(table) do</text>
<text text-anchor="middle" x="2804" y="-442.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if name == v then</text>
<text text-anchor="middle" x="2804" y="-427.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="2804" y="-411.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2804" y="-396.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="2804" y="-381.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return false</text>
<text text-anchor="middle" x="2804" y="-365.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_25&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>codeblock_25&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2641.715,-982.4389C2647.4065,-970.4469 2655.568,-953.2503 2665.2409,-932.8694"/>
<polygon fill="#000000" stroke="#000000" points="2668.5056,-934.1535 2669.6313,-923.6187 2662.1817,-931.1521 2668.5056,-934.1535"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="2292,-231.1017 1926,-231.1017 1926,-175.2988 2292,-175.2988 2292,-231.1017"/>
<text text-anchor="middle" x="2109" y="-183.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">This is where we either create query or create our</text>
</g>
<!-- raw_27&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>raw_27&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2243.4664,-622.2106C2244.0711,-575.4639 2242.0028,-448.4336 2206,-351.0005 2190.605,-309.3375 2161.6185,-267.5477 2139.3263,-239.088"/>
<polygon fill="#000000" stroke="#000000" points="2141.9055,-236.7082 2132.94,-231.0627 2136.4281,-241.0669 2141.9055,-236.7082"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="2364,-221.2002 2310,-221.2002 2310,-185.2002 2364,-185.2002 2364,-221.2002"/>
<text text-anchor="middle" x="2337" y="-199.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_28&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>prespace_28&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2334.1251,-622.2675C2334.5921,-554.1996 2336.2356,-314.6301 2336.8045,-231.7042"/>
<polygon fill="#000000" stroke="#000000" points="2340.3056,-231.5354 2336.8744,-221.5116 2333.3058,-231.4873 2340.3056,-231.5354"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="2466.5,-221.2002 2387.5,-221.2002 2387.5,-185.2002 2466.5,-185.2002 2466.5,-221.2002"/>
<text text-anchor="middle" x="2427" y="-199.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">~/.bridge</text>
</g>
<!-- literal_29&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>literal_29&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2429.8749,-622.2675C2429.4079,-554.1996 2427.7644,-314.6301 2427.1955,-231.7042"/>
<polygon fill="#000000" stroke="#000000" points="2430.6942,-231.4873 2427.1256,-221.5116 2423.6944,-231.5354 2430.6942,-231.4873"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2571,-223.1023 2485,-223.1023 2485,-183.2982 2571,-183.2982 2571,-223.1023"/>
<text text-anchor="middle" x="2528" y="-207.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> database.</text>
</g>
<!-- raw_30&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>raw_30&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2506.9173,-622.2675C2510.3218,-554.5947 2522.2545,-317.4056 2526.4926,-233.1641"/>
<polygon fill="#000000" stroke="#000000" points="2529.9972,-233.1584 2527.0041,-222.9952 2523.006,-232.8067 2529.9972,-233.1584"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="3266.5,-658.501 3075.5,-658.501 3075.5,-622.501 3266.5,-622.501 3266.5,-658.501"/>
<text text-anchor="middle" x="3171" y="-637.001" font-family="Inconsolata" font-size="14.00" fill="#000000">** Historian:search(frag)</text>
</g>
<!-- header_36&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>header_36&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3186.1846,-982.4389C3183.5739,-923.6502 3175.4089,-739.7851 3172.258,-668.8294"/>
<polygon fill="#000000" stroke="#000000" points="3175.7541,-668.6616 3171.8138,-658.8267 3168.761,-668.9722 3175.7541,-668.6616"/>
</g>
<!-- raw_42 -->
<g id="node43" class="node">
<title>raw_42</title>
<ellipse fill="none" stroke="#000000" cx="3312" cy="-640.501" rx="27" ry="18"/>
<text text-anchor="middle" x="3312" y="-636.301" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_37&#45;&gt;raw_42 -->
<g id="edge42" class="edge">
<title>prose_37&#45;&gt;raw_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3388.9621,-985.4394C3375.4468,-972.1757 3357.3293,-951.7615 3348,-930.0016 3309.6307,-840.5074 3308.5879,-722.156 3310.4477,-668.7649"/>
<polygon fill="#000000" stroke="#000000" points="3313.9482,-668.821 3310.8621,-658.6856 3306.9541,-668.5333 3313.9482,-668.821"/>
</g>
<!-- leaf_44 -->
<g id="node45" class="node">
<title>leaf_44</title>
<polygon fill="none" stroke="#c0c0c0" points="3800.5,-752.1018 3357.5,-752.1018 3357.5,-528.9002 3800.5,-528.9002 3800.5,-752.1018"/>
<text text-anchor="middle" x="3579" y="-737.1012" font-family="Inconsolata" font-size="14.00" fill="#000000">local P = L.P</text>
<text text-anchor="middle" x="3579" y="-721.7012" font-family="Inconsolata" font-size="14.00" fill="#000000">local function fuzzMatch(frag, string)</text>
<text text-anchor="middle" x="3579" y="-706.3012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;frag = type(frag) == &quot;string&quot; and codepoints(frag) or frag</text>
<text text-anchor="middle" x="3579" y="-690.9011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local patt = (P(1) &#45; P(frag[1]))^0</text>
<text text-anchor="middle" x="3579" y="-675.5011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(frag) do</text>
<text text-anchor="middle" x="3579" y="-660.1011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if i &lt; #frag then</text>
<text text-anchor="middle" x="3579" y="-644.701" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;patt = patt * (P(v) * (P(1) &#45; P(frag[i + 1]))^0)</text>
<text text-anchor="middle" x="3579" y="-629.301" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3579" y="-613.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;patt = patt * (P(v))</text>
<text text-anchor="middle" x="3579" y="-598.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3579" y="-583.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="3579" y="-567.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return L.match(patt, string)</text>
<text text-anchor="middle" x="3579" y="-552.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3579" y="-536.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">Historian.fuzzMatch = fuzzMatch</text>
</g>
<!-- codeblock_38&#45;&gt;leaf_44 -->
<g id="edge44" class="edge">
<title>codeblock_38&#45;&gt;leaf_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3564.7645,-982.4389C3566.4363,-942.2828 3570.5375,-843.7698 3573.9108,-762.7448"/>
<polygon fill="#000000" stroke="#000000" points="3577.4203,-762.5873 3574.3393,-752.4504 3570.4263,-762.2961 3577.4203,-762.5873"/>
</g>
<!-- leaf_45 -->
<g id="node46" class="node">
<title>leaf_45</title>
<polygon fill="none" stroke="#c0c0c0" points="4275.5,-760.0015 3818.5,-760.0015 3818.5,-521.0005 4275.5,-521.0005 4275.5,-760.0015"/>
<text text-anchor="middle" x="4047" y="-744.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.search(historian, frag)</text>
<text text-anchor="middle" x="4047" y="-729.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local collection = {}</text>
<text text-anchor="middle" x="4047" y="-714.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(historian) do</text>
<text text-anchor="middle" x="4047" y="-698.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local score = fuzzMatch(frag, tostring(v))</text>
<text text-anchor="middle" x="4047" y="-683.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if score then</text>
<text text-anchor="middle" x="4047" y="-667.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;collection[#collection + 1] = {score = score, val = v}</text>
<text text-anchor="middle" x="4047" y="-652.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4047" y="-637.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="4047" y="-621.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;table.sort(collection, function(a,b)</text>
<text text-anchor="middle" x="4047" y="-606.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return a.score &gt; b.score end)</text>
<text text-anchor="middle" x="4047" y="-590.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(collection) do</text>
<text text-anchor="middle" x="4047" y="-575.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;collection[i] = tostring(v.val)</text>
<text text-anchor="middle" x="4047" y="-560.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="4047" y="-544.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return collection</text>
<text text-anchor="middle" x="4047" y="-529.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_39&#45;&gt;leaf_45 -->
<g id="edge45" class="edge">
<title>codeblock_39&#45;&gt;leaf_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3902.7467,-982.4389C3919.1986,-943.4412 3958.8697,-849.4051 3992.4531,-769.7988"/>
<polygon fill="#000000" stroke="#000000" points="3995.8543,-770.7411 3996.5165,-760.167 3989.4047,-768.0202 3995.8543,-770.7411"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="4750.5,-930.0021 4293.5,-930.0021 4293.5,-350.9999 4750.5,-350.9999 4750.5,-930.0021"/>
<text text-anchor="middle" x="4522" y="-914.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">local reverse = assert(table.reverse)</text>
<text text-anchor="middle" x="4522" y="-883.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.load(historian)</text>
<text text-anchor="middle" x="4522" y="-868.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local conn = sql.open(historian.home_dir .. &quot;/.bridge&quot;)</text>
<text text-anchor="middle" x="4522" y="-852.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.conn = conn</text>
<text text-anchor="middle" x="4522" y="-837.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local table_names = conn:exec(get_tables)</text>
<text text-anchor="middle" x="4522" y="-821.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not table_names or not has(table_names.name, &quot;repl&quot;) then</text>
<text text-anchor="middle" x="4522" y="-806.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local success, err = sql.pexec(conn, create_repl_table)</text>
<text text-anchor="middle" x="4522" y="-791.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; success is nil for creation, false for error</text>
<text text-anchor="middle" x="4522" y="-775.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if success == false then</text>
<text text-anchor="middle" x="4522" y="-760.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error(err)</text>
<text text-anchor="middle" x="4522" y="-744.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4522" y="-729.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="4522" y="-714.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.insert_stmt = conn:prepare(insert_line_stmt)</text>
<text text-anchor="middle" x="4522" y="-698.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local pop_stmt = sql.format(get_recent, historian.project,</text>
<text text-anchor="middle" x="4522" y="-683.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;historian.HISTORY_LIMIT)</text>
<text text-anchor="middle" x="4522" y="-667.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local values, err = sql.pexec(conn, pop_stmt)</text>
<text text-anchor="middle" x="4522" y="-652.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if values then</text>
<text text-anchor="middle" x="4522" y="-637.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;for i,v in ipairs(reverse(values[1])) do</text>
<text text-anchor="middle" x="4522" y="-621.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;historian[i] = Linebuf(v)</text>
<text text-anchor="middle" x="4522" y="-606.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4522" y="-590.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;historian.cursor = #historian</text>
<text text-anchor="middle" x="4522" y="-575.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;historian.up = false</text>
<text text-anchor="middle" x="4522" y="-560.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="4522" y="-544.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4522" y="-513.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.persist(historian, linebuf)</text>
<text text-anchor="middle" x="4522" y="-497.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local lb = tostring(linebuf)</text>
<text text-anchor="middle" x="4522" y="-482.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.insert_stmt:bind(historian.project, lb)</text>
<text text-anchor="middle" x="4522" y="-467.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local err = historian.insert_stmt:step()</text>
<text text-anchor="middle" x="4522" y="-451.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not err then</text>
<text text-anchor="middle" x="4522" y="-436.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;historian.insert_stmt:clearbind():reset()</text>
<text text-anchor="middle" x="4522" y="-420.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="4522" y="-405.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;error(error)</text>
<text text-anchor="middle" x="4522" y="-390.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="4522" y="-374.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return true</text>
<text text-anchor="middle" x="4522" y="-359.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_40&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>codeblock_40&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4385.339,-982.4389C4389.6095,-971.7537 4395.5314,-956.9366 4402.5335,-939.4165"/>
<polygon fill="#000000" stroke="#000000" points="4405.8294,-940.6006 4406.2907,-930.0158 4399.3293,-938.0027 4405.8294,-940.6006"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="3339,-223.2002 3285,-223.2002 3285,-183.2002 3339,-183.2002 3339,-223.2002"/>
</g>
<!-- raw_42&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>raw_42&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3312,-622.2675C3312,-554.6721 3312,-317.9482 3312,-233.4538"/>
<polygon fill="#000000" stroke="#000000" points="3315.5001,-233.2474 3312,-223.2475 3308.5001,-233.2475 3315.5001,-233.2474"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="4917.5,-658.501 4768.5,-658.501 4768.5,-622.501 4917.5,-622.501 4917.5,-658.501"/>
<text text-anchor="middle" x="4843" y="-637.001" font-family="Inconsolata" font-size="14.00" fill="#000000">** Historian:prev()</text>
</g>
<!-- header_47&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>header_47&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4857.2355,-982.4389C4854.788,-923.6502 4847.1334,-739.7851 4844.1794,-668.8294"/>
<polygon fill="#000000" stroke="#000000" points="4847.676,-668.6725 4843.7629,-658.8267 4840.682,-668.9637 4847.676,-668.6725"/>
</g>
<!-- raw_53 -->
<g id="node54" class="node">
<title>raw_53</title>
<ellipse fill="none" stroke="#000000" cx="4963" cy="-640.501" rx="27" ry="18"/>
<text text-anchor="middle" x="4963" y="-636.301" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_48&#45;&gt;raw_53 -->
<g id="edge53" class="edge">
<title>prose_48&#45;&gt;raw_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5034.8012,-984.7744C5022.9565,-971.2743 5007.1906,-950.8719 4999,-930.0016 4963.4274,-839.3594 4960.9807,-721.5843 4961.9679,-668.5513"/>
<polygon fill="#000000" stroke="#000000" points="4965.4671,-668.6245 4962.2111,-658.5424 4958.4691,-668.4544 4965.4671,-668.6245"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="5458,-721.5013 5008,-721.5013 5008,-559.5007 5458,-559.5007 5458,-721.5013"/>
<text text-anchor="middle" x="5233" y="-706.3012" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.prev(historian)</text>
<text text-anchor="middle" x="5233" y="-690.9011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if historian.cursor == 0 then</text>
<text text-anchor="middle" x="5233" y="-675.5011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return Linebuf()</text>
<text text-anchor="middle" x="5233" y="-660.1011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="5233" y="-644.701" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local delta = historian.cursor &gt; 1 and 1 or 0</text>
<text text-anchor="middle" x="5233" y="-629.301" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local linebuf = historian[historian.cursor &#45; delta]:clone()</text>
<text text-anchor="middle" x="5233" y="-613.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.cursor = historian.cursor &#45; delta</text>
<text text-anchor="middle" x="5233" y="-598.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.cursor = #linebuf.line + 1</text>
<text text-anchor="middle" x="5233" y="-583.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return linebuf</text>
<text text-anchor="middle" x="5233" y="-567.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_49&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>codeblock_49&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5204.5289,-982.4389C5208.3096,-937.0334 5218.3026,-817.0168 5225.3785,-732.0352"/>
<polygon fill="#000000" stroke="#000000" points="5228.8844,-732.1086 5226.2264,-721.8527 5221.9086,-731.5277 5228.8844,-732.1086"/>
</g>
<!-- header_56 -->
<g id="node57" class="node">
<title>header_56</title>
<ellipse fill="none" stroke="#000000" cx="5558" cy="-640.501" rx="82.2061" ry="18"/>
<text text-anchor="middle" x="5558" y="-636.301" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Historian:next()</text>
</g>
<!-- section_50&#45;&gt;header_56 -->
<g id="edge56" class="edge">
<title>section_50&#45;&gt;header_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5620.6363,-982.4389C5609.8674,-923.6502 5576.1869,-739.7851 5563.1892,-668.8294"/>
<polygon fill="#000000" stroke="#000000" points="5566.6015,-668.0324 5561.3569,-658.8267 5559.7161,-669.2937 5566.6015,-668.0324"/>
</g>
<!-- prose_57 -->
<g id="node58" class="node">
<title>prose_57</title>
<ellipse fill="none" stroke="#000000" cx="5691" cy="-640.501" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5691" y="-636.301" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_50&#45;&gt;prose_57 -->
<g id="edge57" class="edge">
<title>section_50&#45;&gt;prose_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5631.4722,-982.7631C5637.0554,-968.6298 5644.4748,-948.3533 5649,-930.0016 5672.2135,-835.8594 5684.1626,-721.119 5688.7377,-668.8648"/>
<polygon fill="#000000" stroke="#000000" points="5692.2427,-668.9535 5689.6035,-658.6926 5685.2679,-668.3598 5692.2427,-668.9535"/>
</g>
<!-- codeblock_58 -->
<g id="node59" class="node">
<title>codeblock_58</title>
<ellipse fill="none" stroke="#000000" cx="5931" cy="-640.501" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5931" y="-636.301" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 174&#45;189</text>
</g>
<!-- section_50&#45;&gt;codeblock_58 -->
<g id="edge58" class="edge">
<title>section_50&#45;&gt;codeblock_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5655.6375,-984.4309C5678.5027,-971.6134 5709.2428,-952.2648 5732,-930.0016 5817.1335,-846.7158 5888.1775,-722.0424 5917.0914,-667.5822"/>
<polygon fill="#000000" stroke="#000000" points="5920.2813,-669.036 5921.8378,-658.5561 5914.0857,-665.778 5920.2813,-669.036"/>
</g>
<!-- header_69 -->
<g id="node70" class="node">
<title>header_69</title>
<ellipse fill="none" stroke="#000000" cx="6366" cy="-640.501" rx="95.2951" ry="18"/>
<text text-anchor="middle" x="6366" y="-636.301" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Historian:append()</text>
</g>
<!-- section_51&#45;&gt;header_69 -->
<g id="edge69" class="edge">
<title>section_51&#45;&gt;header_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6578.2468,-985.1224C6553.1104,-973.1102 6520.8159,-954.4463 6499,-930.0016 6427.2074,-849.558 6387.6323,-723.762 6372.8374,-668.3268"/>
<polygon fill="#000000" stroke="#000000" points="6376.19,-667.3121 6370.2836,-658.5163 6369.4157,-669.0755 6376.19,-667.3121"/>
</g>
<!-- prose_70 -->
<g id="node71" class="node">
<title>prose_70</title>
<ellipse fill="none" stroke="#000000" cx="6540" cy="-640.501" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6540" y="-636.301" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_51&#45;&gt;prose_70 -->
<g id="edge70" class="edge">
<title>section_51&#45;&gt;prose_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6610.3943,-982.5754C6606.1277,-968.3413 6600.2798,-948.0207 6596,-930.0016 6573.4145,-834.9109 6553.3701,-720.6367 6544.6384,-668.6809"/>
<polygon fill="#000000" stroke="#000000" points="6548.0492,-667.8563 6542.95,-658.5693 6541.1448,-669.0092 6548.0492,-667.8563"/>
</g>
<!-- codeblock_71 -->
<g id="node72" class="node">
<title>codeblock_71</title>
<ellipse fill="none" stroke="#000000" cx="6692" cy="-640.501" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6692" y="-636.301" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 194&#45;201</text>
</g>
<!-- section_51&#45;&gt;codeblock_71 -->
<g id="edge71" class="edge">
<title>section_51&#45;&gt;codeblock_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6619.8733,-982.4389C6632.2739,-923.6502 6671.0575,-739.7851 6686.0246,-668.8294"/>
<polygon fill="#000000" stroke="#000000" points="6689.4951,-669.3338 6688.1345,-658.8267 6682.6458,-667.889 6689.4951,-669.3338"/>
</g>
<!-- codeblock_72 -->
<g id="node73" class="node">
<title>codeblock_72</title>
<ellipse fill="none" stroke="#000000" cx="6955" cy="-640.501" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6955" y="-636.301" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 203&#45;210</text>
</g>
<!-- section_51&#45;&gt;codeblock_72 -->
<g id="edge72" class="edge">
<title>section_51&#45;&gt;codeblock_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6670.5699,-988.25C6707.1073,-977.6337 6754.4688,-959.3531 6788,-930.0016 6873.6962,-854.9872 6926.1559,-724.8139 6945.9672,-668.165"/>
<polygon fill="#000000" stroke="#000000" points="6949.3577,-669.0675 6949.2872,-658.4729 6942.7354,-666.7991 6949.3577,-669.0675"/>
</g>
<!-- codeblock_73 -->
<g id="node74" class="node">
<title>codeblock_73</title>
<ellipse fill="none" stroke="#000000" cx="7184" cy="-640.501" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7184" y="-636.301" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 212&#45;214</text>
</g>
<!-- section_51&#45;&gt;codeblock_73 -->
<g id="edge73" class="edge">
<title>section_51&#45;&gt;codeblock_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6690.1419,-997.0473C6799.1097,-990.1711 6995.6014,-972.1808 7051,-930.0016 7137.7928,-863.9194 7169.7932,-727.8307 7179.9122,-668.8244"/>
<polygon fill="#000000" stroke="#000000" points="7183.4018,-669.1706 7181.5552,-658.7379 7176.4929,-668.0451 7183.4018,-669.1706"/>
</g>
<!-- leaf_54 -->
<g id="node55" class="node">
<title>leaf_54</title>
<polygon fill="none" stroke="#c0c0c0" points="4990,-221.2002 4936,-221.2002 4936,-185.2002 4990,-185.2002 4990,-221.2002"/>
</g>
<!-- raw_53&#45;&gt;leaf_54 -->
<g id="edge54" class="edge">
<title>raw_53&#45;&gt;leaf_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4963,-622.2675C4963,-554.1996 4963,-314.6301 4963,-231.7042"/>
<polygon fill="#000000" stroke="#000000" points="4966.5001,-231.5116 4963,-221.5116 4959.5001,-231.5116 4966.5001,-231.5116"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="5459,-221.2002 5303,-221.2002 5303,-185.2002 5459,-185.2002 5459,-221.2002"/>
<text text-anchor="middle" x="5381" y="-199.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Historian:next()</text>
</g>
<!-- header_56&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>header_56&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5553.798,-622.3737C5542.7345,-576.0097 5510.6221,-449.8036 5467,-351.0005 5447.5248,-306.8895 5418.1436,-259.2563 5399.2659,-230.3268"/>
<polygon fill="#000000" stroke="#000000" points="5401.9549,-228.0462 5393.5318,-221.6195 5396.1087,-231.8962 5401.9549,-228.0462"/>
</g>
<!-- raw_60 -->
<g id="node61" class="node">
<title>raw_60</title>
<ellipse fill="none" stroke="#000000" cx="5504" cy="-203.2002" rx="27" ry="18"/>
<text text-anchor="middle" x="5504" y="-199.0002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_57&#45;&gt;raw_60 -->
<g id="edge60" class="edge">
<title>prose_57&#45;&gt;raw_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5694.2839,-622.3206C5702.1838,-572.4668 5716.8859,-431.9358 5649,-351.0005 5616.2137,-311.9118 5575.9402,-351.2104 5540,-315.0005 5517.7526,-292.5861 5509.2476,-256.3732 5505.9999,-231.2612"/>
<polygon fill="#000000" stroke="#000000" points="5509.4716,-230.8113 5504.9051,-221.2511 5502.5131,-231.5724 5509.4716,-230.8113"/>
</g>
<!-- prespace_61 -->
<g id="node62" class="node">
<title>prespace_61</title>
<ellipse fill="none" stroke="#000000" cx="5595" cy="-203.2002" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5595" y="-199.0002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_57&#45;&gt;prespace_61 -->
<g id="edge61" class="edge">
<title>prose_57&#45;&gt;prespace_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5689.6698,-622.2928C5686.0254,-576.2553 5674.4113,-451.7025 5649,-351.0005 5638.1179,-307.8761 5619.2371,-259.8258 5606.9324,-230.5562"/>
<polygon fill="#000000" stroke="#000000" points="5610.0133,-228.8573 5602.8783,-221.0252 5603.5719,-231.5973 5610.0133,-228.8573"/>
</g>
<!-- literal_62 -->
<g id="node63" class="node">
<title>literal_62</title>
<ellipse fill="none" stroke="#000000" cx="5691" cy="-203.2002" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5691" y="-199.0002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_57&#45;&gt;literal_62 -->
<g id="edge62" class="edge">
<title>prose_57&#45;&gt;literal_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5691,-622.2675C5691,-554.1996 5691,-314.6301 5691,-231.7042"/>
<polygon fill="#000000" stroke="#000000" points="5694.5001,-231.5116 5691,-221.5116 5687.5001,-231.5116 5694.5001,-231.5116"/>
</g>
<!-- raw_63 -->
<g id="node64" class="node">
<title>raw_63</title>
<ellipse fill="none" stroke="#000000" cx="5767" cy="-203.2002" rx="27" ry="18"/>
<text text-anchor="middle" x="5767" y="-199.0002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_57&#45;&gt;raw_63 -->
<g id="edge63" class="edge">
<title>prose_57&#45;&gt;raw_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5694.121,-622.543C5705.895,-554.7958 5747.6798,-314.3677 5762.0799,-231.5102"/>
<polygon fill="#000000" stroke="#000000" points="5765.5468,-232.0022 5763.8108,-221.5506 5758.6502,-230.8036 5765.5468,-232.0022"/>
</g>
<!-- leaf_68 -->
<g id="node69" class="node">
<title>leaf_68</title>
<polygon fill="none" stroke="#c0c0c0" points="6255.5,-314.801 5812.5,-314.801 5812.5,-91.5995 6255.5,-91.5995 6255.5,-314.801"/>
<text text-anchor="middle" x="6034" y="-299.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.next(historian)</text>
<text text-anchor="middle" x="6034" y="-284.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local delta = historian.cursor &lt; #historian and 1 or 0</text>
<text text-anchor="middle" x="6034" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if historian.cursor == 0 then</text>
<text text-anchor="middle" x="6034" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return Linebuf()</text>
<text text-anchor="middle" x="6034" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6034" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local linebuf= historian[historian.cursor + delta]:clone()</text>
<text text-anchor="middle" x="6034" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.cursor = historian.cursor + delta</text>
<text text-anchor="middle" x="6034" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.cursor = #linebuf.line + 1</text>
<text text-anchor="middle" x="6034" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not (delta &gt; 0) and #linebuf.line &gt; 0 then</text>
<text text-anchor="middle" x="6034" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return linebuf, true</text>
<text text-anchor="middle" x="6034" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="6034" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return linebuf, false</text>
<text text-anchor="middle" x="6034" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6034" y="-99.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_58&#45;&gt;leaf_68 -->
<g id="edge68" class="edge">
<title>codeblock_58&#45;&gt;leaf_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5935.2946,-622.2675C5947.0605,-572.314 5980.582,-429.9938 6005.3104,-325.006"/>
<polygon fill="#000000" stroke="#000000" points="6008.7891,-325.5029 6007.675,-314.9668 6001.9755,-323.898 6008.7891,-325.5029"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="5551,-55.6015 5073,-55.6015 5073,.2015 5551,.2015 5551,-55.6015"/>
<text text-anchor="middle" x="5312" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">Returns the next linebuf in history, and a second flag to tell the</text>
</g>
<!-- raw_60&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>raw_60&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5502.7967,-184.9823C5500.261,-160.696 5492.3926,-117.7247 5468,-91.4 5456.1989,-78.6642 5441.4846,-68.4098 5425.8423,-60.1709"/>
<polygon fill="#000000" stroke="#000000" points="5427.0531,-56.8643 5416.5402,-55.5493 5423.9385,-63.1332 5427.0531,-56.8643"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="5623,-45.7 5569,-45.7 5569,-9.7 5623,-9.7 5623,-45.7"/>
</g>
<!-- prespace_61&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>prespace_61&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5595.1033,-185.0797C5595.2774,-154.5231 5595.6306,-92.5279 5595.838,-56.1322"/>
<polygon fill="#000000" stroke="#000000" points="5599.3402,-55.7418 5595.8973,-45.722 5592.3403,-55.7019 5599.3402,-55.7418"/>
</g>
<!-- leaf_66 -->
<g id="node67" class="node">
<title>leaf_66</title>
<polygon fill="none" stroke="#c0c0c0" points="5741,-45.7 5641,-45.7 5641,-9.7 5741,-9.7 5741,-45.7"/>
<text text-anchor="middle" x="5691" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">modeselektor</text>
</g>
<!-- literal_62&#45;&gt;leaf_66 -->
<g id="edge66" class="edge">
<title>literal_62&#45;&gt;leaf_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5691,-185.0797C5691,-154.5231 5691,-92.5279 5691,-56.1322"/>
<polygon fill="#000000" stroke="#000000" points="5694.5001,-55.722 5691,-45.722 5687.5001,-55.7221 5694.5001,-55.722"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="5999,-45.7 5759,-45.7 5759,-9.7 5999,-9.7 5999,-45.7"/>
<text text-anchor="middle" x="5879" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> it might be time for a new one.</text>
</g>
<!-- raw_63&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>raw_63&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5769.6171,-185.1968C5773.6782,-161.9061 5783.1902,-120.8356 5803,-91.4 5813.2851,-76.1174 5828.2495,-62.4818 5842.1849,-51.7863"/>
<polygon fill="#000000" stroke="#000000" points="5844.2685,-54.5985 5850.2278,-45.8385 5840.1064,-48.9703 5844.2685,-54.5985"/>
</g>
<!-- leaf_74 -->
<g id="node75" class="node">
<title>leaf_74</title>
<polygon fill="none" stroke="#c0c0c0" points="6444,-221.2002 6274,-221.2002 6274,-185.2002 6444,-185.2002 6444,-221.2002"/>
<text text-anchor="middle" x="6359" y="-199.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Historian:append()</text>
</g>
<!-- header_69&#45;&gt;leaf_74 -->
<g id="edge74" class="edge">
<title>header_69&#45;&gt;leaf_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6365.7081,-622.2675C6364.6185,-554.1996 6360.7837,-314.6301 6359.4563,-231.7042"/>
<polygon fill="#000000" stroke="#000000" points="6362.9528,-231.4543 6359.2931,-221.5116 6355.9537,-231.5664 6362.9528,-231.4543"/>
</g>
<!-- raw_75 -->
<g id="node76" class="node">
<title>raw_75</title>
<ellipse fill="none" stroke="#000000" cx="6489" cy="-203.2002" rx="27" ry="18"/>
<text text-anchor="middle" x="6489" y="-199.0002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_70&#45;&gt;raw_75 -->
<g id="edge75" class="edge">
<title>prose_70&#45;&gt;raw_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6537.8735,-622.2675C6529.927,-554.1301 6501.9384,-314.141 6492.2947,-231.4509"/>
<polygon fill="#000000" stroke="#000000" points="6495.7705,-231.0388 6491.1356,-221.5116 6488.8176,-231.8498 6495.7705,-231.0388"/>
</g>
<!-- leaf_77 -->
<g id="node78" class="node">
<title>leaf_77</title>
<polygon fill="none" stroke="#c0c0c0" points="6865.5,-253.6012 6534.5,-253.6012 6534.5,-152.7993 6865.5,-152.7993 6865.5,-253.6012"/>
<text text-anchor="middle" x="6700" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.append(historian, linebuf)</text>
<text text-anchor="middle" x="6700" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian[#historian + 1] = linebuf</text>
<text text-anchor="middle" x="6700" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.cursor = #historian</text>
<text text-anchor="middle" x="6700" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian:persist(linebuf)</text>
<text text-anchor="middle" x="6700" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return true</text>
<text text-anchor="middle" x="6700" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_71&#45;&gt;leaf_77 -->
<g id="edge77" class="edge">
<title>codeblock_71&#45;&gt;leaf_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6692.3336,-622.2675C6693.4443,-561.5533 6697.0511,-364.3925 6698.8941,-263.6522"/>
<polygon fill="#000000" stroke="#000000" points="6702.394,-263.6859 6699.0776,-253.6235 6695.3951,-263.5578 6702.394,-263.6859"/>
</g>
<!-- leaf_78 -->
<g id="node79" class="node">
<title>leaf_78</title>
<polygon fill="none" stroke="#c0c0c0" points="7152,-253.6012 6884,-253.6012 6884,-152.7993 7152,-152.7993 7152,-253.6012"/>
<text text-anchor="middle" x="7018" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new()</text>
<text text-anchor="middle" x="7018" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local historian = meta(Historian)</text>
<text text-anchor="middle" x="7018" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian:load()</text>
<text text-anchor="middle" x="7018" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return historian</text>
<text text-anchor="middle" x="7018" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="7018" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">Historian.idEst = new</text>
</g>
<!-- codeblock_72&#45;&gt;leaf_78 -->
<g id="edge78" class="edge">
<title>codeblock_72&#45;&gt;leaf_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6957.6268,-622.2675C6966.3736,-561.5533 6994.7777,-364.3925 7009.2909,-263.6522"/>
<polygon fill="#000000" stroke="#000000" points="7012.774,-264.0204 7010.7357,-253.6235 7005.8455,-263.0222 7012.774,-264.0204"/>
</g>
<!-- leaf_79 -->
<g id="node80" class="node">
<title>leaf_79</title>
<polygon fill="none" stroke="#c0c0c0" points="7256,-221.2002 7170,-221.2002 7170,-185.2002 7256,-185.2002 7256,-221.2002"/>
<text text-anchor="middle" x="7213" y="-199.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">return new</text>
</g>
<!-- codeblock_73&#45;&gt;leaf_79 -->
<g id="edge79" class="edge">
<title>codeblock_73&#45;&gt;leaf_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7185.2092,-622.2675C7189.7232,-554.1996 7205.6104,-314.6301 7211.1097,-231.7042"/>
<polygon fill="#000000" stroke="#000000" points="7214.6162,-231.7213 7211.7857,-221.5116 7207.6315,-231.2581 7214.6162,-231.7213"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="6516,-45.7 6462,-45.7 6462,-9.7 6516,-9.7 6516,-45.7"/>
</g>
<!-- raw_75&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>raw_75&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6489,-185.0797C6489,-154.5231 6489,-92.5279 6489,-56.1322"/>
<polygon fill="#000000" stroke="#000000" points="6492.5001,-55.722 6489,-45.722 6485.5001,-55.7221 6492.5001,-55.722"/>
</g>
</g>
</svg>
