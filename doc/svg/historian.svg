<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="14037pt" height="2190pt"
 viewBox="0.00 0.00 14037.00 2190.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2186.2032)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2186.2032 14033,-2186.2032 14033,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1806" cy="-2164.2032" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="1806" y="-2160.0032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 342</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1806" cy="-2092.2032" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1806" y="-2088.0032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;263</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1806,-2146.0346C1806,-2138.3342 1806,-2129.1776 1806,-2120.6198"/>
<polygon fill="#000000" stroke="#000000" points="1809.5001,-2120.6164 1806,-2110.6165 1802.5001,-2120.6165 1809.5001,-2120.6164"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="1383" cy="-2020.2032" rx="57.0821" ry="18"/>
<text text-anchor="middle" x="1383" y="-2016.0032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Historian</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1745.7149,-2084.8459C1675.1794,-2075.8076 1555.0436,-2059.0738 1453,-2038.2032 1447.6215,-2037.1032 1442.037,-2035.8534 1436.4738,-2034.5372"/>
<polygon fill="#000000" stroke="#000000" points="1437.0769,-2031.0818 1426.5325,-2032.1144 1435.4193,-2037.8828 1437.0769,-2031.0818"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="1494" cy="-2020.2032" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1494" y="-2016.0032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1747.191,-2084.0467C1691.8997,-2075.5362 1607.2172,-2060.3226 1536,-2038.2032 1533.5472,-2037.4414 1531.0431,-2036.5844 1528.5399,-2035.6685"/>
<polygon fill="#000000" stroke="#000000" points="1529.5872,-2032.3195 1518.9998,-2031.9204 1527.0274,-2038.8348 1529.5872,-2032.3195"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="1577" cy="-2020.2032" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1577" y="-2016.0032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1757.4359,-2079.9484C1719.3795,-2069.9221 1665.3029,-2054.7391 1619,-2038.2032 1616.5813,-2037.3394 1614.1026,-2036.4062 1611.6178,-2035.435"/>
<polygon fill="#000000" stroke="#000000" points="1612.6994,-2032.0964 1602.1178,-2031.5669 1610.0596,-2038.5796 1612.6994,-2032.0964"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="1660" cy="-2020.2032" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1660" y="-2016.0032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1773.9597,-2076.4025C1750.0983,-2064.6353 1717.6044,-2048.6108 1693.4189,-2036.6838"/>
<polygon fill="#000000" stroke="#000000" points="1694.7832,-2033.4541 1684.2664,-2032.1702 1691.6871,-2039.7322 1694.7832,-2033.4541"/>
</g>
<!-- prose_6 -->
<g id="node7" class="node">
<title>prose_6</title>
<ellipse fill="none" stroke="#000000" cx="1742" cy="-2020.2032" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1742" y="-2016.0032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;prose_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1790.1798,-2074.4055C1782.1184,-2065.3364 1772.1979,-2054.1758 1763.4584,-2044.3439"/>
<polygon fill="#000000" stroke="#000000" points="1766.0204,-2041.9579 1756.7607,-2036.809 1760.7885,-2046.6084 1766.0204,-2041.9579"/>
</g>
<!-- codeblock_7 -->
<g id="node8" class="node">
<title>codeblock_7</title>
<ellipse fill="none" stroke="#000000" cx="1870" cy="-2020.2032" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1870" y="-2016.0032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 16&#45;25</text>
</g>
<!-- section_1&#45;&gt;codeblock_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;codeblock_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1821.8202,-2074.4055C1829.5126,-2065.7515 1838.8978,-2055.1932 1847.3344,-2045.7021"/>
<polygon fill="#000000" stroke="#000000" points="1850.1122,-2047.8452 1854.14,-2038.0458 1844.8803,-2043.1946 1850.1122,-2047.8452"/>
</g>
<!-- codeblock_8 -->
<g id="node9" class="node">
<title>codeblock_8</title>
<ellipse fill="none" stroke="#000000" cx="2087" cy="-2020.2032" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2087" y="-2016.0032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 27&#45;29</text>
</g>
<!-- section_1&#45;&gt;codeblock_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;codeblock_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1853.9863,-2079.9078C1901.2571,-2067.7957 1973.679,-2049.2392 2025.2255,-2036.0316"/>
<polygon fill="#000000" stroke="#000000" points="2026.1011,-2039.4203 2034.9194,-2033.5477 2024.3636,-2032.6394 2026.1011,-2039.4203"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="5520" cy="-2020.2032" rx="70.655" ry="18"/>
<text text-anchor="middle" x="5520" y="-2016.0032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 32&#45;167</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1871.6439,-2090.9306C2321.2831,-2082.2139 4943.3562,-2031.3821 5439.1329,-2021.7709"/>
<polygon fill="#000000" stroke="#000000" points="5439.4823,-2025.2649 5449.4125,-2021.5716 5439.3465,-2018.2662 5439.4823,-2025.2649"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="10503" cy="-2020.2032" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="10503" y="-2016.0032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 218&#45;263</text>
</g>
<!-- section_1&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1871.9283,-2091.6574C2623.6188,-2085.4344 9565.9668,-2027.9606 10417.5151,-2020.9109"/>
<polygon fill="#000000" stroke="#000000" points="10417.5772,-2024.4106 10427.5479,-2020.8279 10417.5192,-2017.4109 10417.5772,-2024.4106"/>
</g>
<!-- section_11 -->
<g id="node12" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="11532" cy="-2020.2032" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="11532" y="-2016.0032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 264&#45;310</text>
</g>
<!-- section_1&#45;&gt;section_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;section_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1872.0548,-2092.1234C2466.0808,-2091.3386 6950.3842,-2084.0177 10587,-2038.2032 10904.009,-2034.2095 11280.7753,-2025.9915 11446.5379,-2022.2001"/>
<polygon fill="#000000" stroke="#000000" points="11446.7526,-2025.6962 11456.6698,-2021.9679 11446.5922,-2018.6981 11446.7526,-2025.6962"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="1428.5,-1918.6031 1335.5,-1918.6031 1335.5,-1882.6031 1428.5,-1882.6031 1428.5,-1918.6031"/>
<text text-anchor="middle" x="1382" y="-1897.1031" font-family="Inconsolata" font-size="14.00" fill="#000000">* Historian</text>
</g>
<!-- header_2&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>header_2&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1382.8481,-2002.0385C1382.6859,-1982.6325 1382.4265,-1951.6132 1382.2373,-1928.981"/>
<polygon fill="#000000" stroke="#000000" points="1385.7369,-1928.9091 1382.1533,-1918.9387 1378.7371,-1928.9677 1385.7369,-1928.9091"/>
</g>
<!-- raw_13 -->
<g id="node14" class="node">
<title>raw_13</title>
<ellipse fill="none" stroke="#000000" cx="1474" cy="-1900.6031" rx="27" ry="18"/>
<text text-anchor="middle" x="1474" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_13 -->
<g id="edge13" class="edge">
<title>prose_3&#45;&gt;raw_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1490.9624,-2002.0385C1487.6984,-1982.5196 1482.4697,-1951.2521 1478.6796,-1928.5871"/>
<polygon fill="#000000" stroke="#000000" points="1482.1021,-1927.8326 1477.0006,-1918.5468 1475.198,-1928.9872 1482.1021,-1927.8326"/>
</g>
<!-- raw_15 -->
<g id="node16" class="node">
<title>raw_15</title>
<ellipse fill="none" stroke="#000000" cx="1546" cy="-1900.6031" rx="27" ry="18"/>
<text text-anchor="middle" x="1546" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_15 -->
<g id="edge15" class="edge">
<title>prose_4&#45;&gt;raw_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1572.359,-2002.2979C1567.291,-1982.7453 1559.1105,-1951.1845 1553.2061,-1928.4047"/>
<polygon fill="#000000" stroke="#000000" points="1556.5699,-1927.4328 1550.6727,-1918.6308 1549.7938,-1929.1892 1556.5699,-1927.4328"/>
</g>
<!-- raw_17 -->
<g id="node18" class="node">
<title>raw_17</title>
<ellipse fill="none" stroke="#000000" cx="1618" cy="-1900.6031" rx="27" ry="18"/>
<text text-anchor="middle" x="1618" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_17 -->
<g id="edge17" class="edge">
<title>prose_5&#45;&gt;raw_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1653.7122,-2002.2979C1646.7751,-1982.5437 1635.5337,-1950.5324 1627.5166,-1927.7028"/>
<polygon fill="#000000" stroke="#000000" points="1630.8094,-1926.5159 1624.1937,-1918.2405 1624.2048,-1928.8353 1630.8094,-1926.5159"/>
</g>
<!-- raw_19 -->
<g id="node20" class="node">
<title>raw_19</title>
<ellipse fill="none" stroke="#000000" cx="1690" cy="-1900.6031" rx="27" ry="18"/>
<text text-anchor="middle" x="1690" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_19 -->
<g id="edge19" class="edge">
<title>prose_6&#45;&gt;raw_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1734.3272,-2002.5558C1725.6753,-1982.6563 1711.5143,-1950.086 1701.5301,-1927.1225"/>
<polygon fill="#000000" stroke="#000000" points="1704.7323,-1925.7092 1697.5352,-1917.9341 1698.3128,-1928.5003 1704.7323,-1925.7092"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="2017,-1966.3035 1735,-1966.3035 1735,-1834.9027 2017,-1834.9027 2017,-1966.3035"/>
<text text-anchor="middle" x="1876" y="-1951.0032" font-family="Inconsolata" font-size="14.00" fill="#000000">local Linebuf = require &quot;linebuf&quot;</text>
<text text-anchor="middle" x="1876" y="-1935.6032" font-family="Inconsolata" font-size="14.00" fill="#000000">local sql &#160;&#160;&#160;&#160;= require &quot;sqlayer&quot;</text>
<text text-anchor="middle" x="1876" y="-1920.2032" font-family="Inconsolata" font-size="14.00" fill="#000000">local color &#160;&#160;= require &quot;color&quot;</text>
<text text-anchor="middle" x="1876" y="-1904.8031" font-family="Inconsolata" font-size="14.00" fill="#000000">local L &#160;&#160;&#160;&#160;&#160;&#160;= require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1876" y="-1889.4031" font-family="Inconsolata" font-size="14.00" fill="#000000">local format &#160;= assert (string.format)</text>
<text text-anchor="middle" x="1876" y="-1874.0031" font-family="Inconsolata" font-size="14.00" fill="#000000">local sub &#160;&#160;&#160;&#160;= assert (string.sub)</text>
<text text-anchor="middle" x="1876" y="-1858.603" font-family="Inconsolata" font-size="14.00" fill="#000000">local reverse = assert (table.reverse)</text>
<text text-anchor="middle" x="1876" y="-1843.203" font-family="Inconsolata" font-size="14.00" fill="#000000">assert(meta)</text>
</g>
<!-- codeblock_7&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>codeblock_7&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1870.9113,-2002.0385C1871.2762,-1994.7635 1871.7231,-1985.8565 1872.1989,-1976.3711"/>
<polygon fill="#000000" stroke="#000000" points="1875.6976,-1976.4839 1872.7031,-1966.3211 1868.7064,-1976.1331 1875.6976,-1976.4839"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="2226.5,-1918.6031 2035.5,-1918.6031 2035.5,-1882.6031 2226.5,-1882.6031 2226.5,-1918.6031"/>
<text text-anchor="middle" x="2131" y="-1897.1031" font-family="Inconsolata" font-size="14.00" fill="#000000">local Historian = meta {}</text>
</g>
<!-- codeblock_8&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>codeblock_8&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2093.6827,-2002.0385C2100.8866,-1982.4568 2112.4407,-1951.0508 2120.7853,-1928.3687"/>
<polygon fill="#000000" stroke="#000000" points="2124.0865,-1929.5322 2124.2545,-1918.9387 2117.5169,-1927.1153 2124.0865,-1929.5322"/>
</g>
<!-- header_23 -->
<g id="node24" class="node">
<title>header_23</title>
<ellipse fill="none" stroke="#000000" cx="2313" cy="-1900.6031" rx="68.6997" ry="18"/>
<text text-anchor="middle" x="2313" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Persistence</text>
</g>
<!-- section_9&#45;&gt;header_23 -->
<g id="edge23" class="edge">
<title>section_9&#45;&gt;header_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5449.0924,-2019.6336C4990.8999,-2015.8738 2465.0166,-1993.9163 2391,-1966.2032 2368.9868,-1957.9611 2348.8161,-1940.6083 2334.5033,-1925.8196"/>
<polygon fill="#000000" stroke="#000000" points="2336.9513,-1923.3127 2327.5739,-1918.3817 2331.8296,-1928.0843 2336.9513,-1923.3127"/>
</g>
<!-- prose_24 -->
<g id="node25" class="node">
<title>prose_24</title>
<ellipse fill="none" stroke="#000000" cx="2432" cy="-1900.6031" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2432" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_24 -->
<g id="edge24" class="edge">
<title>section_9&#45;&gt;prose_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5449.2235,-2019.6487C5042.6064,-2016.3536 3012.3271,-1998.3912 2736,-1966.2032 2639.3686,-1954.9471 2528.1658,-1927.0387 2470.7728,-1911.495"/>
<polygon fill="#000000" stroke="#000000" points="2471.6005,-1908.0929 2461.0317,-1908.8352 2469.7566,-1914.8457 2471.6005,-1908.0929"/>
</g>
<!-- prose_25 -->
<g id="node26" class="node">
<title>prose_25</title>
<ellipse fill="none" stroke="#000000" cx="2777" cy="-1900.6031" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2777" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_25 -->
<g id="edge25" class="edge">
<title>section_9&#45;&gt;prose_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5449.7891,-2017.718C5245.7817,-2010.4451 4635.4306,-1988.319 4129,-1966.2032 3613.2548,-1943.6807 2987.0899,-1911.5068 2819.7827,-1902.83"/>
<polygon fill="#000000" stroke="#000000" points="2819.6001,-1899.3159 2809.4321,-1902.2929 2819.2373,-1906.3065 2819.6001,-1899.3159"/>
</g>
<!-- prose_26 -->
<g id="node27" class="node">
<title>prose_26</title>
<ellipse fill="none" stroke="#000000" cx="4170" cy="-1900.6031" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4170" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_26 -->
<g id="edge26" class="edge">
<title>section_9&#45;&gt;prose_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5453.0533,-2014.2722C5213.914,-1993.0862 4405.8118,-1921.4943 4212.0241,-1904.3261"/>
<polygon fill="#000000" stroke="#000000" points="4212.2289,-1900.8306 4201.959,-1903.4344 4211.6111,-1907.8033 4212.2289,-1900.8306"/>
</g>
<!-- prose_27 -->
<g id="node28" class="node">
<title>prose_27</title>
<ellipse fill="none" stroke="#000000" cx="5098" cy="-1900.6031" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5098" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_27 -->
<g id="edge27" class="edge">
<title>section_9&#45;&gt;prose_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5472.4115,-2006.716C5388.1412,-1982.8328 5214.2674,-1933.5547 5136.7596,-1911.5881"/>
<polygon fill="#000000" stroke="#000000" points="5137.4949,-1908.1586 5126.9194,-1908.7992 5135.5861,-1914.8934 5137.4949,-1908.1586"/>
</g>
<!-- prose_28 -->
<g id="node29" class="node">
<title>prose_28</title>
<ellipse fill="none" stroke="#000000" cx="5769" cy="-1900.6031" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5769" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_28 -->
<g id="edge28" class="edge">
<title>section_9&#45;&gt;prose_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5553.3229,-2004.1975C5600.8067,-1981.39 5687.4604,-1939.7683 5735.2032,-1916.8364"/>
<polygon fill="#000000" stroke="#000000" points="5736.9925,-1919.8599 5744.4912,-1912.3752 5733.9617,-1913.55 5736.9925,-1919.8599"/>
</g>
<!-- prose_29 -->
<g id="node30" class="node">
<title>prose_29</title>
<ellipse fill="none" stroke="#000000" cx="6181" cy="-1900.6031" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6181" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_29 -->
<g id="edge29" class="edge">
<title>section_9&#45;&gt;prose_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5577.7913,-2009.7466C5709.1118,-1985.9857 6027.3098,-1928.4115 6140.3336,-1907.9612"/>
<polygon fill="#000000" stroke="#000000" points="6141.0901,-1911.3812 6150.3071,-1906.1566 6139.8437,-1904.4931 6141.0901,-1911.3812"/>
</g>
<!-- prose_30 -->
<g id="node31" class="node">
<title>prose_30</title>
<ellipse fill="none" stroke="#000000" cx="7431" cy="-1900.6031" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7431" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_30 -->
<g id="edge30" class="edge">
<title>section_9&#45;&gt;prose_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5588.5769,-2015.9113C5895.8418,-1996.6811 7141.611,-1918.7145 7388.3953,-1903.2695"/>
<polygon fill="#000000" stroke="#000000" points="7388.971,-1906.7404 7398.7328,-1902.6225 7388.5337,-1899.7541 7388.971,-1906.7404"/>
</g>
<!-- section_31 -->
<g id="node32" class="node">
<title>section_31</title>
<ellipse fill="none" stroke="#000000" cx="7995" cy="-1900.6031" rx="70.655" ry="18"/>
<text text-anchor="middle" x="7995" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 59&#45;130</text>
</g>
<!-- section_9&#45;&gt;section_31 -->
<g id="edge31" class="edge">
<title>section_9&#45;&gt;section_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5590.6678,-2019.1698C5894.989,-2014.5772 7095.303,-1994.97 7472,-1966.2032 7634.7563,-1953.7742 7824.6171,-1926.8172 7924.7938,-1911.6118"/>
<polygon fill="#000000" stroke="#000000" points="7925.4345,-1915.0547 7934.793,-1910.0878 7924.3798,-1908.1346 7925.4345,-1915.0547"/>
</g>
<!-- section_32 -->
<g id="node33" class="node">
<title>section_32</title>
<ellipse fill="none" stroke="#000000" cx="8804" cy="-1900.6031" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8804" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 131&#45;167</text>
</g>
<!-- section_9&#45;&gt;section_32 -->
<g id="edge32" class="edge">
<title>section_9&#45;&gt;section_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5590.6862,-2019.3663C5949.4876,-2015.018 7571.7867,-1994.1291 8075,-1966.2032 8312.4217,-1953.0275 8592.2567,-1924.0635 8725.6463,-1909.4321"/>
<polygon fill="#000000" stroke="#000000" points="8726.2128,-1912.891 8735.7701,-1908.3183 8725.4473,-1905.933 8726.2128,-1912.891"/>
</g>
<!-- section_33 -->
<g id="node34" class="node">
<title>section_33</title>
<ellipse fill="none" stroke="#000000" cx="9769" cy="-1900.6031" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9769" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 168&#45;217</text>
</g>
<!-- section_9&#45;&gt;section_33 -->
<g id="edge33" class="edge">
<title>section_9&#45;&gt;section_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5590.7811,-2019.6316C6013.9053,-2016.1293 8213.2482,-1996.7078 8888,-1966.2032 9183.2477,-1952.8555 9533.1843,-1922.4335 9688.193,-1908.2043"/>
<polygon fill="#000000" stroke="#000000" points="9688.929,-1911.6515 9698.5661,-1907.2496 9688.2874,-1904.6809 9688.929,-1911.6515"/>
</g>
<!-- header_152 -->
<g id="node153" class="node">
<title>header_152</title>
<ellipse fill="none" stroke="#000000" cx="10424" cy="-1900.6031" rx="107.339" ry="18"/>
<text text-anchor="middle" x="10424" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Historian:search(frag)</text>
</g>
<!-- section_10&#45;&gt;header_152 -->
<g id="edge152" class="edge">
<title>section_10&#45;&gt;header_152</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10491.1729,-2002.2979C10478.0251,-1982.393 10456.6569,-1950.0432 10441.5563,-1927.182"/>
<polygon fill="#000000" stroke="#000000" points="10444.3399,-1925.0458 10435.908,-1918.6308 10438.4991,-1928.904 10444.3399,-1925.0458"/>
</g>
<!-- prose_153 -->
<g id="node154" class="node">
<title>prose_153</title>
<ellipse fill="none" stroke="#000000" cx="10582" cy="-1900.6031" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10582" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_153 -->
<g id="edge153" class="edge">
<title>section_10&#45;&gt;prose_153</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10515.4746,-2002.2984C10522.7161,-1991.8301 10531.9661,-1978.3301 10540,-1966.2032 10548.6297,-1953.1768 10558.0256,-1938.5454 10565.738,-1926.4115"/>
<polygon fill="#000000" stroke="#000000" points="10568.8701,-1928.0076 10571.2669,-1917.6874 10562.9575,-1924.2604 10568.8701,-1928.0076"/>
</g>
<!-- codeblock_154 -->
<g id="node155" class="node">
<title>codeblock_154</title>
<ellipse fill="none" stroke="#000000" cx="10812" cy="-1900.6031" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="10812" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 220&#45;261</text>
</g>
<!-- section_10&#45;&gt;codeblock_154 -->
<g id="edge154" class="edge">
<title>section_10&#45;&gt;codeblock_154</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10542.7638,-2004.8124C10598.6186,-1983.1935 10700.3073,-1943.8344 10761.4602,-1920.1648"/>
<polygon fill="#000000" stroke="#000000" points="10762.8511,-1923.3795 10770.9136,-1916.5058 10760.3244,-1916.8515 10762.8511,-1923.3795"/>
</g>
<!-- header_159 -->
<g id="node160" class="node">
<title>header_159</title>
<ellipse fill="none" stroke="#000000" cx="11281" cy="-1900.6031" rx="82.6821" ry="18"/>
<text text-anchor="middle" x="11281" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Historian:prev()</text>
</g>
<!-- section_11&#45;&gt;header_159 -->
<g id="edge159" class="edge">
<title>section_11&#45;&gt;header_159</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11495.587,-2004.2866C11471.7045,-1993.7321 11439.857,-1979.439 11412,-1966.2032 11381.8198,-1951.8636 11348.118,-1934.9666 11322.4561,-1921.9129"/>
<polygon fill="#000000" stroke="#000000" points="11323.8856,-1918.7131 11313.3869,-1917.2893 11320.7063,-1924.9494 11323.8856,-1918.7131"/>
</g>
<!-- prose_160 -->
<g id="node161" class="node">
<title>prose_160</title>
<ellipse fill="none" stroke="#000000" cx="11453" cy="-1900.6031" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11453" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_160 -->
<g id="edge160" class="edge">
<title>section_11&#45;&gt;prose_160</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11520.1729,-2002.2979C11506.8731,-1982.1629 11485.1618,-1949.2936 11470.0351,-1926.393"/>
<polygon fill="#000000" stroke="#000000" points="11472.8263,-1924.2683 11464.3944,-1917.8533 11466.9855,-1928.1264 11472.8263,-1924.2683"/>
</g>
<!-- codeblock_161 -->
<g id="node162" class="node">
<title>codeblock_161</title>
<ellipse fill="none" stroke="#000000" cx="11601" cy="-1900.6031" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11601" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 266&#45;278</text>
</g>
<!-- section_11&#45;&gt;codeblock_161 -->
<g id="edge161" class="edge">
<title>section_11&#45;&gt;codeblock_161</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11542.33,-2002.2979C11553.7627,-1982.4811 11572.3118,-1950.3293 11585.4906,-1927.486"/>
<polygon fill="#000000" stroke="#000000" points="11588.6338,-1929.0418 11590.5994,-1918.6308 11582.5705,-1925.5437 11588.6338,-1929.0418"/>
</g>
<!-- section_162 -->
<g id="node163" class="node">
<title>section_162</title>
<ellipse fill="none" stroke="#000000" cx="12037" cy="-1900.6031" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="12037" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 281&#45;310</text>
</g>
<!-- section_11&#45;&gt;section_162 -->
<g id="edge162" class="edge">
<title>section_11&#45;&gt;section_162</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11585.5657,-2007.5171C11679.3143,-1985.3145 11872.7003,-1939.5145 11973.2049,-1915.7118"/>
<polygon fill="#000000" stroke="#000000" points="11974.2992,-1919.0495 11983.2234,-1913.3391 11972.686,-1912.238 11974.2992,-1919.0495"/>
</g>
<!-- section_163 -->
<g id="node164" class="node">
<title>section_163</title>
<ellipse fill="none" stroke="#000000" cx="12964" cy="-1900.6031" rx="74.6878" ry="18"/>
<text text-anchor="middle" x="12964" y="-1896.4031" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 311&#45;342</text>
</g>
<!-- section_11&#45;&gt;section_163 -->
<g id="edge163" class="edge">
<title>section_11&#45;&gt;section_163</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11603.503,-2014.2313C11844.7082,-1994.0859 12627.5571,-1928.7027 12882.7532,-1907.3888"/>
<polygon fill="#000000" stroke="#000000" points="12883.3843,-1910.8484 12893.0583,-1906.5281 12882.8017,-1903.8726 12883.3843,-1910.8484"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="324,-1522.0035 0,-1522.0035 0,-1450.2012 324,-1450.2012 324,-1522.0035"/>
<text text-anchor="middle" x="162" y="-1458.6024" font-family="Inconsolata" font-size="14.00" fill="#000000">This module is responsible for REPL history.</text>
</g>
<!-- raw_13&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>raw_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1469.2603,-1882.6304C1464.1116,-1867.0597 1454.2199,-1845.4407 1437,-1835.003 1332.0438,-1771.3845 437.5278,-1863.3229 333,-1799.003 235.8874,-1739.2459 189.9966,-1603.4976 171.8927,-1532.0439"/>
<polygon fill="#000000" stroke="#000000" points="175.206,-1530.8604 169.4204,-1521.9848 168.4083,-1532.5312 175.206,-1530.8604"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="897.5,-1513.4028 342.5,-1513.4028 342.5,-1458.802 897.5,-1458.802 897.5,-1513.4028"/>
<text text-anchor="middle" x="620" y="-1482.3024" font-family="Inconsolata" font-size="14.00" fill="#000000">Eventually this will include persisting and restoring from a SQLite database,</text>
<text text-anchor="middle" x="620" y="-1466.9024" font-family="Inconsolata" font-size="14.00" fill="#000000">fuzzy searching, and variable cacheing.</text>
</g>
<!-- raw_15&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>raw_15&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1541.4601,-1882.7549C1536.4988,-1867.2681 1526.9051,-1845.7022 1510,-1835.003 1396.5705,-1763.2133 1028.2178,-1856.6766 907,-1799.003 778.3195,-1737.7787 680.3217,-1590.5868 640.0477,-1522.1794"/>
<polygon fill="#000000" stroke="#000000" points="643.0277,-1520.3414 634.9746,-1513.4567 636.9766,-1523.8607 643.0277,-1520.3414"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="1464,-1513.4028 916,-1513.4028 916,-1458.802 1464,-1458.802 1464,-1513.4028"/>
<text text-anchor="middle" x="1190" y="-1482.3024" font-family="Inconsolata" font-size="14.00" fill="#000000">Currently does the basic job of retaining history and not letting subsequent</text>
<text text-anchor="middle" x="1190" y="-1466.9024" font-family="Inconsolata" font-size="14.00" fill="#000000">edits munge it.</text>
</g>
<!-- raw_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>raw_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1612.4099,-1882.8804C1606.8952,-1868.1181 1597.0799,-1847.5492 1582,-1835.003 1542.7807,-1802.373 1515.7512,-1826.8454 1473,-1799.003 1356.0536,-1722.8398 1256.4186,-1586.715 1213.11,-1522.078"/>
<polygon fill="#000000" stroke="#000000" points="1215.8249,-1519.8395 1207.3768,-1513.4456 1209.9937,-1523.7122 1215.8249,-1519.8395"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="2030,-1521.4027 1482,-1521.4027 1482,-1450.802 2030,-1450.802 2030,-1521.4027"/>
<text text-anchor="middle" x="1756" y="-1490.3024" font-family="Inconsolata" font-size="14.00" fill="#000000">Next step: now that we clone a new linebuf each time, we have an immutable</text>
<text text-anchor="middle" x="1756" y="-1474.9024" font-family="Inconsolata" font-size="14.00" fill="#000000">record. &#160;We should store the line as a string, to facilitate fuzzy matching.</text>
</g>
<!-- raw_19&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>raw_19&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1692.8784,-1882.526C1702.5897,-1821.536 1734.3431,-1622.1143 1748.7614,-1531.5628"/>
<polygon fill="#000000" stroke="#000000" points="1752.2329,-1532.0186 1750.349,-1521.5926 1745.32,-1530.9178 1752.2329,-1532.0186"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2162,-1504.1024 2048,-1504.1024 2048,-1468.1024 2162,-1468.1024 2162,-1504.1024"/>
<text text-anchor="middle" x="2105" y="-1482.6024" font-family="Inconsolata" font-size="14.00" fill="#000000">** Persistence</text>
</g>
<!-- header_23&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>header_23&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2294.2485,-1883.108C2278.9263,-1869.246 2256.3814,-1849.8144 2235,-1835.003 2208.1724,-1816.4189 2190.31,-1825.3129 2171,-1799.003 2106.3679,-1710.9413 2102.0982,-1573.4124 2103.5836,-1514.4724"/>
<polygon fill="#000000" stroke="#000000" points="2107.0838,-1514.5209 2103.9147,-1504.4112 2100.0876,-1514.2906 2107.0838,-1514.5209"/>
</g>
<!-- raw_35 -->
<g id="node36" class="node">
<title>raw_35</title>
<ellipse fill="none" stroke="#000000" cx="2207" cy="-1486.1024" rx="27" ry="18"/>
<text text-anchor="middle" x="2207" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_24&#45;&gt;raw_35 -->
<g id="edge35" class="edge">
<title>prose_24&#45;&gt;raw_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2425.3924,-1882.837C2418.9012,-1867.8397 2407.5503,-1846.9539 2391,-1835.003 2336.1172,-1795.3722 2287.8087,-1849.7464 2243,-1799.003 2171.1264,-1717.61 2189.0952,-1574.2171 2200.7726,-1513.984"/>
<polygon fill="#000000" stroke="#000000" points="2204.2266,-1514.5619 2202.7871,-1504.0653 2197.3666,-1513.1685 2204.2266,-1514.5619"/>
</g>
<!-- prespace_36 -->
<g id="node37" class="node">
<title>prespace_36</title>
<ellipse fill="none" stroke="#000000" cx="2298" cy="-1486.1024" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2298" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_24&#45;&gt;prespace_36 -->
<g id="edge36" class="edge">
<title>prose_24&#45;&gt;prespace_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2422.6152,-1883.1292C2414.9161,-1869.4548 2403.312,-1850.264 2391,-1835.003 2376.5937,-1817.1458 2364.7594,-1819.2676 2354,-1799.003 2303.4303,-1703.7582 2297.4333,-1571.6082 2297.4275,-1514.3859"/>
<polygon fill="#000000" stroke="#000000" points="2300.928,-1514.3074 2297.4907,-1504.2857 2293.9281,-1514.2636 2300.928,-1514.3074"/>
</g>
<!-- literal_37 -->
<g id="node38" class="node">
<title>literal_37</title>
<ellipse fill="none" stroke="#000000" cx="2394" cy="-1486.1024" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2394" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_24&#45;&gt;literal_37 -->
<g id="edge37" class="edge">
<title>prose_24&#45;&gt;literal_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2430.3428,-1882.526C2424.367,-1817.343 2403.8954,-1594.0402 2396.6044,-1514.511"/>
<polygon fill="#000000" stroke="#000000" points="2400.0644,-1513.9133 2395.666,-1504.2747 2393.0936,-1514.5525 2400.0644,-1513.9133"/>
</g>
<!-- raw_38 -->
<g id="node39" class="node">
<title>raw_38</title>
<ellipse fill="none" stroke="#000000" cx="2470" cy="-1486.1024" rx="27" ry="18"/>
<text text-anchor="middle" x="2470" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_24&#45;&gt;raw_38 -->
<g id="edge38" class="edge">
<title>prose_24&#45;&gt;raw_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2433.6572,-1882.526C2439.633,-1817.343 2460.1046,-1594.0402 2467.3956,-1514.511"/>
<polygon fill="#000000" stroke="#000000" points="2470.9064,-1514.5525 2468.334,-1504.2747 2463.9356,-1513.9133 2470.9064,-1514.5525"/>
</g>
<!-- raw_43 -->
<g id="node44" class="node">
<title>raw_43</title>
<ellipse fill="none" stroke="#000000" cx="2542" cy="-1486.1024" rx="27" ry="18"/>
<text text-anchor="middle" x="2542" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_25&#45;&gt;raw_43 -->
<g id="edge43" class="edge">
<title>prose_25&#45;&gt;raw_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2746.4474,-1894.4937C2701.3914,-1883.7395 2618.1392,-1856.8457 2578,-1799.003 2516.5159,-1710.4012 2528.4005,-1572.6028 2537.0987,-1513.9986"/>
<polygon fill="#000000" stroke="#000000" points="2540.5739,-1514.4291 2538.6673,-1504.0073 2533.6586,-1513.3434 2540.5739,-1514.4291"/>
</g>
<!-- link_44 -->
<g id="node45" class="node">
<title>link_44</title>
<ellipse fill="none" stroke="#000000" cx="2614" cy="-1486.1024" rx="27" ry="18"/>
<text text-anchor="middle" x="2614" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">link</text>
</g>
<!-- prose_25&#45;&gt;link_44 -->
<g id="edge44" class="edge">
<title>prose_25&#45;&gt;link_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2752.546,-1888.6914C2722.7579,-1872.7553 2673.5094,-1841.4995 2650,-1799.003 2598.1522,-1705.2807 2604.5703,-1571.7953 2610.4448,-1514.2643"/>
<polygon fill="#000000" stroke="#000000" points="2613.9464,-1514.4405 2611.5581,-1504.1183 2606.9882,-1513.6769 2613.9464,-1514.4405"/>
</g>
<!-- raw_45 -->
<g id="node46" class="node">
<title>raw_45</title>
<ellipse fill="none" stroke="#000000" cx="2686" cy="-1486.1024" rx="27" ry="18"/>
<text text-anchor="middle" x="2686" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_25&#45;&gt;raw_45 -->
<g id="edge45" class="edge">
<title>prose_25&#45;&gt;raw_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2765.0979,-1883.5349C2752.1641,-1864.0509 2732.0098,-1830.7583 2722,-1799.003 2690.0978,-1697.7959 2685.8755,-1570.222 2685.6999,-1514.4149"/>
<polygon fill="#000000" stroke="#000000" points="2689.2,-1514.2436 2685.7117,-1504.2395 2682.2,-1514.2354 2689.2,-1514.2436"/>
</g>
<!-- prespace_46 -->
<g id="node47" class="node">
<title>prespace_46</title>
<ellipse fill="none" stroke="#000000" cx="2777" cy="-1486.1024" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2777" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_25&#45;&gt;prespace_46 -->
<g id="edge46" class="edge">
<title>prose_25&#45;&gt;prespace_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2777,-1882.526C2777,-1817.343 2777,-1594.0402 2777,-1514.511"/>
<polygon fill="#000000" stroke="#000000" points="2780.5001,-1514.2746 2777,-1504.2747 2773.5001,-1514.2747 2780.5001,-1514.2746"/>
</g>
<!-- literal_47 -->
<g id="node48" class="node">
<title>literal_47</title>
<ellipse fill="none" stroke="#000000" cx="2873" cy="-1486.1024" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2873" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_25&#45;&gt;literal_47 -->
<g id="edge47" class="edge">
<title>prose_25&#45;&gt;literal_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2788.8096,-1883.5053C2801.6604,-1863.9948 2821.7405,-1830.6785 2832,-1799.003 2864.7612,-1697.8544 2871.4133,-1570.2503 2872.7145,-1514.4252"/>
<polygon fill="#000000" stroke="#000000" points="2876.2172,-1514.3116 2872.9095,-1504.2463 2869.2185,-1514.1774 2876.2172,-1514.3116"/>
</g>
<!-- raw_48 -->
<g id="node49" class="node">
<title>raw_48</title>
<ellipse fill="none" stroke="#000000" cx="3060" cy="-1486.1024" rx="27" ry="18"/>
<text text-anchor="middle" x="3060" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_25&#45;&gt;raw_48 -->
<g id="edge48" class="edge">
<title>prose_25&#45;&gt;raw_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2800.1998,-1888.0949C2829.7012,-1871.2104 2880.6808,-1838.6287 2913,-1799.003 2987.6381,-1707.4911 3034.3799,-1571.8155 3052.0172,-1513.918"/>
<polygon fill="#000000" stroke="#000000" points="3055.4591,-1514.6242 3054.9719,-1504.0406 3048.7527,-1512.618 3055.4591,-1514.6242"/>
</g>
<!-- raw_58 -->
<g id="node59" class="node">
<title>raw_58</title>
<ellipse fill="none" stroke="#000000" cx="3866" cy="-1486.1024" rx="27" ry="18"/>
<text text-anchor="middle" x="3866" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_26&#45;&gt;raw_58 -->
<g id="edge58" class="edge">
<title>prose_26&#45;&gt;raw_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4145.1238,-1889.0472C4112.547,-1872.8643 4055.3214,-1840.6956 4019,-1799.003 3940.6615,-1709.0797 3892.2183,-1571.996 3874.1034,-1513.7896"/>
<polygon fill="#000000" stroke="#000000" points="3877.3417,-1512.41 3871.0735,-1503.8683 3870.647,-1514.4546 3877.3417,-1512.41"/>
</g>
<!-- prespace_59 -->
<g id="node60" class="node">
<title>prespace_59</title>
<ellipse fill="none" stroke="#000000" cx="4074" cy="-1486.1024" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4074" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_26&#45;&gt;prespace_59 -->
<g id="edge59" class="edge">
<title>prose_26&#45;&gt;prespace_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4161.8251,-1882.9865C4152.8501,-1863.011 4138.5778,-1829.2794 4130,-1799.003 4100.8777,-1696.2118 4083.7764,-1569.9466 4077.1692,-1514.4946"/>
<polygon fill="#000000" stroke="#000000" points="4080.624,-1513.9026 4075.9873,-1504.3763 4073.6712,-1514.7149 4080.624,-1513.9026"/>
</g>
<!-- literal_60 -->
<g id="node61" class="node">
<title>literal_60</title>
<ellipse fill="none" stroke="#000000" cx="4170" cy="-1486.1024" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4170" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_26&#45;&gt;literal_60 -->
<g id="edge60" class="edge">
<title>prose_26&#45;&gt;literal_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4170,-1882.526C4170,-1817.343 4170,-1594.0402 4170,-1514.511"/>
<polygon fill="#000000" stroke="#000000" points="4173.5001,-1514.2746 4170,-1504.2747 4166.5001,-1514.2747 4173.5001,-1514.2746"/>
</g>
<!-- raw_61 -->
<g id="node62" class="node">
<title>raw_61</title>
<ellipse fill="none" stroke="#000000" cx="4268" cy="-1486.1024" rx="27" ry="18"/>
<text text-anchor="middle" x="4268" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_26&#45;&gt;raw_61 -->
<g id="edge61" class="edge">
<title>prose_26&#45;&gt;raw_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4178.1402,-1882.9766C4187.0841,-1862.9923 4201.3286,-1829.2528 4210,-1799.003 4239.4733,-1696.1865 4257.5385,-1569.9343 4264.5948,-1514.4901"/>
<polygon fill="#000000" stroke="#000000" points="4268.0919,-1514.7302 4265.8593,-1504.3733 4261.1459,-1513.8619 4268.0919,-1514.7302"/>
</g>
<!-- raw_66 -->
<g id="node67" class="node">
<title>raw_66</title>
<ellipse fill="none" stroke="#000000" cx="4887" cy="-1486.1024" rx="27" ry="18"/>
<text text-anchor="middle" x="4887" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_27&#45;&gt;raw_66 -->
<g id="edge66" class="edge">
<title>prose_27&#45;&gt;raw_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5089.0684,-1883.0573C5055.9708,-1818.0386 4940.1845,-1590.5812 4900.4809,-1512.5851"/>
<polygon fill="#000000" stroke="#000000" points="4903.4722,-1510.7461 4895.8165,-1503.4221 4897.234,-1513.9217 4903.4722,-1510.7461"/>
</g>
<!-- raw_68 -->
<g id="node69" class="node">
<title>raw_68</title>
<ellipse fill="none" stroke="#000000" cx="5221" cy="-1486.1024" rx="27" ry="18"/>
<text text-anchor="middle" x="5221" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_28&#45;&gt;raw_68 -->
<g id="edge68" class="edge">
<title>prose_28&#45;&gt;raw_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5737.1259,-1897.5669C5644.6834,-1888.1446 5379.1063,-1856.5261 5317,-1799.003 5234.0202,-1722.1468 5222.042,-1575.6401 5220.8192,-1514.2585"/>
<polygon fill="#000000" stroke="#000000" points="5224.3179,-1514.115 5220.7023,-1504.1562 5217.3184,-1514.1961 5224.3179,-1514.115"/>
</g>
<!-- prespace_69 -->
<g id="node70" class="node">
<title>prespace_69</title>
<ellipse fill="none" stroke="#000000" cx="5372" cy="-1486.1024" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5372" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_28&#45;&gt;prespace_69 -->
<g id="edge69" class="edge">
<title>prose_28&#45;&gt;prespace_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5737.9825,-1895.5937C5662.0622,-1882.6986 5470.0306,-1846.0483 5428,-1799.003 5355.1618,-1717.4742 5361.52,-1574.7491 5368.1211,-1514.3641"/>
<polygon fill="#000000" stroke="#000000" points="5371.5997,-1514.7501 5369.2956,-1504.4089 5364.6479,-1513.9298 5371.5997,-1514.7501"/>
</g>
<!-- literal_70 -->
<g id="node71" class="node">
<title>literal_70</title>
<ellipse fill="none" stroke="#000000" cx="5468" cy="-1486.1024" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5468" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_28&#45;&gt;literal_70 -->
<g id="edge70" class="edge">
<title>prose_28&#45;&gt;literal_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5736.8004,-1898.2948C5680.4919,-1892.3938 5564.739,-1871.6056 5508,-1799.003 5441.3321,-1713.6955 5453.7778,-1573.5417 5462.905,-1514.1259"/>
<polygon fill="#000000" stroke="#000000" points="5466.4007,-1514.4348 5464.5508,-1504.0027 5459.4914,-1513.3114 5466.4007,-1514.4348"/>
</g>
<!-- raw_71 -->
<g id="node72" class="node">
<title>raw_71</title>
<ellipse fill="none" stroke="#000000" cx="5544" cy="-1486.1024" rx="27" ry="18"/>
<text text-anchor="middle" x="5544" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_28&#45;&gt;raw_71 -->
<g id="edge71" class="edge">
<title>prose_28&#45;&gt;raw_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5738.871,-1893.7288C5695.7895,-1882.1812 5617.6434,-1854.4954 5580,-1799.003 5519.6027,-1709.9676 5530.7793,-1572.9618 5539.1874,-1514.3159"/>
<polygon fill="#000000" stroke="#000000" points="5542.6663,-1514.7187 5540.7073,-1504.3066 5535.7456,-1513.6678 5542.6663,-1514.7187"/>
</g>
<!-- prespace_72 -->
<g id="node73" class="node">
<title>prespace_72</title>
<ellipse fill="none" stroke="#000000" cx="5635" cy="-1486.1024" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5635" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_28&#45;&gt;prespace_72 -->
<g id="edge72" class="edge">
<title>prose_28&#45;&gt;prespace_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5753.0369,-1884.9548C5734.9691,-1866.2531 5706.0942,-1833.177 5691,-1799.003 5647.6255,-1700.8011 5637.8345,-1571.1661 5635.6333,-1514.5738"/>
<polygon fill="#000000" stroke="#000000" points="5639.1207,-1514.137 5635.2865,-1504.2602 5632.1246,-1514.3722 5639.1207,-1514.137"/>
</g>
<!-- literal_73 -->
<g id="node74" class="node">
<title>literal_73</title>
<ellipse fill="none" stroke="#000000" cx="5731" cy="-1486.1024" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5731" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_28&#45;&gt;literal_73 -->
<g id="edge73" class="edge">
<title>prose_28&#45;&gt;literal_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5767.3428,-1882.526C5761.367,-1817.343 5740.8954,-1594.0402 5733.6044,-1514.511"/>
<polygon fill="#000000" stroke="#000000" points="5737.0644,-1513.9133 5732.666,-1504.2747 5730.0936,-1514.5525 5737.0644,-1513.9133"/>
</g>
<!-- raw_74 -->
<g id="node75" class="node">
<title>raw_74</title>
<ellipse fill="none" stroke="#000000" cx="5807" cy="-1486.1024" rx="27" ry="18"/>
<text text-anchor="middle" x="5807" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_28&#45;&gt;raw_74 -->
<g id="edge74" class="edge">
<title>prose_28&#45;&gt;raw_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5770.6572,-1882.526C5776.633,-1817.343 5797.1046,-1594.0402 5804.3956,-1514.511"/>
<polygon fill="#000000" stroke="#000000" points="5807.9064,-1514.5525 5805.334,-1504.2747 5800.9356,-1513.9133 5807.9064,-1514.5525"/>
</g>
<!-- prespace_75 -->
<g id="node76" class="node">
<title>prespace_75</title>
<ellipse fill="none" stroke="#000000" cx="5898" cy="-1486.1024" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5898" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_28&#45;&gt;prespace_75 -->
<g id="edge75" class="edge">
<title>prose_28&#45;&gt;prespace_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5784.4462,-1884.4634C5801.601,-1865.5603 5828.7502,-1832.5435 5843,-1799.003 5884.9554,-1700.2506 5894.9066,-1570.9017 5897.2666,-1514.4786"/>
<polygon fill="#000000" stroke="#000000" points="5900.7747,-1514.3189 5897.6446,-1504.197 5893.7794,-1514.0616 5900.7747,-1514.3189"/>
</g>
<!-- literal_76 -->
<g id="node77" class="node">
<title>literal_76</title>
<ellipse fill="none" stroke="#000000" cx="5994" cy="-1486.1024" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5994" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_28&#45;&gt;literal_76 -->
<g id="edge76" class="edge">
<title>prose_28&#45;&gt;literal_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5798.5894,-1893.3067C5840.4891,-1881.3011 5916.108,-1853.1265 5953,-1799.003 6013.7139,-1709.9307 6005.3207,-1572.9447 5998.184,-1514.31"/>
<polygon fill="#000000" stroke="#000000" points="6001.6431,-1513.7679 5996.883,-1504.3026 5994.7015,-1514.6704 6001.6431,-1513.7679"/>
</g>
<!-- raw_77 -->
<g id="node78" class="node">
<title>raw_77</title>
<ellipse fill="none" stroke="#000000" cx="6101" cy="-1486.1024" rx="27" ry="18"/>
<text text-anchor="middle" x="6101" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_28&#45;&gt;raw_77 -->
<g id="edge77" class="edge">
<title>prose_28&#45;&gt;raw_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5801.0658,-1897.9587C5857.2546,-1891.5311 5973.2925,-1869.9451 6034,-1799.003 6105.4075,-1715.5568 6106.483,-1574.3896 6103.2689,-1514.4156"/>
<polygon fill="#000000" stroke="#000000" points="6106.7474,-1513.9583 6102.6349,-1504.1942 6099.7608,-1514.3918 6106.7474,-1513.9583"/>
</g>
<!-- prespace_78 -->
<g id="node79" class="node">
<title>prespace_78</title>
<ellipse fill="none" stroke="#000000" cx="6209" cy="-1486.1024" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6209" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_28&#45;&gt;prespace_78 -->
<g id="edge78" class="edge">
<title>prose_28&#45;&gt;prespace_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5800.2269,-1896.1322C5880.2673,-1884.0506 6089.7817,-1848.3069 6137,-1799.003 6213.562,-1719.0592 6214.6692,-1574.8673 6211.3138,-1514.2027"/>
<polygon fill="#000000" stroke="#000000" points="6214.806,-1513.9678 6210.6765,-1504.2109 6207.8202,-1514.4134 6214.806,-1513.9678"/>
</g>
<!-- literal_79 -->
<g id="node80" class="node">
<title>literal_79</title>
<ellipse fill="none" stroke="#000000" cx="6338" cy="-1486.1024" rx="31.481" ry="18"/>
<text text-anchor="middle" x="6338" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_28&#45;&gt;literal_79 -->
<g id="edge79" class="edge">
<title>prose_28&#45;&gt;literal_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5799.8661,-1895.2098C5905.5019,-1876.6303 6246.9836,-1815.5199 6264,-1799.003 6343.7296,-1721.6138 6344.2116,-1575.403 6340.4802,-1514.1793"/>
<polygon fill="#000000" stroke="#000000" points="6343.9649,-1513.8366 6339.7787,-1504.1039 6336.9818,-1514.3228 6343.9649,-1513.8366"/>
</g>
<!-- raw_80 -->
<g id="node81" class="node">
<title>raw_80</title>
<ellipse fill="none" stroke="#000000" cx="6476" cy="-1486.1024" rx="27" ry="18"/>
<text text-anchor="middle" x="6476" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_28&#45;&gt;raw_80 -->
<g id="edge80" class="edge">
<title>prose_28&#45;&gt;raw_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5799.7376,-1894.9011C5863.2246,-1883.1829 6013.4889,-1855.7526 6140,-1835.003 6192.7852,-1826.3454 6337.3895,-1833.8171 6378,-1799.003 6464.025,-1725.2564 6475.5221,-1577.0237 6476.38,-1514.7202"/>
<polygon fill="#000000" stroke="#000000" points="6479.8812,-1514.4799 6476.4333,-1504.4618 6472.8813,-1514.4435 6479.8812,-1514.4799"/>
</g>
<!-- raw_94 -->
<g id="node95" class="node">
<title>raw_94</title>
<ellipse fill="none" stroke="#000000" cx="6674" cy="-1486.1024" rx="27" ry="18"/>
<text text-anchor="middle" x="6674" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_29&#45;&gt;raw_94 -->
<g id="edge94" class="edge">
<title>prose_29&#45;&gt;raw_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6213.0948,-1898.839C6277.0599,-1893.7446 6422.0038,-1874.1069 6512,-1799.003 6605.4854,-1720.9872 6651.5333,-1575.1242 6667.3947,-1514.0863"/>
<polygon fill="#000000" stroke="#000000" points="6670.876,-1514.5947 6669.929,-1504.0423 6664.0888,-1512.8821 6670.876,-1514.5947"/>
</g>
<!-- raw_96 -->
<g id="node97" class="node">
<title>raw_96</title>
<ellipse fill="none" stroke="#000000" cx="7140" cy="-1486.1024" rx="27" ry="18"/>
<text text-anchor="middle" x="7140" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_30&#45;&gt;raw_96 -->
<g id="edge96" class="edge">
<title>prose_30&#45;&gt;raw_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7399.7465,-1895.675C7350.549,-1886.1982 7255.555,-1860.6271 7206,-1799.003 7137.3829,-1713.6741 7135.3193,-1574.1057 7137.9886,-1514.5162"/>
<polygon fill="#000000" stroke="#000000" points="7141.4931,-1514.5226 7138.5272,-1504.3514 7134.5029,-1514.1522 7141.4931,-1514.5226"/>
</g>
<!-- prespace_97 -->
<g id="node98" class="node">
<title>prespace_97</title>
<ellipse fill="none" stroke="#000000" cx="7261" cy="-1486.1024" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="7261" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_30&#45;&gt;prespace_97 -->
<g id="edge97" class="edge">
<title>prose_30&#45;&gt;prespace_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7409.585,-1886.9286C7384.4017,-1869.6442 7343.3358,-1837.4591 7322,-1799.003 7269.5322,-1704.4339 7261.6216,-1571.928 7260.8162,-1514.4994"/>
<polygon fill="#000000" stroke="#000000" points="7264.3152,-1514.3346 7260.739,-1504.3616 7257.3154,-1514.388 7264.3152,-1514.3346"/>
</g>
<!-- literal_98 -->
<g id="node99" class="node">
<title>literal_98</title>
<ellipse fill="none" stroke="#000000" cx="7362" cy="-1486.1024" rx="31.481" ry="18"/>
<text text-anchor="middle" x="7362" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_30&#45;&gt;literal_98 -->
<g id="edge98" class="edge">
<title>prose_30&#45;&gt;literal_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7427.9908,-1882.526C7417.1401,-1817.343 7379.9679,-1594.0402 7366.729,-1514.511"/>
<polygon fill="#000000" stroke="#000000" points="7370.1197,-1513.5642 7365.0251,-1504.2747 7363.2147,-1514.7137 7370.1197,-1513.5642"/>
</g>
<!-- raw_99 -->
<g id="node100" class="node">
<title>raw_99</title>
<ellipse fill="none" stroke="#000000" cx="7469" cy="-1486.1024" rx="27" ry="18"/>
<text text-anchor="middle" x="7469" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_30&#45;&gt;raw_99 -->
<g id="edge99" class="edge">
<title>prose_30&#45;&gt;raw_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7432.6572,-1882.526C7438.633,-1817.343 7459.1046,-1594.0402 7466.3956,-1514.511"/>
<polygon fill="#000000" stroke="#000000" points="7469.9064,-1514.5525 7467.334,-1504.2747 7462.9356,-1513.9133 7469.9064,-1514.5525"/>
</g>
<!-- prespace_100 -->
<g id="node101" class="node">
<title>prespace_100</title>
<ellipse fill="none" stroke="#000000" cx="7581" cy="-1486.1024" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="7581" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_30&#45;&gt;prespace_100 -->
<g id="edge100" class="edge">
<title>prose_30&#45;&gt;prespace_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7446.0581,-1884.2911C7462.8568,-1865.2299 7489.6798,-1832.0683 7505,-1799.003 7550.8128,-1700.1264 7570.923,-1570.4015 7577.9102,-1514.1408"/>
<polygon fill="#000000" stroke="#000000" points="7581.3859,-1514.5519 7579.101,-1504.2064 7574.4357,-1513.7187 7581.3859,-1514.5519"/>
</g>
<!-- literal_101 -->
<g id="node102" class="node">
<title>literal_101</title>
<ellipse fill="none" stroke="#000000" cx="7702" cy="-1486.1024" rx="31.481" ry="18"/>
<text text-anchor="middle" x="7702" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_30&#45;&gt;literal_101 -->
<g id="edge101" class="edge">
<title>prose_30&#45;&gt;literal_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7461.3844,-1894.3669C7506.7855,-1883.3908 7591.7173,-1856.1461 7636,-1799.003 7703.0709,-1712.4535 7705.9708,-1573.5452 7703.7669,-1514.3232"/>
<polygon fill="#000000" stroke="#000000" points="7707.2584,-1514.0547 7703.3103,-1504.223 7700.2655,-1514.3709 7707.2584,-1514.0547"/>
</g>
<!-- raw_102 -->
<g id="node103" class="node">
<title>raw_102</title>
<ellipse fill="none" stroke="#000000" cx="7798" cy="-1486.1024" rx="27" ry="18"/>
<text text-anchor="middle" x="7798" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_30&#45;&gt;raw_102 -->
<g id="edge102" class="edge">
<title>prose_30&#45;&gt;raw_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7461.6489,-1894.7253C7532.4781,-1880.5195 7704.3415,-1842.282 7742,-1799.003 7813.616,-1716.6983 7808.018,-1574.9095 7801.7532,-1514.5932"/>
<polygon fill="#000000" stroke="#000000" points="7805.1924,-1513.8566 7800.5942,-1504.3117 7798.2365,-1514.6408 7805.1924,-1513.8566"/>
</g>
<!-- header_110 -->
<g id="node111" class="node">
<title>header_110</title>
<ellipse fill="none" stroke="#000000" cx="7931" cy="-1486.1024" rx="78.8488" ry="18"/>
<text text-anchor="middle" x="7931" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : SQLite battery</text>
</g>
<!-- section_31&#45;&gt;header_110 -->
<g id="edge110" class="edge">
<title>section_31&#45;&gt;header_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7992.2088,-1882.526C7982.1444,-1817.343 7947.6659,-1594.0402 7935.3864,-1514.511"/>
<polygon fill="#000000" stroke="#000000" points="7938.7909,-1513.6234 7933.8058,-1504.2747 7931.8729,-1514.6917 7938.7909,-1513.6234"/>
</g>
<!-- prose_111 -->
<g id="node112" class="node">
<title>prose_111</title>
<ellipse fill="none" stroke="#000000" cx="8060" cy="-1486.1024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8060" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_31&#45;&gt;prose_111 -->
<g id="edge111" class="edge">
<title>section_31&#45;&gt;prose_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7999.8997,-1882.367C8005.2,-1862.1227 8013.6129,-1828.4189 8019,-1799.003 8038.1065,-1694.6731 8051.7623,-1569.1964 8057.2848,-1514.2203"/>
<polygon fill="#000000" stroke="#000000" points="8060.7752,-1514.489 8058.28,-1504.1922 8053.8094,-1513.7976 8060.7752,-1514.489"/>
</g>
<!-- codeblock_112 -->
<g id="node113" class="node">
<title>codeblock_112</title>
<ellipse fill="none" stroke="#000000" cx="8283" cy="-1486.1024" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="8283" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 61&#45;128</text>
</g>
<!-- section_31&#45;&gt;codeblock_112 -->
<g id="edge112" class="edge">
<title>section_31&#45;&gt;codeblock_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8016.2136,-1883.3983C8038.9161,-1864.313 8075.1476,-1831.8562 8101,-1799.003 8177.256,-1702.0967 8243.538,-1569.9176 8270.336,-1513.4689"/>
<polygon fill="#000000" stroke="#000000" points="8273.6334,-1514.6822 8274.7296,-1504.1442 8267.3011,-1511.6985 8273.6334,-1514.6822"/>
</g>
<!-- header_117 -->
<g id="node118" class="node">
<title>header_117</title>
<ellipse fill="none" stroke="#000000" cx="8737" cy="-1486.1024" rx="82.2147" ry="18"/>
<text text-anchor="middle" x="8737" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Historian:load()</text>
</g>
<!-- section_32&#45;&gt;header_117 -->
<g id="edge117" class="edge">
<title>section_32&#45;&gt;header_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8801.078,-1882.526C8790.5418,-1817.343 8754.4471,-1594.0402 8741.592,-1514.511"/>
<polygon fill="#000000" stroke="#000000" points="8744.9883,-1513.588 8739.9374,-1504.2747 8738.078,-1514.7051 8744.9883,-1513.588"/>
</g>
<!-- prose_118 -->
<g id="node119" class="node">
<title>prose_118</title>
<ellipse fill="none" stroke="#000000" cx="8870" cy="-1486.1024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8870" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_32&#45;&gt;prose_118 -->
<g id="edge118" class="edge">
<title>section_32&#45;&gt;prose_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8808.8822,-1882.3637C8814.1672,-1862.1166 8822.5667,-1828.4104 8828,-1799.003 8847.2784,-1694.6598 8861.418,-1569.1899 8867.1661,-1514.2179"/>
<polygon fill="#000000" stroke="#000000" points="8870.6558,-1514.4976 8868.2029,-1504.1906 8863.6929,-1513.7776 8870.6558,-1514.4976"/>
</g>
<!-- codeblock_119 -->
<g id="node120" class="node">
<title>codeblock_119</title>
<ellipse fill="none" stroke="#000000" cx="9079" cy="-1486.1024" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9079" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 135&#45;165</text>
</g>
<!-- section_32&#45;&gt;codeblock_119 -->
<g id="edge119" class="edge">
<title>section_32&#45;&gt;codeblock_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8826.0724,-1883.2602C8849.2126,-1864.3072 8885.6636,-1832.1927 8911,-1799.003 8984.4113,-1702.8367 9043.9845,-1570.2632 9067.8044,-1513.59"/>
<polygon fill="#000000" stroke="#000000" points="9071.0902,-1514.804 9071.7036,-1504.227 9064.6281,-1512.1129 9071.0902,-1514.804"/>
</g>
<!-- header_124 -->
<g id="node125" class="node">
<title>header_124</title>
<ellipse fill="none" stroke="#000000" cx="9519" cy="-1486.1024" rx="117.9886" ry="18"/>
<text text-anchor="middle" x="9519" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Historian:persist(linebuf)</text>
</g>
<!-- section_33&#45;&gt;header_124 -->
<g id="edge124" class="edge">
<title>section_33&#45;&gt;header_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9741.3981,-1883.6986C9713.9674,-1865.6803 9672.2966,-1834.8448 9646,-1799.003 9577.9275,-1706.2215 9539.5813,-1571.7699 9525.3954,-1514.0919"/>
<polygon fill="#000000" stroke="#000000" points="9528.768,-1513.1469 9523.0261,-1504.2429 9521.9622,-1514.7842 9528.768,-1513.1469"/>
</g>
<!-- prose_125 -->
<g id="node126" class="node">
<title>prose_125</title>
<ellipse fill="none" stroke="#000000" cx="9687" cy="-1486.1024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9687" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_33&#45;&gt;prose_125 -->
<g id="edge125" class="edge">
<title>section_33&#45;&gt;prose_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9760.1642,-1882.7227C9750.702,-1862.7899 9735.975,-1829.3574 9728,-1799.003 9701.0483,-1696.4195 9691.4127,-1570.0478 9688.3166,-1514.5316"/>
<polygon fill="#000000" stroke="#000000" points="9691.8042,-1514.2025 9687.7814,-1504.4011 9684.8139,-1514.5719 9691.8042,-1514.2025"/>
</g>
<!-- prose_126 -->
<g id="node127" class="node">
<title>prose_126</title>
<ellipse fill="none" stroke="#000000" cx="9769" cy="-1486.1024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9769" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_33&#45;&gt;prose_126 -->
<g id="edge126" class="edge">
<title>section_33&#45;&gt;prose_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9769,-1882.526C9769,-1817.343 9769,-1594.0402 9769,-1514.511"/>
<polygon fill="#000000" stroke="#000000" points="9772.5001,-1514.2746 9769,-1504.2747 9765.5001,-1514.2747 9772.5001,-1514.2746"/>
</g>
<!-- prose_127 -->
<g id="node128" class="node">
<title>prose_127</title>
<ellipse fill="none" stroke="#000000" cx="10008" cy="-1486.1024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10008" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_33&#45;&gt;prose_127 -->
<g id="edge127" class="edge">
<title>section_33&#45;&gt;prose_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9779.4232,-1882.526C9817.3336,-1816.7775 9948.0041,-1590.154 9992.7943,-1512.4739"/>
<polygon fill="#000000" stroke="#000000" points="9996.0929,-1513.7598 9998.056,-1503.3484 9990.0288,-1510.2632 9996.0929,-1513.7598"/>
</g>
<!-- prose_128 -->
<g id="node129" class="node">
<title>prose_128</title>
<ellipse fill="none" stroke="#000000" cx="10090" cy="-1486.1024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10090" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_33&#45;&gt;prose_128 -->
<g id="edge128" class="edge">
<title>section_33&#45;&gt;prose_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9823.1162,-1888.0497C9896.0727,-1869.9918 10020.1858,-1834.891 10049,-1799.003 10116.8108,-1714.5447 10104.3392,-1573.9285 10095.1409,-1514.2581"/>
<polygon fill="#000000" stroke="#000000" points="10098.5465,-1513.3958 10093.4815,-1504.0901 10091.6379,-1514.5233 10098.5465,-1513.3958"/>
</g>
<!-- codeblock_129 -->
<g id="node130" class="node">
<title>codeblock_129</title>
<ellipse fill="none" stroke="#000000" cx="10228" cy="-1486.1024" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="10228" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 183&#45;215</text>
</g>
<!-- section_33&#45;&gt;codeblock_129 -->
<g id="edge129" class="edge">
<title>section_33&#45;&gt;codeblock_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9831.5861,-1890.4287C9923.4253,-1874.3079 10088.4344,-1840.4352 10131,-1799.003 10211.9291,-1720.2287 10225.6708,-1575.3919 10227.7637,-1514.3792"/>
<polygon fill="#000000" stroke="#000000" points="10231.2638,-1514.4166 10228.0267,-1504.3284 10224.2662,-1514.2334 10231.2638,-1514.4166"/>
</g>
<!-- leaf_39 -->
<g id="node40" class="node">
<title>leaf_39</title>
<polygon fill="none" stroke="#c0c0c0" points="1722.5,-649.6024 1503.5,-649.6024 1503.5,-593.7995 1722.5,-593.7995 1722.5,-649.6024"/>
<text text-anchor="middle" x="1613" y="-602.201" font-family="Inconsolata" font-size="14.00" fill="#000000">This is where we practice for</text>
</g>
<!-- raw_35&#45;&gt;leaf_39 -->
<g id="edge39" class="edge">
<title>raw_35&#45;&gt;leaf_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2211.6482,-1468.3161C2224.4641,-1414.7367 2254.1049,-1253.6304 2171,-1173.2018 2100.663,-1105.1299 1806.0471,-1201.2184 1732,-1137.2018 1589.348,-1013.8736 1598.9655,-756.8104 1608.369,-659.8333"/>
<polygon fill="#000000" stroke="#000000" points="1611.8781,-659.9226 1609.4176,-649.6174 1604.9147,-659.2078 1611.8781,-659.9226"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="1795,-639.701 1741,-639.701 1741,-603.701 1795,-603.701 1795,-639.701"/>
<text text-anchor="middle" x="1768" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_36&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>prespace_36&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2301.406,-1468.1503C2310.5088,-1414.1008 2329.2,-1251.8012 2243,-1173.2018 2170.671,-1107.2503 1872.7938,-1206.833 1804,-1137.2018 1735.7805,-1068.1518 1757.1672,-747.5205 1765.419,-649.9488"/>
<polygon fill="#000000" stroke="#000000" points="1768.9098,-650.206 1766.2862,-639.9411 1761.9359,-649.6016 1768.9098,-650.206"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="1867,-639.701 1813,-639.701 1813,-603.701 1867,-603.701 1867,-639.701"/>
<text text-anchor="middle" x="1840" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">codex</text>
</g>
<!-- literal_37&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>literal_37&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2398.3428,-1468.2459C2410.2425,-1414.4674 2437.1566,-1252.8557 2353,-1173.2018 2275.7966,-1100.1291 1950.9555,-1212.5787 1876,-1137.2018 1807.5567,-1068.3737 1829.0979,-747.5892 1837.4029,-649.9648"/>
<polygon fill="#000000" stroke="#000000" points="1840.8941,-650.2178 1838.2757,-639.9516 1833.9205,-649.6099 1840.8941,-650.2178"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="1939,-639.701 1885,-639.701 1885,-603.701 1939,-603.701 1939,-639.701"/>
<text text-anchor="middle" x="1912" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_38&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>raw_38&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2474.6768,-1468.2863C2487.5741,-1414.6226 2517.4212,-1253.3023 2434,-1173.2018 2355.8842,-1098.1956 2024.4151,-1213.9399 1948,-1137.2018 1879.5089,-1068.4212 1901.0831,-747.6039 1909.3995,-649.9682"/>
<polygon fill="#000000" stroke="#000000" points="1912.8907,-650.2203 1910.2734,-639.9538 1905.9172,-649.6117 1912.8907,-650.2203"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="2449,-641.603 1957,-641.603 1957,-601.7989 2449,-601.7989 2449,-641.603"/>
<text text-anchor="middle" x="2203" y="-610.201" font-family="Inconsolata" font-size="14.00" fill="#000000">Note: I&#39;m not happy with how the existing SQLite binding is handling</text>
</g>
<!-- raw_43&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>raw_43&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2544.6021,-1467.9962C2550.9362,-1417.4562 2562.7408,-1272.0902 2506,-1173.2018 2492.7285,-1150.0722 2475.0428,-1157.7117 2458,-1137.2018 2324.6106,-976.6763 2239.0403,-734.6036 2212.1311,-651.1806"/>
<polygon fill="#000000" stroke="#000000" points="2215.4445,-650.0509 2209.0709,-641.5875 2208.7756,-652.1783 2215.4445,-650.0509"/>
</g>
<!-- anchortext_50 -->
<g id="node51" class="node">
<title>anchortext_50</title>
<ellipse fill="none" stroke="#000000" cx="2518" cy="-621.701" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="2518" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">anchortext</text>
</g>
<!-- link_44&#45;&gt;anchortext_50 -->
<g id="edge50" class="edge">
<title>link_44&#45;&gt;anchortext_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2611.9949,-1468.0481C2599.8439,-1358.6387 2536.0907,-784.5929 2521.1398,-649.9726"/>
<polygon fill="#000000" stroke="#000000" points="2524.617,-649.5728 2520.0345,-640.0203 2517.6598,-650.3456 2524.617,-649.5728"/>
</g>
<!-- url_51 -->
<g id="node52" class="node">
<title>url_51</title>
<ellipse fill="none" stroke="#000000" cx="2614" cy="-621.701" rx="27" ry="18"/>
<text text-anchor="middle" x="2614" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">url</text>
</g>
<!-- link_44&#45;&gt;url_51 -->
<g id="edge51" class="edge">
<title>link_44&#45;&gt;url_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2614,-1468.0481C2614,-1358.7484 2614,-785.744 2614,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="2617.5001,-650.0203 2614,-640.0203 2610.5001,-650.0203 2617.5001,-650.0203"/>
</g>
<!-- leaf_54 -->
<g id="node55" class="node">
<title>leaf_54</title>
<polygon fill="none" stroke="#c0c0c0" points="2731,-639.701 2659,-639.701 2659,-603.701 2731,-603.701 2731,-639.701"/>
<text text-anchor="middle" x="2695" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">. &#160;Lua&#39;s</text>
</g>
<!-- raw_45&#45;&gt;leaf_54 -->
<g id="edge54" class="edge">
<title>raw_45&#45;&gt;leaf_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2686.188,-1468.0481C2687.326,-1358.7484 2693.292,-785.744 2694.7014,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="2698.2049,-650.0562 2694.8093,-640.0203 2691.2052,-649.9833 2698.2049,-650.0562"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="2803,-639.701 2749,-639.701 2749,-603.701 2803,-603.701 2803,-639.701"/>
<text text-anchor="middle" x="2776" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_46&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>prespace_46&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2776.9791,-1468.0481C2776.8527,-1358.7484 2776.1898,-785.744 2776.0332,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="2779.5329,-650.0162 2776.0212,-640.0203 2772.5329,-650.0244 2779.5329,-650.0162"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="2875,-639.701 2821,-639.701 2821,-603.701 2875,-603.701 2875,-639.701"/>
<text text-anchor="middle" x="2848" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">nil</text>
</g>
<!-- literal_47&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>literal_47&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2872.4778,-1468.0481C2869.3167,-1358.7484 2852.7444,-785.744 2848.8294,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="2852.3176,-649.9149 2848.5298,-640.0203 2845.3205,-650.1173 2852.3176,-649.9149"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="3448.5,-648.9014 2893.5,-648.9014 2893.5,-594.5005 3448.5,-594.5005 3448.5,-648.9014"/>
<text text-anchor="middle" x="3171" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> is a frequent source of</text>
<text text-anchor="middle" x="3171" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">annoyance, true, but every union type system has a bottom value, and Lua&#39;s is</text>
<text text-anchor="middle" x="3171" y="-602.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">implemented cleanly.</text>
</g>
<!-- raw_48&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>raw_48&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3062.3184,-1468.0481C3076.0758,-1360.9138 3147.0427,-808.2664 3166.219,-658.9327"/>
<polygon fill="#000000" stroke="#000000" points="3169.7064,-659.2538 3167.5087,-648.8894 3162.7634,-658.3621 3169.7064,-659.2538"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="2576,-53.1 2434,-53.1 2434,-17.1 2576,-17.1 2576,-53.1"/>
<text text-anchor="middle" x="2505" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">three&#45;valued logic</text>
</g>
<!-- anchortext_50&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>anchortext_50&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2517.5967,-603.5019C2515.7297,-519.2592 2507.9207,-166.8931 2505.6326,-63.6454"/>
<polygon fill="#000000" stroke="#000000" points="2509.1258,-63.2964 2505.405,-53.3764 2502.1275,-63.4516 2509.1258,-63.2964"/>
</g>
<!-- leaf_53 -->
<g id="node54" class="node">
<title>leaf_53</title>
<polygon fill="none" stroke="#c0c0c0" points="2659.5,-53.1 2594.5,-53.1 2594.5,-17.1 2659.5,-17.1 2659.5,-53.1"/>
<text text-anchor="middle" x="2627" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">httk://</text>
</g>
<!-- url_51&#45;&gt;leaf_53 -->
<g id="edge53" class="edge">
<title>url_51&#45;&gt;leaf_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2614.4033,-603.5019C2616.2703,-519.2592 2624.0793,-166.8931 2626.3674,-63.6454"/>
<polygon fill="#000000" stroke="#000000" points="2629.8725,-63.4516 2626.595,-53.3764 2622.8742,-63.2964 2629.8725,-63.4516"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="4029,-664.302 3467,-664.302 3467,-579.0999 4029,-579.0999 4029,-664.302"/>
<text text-anchor="middle" x="3748" y="-633.301" font-family="Inconsolata" font-size="14.00" fill="#000000">But this is not the semantics of SQLite&#39;s NULL, which cleanly represents &quot;no</text>
<text text-anchor="middle" x="3748" y="-617.901" font-family="Inconsolata" font-size="14.00" fill="#000000">answer available for constraint&quot;. &#160;Our bindings would appear to represent</text>
<text text-anchor="middle" x="3748" y="-602.501" font-family="Inconsolata" font-size="14.00" fill="#000000">nulls on the right side of a left join as missing values, which breaks some of</text>
<text text-anchor="middle" x="3748" y="-587.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">the conventions of Lua, such as</text>
</g>
<!-- raw_58&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>raw_58&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3863.5354,-1468.0481C3849.3771,-1364.3326 3778.2211,-843.0838 3755.1985,-674.4334"/>
<polygon fill="#000000" stroke="#000000" points="3758.6372,-673.7457 3753.8167,-664.311 3751.7015,-674.6926 3758.6372,-673.7457"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="4101,-639.701 4047,-639.701 4047,-603.701 4101,-603.701 4101,-639.701"/>
<text text-anchor="middle" x="4074" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_59&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>prespace_59&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4074,-1468.0481C4074,-1358.7484 4074,-785.744 4074,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="4077.5001,-650.0203 4074,-640.0203 4070.5001,-650.0203 4077.5001,-650.0203"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="4173,-639.701 4119,-639.701 4119,-603.701 4173,-603.701 4173,-639.701"/>
<text text-anchor="middle" x="4146" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">#</text>
</g>
<!-- literal_60&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>literal_60&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4169.4987,-1468.0481C4166.464,-1358.7484 4150.5546,-785.744 4146.7962,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="4150.2849,-649.9193 4146.5086,-640.0203 4143.2876,-650.1136 4150.2849,-649.9193"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="4389,-639.701 4191,-639.701 4191,-603.701 4389,-603.701 4389,-639.701"/>
<text text-anchor="middle" x="4290" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">, to no plausible benefit.</text>
</g>
<!-- raw_61&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>raw_61&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4268.4595,-1468.0481C4271.2413,-1358.7484 4285.8249,-785.744 4289.2701,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="4292.7781,-650.1062 4289.5338,-640.0203 4285.7804,-649.928 4292.7781,-650.1062"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="4962.5,-649.0014 4407.5,-649.0014 4407.5,-594.4005 4962.5,-594.4005 4962.5,-649.0014"/>
<text text-anchor="middle" x="4685" y="-617.901" font-family="Inconsolata" font-size="14.00" fill="#000000">It&#39;s also quite possible I&#39;m trying to unwrap a data structure which is meant</text>
<text text-anchor="middle" x="4685" y="-602.501" font-family="Inconsolata" font-size="14.00" fill="#000000">to be handled through method calls.</text>
</g>
<!-- raw_66&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>raw_66&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4882.7809,-1468.0481C4857.7726,-1361.0322 4728.8833,-809.4871 4693.8166,-659.4293"/>
<polygon fill="#000000" stroke="#000000" points="4697.1405,-658.2717 4691.4567,-649.3306 4690.3242,-659.8647 4697.1405,-658.2717"/>
</g>
<!-- leaf_81 -->
<g id="node82" class="node">
<title>leaf_81</title>
<polygon fill="none" stroke="#c0c0c0" points="5339.5,-641.603 4980.5,-641.603 4980.5,-601.7989 5339.5,-601.7989 5339.5,-641.603"/>
<text text-anchor="middle" x="5160" y="-610.201" font-family="Inconsolata" font-size="14.00" fill="#000000">Looks like there&#39;s a magic &quot;hik&quot; string where the</text>
</g>
<!-- raw_68&#45;&gt;leaf_81 -->
<g id="edge81" class="edge">
<title>raw_68&#45;&gt;leaf_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5219.7259,-1468.0481C5212.0383,-1359.1108 5171.8441,-789.5383 5162.1198,-651.7397"/>
<polygon fill="#000000" stroke="#000000" points="5165.5934,-651.2409 5161.3981,-641.5122 5158.6108,-651.7338 5165.5934,-651.2409"/>
</g>
<!-- leaf_82 -->
<g id="node83" class="node">
<title>leaf_82</title>
<polygon fill="none" stroke="#c0c0c0" points="5412,-639.701 5358,-639.701 5358,-603.701 5412,-603.701 5412,-639.701"/>
<text text-anchor="middle" x="5385" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_69&#45;&gt;leaf_82 -->
<g id="edge82" class="edge">
<title>prespace_69&#45;&gt;leaf_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5372.2715,-1468.0481C5373.9153,-1358.7484 5382.5329,-785.744 5384.5687,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="5388.0736,-650.0718 5384.7245,-640.0203 5381.0744,-649.9665 5388.0736,-650.0718"/>
</g>
<!-- leaf_83 -->
<g id="node84" class="node">
<title>leaf_83</title>
<polygon fill="none" stroke="#c0c0c0" points="5484,-639.701 5430,-639.701 5430,-603.701 5484,-603.701 5484,-639.701"/>
<text text-anchor="middle" x="5457" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">i</text>
</g>
<!-- literal_70&#45;&gt;leaf_83 -->
<g id="edge83" class="edge">
<title>literal_70&#45;&gt;leaf_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5467.7702,-1468.0481C5466.3793,-1358.7484 5459.0875,-785.744 5457.3649,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="5460.8602,-649.9749 5457.2331,-640.0203 5453.8607,-650.0641 5460.8602,-649.9749"/>
</g>
<!-- leaf_84 -->
<g id="node85" class="node">
<title>leaf_84</title>
<polygon fill="none" stroke="#c0c0c0" points="5588,-639.701 5502,-639.701 5502,-603.701 5588,-603.701 5588,-639.701"/>
<text text-anchor="middle" x="5545" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> is index,</text>
</g>
<!-- raw_71&#45;&gt;leaf_84 -->
<g id="edge84" class="edge">
<title>raw_71&#45;&gt;leaf_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5544.0209,-1468.0481C5544.1473,-1358.7484 5544.8102,-785.744 5544.9668,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="5548.4671,-650.0244 5544.9788,-640.0203 5541.4671,-650.0162 5548.4671,-650.0244"/>
</g>
<!-- leaf_85 -->
<g id="node86" class="node">
<title>leaf_85</title>
<polygon fill="none" stroke="#c0c0c0" points="5660,-639.701 5606,-639.701 5606,-603.701 5660,-603.701 5660,-639.701"/>
<text text-anchor="middle" x="5633" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_72&#45;&gt;leaf_85 -->
<g id="edge85" class="edge">
<title>prespace_72&#45;&gt;leaf_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5634.9582,-1468.0481C5634.7053,-1358.7484 5633.3796,-785.744 5633.0664,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="5636.5656,-650.0121 5633.0424,-640.0203 5629.5656,-650.0284 5636.5656,-650.0121"/>
</g>
<!-- leaf_86 -->
<g id="node87" class="node">
<title>leaf_86</title>
<polygon fill="none" stroke="#c0c0c0" points="5732,-639.701 5678,-639.701 5678,-603.701 5732,-603.701 5732,-639.701"/>
<text text-anchor="middle" x="5705" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">k</text>
</g>
<!-- literal_73&#45;&gt;leaf_86 -->
<g id="edge86" class="edge">
<title>literal_73&#45;&gt;leaf_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5730.457,-1468.0481C5727.1694,-1358.7484 5709.9342,-785.744 5705.8626,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="5709.3502,-649.9105 5705.551,-640.0203 5702.3533,-650.121 5709.3502,-649.9105"/>
</g>
<!-- leaf_87 -->
<g id="node88" class="node">
<title>leaf_87</title>
<polygon fill="none" stroke="#c0c0c0" points="5864,-641.0015 5750,-641.0015 5750,-602.4004 5864,-602.4004 5864,-641.0015"/>
<text text-anchor="middle" x="5807" y="-625.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> is key/value,</text>
<text text-anchor="middle" x="5807" y="-610.501" font-family="Inconsolata" font-size="14.00" fill="#000000">and</text>
</g>
<!-- raw_74&#45;&gt;leaf_87 -->
<g id="edge87" class="edge">
<title>raw_74&#45;&gt;leaf_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5807,-1468.0481C5807,-1358.9927 5807,-788.3035 5807,-651.2934"/>
<polygon fill="#000000" stroke="#000000" points="5810.5001,-651.1341 5807,-641.1341 5803.5001,-651.1341 5810.5001,-651.1341"/>
</g>
<!-- leaf_88 -->
<g id="node89" class="node">
<title>leaf_88</title>
<polygon fill="none" stroke="#c0c0c0" points="5936,-639.701 5882,-639.701 5882,-603.701 5936,-603.701 5936,-639.701"/>
<text text-anchor="middle" x="5909" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_75&#45;&gt;leaf_88 -->
<g id="edge88" class="edge">
<title>prespace_75&#45;&gt;leaf_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5898.2298,-1468.0481C5899.6207,-1358.7484 5906.9125,-785.744 5908.6351,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="5912.1393,-650.0641 5908.7669,-640.0203 5905.1398,-649.9749 5912.1393,-650.0641"/>
</g>
<!-- leaf_89 -->
<g id="node90" class="node">
<title>leaf_89</title>
<polygon fill="none" stroke="#c0c0c0" points="6008,-639.701 5954,-639.701 5954,-603.701 6008,-603.701 6008,-639.701"/>
<text text-anchor="middle" x="5981" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">h</text>
</g>
<!-- literal_76&#45;&gt;leaf_89 -->
<g id="edge89" class="edge">
<title>literal_76&#45;&gt;leaf_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5993.7285,-1468.0481C5992.0847,-1358.7484 5983.4671,-785.744 5981.4313,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="5984.9256,-649.9665 5981.2755,-640.0203 5977.9264,-650.0718 5984.9256,-649.9665"/>
</g>
<!-- leaf_90 -->
<g id="node91" class="node">
<title>leaf_90</title>
<polygon fill="none" stroke="#c0c0c0" points="6238,-639.701 6026,-639.701 6026,-603.701 6238,-603.701 6238,-639.701"/>
<text text-anchor="middle" x="6132" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> is some weird object on the</text>
</g>
<!-- raw_77&#45;&gt;leaf_90 -->
<g id="edge90" class="edge">
<title>raw_77&#45;&gt;leaf_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6101.6475,-1468.0481C6105.5673,-1358.7484 6126.1169,-785.744 6130.9715,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="6134.4823,-650.1394 6131.343,-640.0203 6127.4868,-649.8884 6134.4823,-650.1394"/>
</g>
<!-- leaf_91 -->
<g id="node92" class="node">
<title>leaf_91</title>
<polygon fill="none" stroke="#c0c0c0" points="6310,-639.701 6256,-639.701 6256,-603.701 6310,-603.701 6310,-639.701"/>
<text text-anchor="middle" x="6283" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_78&#45;&gt;leaf_91 -->
<g id="edge91" class="edge">
<title>prespace_78&#45;&gt;leaf_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6211.2264,-1467.966C6217.5113,-1416.3252 6235.668,-1264.0429 6247,-1137.2018 6263.5838,-951.5774 6276.9578,-727.7738 6281.4117,-649.9741"/>
<polygon fill="#000000" stroke="#000000" points="6284.9063,-650.1672 6281.9804,-639.9844 6277.9176,-649.7693 6284.9063,-650.1672"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="6382,-639.701 6328,-639.701 6328,-603.701 6382,-603.701 6382,-639.701"/>
<text text-anchor="middle" x="6355" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">[0]</text>
</g>
<!-- literal_79&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>literal_79&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6338.3551,-1468.0481C6340.5046,-1358.7484 6351.7738,-785.744 6354.436,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="6357.9423,-650.0872 6354.6397,-640.0203 6350.9437,-649.9495 6357.9423,-650.0872"/>
</g>
<!-- leaf_93 -->
<g id="node94" class="node">
<title>leaf_93</title>
<polygon fill="none" stroke="#c0c0c0" points="6640,-641.0015 6400,-641.0015 6400,-602.4004 6640,-602.4004 6640,-641.0015"/>
<text text-anchor="middle" x="6520" y="-625.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> index which has column&#45;centered</text>
<text text-anchor="middle" x="6520" y="-610.501" font-family="Inconsolata" font-size="14.00" fill="#000000">values.</text>
</g>
<!-- raw_80&#45;&gt;leaf_93 -->
<g id="edge93" class="edge">
<title>raw_80&#45;&gt;leaf_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6476.919,-1468.0481C6482.4702,-1358.9927 6511.5195,-788.3035 6518.4937,-651.2934"/>
<polygon fill="#000000" stroke="#000000" points="6521.9978,-651.2991 6519.0108,-641.1341 6515.0069,-650.9432 6521.9978,-651.2991"/>
</g>
<!-- leaf_95 -->
<g id="node96" class="node">
<title>leaf_95</title>
<polygon fill="none" stroke="#c0c0c0" points="6940,-641.603 6658,-641.603 6658,-601.7989 6940,-601.7989 6940,-641.603"/>
<text text-anchor="middle" x="6799" y="-610.201" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;ve been getting back all three. Hmm.</text>
</g>
<!-- raw_94&#45;&gt;leaf_95 -->
<g id="edge95" class="edge">
<title>raw_94&#45;&gt;leaf_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6676.6108,-1468.0481C6692.3641,-1359.1108 6774.7293,-789.5383 6794.6561,-651.7397"/>
<polygon fill="#000000" stroke="#000000" points="6798.1678,-651.9102 6796.1351,-641.5122 6791.2399,-650.9083 6798.1678,-651.9102"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="7149.5,-641.603 6958.5,-641.603 6958.5,-601.7989 7149.5,-601.7989 7149.5,-641.603"/>
<text text-anchor="middle" x="7054" y="-610.201" font-family="Inconsolata" font-size="14.00" fill="#000000">Also the return format is</text>
</g>
<!-- raw_96&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>raw_96&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7138.2038,-1468.0481C7127.3655,-1359.1108 7070.6983,-789.5383 7056.9886,-651.7397"/>
<polygon fill="#000000" stroke="#000000" points="7060.4439,-651.1165 7055.971,-641.5122 7053.4783,-651.8096 7060.4439,-651.1165"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="7222,-639.701 7168,-639.701 7168,-603.701 7222,-603.701 7222,-639.701"/>
<text text-anchor="middle" x="7195" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_97&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>prespace_97&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7259.3357,-1467.9498C7254.6194,-1416.2664 7240.869,-1263.8827 7231,-1137.2018 7216.5253,-951.401 7201.8375,-727.7073 7196.8132,-649.9553"/>
<polygon fill="#000000" stroke="#000000" points="7200.3058,-649.7259 7196.1694,-639.9719 7193.3203,-650.1765 7200.3058,-649.7259"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="7361.5,-639.701 7240.5,-639.701 7240.5,-603.701 7361.5,-603.701 7361.5,-639.701"/>
<text text-anchor="middle" x="7301" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">resultset, nrow</text>
</g>
<!-- literal_98&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>literal_98&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7360.7259,-1468.0481C7353.0127,-1358.7484 7312.5764,-785.744 7303.0238,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="7306.4881,-649.7491 7302.2928,-640.0203 7299.5055,-650.2419 7306.4881,-649.7491"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="7620,-639.701 7380,-639.701 7380,-603.701 7620,-603.701 7620,-639.701"/>
<text text-anchor="middle" x="7500" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> which mitigates the damage from</text>
</g>
<!-- raw_99&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>raw_99&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7469.6475,-1468.0481C7473.5673,-1358.7484 7494.1169,-785.744 7498.9715,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="7502.4823,-650.1394 7499.343,-640.0203 7495.4868,-649.8884 7502.4823,-650.1394"/>
</g>
<!-- leaf_107 -->
<g id="node108" class="node">
<title>leaf_107</title>
<polygon fill="none" stroke="#c0c0c0" points="7692,-639.701 7638,-639.701 7638,-603.701 7692,-603.701 7692,-639.701"/>
</g>
<!-- prespace_100&#45;&gt;leaf_107 -->
<g id="edge107" class="edge">
<title>prespace_100&#45;&gt;leaf_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7583.9282,-1467.9931C7592.1723,-1416.4239 7615.833,-1264.3117 7629,-1137.2018 7648.2022,-951.8299 7659.9453,-727.8691 7663.691,-650.0011"/>
<polygon fill="#000000" stroke="#000000" points="7667.1874,-650.1574 7664.1664,-640.0024 7660.1953,-649.8248 7667.1874,-650.1574"/>
</g>
<!-- leaf_108 -->
<g id="node109" class="node">
<title>leaf_108</title>
<polygon fill="none" stroke="#c0c0c0" points="7764,-639.701 7710,-639.701 7710,-603.701 7764,-603.701 7764,-639.701"/>
<text text-anchor="middle" x="7737" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">NULL</text>
</g>
<!-- literal_101&#45;&gt;leaf_108 -->
<g id="edge108" class="edge">
<title>literal_101&#45;&gt;leaf_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7702.731,-1468.0481C7707.1566,-1358.7484 7730.3578,-785.744 7735.8388,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="7739.3507,-650.1538 7736.2582,-640.0203 7732.3564,-649.8705 7739.3507,-650.1538"/>
</g>
<!-- leaf_109 -->
<g id="node110" class="node">
<title>leaf_109</title>
<polygon fill="none" stroke="#c0c0c0" points="7847.5,-641.603 7782.5,-641.603 7782.5,-601.7989 7847.5,-601.7989 7847.5,-641.603"/>
<text text-anchor="middle" x="7815" y="-626.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> holes.</text>
</g>
<!-- raw_102&#45;&gt;leaf_109 -->
<g id="edge109" class="edge">
<title>raw_102&#45;&gt;leaf_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7798.3551,-1468.0481C7800.4975,-1359.1108 7811.6992,-789.5383 7814.4092,-651.7397"/>
<polygon fill="#000000" stroke="#000000" points="7817.913,-651.5791 7814.6104,-641.5122 7810.9143,-651.4414 7817.913,-651.5791"/>
</g>
<!-- leaf_113 -->
<g id="node114" class="node">
<title>leaf_113</title>
<polygon fill="none" stroke="#c0c0c0" points="8008,-639.701 7866,-639.701 7866,-603.701 8008,-603.701 8008,-639.701"/>
<text text-anchor="middle" x="7937" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">*** SQLite battery</text>
</g>
<!-- header_110&#45;&gt;leaf_113 -->
<g id="edge113" class="edge">
<title>header_110&#45;&gt;leaf_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7931.1253,-1468.0481C7931.884,-1358.7484 7935.8613,-785.744 7936.8009,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="7940.3033,-650.0444 7936.8728,-640.0203 7933.3034,-649.9957 7940.3033,-650.0444"/>
</g>
<!-- raw_114 -->
<g id="node115" class="node">
<title>raw_114</title>
<ellipse fill="none" stroke="#000000" cx="8053" cy="-621.701" rx="27" ry="18"/>
<text text-anchor="middle" x="8053" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_111&#45;&gt;raw_114 -->
<g id="edge114" class="edge">
<title>prose_111&#45;&gt;raw_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8059.8538,-1468.0481C8058.9687,-1358.7484 8054.3284,-785.744 8053.2322,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="8056.7293,-649.9916 8053.1484,-640.0203 8049.7295,-650.0484 8056.7293,-649.9916"/>
</g>
<!-- leaf_116 -->
<g id="node117" class="node">
<title>leaf_116</title>
<polygon fill="none" stroke="#c0c0c0" points="8646,-1137.2027 8098,-1137.2027 8098,-106.1992 8646,-106.1992 8646,-1137.2027"/>
<text text-anchor="middle" x="8372" y="-1122.0018" font-family="Inconsolata" font-size="14.00" fill="#000000">Historian.HISTORY_LIMIT = 1000</text>
<text text-anchor="middle" x="8372" y="-1090.6018" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_repl_table = [[</text>
<text text-anchor="middle" x="8372" y="-1075.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS repl (</text>
<text text-anchor="middle" x="8372" y="-1059.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">line_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="8372" y="-1044.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">project TEXT,</text>
<text text-anchor="middle" x="8372" y="-1029.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">line TEXT,</text>
<text text-anchor="middle" x="8372" y="-1013.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">time DATETIME DEFAULT CURRENT_TIMESTAMP);</text>
<text text-anchor="middle" x="8372" y="-998.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="8372" y="-966.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_result_table = [[</text>
<text text-anchor="middle" x="8372" y="-951.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS results (</text>
<text text-anchor="middle" x="8372" y="-936.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">result_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="8372" y="-920.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">line_id INTEGER,</text>
<text text-anchor="middle" x="8372" y="-905.2014" font-family="Inconsolata" font-size="14.00" fill="#000000">repr text NOT NULL,</text>
<text text-anchor="middle" x="8372" y="-889.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">value blob,</text>
<text text-anchor="middle" x="8372" y="-874.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">FOREIGN KEY (line_id)</text>
<text text-anchor="middle" x="8372" y="-859.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;REFERENCES repl (line_id)</text>
<text text-anchor="middle" x="8372" y="-843.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;ON DELETE CASCADE);</text>
<text text-anchor="middle" x="8372" y="-828.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="8372" y="-796.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">local insert_line_stmt = [[</text>
<text text-anchor="middle" x="8372" y="-781.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO repl (project, line) VALUES (:project, :line);</text>
<text text-anchor="middle" x="8372" y="-766.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="8372" y="-734.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">local insert_result_stmt = [[</text>
<text text-anchor="middle" x="8372" y="-719.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO results (line_id, repr) VALUES (:line_id, :repr);</text>
<text text-anchor="middle" x="8372" y="-703.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="8372" y="-672.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_tables = [[</text>
<text text-anchor="middle" x="8372" y="-657.001" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT name FROM sqlite_master WHERE type=&#39;table&#39;;</text>
<text text-anchor="middle" x="8372" y="-641.601" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="8372" y="-610.201" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_recent = [[</text>
<text text-anchor="middle" x="8372" y="-594.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (line_id AS REAL), line FROM repl</text>
<text text-anchor="middle" x="8372" y="-579.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;WHERE project = %s</text>
<text text-anchor="middle" x="8372" y="-564.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;ORDER BY time</text>
<text text-anchor="middle" x="8372" y="-548.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;DESC LIMIT %d;</text>
<text text-anchor="middle" x="8372" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="8372" y="-501.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_recent_2 = [[</text>
<text text-anchor="middle" x="8372" y="-486.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (repl.line_id AS REAL), results.repr</text>
<text text-anchor="middle" x="8372" y="-471.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">FROM repl</text>
<text text-anchor="middle" x="8372" y="-455.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">LEFT OUTER JOIN results</text>
<text text-anchor="middle" x="8372" y="-440.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">ON repl.line_id = results.line_id</text>
<text text-anchor="middle" x="8372" y="-424.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE repl.project = &#39;%s&#39;</text>
<text text-anchor="middle" x="8372" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">ORDER BY repl.time</text>
<text text-anchor="middle" x="8372" y="-394.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">DESC LIMIT %d;</text>
<text text-anchor="middle" x="8372" y="-378.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="8372" y="-347.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">local home_dir = io.popen(&quot;echo $HOME&quot;, &quot;r&quot;):read(&quot;*a&quot;):sub(1, &#45;2)</text>
<text text-anchor="middle" x="8372" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">local bridge_home = io.popen(&quot;echo $BRIDGE_HOME&quot;, &quot;r&quot;):read(&quot;*a&quot;):sub(1, &#45;2)</text>
<text text-anchor="middle" x="8372" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">Historian.bridge_home = bridge_home ~= &quot;&quot; and bridge_home</text>
<text text-anchor="middle" x="8372" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;or home_dir .. &quot;/.bridge&quot;</text>
<text text-anchor="middle" x="8372" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">Historian.project = io.popen(&quot;pwd&quot;, &quot;r&quot;):read(&quot;*a&quot;):sub(1, &#45;2)</text>
<text text-anchor="middle" x="8372" y="-222.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">local function has(table, name)</text>
<text text-anchor="middle" x="8372" y="-206.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for _,v in ipairs(table) do</text>
<text text-anchor="middle" x="8372" y="-191.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if name == v then</text>
<text text-anchor="middle" x="8372" y="-176.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="8372" y="-160.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="8372" y="-145.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8372" y="-129.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return false</text>
<text text-anchor="middle" x="8372" y="-114.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_112&#45;&gt;leaf_116 -->
<g id="edge116" class="edge">
<title>codeblock_112&#45;&gt;leaf_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8284.8589,-1468.0481C8289.6325,-1421.6855 8302.9965,-1291.8893 8317.8679,-1147.4519"/>
<polygon fill="#000000" stroke="#000000" points="8321.3527,-1147.7792 8318.8953,-1137.4733 8314.3895,-1147.0622 8321.3527,-1147.7792"/>
</g>
<!-- leaf_115 -->
<g id="node116" class="node">
<title>leaf_115</title>
<polygon fill="none" stroke="#c0c0c0" points="7933,-53.1 7879,-53.1 7879,-17.1 7933,-17.1 7933,-53.1"/>
</g>
<!-- raw_114&#45;&gt;leaf_115 -->
<g id="edge115" class="edge">
<title>raw_114&#45;&gt;leaf_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8057.6422,-603.6726C8074.7702,-532.8352 8127.8738,-269.4876 8017,-106.2001 7996.2296,-75.6108 7972.3033,-91.3855 7942,-70.2001 7937.7277,-67.2132 7933.4896,-63.7098 7929.5022,-60.0934"/>
<polygon fill="#000000" stroke="#000000" points="7931.845,-57.491 7922.2003,-53.1058 7927.0053,-62.5484 7931.845,-57.491"/>
</g>
<!-- leaf_120 -->
<g id="node121" class="node">
<title>leaf_120</title>
<polygon fill="none" stroke="#c0c0c0" points="8820,-639.701 8664,-639.701 8664,-603.701 8820,-603.701 8820,-639.701"/>
<text text-anchor="middle" x="8742" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Historian:load()</text>
</g>
<!-- header_117&#45;&gt;leaf_120 -->
<g id="edge120" class="edge">
<title>header_117&#45;&gt;leaf_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8737.1044,-1468.0481C8737.7367,-1358.7484 8741.0511,-785.744 8741.8341,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="8745.336,-650.0404 8741.894,-640.0203 8738.3362,-649.9999 8745.336,-650.0404"/>
</g>
<!-- raw_121 -->
<g id="node122" class="node">
<title>raw_121</title>
<ellipse fill="none" stroke="#000000" cx="8865" cy="-621.701" rx="27" ry="18"/>
<text text-anchor="middle" x="8865" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_118&#45;&gt;raw_121 -->
<g id="edge121" class="edge">
<title>prose_118&#45;&gt;raw_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8869.8956,-1468.0481C8869.2633,-1358.7484 8865.9489,-785.744 8865.1659,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="8868.6638,-649.9999 8865.106,-640.0203 8861.664,-650.0404 8868.6638,-649.9999"/>
</g>
<!-- leaf_123 -->
<g id="node124" class="node">
<title>leaf_123</title>
<polygon fill="none" stroke="#c0c0c0" points="9388,-848.802 8910,-848.802 8910,-394.5999 9388,-394.5999 9388,-848.802"/>
<text text-anchor="middle" x="9149" y="-833.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.load(historian)</text>
<text text-anchor="middle" x="9149" y="-818.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local conn = sql.open(historian.bridge_home)</text>
<text text-anchor="middle" x="9149" y="-803.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.conn = conn</text>
<text text-anchor="middle" x="9149" y="-787.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:exec &quot;PRAGMA foreign_keys = ON;&quot;</text>
<text text-anchor="middle" x="9149" y="-772.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:exec(create_result_table)</text>
<text text-anchor="middle" x="9149" y="-756.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local success, err = sql.pexec(conn, create_repl_table)</text>
<text text-anchor="middle" x="9149" y="-741.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; success is nil for SQLITE_DONE, false for error</text>
<text text-anchor="middle" x="9149" y="-726.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if success == false then</text>
<text text-anchor="middle" x="9149" y="-710.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;error(err)</text>
<text text-anchor="middle" x="9149" y="-695.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="9149" y="-679.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.insert_line_stmt = conn:prepare(insert_line_stmt)</text>
<text text-anchor="middle" x="9149" y="-664.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.insert_result_stmt = conn:prepare(insert_result_stmt)</text>
<text text-anchor="middle" x="9149" y="-649.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local pop_stmt = sql.format(get_recent, historian.project,</text>
<text text-anchor="middle" x="9149" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;historian.HISTORY_LIMIT)</text>
<text text-anchor="middle" x="9149" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local values, nrow = sql.pexec(conn, pop_stmt, &quot;i&quot;)</text>
<text text-anchor="middle" x="9149" y="-602.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if values then</text>
<text text-anchor="middle" x="9149" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;historian.values = values &#45;&#45; for repl</text>
<text text-anchor="middle" x="9149" y="-572.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local lines = reverse(values[2])</text>
<text text-anchor="middle" x="9149" y="-556.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local rowids = reverse(values[1])</text>
<text text-anchor="middle" x="9149" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;for i, v in ipairs(lines) do</text>
<text text-anchor="middle" x="9149" y="-525.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;historian[i] = Linebuf(v)</text>
<text text-anchor="middle" x="9149" y="-510.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="9149" y="-495.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;historian.cursor = #historian</text>
<text text-anchor="middle" x="9149" y="-479.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;historian.up = false</text>
<text text-anchor="middle" x="9149" y="-464.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="9149" y="-448.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; error hides in nrow in the finest Lua style</text>
<text text-anchor="middle" x="9149" y="-433.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;error(nrow)</text>
<text text-anchor="middle" x="9149" y="-418.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="9149" y="-402.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_119&#45;&gt;leaf_123 -->
<g id="edge123" class="edge">
<title>codeblock_119&#45;&gt;leaf_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9080.462,-1468.0481C9086.7221,-1390.7452 9111.7657,-1081.4922 9129.77,-859.1639"/>
<polygon fill="#000000" stroke="#000000" points="9133.2764,-859.2255 9130.5951,-848.9756 9126.2993,-858.6604 9133.2764,-859.2255"/>
</g>
<!-- leaf_122 -->
<g id="node123" class="node">
<title>leaf_122</title>
<polygon fill="none" stroke="#c0c0c0" points="8464.5,-63.0015 7951.5,-63.0015 7951.5,-7.1986 8464.5,-7.1986 8464.5,-63.0015"/>
<text text-anchor="middle" x="8208" y="-15.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Brings up the project history and (eventually) results and user config.</text>
</g>
<!-- raw_121&#45;&gt;leaf_122 -->
<g id="edge122" class="edge">
<title>raw_121&#45;&gt;leaf_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8866.6828,-603.4911C8873.9355,-520.4385 8899.0946,-178.5063 8829,-106.2001 8801.3273,-77.6543 8512.489,-74.8108 8473,-70.2001 8456.5271,-68.2767 8439.4893,-66.2063 8422.3653,-64.0675"/>
<polygon fill="#000000" stroke="#000000" points="8422.6347,-60.5739 8412.2766,-62.8008 8421.7627,-67.5194 8422.6347,-60.5739"/>
</g>
<!-- leaf_130 -->
<g id="node131" class="node">
<title>leaf_130</title>
<polygon fill="none" stroke="#c0c0c0" points="9632,-639.701 9406,-639.701 9406,-603.701 9632,-603.701 9632,-639.701"/>
<text text-anchor="middle" x="9519" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Historian:persist(linebuf)</text>
</g>
<!-- header_124&#45;&gt;leaf_130 -->
<g id="edge130" class="edge">
<title>header_124&#45;&gt;leaf_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9519,-1468.0481C9519,-1358.7484 9519,-785.744 9519,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="9522.5001,-650.0203 9519,-640.0203 9515.5001,-650.0203 9522.5001,-650.0203"/>
</g>
<!-- raw_131 -->
<g id="node132" class="node">
<title>raw_131</title>
<ellipse fill="none" stroke="#000000" cx="9677" cy="-621.701" rx="27" ry="18"/>
<text text-anchor="middle" x="9677" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_125&#45;&gt;raw_131 -->
<g id="edge131" class="edge">
<title>prose_125&#45;&gt;raw_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9686.7911,-1468.0481C9685.5267,-1358.7484 9678.8978,-785.744 9677.3318,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="9680.8275,-649.9791 9677.2119,-640.0203 9673.8279,-650.0602 9680.8275,-649.9791"/>
</g>
<!-- raw_133 -->
<g id="node134" class="node">
<title>raw_133</title>
<ellipse fill="none" stroke="#000000" cx="9749" cy="-621.701" rx="27" ry="18"/>
<text text-anchor="middle" x="9749" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_126&#45;&gt;raw_133 -->
<g id="edge133" class="edge">
<title>prose_126&#45;&gt;raw_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9768.5823,-1468.0481C9766.0534,-1358.7484 9752.7955,-785.744 9749.6635,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="9753.1543,-649.9366 9749.4239,-640.0203 9746.1562,-650.0986 9753.1543,-649.9366"/>
</g>
<!-- raw_135 -->
<g id="node136" class="node">
<title>raw_135</title>
<ellipse fill="none" stroke="#000000" cx="9821" cy="-621.701" rx="27" ry="18"/>
<text text-anchor="middle" x="9821" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_127&#45;&gt;raw_135 -->
<g id="edge135" class="edge">
<title>prose_127&#45;&gt;raw_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9997.9031,-1468.692C9969.6394,-1418.9617 9889.6674,-1271.2232 9857,-1137.2018 9812.765,-955.7229 9816.6705,-728.4519 9819.6704,-649.918"/>
<polygon fill="#000000" stroke="#000000" points="9823.1708,-649.9787 9820.0826,-639.8439 9816.1767,-649.6924 9823.1708,-649.9787"/>
</g>
<!-- prespace_136 -->
<g id="node137" class="node">
<title>prespace_136</title>
<ellipse fill="none" stroke="#000000" cx="9912" cy="-621.701" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="9912" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_127&#45;&gt;prespace_136 -->
<g id="edge136" class="edge">
<title>prose_127&#45;&gt;prespace_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10005.8799,-1467.9456C9999.852,-1416.2514 9982.1379,-1263.842 9968,-1137.2018 9947.2521,-951.3516 9923.303,-727.6887 9915.0092,-649.9501"/>
<polygon fill="#000000" stroke="#000000" points="9918.4855,-649.5409 9913.9447,-639.9684 9911.5249,-650.2832 9918.4855,-649.5409"/>
</g>
<!-- literal_137 -->
<g id="node138" class="node">
<title>literal_137</title>
<ellipse fill="none" stroke="#000000" cx="10008" cy="-621.701" rx="31.481" ry="18"/>
<text text-anchor="middle" x="10008" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_127&#45;&gt;literal_137 -->
<g id="edge137" class="edge">
<title>prose_127&#45;&gt;literal_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10008,-1468.0481C10008,-1358.7484 10008,-785.744 10008,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="10011.5001,-650.0203 10008,-640.0203 10004.5001,-650.0203 10011.5001,-650.0203"/>
</g>
<!-- raw_138 -->
<g id="node139" class="node">
<title>raw_138</title>
<ellipse fill="none" stroke="#000000" cx="10084" cy="-621.701" rx="27" ry="18"/>
<text text-anchor="middle" x="10084" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_127&#45;&gt;raw_138 -->
<g id="edge138" class="edge">
<title>prose_127&#45;&gt;raw_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10010.3668,-1467.9708C10017.0437,-1416.3427 10036.3016,-1264.0906 10048,-1137.2018 10065.1092,-951.625 10078.1559,-727.7918 10082.4678,-649.9792"/>
<polygon fill="#000000" stroke="#000000" points="10085.9627,-650.1651 10083.0177,-639.9878 10078.9733,-649.7803 10085.9627,-650.1651"/>
</g>
<!-- prespace_139 -->
<g id="node140" class="node">
<title>prespace_139</title>
<ellipse fill="none" stroke="#000000" cx="10175" cy="-621.701" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="10175" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_127&#45;&gt;prespace_139 -->
<g id="edge139" class="edge">
<title>prose_127&#45;&gt;prespace_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10005.0036,-1468.1552C9997.4532,-1416.7904 9982.6916,-1266.8904 10049,-1173.2018 10069.4392,-1144.3229 10099.9088,-1166.3239 10120,-1137.2018 10227.7214,-981.0596 10195.3505,-732.6093 10180.546,-649.6769"/>
<polygon fill="#000000" stroke="#000000" points="10183.9703,-648.946 10178.7138,-639.7472 10177.0865,-650.2163 10183.9703,-648.946"/>
</g>
<!-- literal_140 -->
<g id="node141" class="node">
<title>literal_140</title>
<ellipse fill="none" stroke="#000000" cx="10271" cy="-621.701" rx="31.481" ry="18"/>
<text text-anchor="middle" x="10271" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_127&#45;&gt;literal_140 -->
<g id="edge140" class="edge">
<title>prose_127&#45;&gt;literal_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10003.9562,-1467.942C9993.2639,-1414.6897 9970.188,-1257.3985 10049,-1173.2018 10105.0506,-1113.3216 10175.492,-1198.4896 10230,-1137.2018 10356.5789,-994.8788 10301.5194,-734.4157 10278.9442,-649.365"/>
<polygon fill="#000000" stroke="#000000" points="10282.3064,-648.3905 10276.3045,-639.6596 10275.5518,-650.2277 10282.3064,-648.3905"/>
</g>
<!-- raw_141 -->
<g id="node142" class="node">
<title>raw_141</title>
<ellipse fill="none" stroke="#000000" cx="10347" cy="-621.701" rx="27" ry="18"/>
<text text-anchor="middle" x="10347" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_127&#45;&gt;raw_141 -->
<g id="edge141" class="edge">
<title>prose_127&#45;&gt;raw_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10003.8017,-1468.0974C9992.4997,-1414.594 9967.5137,-1255.1998 10049,-1173.2018 10131.8518,-1089.8298 10230.7107,-1223.0443 10311,-1137.2018 10377.2375,-1066.383 10357.2808,-747.5978 10349.4672,-650.1126"/>
<polygon fill="#000000" stroke="#000000" points="10352.9315,-649.5338 10348.6235,-639.8544 10345.9551,-650.1077 10352.9315,-649.5338"/>
</g>
<!-- raw_149 -->
<g id="node150" class="node">
<title>raw_149</title>
<ellipse fill="none" stroke="#000000" cx="10419" cy="-621.701" rx="27" ry="18"/>
<text text-anchor="middle" x="10419" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_128&#45;&gt;raw_149 -->
<g id="edge149" class="edge">
<title>prose_128&#45;&gt;raw_149</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10085.8909,-1468.111C10074.8483,-1414.6456 10050.5933,-1255.3465 10132,-1173.2018 10211.3285,-1093.1542 10306.2612,-1219.7354 10383,-1137.2018 10449.0281,-1066.1877 10429.2157,-747.537 10421.452,-650.0984"/>
<polygon fill="#000000" stroke="#000000" points="10424.917,-649.5267 10420.6136,-639.8452 10417.9403,-650.0972 10424.917,-649.5267"/>
</g>
<!-- leaf_151 -->
<g id="node152" class="node">
<title>leaf_151</title>
<polygon fill="none" stroke="#c0c0c0" points="10970,-864.7019 10464,-864.7019 10464,-378.7 10970,-378.7 10970,-864.7019"/>
<text text-anchor="middle" x="10717" y="-849.5014" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.persist(historian, linebuf, results)</text>
<text text-anchor="middle" x="10717" y="-834.1014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local lb = tostring(linebuf)</text>
<text text-anchor="middle" x="10717" y="-818.7014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if lb ~= &quot;&quot; then</text>
<text text-anchor="middle" x="10717" y="-803.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;historian.insert_line_stmt:bindkv { project = historian.project,</text>
<text text-anchor="middle" x="10717" y="-787.9013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;line &#160;&#160;&#160;= lb }</text>
<text text-anchor="middle" x="10717" y="-772.5013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local err = historian.insert_line_stmt:step()</text>
<text text-anchor="middle" x="10717" y="-757.1012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not err then</text>
<text text-anchor="middle" x="10717" y="-741.7012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;historian.insert_line_stmt:clearbind():reset()</text>
<text text-anchor="middle" x="10717" y="-726.3012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10717" y="-710.9011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error(err)</text>
<text text-anchor="middle" x="10717" y="-695.5011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10717" y="-680.1011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local line_id = sql.lastRowId(historian.conn)</text>
<text text-anchor="middle" x="10717" y="-664.701" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if results and type(results) == &quot;table&quot; then</text>
<text text-anchor="middle" x="10717" y="-649.301" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;for _,v in ipairs(results) do</text>
<text text-anchor="middle" x="10717" y="-633.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; insert result repr</text>
<text text-anchor="middle" x="10717" y="-618.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; tostring() just for compactness</text>
<text text-anchor="middle" x="10717" y="-603.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;historian.insert_result_stmt:bindkv { line_id = line_id,</text>
<text text-anchor="middle" x="10717" y="-587.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repr = tostring(v) }</text>
<text text-anchor="middle" x="10717" y="-572.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = historian.insert_result_stmt:step()</text>
<text text-anchor="middle" x="10717" y="-556.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if not err then</text>
<text text-anchor="middle" x="10717" y="-541.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;historian.insert_result_stmt:clearbind():reset()</text>
<text text-anchor="middle" x="10717" y="-526.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10717" y="-510.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10717" y="-495.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10717" y="-463.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return true</text>
<text text-anchor="middle" x="10717" y="-448.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10717" y="-433.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; A blank line can have no results and is uninteresting.</text>
<text text-anchor="middle" x="10717" y="-417.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="10717" y="-402.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10717" y="-386.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_129&#45;&gt;leaf_151 -->
<g id="edge151" class="edge">
<title>codeblock_129&#45;&gt;leaf_151</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10227.8871,-1467.859C10228.5875,-1414.3784 10238.1841,-1256.5227 10324,-1173.2018 10367.3207,-1131.1406 10408.2165,-1175.3741 10455,-1137.2018 10537.9002,-1069.5606 10597.1845,-968.8945 10638.1481,-874.4242"/>
<polygon fill="#000000" stroke="#000000" points="10641.4608,-875.5792 10642.1795,-865.0088 10635.0259,-872.8239 10641.4608,-875.5792"/>
</g>
<!-- leaf_132 -->
<g id="node133" class="node">
<title>leaf_132</title>
<polygon fill="none" stroke="#c0c0c0" points="8757.5,-63.0015 8482.5,-63.0015 8482.5,-7.1986 8757.5,-7.1986 8757.5,-63.0015"/>
<text text-anchor="middle" x="8620" y="-15.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Persists a line and results to store.</text>
</g>
<!-- raw_131&#45;&gt;leaf_132 -->
<g id="edge132" class="edge">
<title>raw_131&#45;&gt;leaf_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9678.7536,-603.6727C9686.3985,-520.6819 9713.2988,-176.4633 9641,-106.2001 9606.1498,-72.3311 8815.1362,-76.8744 8767,-70.2001 8756.7585,-68.78 8746.1868,-66.9655 8735.6293,-64.9115"/>
<polygon fill="#000000" stroke="#000000" points="8736.0172,-61.4194 8725.5227,-62.874 8734.6337,-68.2813 8736.0172,-61.4194"/>
</g>
<!-- leaf_134 -->
<g id="node135" class="node">
<title>leaf_134</title>
<polygon fill="none" stroke="#c0c0c0" points="9338,-70.3004 8776,-70.3004 8776,.1003 9338,.1003 9338,-70.3004"/>
<text text-anchor="middle" x="9057" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">The hooks are in place to persist the results. I&#39;m starting with a string</text>
<text text-anchor="middle" x="9057" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">representation; the goal is to provide the sense of persistence across</text>
<text text-anchor="middle" x="9057" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">sessions, and supplement that over time with better and better approximations.</text>
</g>
<!-- raw_133&#45;&gt;leaf_134 -->
<g id="edge134" class="edge">
<title>raw_133&#45;&gt;leaf_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9750.6873,-603.4867C9757.9598,-520.4149 9783.1934,-178.4103 9713,-106.2001 9686.0753,-78.5017 9419.2898,-74.9817 9348.4927,-70.1018"/>
<polygon fill="#000000" stroke="#000000" points="9348.5172,-66.5915 9338.2578,-69.2363 9347.9273,-73.5666 9348.5172,-66.5915"/>
</g>
<!-- leaf_142 -->
<g id="node143" class="node">
<title>leaf_142</title>
<polygon fill="none" stroke="#c0c0c0" points="9876,-62.4005 9356,-62.4005 9356,-7.7996 9876,-7.7996 9876,-62.4005"/>
<text text-anchor="middle" x="9616" y="-31.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">To really nail it down will require semantic analysis and hence thorough</text>
<text text-anchor="middle" x="9616" y="-15.9" font-family="Inconsolata" font-size="14.00" fill="#000000">parsing. &#160;General&#45;purpose persistence tools belong in</text>
</g>
<!-- raw_135&#45;&gt;leaf_142 -->
<g id="edge142" class="edge">
<title>raw_135&#45;&gt;leaf_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9825.8789,-603.5076C9843.8923,-532.0528 9899.8638,-266.7059 9785,-106.2001 9773.1399,-89.6273 9756.6418,-76.8969 9738.5673,-67.1236"/>
<polygon fill="#000000" stroke="#000000" points="9740.0821,-63.9674 9729.5812,-62.5595 9736.9121,-70.2086 9740.0821,-63.9674"/>
</g>
<!-- leaf_143 -->
<g id="node144" class="node">
<title>leaf_143</title>
<polygon fill="none" stroke="#c0c0c0" points="9948,-53.1 9894,-53.1 9894,-17.1 9948,-17.1 9948,-53.1"/>
<text text-anchor="middle" x="9921" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_136&#45;&gt;leaf_143 -->
<g id="edge143" class="edge">
<title>prespace_136&#45;&gt;leaf_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9912.2792,-603.5019C9913.5717,-519.2592 9918.9779,-166.8931 9920.562,-63.6454"/>
<polygon fill="#000000" stroke="#000000" points="9924.0657,-63.429 9920.7196,-53.3764 9917.0665,-63.3215 9924.0657,-63.429"/>
</g>
<!-- leaf_144 -->
<g id="node145" class="node">
<title>leaf_144</title>
<polygon fill="none" stroke="#c0c0c0" points="10031.5,-53.1 9966.5,-53.1 9966.5,-17.1 10031.5,-17.1 10031.5,-53.1"/>
<text text-anchor="middle" x="9999" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">sqlayer</text>
</g>
<!-- literal_137&#45;&gt;leaf_144 -->
<g id="edge144" class="edge">
<title>literal_137&#45;&gt;leaf_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10007.7208,-603.5019C10006.4283,-519.2592 10001.0221,-166.8931 9999.438,-63.6454"/>
<polygon fill="#000000" stroke="#000000" points="10002.9335,-63.3215 9999.2804,-53.3764 9995.9343,-63.429 10002.9335,-63.3215"/>
</g>
<!-- leaf_145 -->
<g id="node146" class="node">
<title>leaf_145</title>
<polygon fill="none" stroke="#c0c0c0" points="10318,-54.4006 10050,-54.4006 10050,-15.7995 10318,-15.7995 10318,-54.4006"/>
<text text-anchor="middle" x="10184" y="-39.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">, which will</text>
<text text-anchor="middle" x="10184" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">merge with our increasingly&#45;modified</text>
</g>
<!-- raw_138&#45;&gt;leaf_145 -->
<g id="edge145" class="edge">
<title>raw_138&#45;&gt;leaf_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10081.1619,-603.3735C10071.3411,-534.6037 10043.4277,-286.6525 10120,-106.2001 10127.1453,-89.3612 10139.9889,-73.8509 10152.3049,-61.6428"/>
<polygon fill="#000000" stroke="#000000" points="10155.0033,-63.9075 10159.8496,-54.486 10150.1857,-58.8289 10155.0033,-63.9075"/>
</g>
<!-- leaf_146 -->
<g id="node147" class="node">
<title>leaf_146</title>
<polygon fill="none" stroke="#c0c0c0" points="10390,-53.1 10336,-53.1 10336,-17.1 10390,-17.1 10390,-53.1"/>
<text text-anchor="middle" x="10363" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_139&#45;&gt;leaf_146 -->
<g id="edge146" class="edge">
<title>prespace_139&#45;&gt;leaf_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10170.9098,-603.7569C10155.6953,-532.1306 10109.2773,-263.0003 10231,-106.2001 10258.9427,-70.205 10288.5322,-94.627 10327,-70.2001 10331.4904,-67.3487 10335.8829,-63.8659 10339.9696,-60.214"/>
<polygon fill="#000000" stroke="#000000" points="10342.5935,-62.5474 10347.397,-53.1041 10337.753,-57.4907 10342.5935,-62.5474"/>
</g>
<!-- leaf_147 -->
<g id="node148" class="node">
<title>leaf_147</title>
<polygon fill="none" stroke="#c0c0c0" points="10466,-53.1 10408,-53.1 10408,-17.1 10466,-17.1 10466,-53.1"/>
<text text-anchor="middle" x="10437" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">sqlite</text>
</g>
<!-- literal_140&#45;&gt;leaf_147 -->
<g id="edge147" class="edge">
<title>literal_140&#45;&gt;leaf_147</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10266.2485,-603.4525C10248.7383,-531.7918 10194.6597,-265.7779 10311,-106.2001 10335.8942,-72.054 10363.356,-92.8978 10399,-70.2001 10403.5239,-67.3193 10408.0051,-63.8725 10412.2173,-60.2805"/>
<polygon fill="#000000" stroke="#000000" points="10414.8598,-62.6095 10419.9264,-53.3047 10410.163,-57.4191 10414.8598,-62.6095"/>
</g>
<!-- leaf_148 -->
<g id="node149" class="node">
<title>leaf_148</title>
<polygon fill="none" stroke="#c0c0c0" points="10570,-53.1 10484,-53.1 10484,-17.1 10570,-17.1 10570,-53.1"/>
<text text-anchor="middle" x="10527" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> bindings.</text>
</g>
<!-- raw_141&#45;&gt;leaf_148 -->
<g id="edge148" class="edge">
<title>raw_141&#45;&gt;leaf_148</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10342.1267,-603.9072C10323.8024,-532.8529 10265.8539,-265.6048 10383,-106.2001 10409.0015,-70.819 10436.1225,-90.6069 10475,-70.2001 10481.2852,-66.901 10487.7404,-63.0068 10493.8717,-59.0343"/>
<polygon fill="#000000" stroke="#000000" points="10496.1999,-61.6878 10502.5654,-53.2184 10492.3076,-55.8697 10496.1999,-61.6878"/>
</g>
<!-- leaf_150 -->
<g id="node151" class="node">
<title>leaf_150</title>
<polygon fill="none" stroke="#c0c0c0" points="11122,-62.4005 10588,-62.4005 10588,-7.7996 11122,-7.7996 11122,-62.4005"/>
<text text-anchor="middle" x="10855" y="-31.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">Medium&#45;term goal is to hash any Lua object in a way that will resolve to a</text>
<text text-anchor="middle" x="10855" y="-15.9" font-family="Inconsolata" font-size="14.00" fill="#000000">common value for any identical semantics.</text>
</g>
<!-- raw_149&#45;&gt;leaf_150 -->
<g id="edge150" class="edge">
<title>raw_149&#45;&gt;leaf_150</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10417.4428,-603.6083C10410.7449,-521.0738 10387.6705,-181.0878 10455,-106.2001 10467.9998,-91.741 10544.013,-76.5467 10626.3438,-63.9331"/>
<polygon fill="#000000" stroke="#000000" points="10627.0488,-67.3663 10636.4117,-62.4079 10626.0002,-60.4453 10627.0488,-67.3663"/>
</g>
<!-- leaf_155 -->
<g id="node156" class="node">
<title>leaf_155</title>
<polygon fill="none" stroke="#c0c0c0" points="10524.5,-1504.1024 10333.5,-1504.1024 10333.5,-1468.1024 10524.5,-1468.1024 10524.5,-1504.1024"/>
<text text-anchor="middle" x="10429" y="-1482.6024" font-family="Inconsolata" font-size="14.00" fill="#000000">** Historian:search(frag)</text>
</g>
<!-- header_152&#45;&gt;leaf_155 -->
<g id="edge155" class="edge">
<title>header_152&#45;&gt;leaf_155</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10424.2181,-1882.526C10425.0043,-1817.343 10427.698,-1594.0402 10428.6573,-1514.511"/>
<polygon fill="#000000" stroke="#000000" points="10432.1598,-1514.3162 10428.7808,-1504.2747 10425.1603,-1514.2317 10432.1598,-1514.3162"/>
</g>
<!-- raw_156 -->
<g id="node157" class="node">
<title>raw_156</title>
<ellipse fill="none" stroke="#000000" cx="10578" cy="-1486.1024" rx="27" ry="18"/>
<text text-anchor="middle" x="10578" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_153&#45;&gt;raw_156 -->
<g id="edge156" class="edge">
<title>prose_153&#45;&gt;raw_156</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10581.8256,-1882.526C10581.1965,-1817.343 10579.0416,-1594.0402 10578.2741,-1514.511"/>
<polygon fill="#000000" stroke="#000000" points="10581.7718,-1514.2404 10578.1754,-1504.2747 10574.7721,-1514.308 10581.7718,-1514.2404"/>
</g>
<!-- leaf_158 -->
<g id="node159" class="node">
<title>leaf_158</title>
<polygon fill="none" stroke="#c0c0c0" points="11178.5,-1798.9036 10623.5,-1798.9036 10623.5,-1173.3012 11178.5,-1173.3012 11178.5,-1798.9036"/>
<text text-anchor="middle" x="10901" y="-1783.803" font-family="Inconsolata" font-size="14.00" fill="#000000">local P, match = L.P, L.match</text>
<text text-anchor="middle" x="10901" y="-1752.4029" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; second_best is broke and I don&#39;t know why</text>
<text text-anchor="middle" x="10901" y="-1737.0029" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; also this fails on a single key search &gt;.&lt;</text>
<text text-anchor="middle" x="10901" y="-1721.6029" font-family="Inconsolata" font-size="14.00" fill="#000000">local function fuzz_patt(frag)</text>
<text text-anchor="middle" x="10901" y="-1706.2028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;frag = type(frag) == &quot;string&quot; and codepoints(frag) or frag</text>
<text text-anchor="middle" x="10901" y="-1690.8028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local patt = &#160;&#160;&#160;&#160;&#160;&#160;&#160;(P(1) &#45; P(frag[1]))^0</text>
<text text-anchor="middle" x="10901" y="-1675.4028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i = 1 , #frag &#45; 1 do</text>
<text text-anchor="middle" x="10901" y="-1660.0027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local v = frag[i]</text>
<text text-anchor="middle" x="10901" y="-1644.6027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;patt = patt * (P(v) * (P(1) &#45; P(frag[i + 1]))^0)</text>
<text text-anchor="middle" x="10901" y="-1629.2027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10901" y="-1613.8027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;patt = patt * P(frag[#frag])</text>
<text text-anchor="middle" x="10901" y="-1598.4026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return patt</text>
<text text-anchor="middle" x="10901" y="-1583.0026" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10901" y="-1551.6026" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.search(historian, frag)</text>
<text text-anchor="middle" x="10901" y="-1536.2025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local collection = {}</text>
<text text-anchor="middle" x="10901" y="-1520.8025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local best = true</text>
<text text-anchor="middle" x="10901" y="-1505.4025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local patt = fuzz_patt(frag)</text>
<text text-anchor="middle" x="10901" y="-1490.0024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i = #historian, 1, &#45;1 do</text>
<text text-anchor="middle" x="10901" y="-1474.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local score = match(patt, tostring(historian[i]))</text>
<text text-anchor="middle" x="10901" y="-1459.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if score then</text>
<text text-anchor="middle" x="10901" y="-1443.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;collection[#collection + 1] = tostring(historian[i])</text>
<text text-anchor="middle" x="10901" y="-1428.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10901" y="-1413.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10901" y="-1397.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if #collection == 0 then</text>
<text text-anchor="middle" x="10901" y="-1382.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; try the transpose</text>
<text text-anchor="middle" x="10901" y="-1366.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;best = false</text>
<text text-anchor="middle" x="10901" y="-1351.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local slip = sub(frag, 1, &#45;3) .. sub(frag, &#45;1, &#45;1) .. sub(frag, &#45;2, &#45;2)</text>
<text text-anchor="middle" x="10901" y="-1336.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local second = fuzz_patt(slip)</text>
<text text-anchor="middle" x="10901" y="-1320.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;for i = #historian, 1, &#45;1 do</text>
<text text-anchor="middle" x="10901" y="-1305.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local score = match(second, tostring(historian[i]))</text>
<text text-anchor="middle" x="10901" y="-1289.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if score then</text>
<text text-anchor="middle" x="10901" y="-1274.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;collection[#collection + 1] = tostring(historian[i])</text>
<text text-anchor="middle" x="10901" y="-1259.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10901" y="-1243.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10901" y="-1228.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10901" y="-1196.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return collection, best</text>
<text text-anchor="middle" x="10901" y="-1181.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_154&#45;&gt;leaf_158 -->
<g id="edge158" class="edge">
<title>codeblock_154&#45;&gt;leaf_158</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10815.8814,-1882.526C10819.3683,-1866.2867 10824.9624,-1840.2333 10831.6614,-1809.0339"/>
<polygon fill="#000000" stroke="#000000" points="10835.0974,-1809.7033 10833.7747,-1799.1913 10828.2533,-1808.2337 10835.0974,-1809.7033"/>
</g>
<!-- leaf_157 -->
<g id="node158" class="node">
<title>leaf_157</title>
<polygon fill="none" stroke="#c0c0c0" points="11042,-639.701 10988,-639.701 10988,-603.701 11042,-603.701 11042,-639.701"/>
</g>
<!-- raw_156&#45;&gt;leaf_157 -->
<g id="edge157" class="edge">
<title>raw_156&#45;&gt;leaf_157</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10573.3222,-1467.9974C10560.63,-1414.2148 10531.756,-1254.1212 10614,-1173.2018 10672.0985,-1116.0391 10922.1972,-1195.6523 10979,-1137.2018 11111.7967,-1000.5531 11049.0226,-735.8143 11023.7824,-649.585"/>
<polygon fill="#000000" stroke="#000000" points="11027.0587,-648.3249 11020.837,-639.7493 11020.3529,-650.3331 11027.0587,-648.3249"/>
</g>
<!-- leaf_164 -->
<g id="node165" class="node">
<title>leaf_164</title>
<polygon fill="none" stroke="#c0c0c0" points="11345.5,-1504.1024 11196.5,-1504.1024 11196.5,-1468.1024 11345.5,-1468.1024 11345.5,-1504.1024"/>
<text text-anchor="middle" x="11271" y="-1482.6024" font-family="Inconsolata" font-size="14.00" fill="#000000">** Historian:prev()</text>
</g>
<!-- header_159&#45;&gt;leaf_164 -->
<g id="edge164" class="edge">
<title>header_159&#45;&gt;leaf_164</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11280.5639,-1882.526C11278.9913,-1817.343 11273.604,-1594.0402 11271.6854,-1514.511"/>
<polygon fill="#000000" stroke="#000000" points="11275.1787,-1514.1873 11271.4384,-1504.2747 11268.1807,-1514.3562 11275.1787,-1514.1873"/>
</g>
<!-- raw_165 -->
<g id="node166" class="node">
<title>raw_165</title>
<ellipse fill="none" stroke="#000000" cx="11391" cy="-1486.1024" rx="27" ry="18"/>
<text text-anchor="middle" x="11391" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_160&#45;&gt;raw_165 -->
<g id="edge165" class="edge">
<title>prose_160&#45;&gt;raw_165</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11447.6533,-1882.7809C11441.7899,-1862.6212 11432.4865,-1828.725 11427,-1799.003 11407.7836,-1694.902 11397.0435,-1569.308 11392.9491,-1514.2611"/>
<polygon fill="#000000" stroke="#000000" points="11396.435,-1513.9391 11392.2183,-1504.2196 11389.4535,-1514.4473 11396.435,-1513.9391"/>
</g>
<!-- leaf_167 -->
<g id="node168" class="node">
<title>leaf_167</title>
<polygon fill="none" stroke="#c0c0c0" points="11803.9016,-1580.0833 11436.0984,-1580.0833 11436.0984,-1392.1215 11803.9016,-1392.1215 11803.9016,-1580.0833"/>
<text text-anchor="middle" x="11620" y="-1564.6425" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.prev(historian)</text>
<text text-anchor="middle" x="11620" y="-1549.2425" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if historian.cursor == 0 then</text>
<text text-anchor="middle" x="11620" y="-1533.8425" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return Linebuf()</text>
<text text-anchor="middle" x="11620" y="-1518.4424" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11620" y="-1503.0424" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local Δ = historian.cursor &gt; 1 and 1 or 0</text>
<text text-anchor="middle" x="11620" y="-1484.2824" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local linebuf = historian[historian.cursor &#45; Δ]</text>
<text text-anchor="middle" x="11620" y="-1465.5224" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local result = historian.results[linebuf]</text>
<text text-anchor="middle" x="11620" y="-1450.1224" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.cursor = historian.cursor &#45; Δ</text>
<text text-anchor="middle" x="11620" y="-1431.3624" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.cursor = #linebuf.line + 1</text>
<text text-anchor="middle" x="11620" y="-1415.9623" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return linebuf:clone(), result</text>
<text text-anchor="middle" x="11620" y="-1400.5623" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_161&#45;&gt;leaf_167 -->
<g id="edge167" class="edge">
<title>codeblock_161&#45;&gt;leaf_167</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11601.8286,-1882.526C11604.1177,-1832.587 11610.6611,-1689.8373 11615.2358,-1590.0367"/>
<polygon fill="#000000" stroke="#000000" points="11618.7383,-1590.0615 11615.6999,-1579.9117 11611.7456,-1589.7409 11618.7383,-1590.0615"/>
</g>
<!-- header_168 -->
<g id="node169" class="node">
<title>header_168</title>
<ellipse fill="none" stroke="#000000" cx="11904" cy="-1486.1024" rx="82.2061" ry="18"/>
<text text-anchor="middle" x="11904" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Historian:next()</text>
</g>
<!-- section_162&#45;&gt;header_168 -->
<g id="edge168" class="edge">
<title>section_162&#45;&gt;header_168</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12029.0498,-1882.4528C12020.3629,-1862.2837 12006.3112,-1828.6454 11996,-1799.003 11959.9109,-1695.2547 11925.6864,-1569.0605 11911.2251,-1514.0182"/>
<polygon fill="#000000" stroke="#000000" points="11914.5966,-1513.0765 11908.6801,-1504.2876 11907.8244,-1514.8478 11914.5966,-1513.0765"/>
</g>
<!-- prose_169 -->
<g id="node170" class="node">
<title>prose_169</title>
<ellipse fill="none" stroke="#000000" cx="12037" cy="-1486.1024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="12037" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_162&#45;&gt;prose_169 -->
<g id="edge169" class="edge">
<title>section_162&#45;&gt;prose_169</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12037,-1882.526C12037,-1817.343 12037,-1594.0402 12037,-1514.511"/>
<polygon fill="#000000" stroke="#000000" points="12040.5001,-1514.2746 12037,-1504.2747 12033.5001,-1514.2747 12040.5001,-1514.2746"/>
</g>
<!-- prose_170 -->
<g id="node171" class="node">
<title>prose_170</title>
<ellipse fill="none" stroke="#000000" cx="12135" cy="-1486.1024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="12135" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_162&#45;&gt;prose_170 -->
<g id="edge170" class="edge">
<title>section_162&#45;&gt;prose_170</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12045.5497,-1882.6437C12054.7614,-1862.6417 12069.2702,-1829.149 12078,-1799.003 12107.7339,-1696.3249 12125.0937,-1570.0017 12131.7905,-1514.5147"/>
<polygon fill="#000000" stroke="#000000" points="12135.2892,-1514.7318 12132.9882,-1504.3898 12128.3376,-1513.9094 12135.2892,-1514.7318"/>
</g>
<!-- codeblock_171 -->
<g id="node172" class="node">
<title>codeblock_171</title>
<ellipse fill="none" stroke="#000000" cx="12340" cy="-1486.1024" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="12340" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 288&#45;308</text>
</g>
<!-- section_162&#45;&gt;codeblock_171 -->
<g id="edge171" class="edge">
<title>section_162&#45;&gt;codeblock_171</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12067.241,-1884.0754C12097.7082,-1866.2474 12144.5874,-1835.4617 12176,-1799.003 12254.7423,-1707.6114 12309.298,-1571.9451 12330.3502,-1513.9887"/>
<polygon fill="#000000" stroke="#000000" points="12333.7018,-1515.0107 12333.7779,-1504.4162 12327.1116,-1512.6509 12333.7018,-1515.0107"/>
</g>
<!-- header_184 -->
<g id="node185" class="node">
<title>header_184</title>
<ellipse fill="none" stroke="#000000" cx="12737" cy="-1486.1024" rx="95.2951" ry="18"/>
<text text-anchor="middle" x="12737" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Historian:append()</text>
</g>
<!-- section_163&#45;&gt;header_184 -->
<g id="edge184" class="edge">
<title>section_163&#45;&gt;header_184</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12935.6482,-1883.8795C12907.8312,-1866.1098 12866.0457,-1835.5621 12841,-1799.003 12777.6279,-1706.4992 12750.3472,-1572.3677 12741.0284,-1514.466"/>
<polygon fill="#000000" stroke="#000000" points="12744.4358,-1513.5983 12739.4456,-1504.2523 12737.5184,-1514.6703 12744.4358,-1513.5983"/>
</g>
<!-- prose_185 -->
<g id="node186" class="node">
<title>prose_185</title>
<ellipse fill="none" stroke="#000000" cx="12882" cy="-1486.1024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="12882" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_163&#45;&gt;prose_185 -->
<g id="edge185" class="edge">
<title>section_163&#45;&gt;prose_185</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12955.1642,-1882.7227C12945.702,-1862.7899 12930.975,-1829.3574 12923,-1799.003 12896.0483,-1696.4195 12886.4127,-1570.0478 12883.3166,-1514.5316"/>
<polygon fill="#000000" stroke="#000000" points="12886.8042,-1514.2025 12882.7814,-1504.4011 12879.8139,-1514.5719 12886.8042,-1514.2025"/>
</g>
<!-- prose_186 -->
<g id="node187" class="node">
<title>prose_186</title>
<ellipse fill="none" stroke="#000000" cx="12964" cy="-1486.1024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="12964" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_163&#45;&gt;prose_186 -->
<g id="edge186" class="edge">
<title>section_163&#45;&gt;prose_186</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12964,-1882.526C12964,-1817.343 12964,-1594.0402 12964,-1514.511"/>
<polygon fill="#000000" stroke="#000000" points="12967.5001,-1514.2746 12964,-1504.2747 12960.5001,-1514.2747 12967.5001,-1514.2746"/>
</g>
<!-- codeblock_187 -->
<g id="node188" class="node">
<title>codeblock_187</title>
<ellipse fill="none" stroke="#000000" cx="13165" cy="-1486.1024" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="13165" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 317&#45;327</text>
</g>
<!-- section_163&#45;&gt;codeblock_187 -->
<g id="edge187" class="edge">
<title>section_163&#45;&gt;codeblock_187</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12972.766,-1882.526C13004.5038,-1817.0764 13113.5458,-1592.2109 13151.6938,-1513.5424"/>
<polygon fill="#000000" stroke="#000000" points="13154.9738,-1514.7997 13156.1879,-1504.2747 13148.6753,-1511.7454 13154.9738,-1514.7997"/>
</g>
<!-- codeblock_188 -->
<g id="node189" class="node">
<title>codeblock_188</title>
<ellipse fill="none" stroke="#000000" cx="13530" cy="-1486.1024" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="13530" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 329&#45;338</text>
</g>
<!-- section_163&#45;&gt;codeblock_188 -->
<g id="edge188" class="edge">
<title>section_163&#45;&gt;codeblock_188</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13023.9877,-1889.8367C13087.1503,-1876.376 13187.4444,-1848.8035 13261,-1799.003 13379.5291,-1718.7533 13476.9056,-1573.1572 13513.9417,-1513.1096"/>
<polygon fill="#000000" stroke="#000000" points="13517.1391,-1514.589 13519.3617,-1504.2299 13511.1642,-1510.942 13517.1391,-1514.589"/>
</g>
<!-- codeblock_189 -->
<g id="node190" class="node">
<title>codeblock_189</title>
<ellipse fill="none" stroke="#000000" cx="13858" cy="-1486.1024" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="13858" y="-1481.9024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 340&#45;342</text>
</g>
<!-- section_163&#45;&gt;codeblock_189 -->
<g id="edge189" class="edge">
<title>section_163&#45;&gt;codeblock_189</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13036.7897,-1896.3801C13187.4747,-1886.5331 13527.7279,-1858.2497 13626,-1799.003 13742.545,-1728.7397 13819.2194,-1575.5964 13846.6913,-1513.2886"/>
<polygon fill="#000000" stroke="#000000" points="13849.9105,-1514.6622 13850.6765,-1504.0951 13843.4879,-1511.8781 13849.9105,-1514.6622"/>
</g>
<!-- leaf_166 -->
<g id="node167" class="node">
<title>leaf_166</title>
<polygon fill="none" stroke="#c0c0c0" points="11418,-639.701 11364,-639.701 11364,-603.701 11418,-603.701 11418,-639.701"/>
</g>
<!-- raw_165&#45;&gt;leaf_166 -->
<g id="edge166" class="edge">
<title>raw_165&#45;&gt;leaf_166</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11391,-1468.0481C11391,-1358.7484 11391,-785.744 11391,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="11394.5001,-650.0203 11391,-640.0203 11387.5001,-650.0203 11394.5001,-650.0203"/>
</g>
<!-- leaf_172 -->
<g id="node173" class="node">
<title>leaf_172</title>
<polygon fill="none" stroke="#c0c0c0" points="11788,-639.701 11632,-639.701 11632,-603.701 11788,-603.701 11788,-639.701"/>
<text text-anchor="middle" x="11710" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Historian:next()</text>
</g>
<!-- header_168&#45;&gt;leaf_172 -->
<g id="edge172" class="edge">
<title>header_168&#45;&gt;leaf_172</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11899.6097,-1467.8367C11887.7288,-1419.2262 11853.1272,-1282.9188 11813,-1173.2018 11806.9859,-1156.758 11802.0522,-1153.9662 11797,-1137.2018 11742.4724,-956.2662 11719.0924,-728.6547 11712.2631,-649.9748"/>
<polygon fill="#000000" stroke="#000000" points="11715.7398,-649.5502 11711.4078,-639.8815 11708.7648,-650.1414 11715.7398,-649.5502"/>
</g>
<!-- raw_173 -->
<g id="node174" class="node">
<title>raw_173</title>
<ellipse fill="none" stroke="#000000" cx="11833" cy="-621.701" rx="27" ry="18"/>
<text text-anchor="middle" x="11833" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_169&#45;&gt;raw_173 -->
<g id="edge173" class="edge">
<title>prose_169&#45;&gt;raw_173</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12040.7115,-1467.8581C12050.318,-1415.0458 12070.2854,-1260.2676 11995,-1173.2018 11956.9059,-1129.1468 11905.6717,-1182.4477 11869,-1137.2018 11808.0118,-1061.954 11824.2951,-746.8962 11830.8871,-650.1077"/>
<polygon fill="#000000" stroke="#000000" points="11834.3936,-650.1361 11831.6011,-639.916 11827.4107,-649.6469 11834.3936,-650.1361"/>
</g>
<!-- prespace_174 -->
<g id="node175" class="node">
<title>prespace_174</title>
<ellipse fill="none" stroke="#000000" cx="11924" cy="-621.701" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="11924" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_169&#45;&gt;prespace_174 -->
<g id="edge174" class="edge">
<title>prose_169&#45;&gt;prespace_174</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12036.2104,-1467.7853C12033.7543,-1419.0488 12024.5466,-1282.4603 11995,-1173.2018 11990.4751,-1156.4695 11984.3135,-1153.9898 11980,-1137.2018 11933.3557,-955.6638 11925.5414,-728.4298 11924.2495,-649.9118"/>
<polygon fill="#000000" stroke="#000000" points="11927.7482,-649.7893 11924.1071,-639.8398 11920.7489,-649.8883 11927.7482,-649.7893"/>
</g>
<!-- literal_175 -->
<g id="node176" class="node">
<title>literal_175</title>
<ellipse fill="none" stroke="#000000" cx="12020" cy="-621.701" rx="31.481" ry="18"/>
<text text-anchor="middle" x="12020" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_169&#45;&gt;literal_175 -->
<g id="edge175" class="edge">
<title>prose_169&#45;&gt;literal_175</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12036.6449,-1468.0481C12034.4954,-1358.7484 12023.2262,-785.744 12020.564,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="12024.0563,-649.9495 12020.3603,-640.0203 12017.0577,-650.0872 12024.0563,-649.9495"/>
</g>
<!-- raw_176 -->
<g id="node177" class="node">
<title>raw_176</title>
<ellipse fill="none" stroke="#000000" cx="12096" cy="-621.701" rx="27" ry="18"/>
<text text-anchor="middle" x="12096" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_169&#45;&gt;raw_176 -->
<g id="edge176" class="edge">
<title>prose_169&#45;&gt;raw_176</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12038.2323,-1468.0481C12045.6926,-1358.7484 12084.8032,-785.744 12094.0426,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="12097.5604,-650.2355 12094.7496,-640.0203 12090.5767,-649.7587 12097.5604,-650.2355"/>
</g>
<!-- raw_181 -->
<g id="node182" class="node">
<title>raw_181</title>
<ellipse fill="none" stroke="#000000" cx="12168" cy="-621.701" rx="27" ry="18"/>
<text text-anchor="middle" x="12168" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_170&#45;&gt;raw_181 -->
<g id="edge181" class="edge">
<title>prose_170&#45;&gt;raw_181</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12135.6893,-1468.0481C12139.862,-1358.7484 12161.7374,-785.744 12166.9052,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="12170.4165,-650.1466 12167.3006,-640.0203 12163.4216,-649.8795 12170.4165,-650.1466"/>
</g>
<!-- leaf_183 -->
<g id="node184" class="node">
<title>leaf_183</title>
<polygon fill="none" stroke="#c0c0c0" points="12601.4016,-778.7414 12212.5984,-778.7414 12212.5984,-464.6605 12601.4016,-464.6605 12601.4016,-778.7414"/>
<text text-anchor="middle" x="12407" y="-763.5212" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.next(historian)</text>
<text text-anchor="middle" x="12407" y="-748.1212" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local Δ = historian.cursor &lt; #historian and 1 or 0</text>
<text text-anchor="middle" x="12407" y="-729.3612" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if historian.cursor == 0 then</text>
<text text-anchor="middle" x="12407" y="-713.9611" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return Linebuf()</text>
<text text-anchor="middle" x="12407" y="-698.5611" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="12407" y="-683.1611" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local linebuf= historian[historian.cursor + Δ]</text>
<text text-anchor="middle" x="12407" y="-664.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local result = historian.results[linebuf]</text>
<text text-anchor="middle" x="12407" y="-649.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not linebuf then</text>
<text text-anchor="middle" x="12407" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return Linebuf()</text>
<text text-anchor="middle" x="12407" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="12407" y="-602.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.cursor = historian.cursor + Δ</text>
<text text-anchor="middle" x="12407" y="-584.0409" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.cursor = #linebuf.line + 1</text>
<text text-anchor="middle" x="12407" y="-568.6409" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not (Δ &gt; 0) and #linebuf.line &gt; 0 then</text>
<text text-anchor="middle" x="12407" y="-549.8809" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;historian.cursor = #historian + 1</text>
<text text-anchor="middle" x="12407" y="-534.4809" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return linebuf:clone(), nil, true</text>
<text text-anchor="middle" x="12407" y="-519.0808" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="12407" y="-503.6808" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return linebuf:clone(), result, false</text>
<text text-anchor="middle" x="12407" y="-488.2808" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="12407" y="-472.8807" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_171&#45;&gt;leaf_183 -->
<g id="edge183" class="edge">
<title>codeblock_171&#45;&gt;leaf_183</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12341.3994,-1468.0481C12348.0528,-1382.2091 12376.8745,-1010.3655 12394.0232,-789.1215"/>
<polygon fill="#000000" stroke="#000000" points="12397.5221,-789.2693 12394.8055,-779.0287 12390.5431,-788.7283 12397.5221,-789.2693"/>
</g>
<!-- leaf_177 -->
<g id="node178" class="node">
<title>leaf_177</title>
<polygon fill="none" stroke="#c0c0c0" points="11838,-63.0015 11360,-63.0015 11360,-7.1986 11838,-7.1986 11838,-63.0015"/>
<text text-anchor="middle" x="11599" y="-15.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Returns the next linebuf in history, and a second flag to tell the</text>
</g>
<!-- raw_173&#45;&gt;leaf_177 -->
<g id="edge177" class="edge">
<title>raw_173&#45;&gt;leaf_177</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11834.2775,-603.5811C11839.6824,-521.6574 11857.7076,-186.4088 11797,-106.2001 11785.9724,-91.6301 11753.3173,-77.5878 11717.6258,-65.8866"/>
<polygon fill="#000000" stroke="#000000" points="11718.5889,-62.5201 11707.998,-62.8071 11716.4563,-69.1873 11718.5889,-62.5201"/>
</g>
<!-- leaf_178 -->
<g id="node179" class="node">
<title>leaf_178</title>
<polygon fill="none" stroke="#c0c0c0" points="11910,-53.1 11856,-53.1 11856,-17.1 11910,-17.1 11910,-53.1"/>
</g>
<!-- prespace_174&#45;&gt;leaf_178 -->
<g id="edge178" class="edge">
<title>prespace_174&#45;&gt;leaf_178</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11922.728,-603.5019C11916.8399,-519.2592 11892.2116,-166.8931 11884.9952,-63.6454"/>
<polygon fill="#000000" stroke="#000000" points="11888.4662,-63.108 11884.2774,-53.3764 11881.4833,-63.5962 11888.4662,-63.108"/>
</g>
<!-- leaf_179 -->
<g id="node180" class="node">
<title>leaf_179</title>
<polygon fill="none" stroke="#c0c0c0" points="12028,-53.1 11928,-53.1 11928,-17.1 12028,-17.1 12028,-53.1"/>
<text text-anchor="middle" x="11978" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">modeselektor</text>
</g>
<!-- literal_175&#45;&gt;leaf_179 -->
<g id="edge179" class="edge">
<title>literal_175&#45;&gt;leaf_179</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12018.697,-603.5019C12012.6653,-519.2592 11987.4362,-166.8931 11980.0438,-63.6454"/>
<polygon fill="#000000" stroke="#000000" points="11983.5139,-63.1009 11979.3086,-53.3764 11976.5318,-63.6009 11983.5139,-63.1009"/>
</g>
<!-- leaf_180 -->
<g id="node181" class="node">
<title>leaf_180</title>
<polygon fill="none" stroke="#c0c0c0" points="12286,-53.1 12046,-53.1 12046,-17.1 12286,-17.1 12286,-53.1"/>
<text text-anchor="middle" x="12166" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> it might be time for a new one.</text>
</g>
<!-- raw_176&#45;&gt;leaf_180 -->
<g id="edge180" class="edge">
<title>raw_176&#45;&gt;leaf_180</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12094.847,-603.4982C12091.0861,-536.1621 12082.1199,-295.3104 12132,-106.2001 12136.0155,-90.9762 12143.2906,-75.0731 12150.0837,-62.1772"/>
<polygon fill="#000000" stroke="#000000" points="12153.1714,-63.8255 12154.8914,-53.3712 12147.0274,-60.4711 12153.1714,-63.8255"/>
</g>
<!-- leaf_182 -->
<g id="node183" class="node">
<title>leaf_182</title>
<polygon fill="none" stroke="#c0c0c0" points="12691.5,-55.0021 12304.5,-55.0021 12304.5,-15.198 12691.5,-15.198 12691.5,-55.0021"/>
<text text-anchor="middle" x="12498" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;d like to stop buffering blank lines at some point.</text>
</g>
<!-- raw_181&#45;&gt;leaf_182 -->
<g id="edge182" class="edge">
<title>raw_181&#45;&gt;leaf_182</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12166.5486,-603.7006C12160.3181,-521.5734 12138.9997,-183.1182 12204,-106.2001 12215.9008,-92.1173 12303.2301,-72.0872 12379.6442,-56.8738"/>
<polygon fill="#000000" stroke="#000000" points="12380.731,-60.2269 12389.8629,-54.8548 12379.3741,-53.3596 12380.731,-60.2269"/>
</g>
<!-- leaf_190 -->
<g id="node191" class="node">
<title>leaf_190</title>
<polygon fill="none" stroke="#c0c0c0" points="12822,-639.701 12652,-639.701 12652,-603.701 12822,-603.701 12822,-639.701"/>
<text text-anchor="middle" x="12737" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Historian:append()</text>
</g>
<!-- header_184&#45;&gt;leaf_190 -->
<g id="edge190" class="edge">
<title>header_184&#45;&gt;leaf_190</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12737,-1468.0481C12737,-1358.7484 12737,-785.744 12737,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="12740.5001,-650.0203 12737,-640.0203 12733.5001,-650.0203 12740.5001,-650.0203"/>
</g>
<!-- raw_191 -->
<g id="node192" class="node">
<title>raw_191</title>
<ellipse fill="none" stroke="#000000" cx="12875" cy="-621.701" rx="27" ry="18"/>
<text text-anchor="middle" x="12875" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_185&#45;&gt;raw_191 -->
<g id="edge191" class="edge">
<title>prose_185&#45;&gt;raw_191</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12881.8538,-1468.0481C12880.9687,-1358.7484 12876.3284,-785.744 12875.2322,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="12878.7293,-649.9916 12875.1484,-640.0203 12871.7295,-650.0484 12878.7293,-649.9916"/>
</g>
<!-- raw_193 -->
<g id="node194" class="node">
<title>raw_193</title>
<ellipse fill="none" stroke="#000000" cx="12947" cy="-621.701" rx="27" ry="18"/>
<text text-anchor="middle" x="12947" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_186&#45;&gt;raw_193 -->
<g id="edge193" class="edge">
<title>prose_186&#45;&gt;raw_193</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12963.6449,-1468.0481C12961.4954,-1358.7484 12950.2262,-785.744 12947.564,-650.379"/>
<polygon fill="#000000" stroke="#000000" points="12951.0563,-649.9495 12947.3603,-640.0203 12944.0577,-650.0872 12951.0563,-649.9495"/>
</g>
<!-- leaf_195 -->
<g id="node196" class="node">
<title>leaf_195</title>
<polygon fill="none" stroke="#c0c0c0" points="13449.5,-694.8018 12992.5,-694.8018 12992.5,-548.6001 13449.5,-548.6001 13449.5,-694.8018"/>
<text text-anchor="middle" x="13221" y="-679.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">function Historian.append(historian, linebuf, results)</text>
<text text-anchor="middle" x="13221" y="-664.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if tostring(historian[#historian]) == tostring(linebuf) then</text>
<text text-anchor="middle" x="13221" y="-649.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; don&#39;t bother</text>
<text text-anchor="middle" x="13221" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="13221" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="13221" y="-602.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian[#historian + 1] = linebuf</text>
<text text-anchor="middle" x="13221" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian:persist(linebuf, results)</text>
<text text-anchor="middle" x="13221" y="-572.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return true</text>
<text text-anchor="middle" x="13221" y="-556.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_187&#45;&gt;leaf_195 -->
<g id="edge195" class="edge">
<title>codeblock_187&#45;&gt;leaf_195</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13166.1696,-1468.0481C13172.5232,-1369.9769 13203.0624,-898.5812 13215.605,-704.9766"/>
<polygon fill="#000000" stroke="#000000" points="13219.1068,-705.0602 13216.2607,-694.8548 13212.1215,-704.6076 13219.1068,-705.0602"/>
</g>
<!-- leaf_196 -->
<g id="node197" class="node">
<title>leaf_196</title>
<polygon fill="none" stroke="#c0c0c0" points="13924.5,-687.4014 13467.5,-687.4014 13467.5,-556.0005 13924.5,-556.0005 13924.5,-687.4014"/>
<text text-anchor="middle" x="13696" y="-672.1011" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new()</text>
<text text-anchor="middle" x="13696" y="-656.701" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local historian = meta(Historian)</text>
<text text-anchor="middle" x="13696" y="-641.301" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian:load()</text>
<text text-anchor="middle" x="13696" y="-625.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; This will also be load()ed once we have the tables for it</text>
<text text-anchor="middle" x="13696" y="-610.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;historian.results = {} &#45;&#45; keyed by linebuf</text>
<text text-anchor="middle" x="13696" y="-595.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return historian</text>
<text text-anchor="middle" x="13696" y="-579.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="13696" y="-564.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">Historian.idEst = new</text>
</g>
<!-- codeblock_188&#45;&gt;leaf_196 -->
<g id="edge196" class="edge">
<title>codeblock_188&#45;&gt;leaf_196</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13533.4671,-1468.0481C13552.5524,-1368.6669 13645.2591,-885.9211 13681.4688,-697.3686"/>
<polygon fill="#000000" stroke="#000000" points="13684.9086,-698.0145 13683.3574,-687.5339 13678.0342,-696.6943 13684.9086,-698.0145"/>
</g>
<!-- leaf_197 -->
<g id="node198" class="node">
<title>leaf_197</title>
<polygon fill="none" stroke="#c0c0c0" points="14029,-639.701 13943,-639.701 13943,-603.701 14029,-603.701 14029,-639.701"/>
<text text-anchor="middle" x="13986" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">return new</text>
</g>
<!-- codeblock_189&#45;&gt;leaf_197 -->
<g id="edge197" class="edge">
<title>codeblock_189&#45;&gt;leaf_197</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13862.6894,-1468.0793C13875.8822,-1416.7369 13913.677,-1265.1642 13934,-1137.2018 13963.3089,-952.6603 13979.2917,-728.1822 13984.277,-650.0897"/>
<polygon fill="#000000" stroke="#000000" points="13987.773,-650.2614 13984.9077,-640.0614 13980.7868,-649.8219 13987.773,-650.2614"/>
</g>
<!-- leaf_192 -->
<g id="node193" class="node">
<title>leaf_192</title>
<polygon fill="none" stroke="#c0c0c0" points="13040.5,-63.0015 12709.5,-63.0015 12709.5,-7.1986 13040.5,-7.1986 13040.5,-63.0015"/>
<text text-anchor="middle" x="12875" y="-15.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Appends a linebuf to history and persists it.</text>
</g>
<!-- raw_191&#45;&gt;leaf_192 -->
<g id="edge192" class="edge">
<title>raw_191&#45;&gt;leaf_192</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12875,-603.5019C12875,-521.7282 12875,-187.3174 12875,-73.3524"/>
<polygon fill="#000000" stroke="#000000" points="12878.5001,-73.0276 12875,-63.0276 12871.5001,-73.0276 12878.5001,-73.0276"/>
</g>
<!-- leaf_194 -->
<g id="node195" class="node">
<title>leaf_194</title>
<polygon fill="none" stroke="#c0c0c0" points="13257,-55.0021 13059,-55.0021 13059,-15.198 13257,-15.198 13257,-55.0021"/>
<text text-anchor="middle" x="13158" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Doesn&#39;t adjust the cursor.</text>
</g>
<!-- raw_193&#45;&gt;leaf_194 -->
<g id="edge194" class="edge">
<title>raw_193&#45;&gt;leaf_194</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12942.1863,-603.9507C12924.0888,-533.062 12866.8866,-266.3586 12983,-106.2001 12989.9556,-96.606 13044.8454,-75.1797 13091.3231,-58.3411"/>
<polygon fill="#000000" stroke="#000000" points="13092.5682,-61.6128 13100.7909,-54.9316 13090.1965,-55.0268 13092.5682,-61.6128"/>
</g>
</g>
</svg>
