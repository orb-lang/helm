<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="2178pt" height="1535pt"
 viewBox="0.00 0.00 2178.00 1535.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1531.2021)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1531.2021 2174,-1531.2021 2174,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="274" cy="-1509.2021" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="274" y="-1505.0021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 136</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="274" cy="-1437.2021" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="274" y="-1433.0021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;25</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M274,-1491.0335C274,-1483.3331 274,-1474.1765 274,-1465.6188"/>
<polygon fill="#000000" stroke="#000000" points="277.5001,-1465.6154 274,-1455.6154 270.5001,-1465.6154 277.5001,-1465.6154"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="93" cy="-1365.2021" rx="27" ry="18"/>
<text text-anchor="middle" x="93" y="-1361.0021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">0 : </text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M237.3719,-1422.6318C204.7482,-1409.6545 157.4398,-1390.8356 125.9757,-1378.3195"/>
<polygon fill="#000000" stroke="#000000" points="126.9411,-1374.9369 116.3556,-1374.4927 124.3537,-1381.4411 126.9411,-1374.9369"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="186" cy="-1365.2021" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="186" y="-1361.0021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M253.1452,-1420.1391C240.8549,-1410.0834 225.1965,-1397.272 212.0929,-1386.5509"/>
<polygon fill="#000000" stroke="#000000" points="214.2731,-1383.8124 204.3172,-1380.1889 209.8404,-1389.2302 214.2731,-1383.8124"/>
</g>
<!-- codeblock_4 -->
<g id="node5" class="node">
<title>codeblock_4</title>
<ellipse fill="none" stroke="#000000" cx="323" cy="-1365.2021" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="323" y="-1361.0021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 6&#45;23</text>
</g>
<!-- section_1&#45;&gt;codeblock_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;codeblock_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M286.1124,-1419.4044C291.8252,-1411.01 298.7574,-1400.8239 305.0634,-1391.558"/>
<polygon fill="#000000" stroke="#000000" points="308.1244,-1393.281 310.8572,-1383.0447 302.3374,-1389.3426 308.1244,-1393.281"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="702" cy="-1365.2021" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="702" y="-1361.0021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 26&#45;42</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M326.9105,-1428.3013C404.9261,-1415.1772 550.7392,-1390.6479 635.7589,-1376.3455"/>
<polygon fill="#000000" stroke="#000000" points="636.5363,-1379.764 645.8171,-1374.6534 635.375,-1372.861 636.5363,-1379.764"/>
</g>
<!-- leaf_6 -->
<g id="node7" class="node">
<title>leaf_6</title>
<polygon fill="none" stroke="#c0c0c0" points="128,-1201.1019 0,-1201.1019 0,-1165.1019 128,-1165.1019 128,-1201.1019"/>
<text text-anchor="middle" x="64" y="-1179.6019" font-family="Inconsolata" font-size="14.00" fill="#000000">color.orb* Color</text>
</g>
<!-- header_2&#45;&gt;leaf_6 -->
<g id="edge6" class="edge">
<title>header_2&#45;&gt;leaf_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M90.1133,-1347.0759C85.054,-1315.307 74.5511,-1249.3554 68.5206,-1211.4879"/>
<polygon fill="#000000" stroke="#000000" points="71.9042,-1210.4799 66.875,-1201.1548 64.9913,-1211.5809 71.9042,-1210.4799"/>
</g>
<!-- raw_7 -->
<g id="node8" class="node">
<title>raw_7</title>
<ellipse fill="none" stroke="#000000" cx="173" cy="-1183.1019" rx="27" ry="18"/>
<text text-anchor="middle" x="173" y="-1178.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_7 -->
<g id="edge7" class="edge">
<title>prose_3&#45;&gt;raw_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M184.706,-1347.0759C182.438,-1315.307 177.7298,-1249.3554 175.0265,-1211.4879"/>
<polygon fill="#000000" stroke="#000000" points="178.4921,-1210.8802 174.2888,-1201.1548 171.5098,-1211.3787 178.4921,-1210.8802"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="479.5,-1311.3024 218.5,-1311.3024 218.5,-1054.9014 479.5,-1054.9014 479.5,-1311.3024"/>
<text text-anchor="middle" x="349" y="-1296.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">local a = require &quot;src/anterm&quot;</text>
<text text-anchor="middle" x="349" y="-1264.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">local C = {}</text>
<text text-anchor="middle" x="349" y="-1249.2021" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color = {}</text>
<text text-anchor="middle" x="349" y="-1233.802" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color.number = a.fg(42)</text>
<text text-anchor="middle" x="349" y="-1218.402" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color.string = a.fg(222)</text>
<text text-anchor="middle" x="349" y="-1203.002" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color.table &#160;= a.fg(64)</text>
<text text-anchor="middle" x="349" y="-1187.6019" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color.func &#160;&#160;= a.fg24(210,12,120)</text>
<text text-anchor="middle" x="349" y="-1172.2019" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color.truth &#160;= a.fg(231)</text>
<text text-anchor="middle" x="349" y="-1156.8019" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color.falsehood &#160;= a.fg(94)</text>
<text text-anchor="middle" x="349" y="-1141.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color.nilness &#160;&#160;= a.fg(93)</text>
<text text-anchor="middle" x="349" y="-1126.0018" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color.field &#160;= a.fg(111)</text>
<text text-anchor="middle" x="349" y="-1094.6018" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color.alert = a.fg24(250, 0, 40)</text>
<text text-anchor="middle" x="349" y="-1063.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">local c = C.color</text>
</g>
<!-- codeblock_4&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>codeblock_4&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M325.588,-1347.0759C326.5995,-1339.9915 327.8537,-1331.2072 329.2521,-1321.4135"/>
<polygon fill="#000000" stroke="#000000" points="332.7461,-1321.7034 330.6948,-1311.309 325.8164,-1320.7139 332.7461,-1321.7034"/>
</g>
<!-- header_10 -->
<g id="node11" class="node">
<title>header_10</title>
<ellipse fill="none" stroke="#000000" cx="554" cy="-1183.1019" rx="56.113" ry="18"/>
<text text-anchor="middle" x="554" y="-1178.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : ts(value)</text>
</g>
<!-- section_5&#45;&gt;header_10 -->
<g id="edge10" class="edge">
<title>section_5&#45;&gt;header_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M669.947,-1349.2481C653.4917,-1339.8714 634.0145,-1326.7963 620,-1311.2021 593.1914,-1281.3717 574.0769,-1238.6674 563.5332,-1210.911"/>
<polygon fill="#000000" stroke="#000000" points="566.7762,-1209.5889 560.0381,-1201.4128 560.2069,-1212.0063 566.7762,-1209.5889"/>
</g>
<!-- prose_11 -->
<g id="node12" class="node">
<title>prose_11</title>
<ellipse fill="none" stroke="#000000" cx="661" cy="-1183.1019" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="661" y="-1178.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_11 -->
<g id="edge11" class="edge">
<title>section_5&#45;&gt;prose_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M697.9189,-1347.0759C690.7354,-1315.1706 675.7894,-1248.7887 667.2817,-1211.0019"/>
<polygon fill="#000000" stroke="#000000" points="670.6757,-1210.1418 665.0646,-1201.1548 663.8467,-1211.6794 670.6757,-1210.1418"/>
</g>
<!-- prose_12 -->
<g id="node13" class="node">
<title>prose_12</title>
<ellipse fill="none" stroke="#000000" cx="743" cy="-1183.1019" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="743" y="-1178.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_12 -->
<g id="edge12" class="edge">
<title>section_5&#45;&gt;prose_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M706.0811,-1347.0759C713.2646,-1315.1706 728.2106,-1248.7887 736.7183,-1211.0019"/>
<polygon fill="#000000" stroke="#000000" points="740.1533,-1211.6794 738.9354,-1201.1548 733.3243,-1210.1418 740.1533,-1211.6794"/>
</g>
<!-- codeblock_13 -->
<g id="node14" class="node">
<title>codeblock_13</title>
<ellipse fill="none" stroke="#000000" cx="896" cy="-1183.1019" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="896" y="-1178.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 32&#45;41</text>
</g>
<!-- section_5&#45;&gt;codeblock_13 -->
<g id="edge13" class="edge">
<title>section_5&#45;&gt;codeblock_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M730.669,-1348.9596C747.0587,-1339.0455 767.5587,-1325.5455 784,-1311.2021 820.1564,-1279.6594 855.5177,-1236.5765 876.5384,-1209.2941"/>
<polygon fill="#000000" stroke="#000000" points="879.5624,-1211.1005 882.8422,-1201.0261 873.9958,-1206.8563 879.5624,-1211.1005"/>
</g>
<!-- section_14 -->
<g id="node15" class="node">
<title>section_14</title>
<ellipse fill="none" stroke="#000000" cx="1308" cy="-1183.1019" rx="70.655" ry="18"/>
<text text-anchor="middle" x="1308" y="-1178.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 43&#45;136</text>
</g>
<!-- section_5&#45;&gt;section_14 -->
<g id="edge14" class="edge">
<title>section_5&#45;&gt;section_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M760.6565,-1357.1054C817.8277,-1348.4639 906.8789,-1333.0041 982,-1311.2021 1085.9397,-1281.0363 1202.9254,-1230.8985 1264.5788,-1203.1393"/>
<polygon fill="#000000" stroke="#000000" points="1266.3196,-1206.1933 1273.9882,-1198.8827 1263.4345,-1199.8155 1266.3196,-1206.1933"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="237,-972.7037 109,-972.7037 109,-932.8995 237,-932.8995 237,-972.7037"/>
<text text-anchor="middle" x="173" y="-941.3016" font-family="Inconsolata" font-size="14.00" fill="#000000">color.orb* Color</text>
</g>
<!-- raw_7&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>raw_7&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M173,-1165.0306C173,-1125.598 173,-1031.4877 173,-982.9288"/>
<polygon fill="#000000" stroke="#000000" points="176.5001,-982.7362 173,-972.7362 169.5001,-982.7362 176.5001,-982.7362"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="604,-970.8016 504,-970.8016 504,-934.8016 604,-934.8016 604,-970.8016"/>
<text text-anchor="middle" x="554" y="-949.3016" font-family="Inconsolata" font-size="14.00" fill="#000000">** ts(value)</text>
</g>
<!-- header_10&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>header_10&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M554,-1165.0306C554,-1125.1051 554,-1029.1264 554,-981.1294"/>
<polygon fill="#000000" stroke="#000000" points="557.5001,-981.1076 554,-971.1076 550.5001,-981.1077 557.5001,-981.1076"/>
</g>
<!-- raw_16 -->
<g id="node17" class="node">
<title>raw_16</title>
<ellipse fill="none" stroke="#000000" cx="655" cy="-952.8016" rx="27" ry="18"/>
<text text-anchor="middle" x="655" y="-948.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_11&#45;&gt;raw_16 -->
<g id="edge16" class="edge">
<title>prose_11&#45;&gt;raw_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M660.5292,-1165.0306C659.489,-1125.1051 656.9885,-1029.1264 655.738,-981.1294"/>
<polygon fill="#000000" stroke="#000000" points="659.2363,-981.013 655.4769,-971.1076 652.2387,-981.1954 659.2363,-981.013"/>
</g>
<!-- raw_18 -->
<g id="node19" class="node">
<title>raw_18</title>
<ellipse fill="none" stroke="#000000" cx="735" cy="-952.8016" rx="27" ry="18"/>
<text text-anchor="middle" x="735" y="-948.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_12&#45;&gt;raw_18 -->
<g id="edge18" class="edge">
<title>prose_12&#45;&gt;raw_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M742.3723,-1165.0306C740.9853,-1125.1051 737.6513,-1029.1264 735.984,-981.1294"/>
<polygon fill="#000000" stroke="#000000" points="739.481,-980.9801 735.6359,-971.1076 732.4853,-981.2231 739.481,-980.9801"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="1062,-1019.2024 780,-1019.2024 780,-886.4008 1062,-886.4008 1062,-1019.2024"/>
<text text-anchor="middle" x="921" y="-1003.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">local hints = { field = C.color.field,</text>
<text text-anchor="middle" x="921" y="-988.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fn &#160;= C.color.func }</text>
<text text-anchor="middle" x="921" y="-957.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">local anti_G = {}</text>
<text text-anchor="middle" x="921" y="-925.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">for k, v in pairs(_G) do</text>
<text text-anchor="middle" x="921" y="-910.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;anti_G [v] = k</text>
<text text-anchor="middle" x="921" y="-894.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_13&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>codeblock_13&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M897.9617,-1165.0306C901.1104,-1136.0249 907.4706,-1077.4344 912.712,-1029.1506"/>
<polygon fill="#000000" stroke="#000000" points="916.2122,-1029.3376 913.8119,-1019.0182 909.2531,-1028.5821 916.2122,-1029.3376"/>
</g>
<!-- header_21 -->
<g id="node22" class="node">
<title>header_21</title>
<ellipse fill="none" stroke="#000000" cx="1137" cy="-952.8016" rx="56.6234" ry="18"/>
<text text-anchor="middle" x="1137" y="-948.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : tabulator</text>
</g>
<!-- section_14&#45;&gt;header_21 -->
<g id="edge21" class="edge">
<title>section_14&#45;&gt;header_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1294.8659,-1165.413C1264.9008,-1125.0566 1191.3762,-1026.0347 1156.2681,-978.7516"/>
<polygon fill="#000000" stroke="#000000" points="1158.9505,-976.493 1150.1789,-970.5508 1153.3303,-980.6661 1158.9505,-976.493"/>
</g>
<!-- prose_22 -->
<g id="node23" class="node">
<title>prose_22</title>
<ellipse fill="none" stroke="#000000" cx="1244" cy="-952.8016" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1244" y="-948.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_14&#45;&gt;prose_22 -->
<g id="edge22" class="edge">
<title>section_14&#45;&gt;prose_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1302.978,-1165.0306C1291.832,-1124.9224 1264.9661,-1028.247 1251.69,-980.4736"/>
<polygon fill="#000000" stroke="#000000" points="1255.0484,-979.4867 1248.9986,-970.789 1248.304,-981.361 1255.0484,-979.4867"/>
</g>
<!-- codeblock_23 -->
<g id="node24" class="node">
<title>codeblock_23</title>
<ellipse fill="none" stroke="#000000" cx="1372" cy="-952.8016" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1372" y="-948.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 45&#45;96</text>
</g>
<!-- section_14&#45;&gt;codeblock_23 -->
<g id="edge23" class="edge">
<title>section_14&#45;&gt;codeblock_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1313.022,-1165.0306C1324.168,-1124.9224 1351.0339,-1028.247 1364.31,-980.4736"/>
<polygon fill="#000000" stroke="#000000" points="1367.696,-981.361 1367.0014,-970.789 1360.9516,-979.4867 1367.696,-981.361"/>
</g>
<!-- codeblock_24 -->
<g id="node25" class="node">
<title>codeblock_24</title>
<ellipse fill="none" stroke="#000000" cx="1707" cy="-952.8016" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="1707" y="-948.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 98&#45;132</text>
</g>
<!-- section_14&#45;&gt;codeblock_24 -->
<g id="edge24" class="edge">
<title>section_14&#45;&gt;codeblock_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1336.6951,-1166.5393C1407.3236,-1125.773 1589.5997,-1020.5644 1669.0443,-974.7094"/>
<polygon fill="#000000" stroke="#000000" points="1670.8479,-977.7096 1677.7591,-969.6793 1667.3486,-971.647 1670.8479,-977.7096"/>
</g>
<!-- codeblock_25 -->
<g id="node26" class="node">
<title>codeblock_25</title>
<ellipse fill="none" stroke="#000000" cx="2014" cy="-952.8016" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="2014" y="-948.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 134&#45;136</text>
</g>
<!-- section_14&#45;&gt;codeblock_25 -->
<g id="edge25" class="edge">
<title>section_14&#45;&gt;codeblock_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1351.6307,-1168.8694C1473.9338,-1128.9736 1820.0606,-1016.0655 1957.1095,-971.3596"/>
<polygon fill="#000000" stroke="#000000" points="1958.5773,-974.5623 1966.9989,-968.1336 1956.4064,-967.9074 1958.5773,-974.5623"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="659.5,-489.2023 272.5,-489.2023 272.5,-433.3993 659.5,-433.3993 659.5,-489.2023"/>
<text text-anchor="middle" x="466" y="-441.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">This is rapidly becoming something I&#39;ll move to core.</text>
</g>
<!-- raw_16&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>raw_16&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M648.2734,-935.3088C621.0315,-864.4653 518.5422,-597.9386 480.4097,-498.7736"/>
<polygon fill="#000000" stroke="#000000" points="483.5702,-497.2409 476.7142,-489.1634 477.0366,-499.7534 483.5702,-497.2409"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="862,-481.2028 678,-481.2028 678,-441.3987 862,-441.3987 862,-481.2028"/>
<text text-anchor="middle" x="770" y="-449.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">Some other part of core.</text>
</g>
<!-- raw_18&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>raw_18&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M736.2872,-934.7259C741.5307,-861.0914 761.3131,-583.2906 767.8723,-491.1798"/>
<polygon fill="#000000" stroke="#000000" points="771.3683,-491.3596 768.5875,-481.1362 764.3859,-490.8623 771.3683,-491.3596"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="1021.5,-479.3008 914.5,-479.3008 914.5,-443.3008 1021.5,-443.3008 1021.5,-479.3008"/>
<text text-anchor="middle" x="968" y="-457.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">*** tabulator</text>
</g>
<!-- header_21&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>header_21&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1120.1571,-935.3993C1106.9674,-921.8963 1088.0592,-902.811 1071,-886.6015 1053.6614,-870.1266 1042.4501,-871.6002 1031,-850.6015 964.7115,-729.0329 963.8407,-556.5784 966.3981,-489.51"/>
<polygon fill="#000000" stroke="#000000" points="969.9036,-489.4598 966.8464,-479.3157 962.9104,-489.1522 969.9036,-489.4598"/>
</g>
<!-- raw_27 -->
<g id="node28" class="node">
<title>raw_27</title>
<ellipse fill="none" stroke="#000000" cx="1067" cy="-461.3008" rx="27" ry="18"/>
<text text-anchor="middle" x="1067" y="-457.1008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_22&#45;&gt;raw_27 -->
<g id="edge27" class="edge">
<title>prose_22&#45;&gt;raw_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1236.9708,-935.0124C1230.2756,-920.1749 1218.8611,-899.4519 1203,-886.6015 1166.2973,-856.8657 1131.9141,-887.955 1103,-850.6015 1018.2097,-741.0627 1045.7296,-558.7629 1060.3792,-489.3258"/>
<polygon fill="#000000" stroke="#000000" points="1063.881,-489.6962 1062.6008,-479.179 1057.0429,-488.1991 1063.881,-489.6962"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="1632,-850.4024 1112,-850.4024 1112,-72.1991 1632,-72.1991 1632,-850.4024"/>
<text text-anchor="middle" x="1372" y="-835.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">local ts</text>
<text text-anchor="middle" x="1372" y="-820.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">local function tabulate(tab, depth)</text>
<text text-anchor="middle" x="1372" y="-804.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(tab) ~= &quot;table&quot; then</text>
<text text-anchor="middle" x="1372" y="-789.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return ts(tab)</text>
<text text-anchor="middle" x="1372" y="-773.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1372" y="-758.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(depth) == &#39;nil&#39; then</text>
<text text-anchor="middle" x="1372" y="-743.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;depth = 0</text>
<text text-anchor="middle" x="1372" y="-727.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1372" y="-712.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if depth &gt; 2 then</text>
<text text-anchor="middle" x="1372" y="-696.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return c.table(tostring(tab))</text>
<text text-anchor="middle" x="1372" y="-681.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1372" y="-666.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local indent = (&quot; &#160;&quot;):rep(depth)</text>
<text text-anchor="middle" x="1372" y="-650.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Check to see if this is an array</text>
<text text-anchor="middle" x="1372" y="-635.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local is_array = true</text>
<text text-anchor="middle" x="1372" y="-619.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local i = 1</text>
<text text-anchor="middle" x="1372" y="-604.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for k,v in pairs(tab) do</text>
<text text-anchor="middle" x="1372" y="-589.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not (k == i) then</text>
<text text-anchor="middle" x="1372" y="-573.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;is_array = false</text>
<text text-anchor="middle" x="1372" y="-558.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1372" y="-542.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;i = i + 1</text>
<text text-anchor="middle" x="1372" y="-527.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1372" y="-496.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local first = true</text>
<text text-anchor="middle" x="1372" y="-480.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local lines = {}</text>
<text text-anchor="middle" x="1372" y="-465.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;i = 1</text>
<text text-anchor="middle" x="1372" y="-449.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local estimated = 0</text>
<text text-anchor="middle" x="1372" y="-434.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for k,v in (is_array and ipairs or pairs)(tab) do</text>
<text text-anchor="middle" x="1372" y="-419.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local s</text>
<text text-anchor="middle" x="1372" y="-403.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if is_array then</text>
<text text-anchor="middle" x="1372" y="-388.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s = &quot;&quot;</text>
<text text-anchor="middle" x="1372" y="-372.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1372" y="-357.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if type(k) == &quot;string&quot; and k:find(&quot;^[%a_][%a%d_]*$&quot;) then</text>
<text text-anchor="middle" x="1372" y="-342.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s = ts(k) .. c.table(&#39; = &#39;)</text>
<text text-anchor="middle" x="1372" y="-326.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1372" y="-311.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s = c.table(&#39;[&#39;) .. tabulate(k, 100) .. c.table(&#39;] = &#39;)</text>
<text text-anchor="middle" x="1372" y="-295.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1372" y="-280.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1372" y="-265.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;s = s .. tabulate(v, depth + 1)</text>
<text text-anchor="middle" x="1372" y="-249.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;lines[i] = s</text>
<text text-anchor="middle" x="1372" y="-234.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;estimated = estimated + #s</text>
<text text-anchor="middle" x="1372" y="-218.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;i = i + 1</text>
<text text-anchor="middle" x="1372" y="-203.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1372" y="-188.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if estimated &gt; 200 then</text>
<text text-anchor="middle" x="1372" y="-172.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return &quot;{\n &#160;&quot; .. indent</text>
<text text-anchor="middle" x="1372" y="-157.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. table.concat(lines, &quot;,\n &#160;&quot; .. indent)</text>
<text text-anchor="middle" x="1372" y="-141.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. &quot;\n&quot; .. indent .. &quot;}&quot;</text>
<text text-anchor="middle" x="1372" y="-126.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="1372" y="-111.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return c.table(&quot;{ &quot;) .. table.concat(lines, &quot;, &quot;) .. c.table(&quot; }&quot;)</text>
<text text-anchor="middle" x="1372" y="-95.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1372" y="-80.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_23&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>codeblock_23&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1372,-934.7259C1372,-918.5205 1372,-892.4263 1372,-860.5989"/>
<polygon fill="#000000" stroke="#000000" points="1375.5001,-860.542 1372,-850.542 1368.5001,-860.5421 1375.5001,-860.542"/>
</g>
<!-- leaf_30 -->
<g id="node31" class="node">
<title>leaf_30</title>
<polygon fill="none" stroke="#c0c0c0" points="2079.5,-719.6018 1650.5,-719.6018 1650.5,-202.9997 2079.5,-202.9997 2079.5,-719.6018"/>
<text text-anchor="middle" x="1865" y="-704.5013" font-family="Inconsolata" font-size="14.00" fill="#000000">ts = function (value, hint)</text>
<text text-anchor="middle" x="1865" y="-689.1012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local c = C.color</text>
<text text-anchor="middle" x="1865" y="-673.7012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local str = tostring(value)</text>
<text text-anchor="middle" x="1865" y="-658.3012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if hint == &quot;&quot; then</text>
<text text-anchor="middle" x="1865" y="-642.9011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return str &#45;&#45; or just use tostring()?</text>
<text text-anchor="middle" x="1865" y="-627.5011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1865" y="-612.1011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if hint then</text>
<text text-anchor="middle" x="1865" y="-596.701" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return hints[hint](str)</text>
<text text-anchor="middle" x="1865" y="-581.301" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1865" y="-549.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local typica = type(value)</text>
<text text-anchor="middle" x="1865" y="-534.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if typica == &#39;number&#39; then</text>
<text text-anchor="middle" x="1865" y="-519.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;str = c.number(str)</text>
<text text-anchor="middle" x="1865" y="-503.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif typica == &#39;table&#39; then</text>
<text text-anchor="middle" x="1865" y="-488.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;str = tabulate(value)</text>
<text text-anchor="middle" x="1865" y="-472.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif typica == &#39;function&#39; then</text>
<text text-anchor="middle" x="1865" y="-457.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if anti_G[value] then</text>
<text text-anchor="middle" x="1865" y="-442.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; we have a global name for this function</text>
<text text-anchor="middle" x="1865" y="-426.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;str = c.func(anti_G[value])</text>
<text text-anchor="middle" x="1865" y="-411.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1865" y="-395.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local func_handle = &quot;func:&quot; .. string.sub(str, &#45;6)</text>
<text text-anchor="middle" x="1865" y="-380.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;str = c.func(func_handle)</text>
<text text-anchor="middle" x="1865" y="-365.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1865" y="-349.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif typica == &#39;boolean&#39; then</text>
<text text-anchor="middle" x="1865" y="-334.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;str = value and c.truth(str) or c.falsehood(str)</text>
<text text-anchor="middle" x="1865" y="-318.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif typica == &#39;string&#39; then</text>
<text text-anchor="middle" x="1865" y="-303.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;str = c.string(str)</text>
<text text-anchor="middle" x="1865" y="-288.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif typica == &#39;nil&#39; then</text>
<text text-anchor="middle" x="1865" y="-272.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;str = c.nilness(str)</text>
<text text-anchor="middle" x="1865" y="-257.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1865" y="-241.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return str</text>
<text text-anchor="middle" x="1865" y="-226.5003" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1865" y="-211.1003" font-family="Inconsolata" font-size="14.00" fill="#000000">C.ts = ts</text>
</g>
<!-- codeblock_24&#45;&gt;leaf_30 -->
<g id="edge30" class="edge">
<title>codeblock_24&#45;&gt;leaf_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1712.8107,-934.7259C1724.2274,-899.2111 1750.9119,-816.2021 1778.8028,-729.4399"/>
<polygon fill="#000000" stroke="#000000" points="1782.2154,-730.2603 1781.9438,-719.669 1775.5513,-728.118 1782.2154,-730.2603"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="2170,-479.3008 2098,-479.3008 2098,-443.3008 2170,-443.3008 2170,-479.3008"/>
<text text-anchor="middle" x="2134" y="-457.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">return C</text>
</g>
<!-- codeblock_25&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>codeblock_25&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2031.6403,-935.0066C2049.3984,-915.8998 2075.9716,-883.7891 2089,-850.6015 2139.0459,-723.1186 2138.2115,-555.4217 2135.5695,-489.5711"/>
<polygon fill="#000000" stroke="#000000" points="2139.0645,-489.3779 2135.12,-479.5448 2132.0715,-489.6916 2139.0645,-489.3779"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="1094,-36 1040,-36 1040,0 1094,0 1094,-36"/>
</g>
<!-- raw_27&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>raw_27&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1067,-443.0964C1067,-374.2636 1067,-129.584 1067,-46.1281"/>
<polygon fill="#000000" stroke="#000000" points="1070.5001,-46.1115 1067,-36.1115 1063.5001,-46.1115 1070.5001,-46.1115"/>
</g>
</g>
</svg>
