<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="2716pt" height="1827pt"
 viewBox="0.00 0.00 2716.00 1826.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1822.6028)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1822.6028 2712,-1822.6028 2712,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="285" cy="-1800.6028" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="285" y="-1796.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 185</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="285" cy="-1728.6028" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="285" y="-1724.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;26</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M285,-1782.4341C285,-1774.7337 285,-1765.5771 285,-1757.0194"/>
<polygon fill="#000000" stroke="#000000" points="288.5001,-1757.016 285,-1747.016 281.5001,-1757.0161 288.5001,-1757.016"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="97" cy="-1656.6028" rx="27" ry="18"/>
<text text-anchor="middle" x="97" y="-1652.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">0 : </text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M247.4072,-1714.2055C213.1278,-1701.0773 162.9667,-1681.8666 130.1528,-1669.2996"/>
<polygon fill="#000000" stroke="#000000" points="131.1532,-1665.9349 120.5628,-1665.6268 128.6496,-1672.4719 131.1532,-1665.9349"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="190" cy="-1656.6028" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="190" y="-1652.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M262.4863,-1711.5398C248.9097,-1701.2502 231.526,-1688.0751 217.1859,-1677.2068"/>
<polygon fill="#000000" stroke="#000000" points="219.2299,-1674.3643 209.1461,-1671.1135 215.0017,-1679.9431 219.2299,-1674.3643"/>
</g>
<!-- codeblock_4 -->
<g id="node5" class="node">
<title>codeblock_4</title>
<ellipse fill="none" stroke="#000000" cx="330" cy="-1656.6028" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="330" y="-1652.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 6&#45;24</text>
</g>
<!-- section_1&#45;&gt;codeblock_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;codeblock_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M296.1236,-1710.805C301.3701,-1702.4107 307.7364,-1692.2245 313.5276,-1682.9586"/>
<polygon fill="#000000" stroke="#000000" points="316.5164,-1684.7803 318.8484,-1674.4453 310.5804,-1681.0703 316.5164,-1684.7803"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="730" cy="-1656.6028" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="730" y="-1652.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 27&#45;62</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M338.6774,-1719.9179C420.1441,-1706.7368 574.8616,-1681.7038 663.3933,-1667.3796"/>
<polygon fill="#000000" stroke="#000000" points="664.0137,-1670.8248 673.3263,-1665.7725 662.8956,-1663.9147 664.0137,-1670.8248"/>
</g>
<!-- leaf_6 -->
<g id="node7" class="node">
<title>leaf_6</title>
<polygon fill="none" stroke="#c0c0c0" points="128,-1485.1025 0,-1485.1025 0,-1449.1025 128,-1449.1025 128,-1485.1025"/>
<text text-anchor="middle" x="64" y="-1463.6026" font-family="Inconsolata" font-size="14.00" fill="#000000">color.orb* Color</text>
</g>
<!-- header_2&#45;&gt;leaf_6 -->
<g id="edge6" class="edge">
<title>header_2&#45;&gt;leaf_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M93.8358,-1638.4327C88.0579,-1605.2535 75.7636,-1534.654 68.8971,-1495.224"/>
<polygon fill="#000000" stroke="#000000" points="72.3184,-1494.4689 67.1546,-1485.2176 65.4222,-1495.6698 72.3184,-1494.4689"/>
</g>
<!-- raw_7 -->
<g id="node8" class="node">
<title>raw_7</title>
<ellipse fill="none" stroke="#000000" cx="173" cy="-1467.1025" rx="27" ry="18"/>
<text text-anchor="middle" x="173" y="-1462.9025" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_7 -->
<g id="edge7" class="edge">
<title>prose_3&#45;&gt;raw_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M188.37,-1638.4327C185.3935,-1605.2535 179.06,-1534.654 175.5228,-1495.224"/>
<polygon fill="#000000" stroke="#000000" points="179.0047,-1494.8649 174.6251,-1485.2176 172.0327,-1495.4904 179.0047,-1494.8649"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="507.5,-1602.603 218.5,-1602.603 218.5,-1331.6021 507.5,-1331.6021 507.5,-1602.603"/>
<text text-anchor="middle" x="363" y="-1587.4028" font-family="Inconsolata" font-size="14.00" fill="#000000">local a = require &quot;anterm&quot;</text>
<text text-anchor="middle" x="363" y="-1556.0027" font-family="Inconsolata" font-size="14.00" fill="#000000">local C = {}</text>
<text text-anchor="middle" x="363" y="-1540.6027" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color = {}</text>
<text text-anchor="middle" x="363" y="-1525.2027" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color.number = a.fg(42)</text>
<text text-anchor="middle" x="363" y="-1509.8027" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color.string = a.fg(222)</text>
<text text-anchor="middle" x="363" y="-1494.4026" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color.stresc = a.fg(225)</text>
<text text-anchor="middle" x="363" y="-1479.0026" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color.table &#160;= a.fg(64)</text>
<text text-anchor="middle" x="363" y="-1463.6026" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color.func &#160;&#160;= a.fg24(210,12,120)</text>
<text text-anchor="middle" x="363" y="-1448.2025" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color.truth &#160;= a.fg(231)</text>
<text text-anchor="middle" x="363" y="-1432.8025" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color.falsehood &#160;= a.fg(94)</text>
<text text-anchor="middle" x="363" y="-1417.4025" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color.nilness &#160;&#160;= a.fg(93)</text>
<text text-anchor="middle" x="363" y="-1402.0024" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color.field &#160;= a.fg(111)</text>
<text text-anchor="middle" x="363" y="-1386.6024" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color.userdata = a.fg24(230, 145, 23)</text>
<text text-anchor="middle" x="363" y="-1371.2024" font-family="Inconsolata" font-size="14.00" fill="#000000">C.color.alert = a.fg24(250, 0, 40)</text>
<text text-anchor="middle" x="363" y="-1339.8023" font-family="Inconsolata" font-size="14.00" fill="#000000">local c = C.color</text>
</g>
<!-- codeblock_4&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>codeblock_4&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M333.1642,-1638.4327C334.3862,-1631.4154 335.8997,-1622.7243 337.5917,-1613.0082"/>
<polygon fill="#000000" stroke="#000000" points="341.0714,-1613.4267 339.3389,-1602.9745 334.1752,-1612.2258 341.0714,-1613.4267"/>
</g>
<!-- header_10 -->
<g id="node11" class="node">
<title>header_10</title>
<ellipse fill="none" stroke="#000000" cx="582" cy="-1467.1025" rx="56.113" ry="18"/>
<text text-anchor="middle" x="582" y="-1462.9025" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : ts(value)</text>
</g>
<!-- section_5&#45;&gt;header_10 -->
<g id="edge10" class="edge">
<title>section_5&#45;&gt;header_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M697.8043,-1640.7756C681.3085,-1631.4347 661.8383,-1618.3535 648,-1602.6028 619.7282,-1570.4237 600.626,-1523.9929 590.5267,-1494.6948"/>
<polygon fill="#000000" stroke="#000000" points="593.8108,-1493.4789 587.3296,-1485.0977 587.1696,-1495.6913 593.8108,-1493.4789"/>
</g>
<!-- prose_11 -->
<g id="node12" class="node">
<title>prose_11</title>
<ellipse fill="none" stroke="#000000" cx="689" cy="-1467.1025" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="689" y="-1462.9025" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_11 -->
<g id="edge11" class="edge">
<title>section_5&#45;&gt;prose_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M726.0687,-1638.4327C718.8901,-1605.2535 703.6153,-1534.654 695.0843,-1495.224"/>
<polygon fill="#000000" stroke="#000000" points="698.4549,-1494.2513 692.9194,-1485.2176 691.6132,-1495.7316 698.4549,-1494.2513"/>
</g>
<!-- prose_12 -->
<g id="node13" class="node">
<title>prose_12</title>
<ellipse fill="none" stroke="#000000" cx="771" cy="-1467.1025" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="771" y="-1462.9025" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_12 -->
<g id="edge12" class="edge">
<title>section_5&#45;&gt;prose_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M733.9313,-1638.4327C741.1099,-1605.2535 756.3847,-1534.654 764.9157,-1495.224"/>
<polygon fill="#000000" stroke="#000000" points="768.3868,-1495.7316 767.0806,-1485.2176 761.5451,-1494.2513 768.3868,-1495.7316"/>
</g>
<!-- codeblock_13 -->
<g id="node14" class="node">
<title>codeblock_13</title>
<ellipse fill="none" stroke="#000000" cx="924" cy="-1467.1025" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="924" y="-1462.9025" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 33&#45;61</text>
</g>
<!-- section_5&#45;&gt;codeblock_13 -->
<g id="edge13" class="edge">
<title>section_5&#45;&gt;codeblock_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M759.2053,-1640.2984C775.579,-1630.4616 795.8859,-1617.0587 812,-1602.6028 849.4709,-1568.9878 885.1496,-1522.4412 905.7911,-1493.5802"/>
<polygon fill="#000000" stroke="#000000" points="908.7834,-1495.4106 911.6997,-1485.225 903.0681,-1491.3689 908.7834,-1495.4106"/>
</g>
<!-- section_14 -->
<g id="node15" class="node">
<title>section_14</title>
<ellipse fill="none" stroke="#000000" cx="1404" cy="-1467.1025" rx="70.655" ry="18"/>
<text text-anchor="middle" x="1404" y="-1462.9025" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 63&#45;185</text>
</g>
<!-- section_5&#45;&gt;section_14 -->
<g id="edge14" class="edge">
<title>section_5&#45;&gt;section_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M787.6474,-1647.9212C844.6361,-1638.7696 934.0671,-1622.874 1010,-1602.6028 1137.2475,-1568.6325 1282.7951,-1514.4409 1356.2434,-1485.9759"/>
<polygon fill="#000000" stroke="#000000" points="1357.6406,-1489.188 1365.6922,-1482.3016 1355.1036,-1482.6639 1357.6406,-1489.188"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="237,-1103.004 109,-1103.004 109,-1063.1998 237,-1063.1998 237,-1103.004"/>
<text text-anchor="middle" x="173" y="-1071.6019" font-family="Inconsolata" font-size="14.00" fill="#000000">color.orb* Color</text>
</g>
<!-- raw_7&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>raw_7&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M173,-1449.0964C173,-1388.1843 173,-1189.409 173,-1113.208"/>
<polygon fill="#000000" stroke="#000000" points="176.5001,-1112.8856 173,-1102.8857 169.5001,-1112.8857 176.5001,-1112.8856"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="632,-1101.1019 532,-1101.1019 532,-1065.1019 632,-1065.1019 632,-1101.1019"/>
<text text-anchor="middle" x="582" y="-1079.6019" font-family="Inconsolata" font-size="14.00" fill="#000000">** ts(value)</text>
</g>
<!-- header_10&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>header_10&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M582,-1449.0964C582,-1387.7603 582,-1186.6351 582,-1111.6347"/>
<polygon fill="#000000" stroke="#000000" points="585.5001,-1111.5159 582,-1101.5159 578.5001,-1111.5159 585.5001,-1111.5159"/>
</g>
<!-- raw_16 -->
<g id="node17" class="node">
<title>raw_16</title>
<ellipse fill="none" stroke="#000000" cx="683" cy="-1083.1019" rx="27" ry="18"/>
<text text-anchor="middle" x="683" y="-1078.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_11&#45;&gt;raw_16 -->
<g id="edge16" class="edge">
<title>prose_11&#45;&gt;raw_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M688.7187,-1449.0964C687.7603,-1387.7603 684.6177,-1186.6351 683.4458,-1111.6347"/>
<polygon fill="#000000" stroke="#000000" points="686.9436,-1111.46 683.2877,-1101.5159 679.9445,-1111.5694 686.9436,-1111.46"/>
</g>
<!-- raw_18 -->
<g id="node19" class="node">
<title>raw_18</title>
<ellipse fill="none" stroke="#000000" cx="763" cy="-1083.1019" rx="27" ry="18"/>
<text text-anchor="middle" x="763" y="-1078.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_12&#45;&gt;raw_18 -->
<g id="edge18" class="edge">
<title>prose_12&#45;&gt;raw_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M770.6249,-1449.0964C769.347,-1387.7603 765.1569,-1186.6351 763.5944,-1111.6347"/>
<polygon fill="#000000" stroke="#000000" points="767.0912,-1111.4408 763.3836,-1101.5159 760.0928,-1111.5867 767.0912,-1111.4408"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="1090,-1295.6027 808,-1295.6027 808,-870.6011 1090,-870.6011 1090,-1295.6027"/>
<text text-anchor="middle" x="949" y="-1280.4023" font-family="Inconsolata" font-size="14.00" fill="#000000">local hints = { field = C.color.field,</text>
<text text-anchor="middle" x="949" y="-1265.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fn &#160;= C.color.func }</text>
<text text-anchor="middle" x="949" y="-1233.6022" font-family="Inconsolata" font-size="14.00" fill="#000000">local anti_G = {}</text>
<text text-anchor="middle" x="949" y="-1218.2022" font-family="Inconsolata" font-size="14.00" fill="#000000">anti_G[_G] = &quot;_G&quot;</text>
<text text-anchor="middle" x="949" y="-1186.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">local scrub &#45;&#45; this takes escapes out</text>
<text text-anchor="middle" x="949" y="-1171.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">function C.allNames()</text>
<text text-anchor="middle" x="949" y="-1156.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local function allN(t, aG, pre)</text>
<text text-anchor="middle" x="949" y="-1140.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if pre ~= &quot;&quot; then</text>
<text text-anchor="middle" x="949" y="-1125.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;pre = pre .. &quot;.&quot;</text>
<text text-anchor="middle" x="949" y="-1109.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="949" y="-1094.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;for k, v in pairs(t) do</text>
<text text-anchor="middle" x="949" y="-1079.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;T = type(v)</text>
<text text-anchor="middle" x="949" y="-1063.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if (T == &quot;table&quot;) then</text>
<text text-anchor="middle" x="949" y="-1048.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if not aG[v] then</text>
<text text-anchor="middle" x="949" y="-1032.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aG[v] = pre .. k</text>
<text text-anchor="middle" x="949" y="-1017.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;allN(v, aG, k)</text>
<text text-anchor="middle" x="949" y="-1002.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="949" y="-986.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif T == &quot;function&quot; then</text>
<text text-anchor="middle" x="949" y="-971.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aG[v] = pre .. k</text>
<text text-anchor="middle" x="949" y="-955.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="949" y="-940.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="949" y="-925.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="949" y="-909.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;allN(_G, anti_G, &quot;&quot;)</text>
<text text-anchor="middle" x="949" y="-894.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return anti_G</text>
<text text-anchor="middle" x="949" y="-878.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_13&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>codeblock_13&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M925.1723,-1449.0964C926.9646,-1421.5665 930.5903,-1365.8755 934.484,-1306.0674"/>
<polygon fill="#000000" stroke="#000000" points="937.9794,-1306.2509 935.1366,-1296.0446 930.9942,-1305.7961 937.9794,-1306.2509"/>
</g>
<!-- header_21 -->
<g id="node22" class="node">
<title>header_21</title>
<ellipse fill="none" stroke="#000000" cx="1165" cy="-1083.1019" rx="56.6234" ry="18"/>
<text text-anchor="middle" x="1165" y="-1078.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : tabulator</text>
</g>
<!-- section_14&#45;&gt;header_21 -->
<g id="edge21" class="edge">
<title>section_14&#45;&gt;header_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1380.5262,-1450.0516C1343.4709,-1421.9434 1271.4811,-1362.3084 1231,-1295.6023 1194.51,-1235.4729 1176.54,-1153.3855 1169.2041,-1110.9885"/>
<polygon fill="#000000" stroke="#000000" points="1172.6535,-1110.3943 1167.5634,-1101.1023 1165.7479,-1111.5404 1172.6535,-1110.3943"/>
</g>
<!-- prose_22 -->
<g id="node23" class="node">
<title>prose_22</title>
<ellipse fill="none" stroke="#000000" cx="1272" cy="-1083.1019" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1272" y="-1078.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_14&#45;&gt;prose_22 -->
<g id="edge22" class="edge">
<title>section_14&#45;&gt;prose_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1391.9885,-1448.9078C1372.4467,-1418.4679 1333.8612,-1354.7233 1313,-1295.6023 1290.5056,-1231.8528 1279.378,-1152.7464 1274.7509,-1111.3587"/>
<polygon fill="#000000" stroke="#000000" points="1278.2084,-1110.7749 1273.6626,-1101.2048 1271.2483,-1111.5209 1278.2084,-1110.7749"/>
</g>
<!-- codeblock_23 -->
<g id="node24" class="node">
<title>codeblock_23</title>
<ellipse fill="none" stroke="#000000" cx="1404" cy="-1083.1019" rx="81.9542" ry="18"/>
<text text-anchor="middle" x="1404" y="-1078.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 65&#45;115</text>
</g>
<!-- section_14&#45;&gt;codeblock_23 -->
<g id="edge23" class="edge">
<title>section_14&#45;&gt;codeblock_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1404,-1449.0964C1404,-1387.7603 1404,-1186.6351 1404,-1111.6347"/>
<polygon fill="#000000" stroke="#000000" points="1407.5001,-1111.5159 1404,-1101.5159 1400.5001,-1111.5159 1407.5001,-1111.5159"/>
</g>
<!-- codeblock_24 -->
<g id="node25" class="node">
<title>codeblock_24</title>
<ellipse fill="none" stroke="#000000" cx="1768" cy="-1083.1019" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="1768" y="-1078.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 120&#45;131</text>
</g>
<!-- section_14&#45;&gt;codeblock_24 -->
<g id="edge24" class="edge">
<title>section_14&#45;&gt;codeblock_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1420.5862,-1449.605C1478.9591,-1388.0247 1675.0839,-1181.1235 1743.8939,-1108.5326"/>
<polygon fill="#000000" stroke="#000000" points="1746.5563,-1110.8114 1750.8957,-1101.146 1741.476,-1105.9957 1746.5563,-1110.8114"/>
</g>
<!-- codeblock_25 -->
<g id="node26" class="node">
<title>codeblock_25</title>
<ellipse fill="none" stroke="#000000" cx="2196" cy="-1083.1019" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="2196" y="-1078.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 133&#45;181</text>
</g>
<!-- section_14&#45;&gt;codeblock_25 -->
<g id="edge25" class="edge">
<title>section_14&#45;&gt;codeblock_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1450.4023,-1453.4114C1534.9436,-1427.6866 1718.7374,-1368.1361 1864,-1295.6023 1980.1821,-1237.5893 2106.5409,-1148.8228 2164.154,-1106.7696"/>
<polygon fill="#000000" stroke="#000000" points="2166.4757,-1109.4074 2172.4724,-1100.673 2162.3377,-1103.7614 2166.4757,-1109.4074"/>
</g>
<!-- codeblock_26 -->
<g id="node27" class="node">
<title>codeblock_26</title>
<ellipse fill="none" stroke="#000000" cx="2539" cy="-1083.1019" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="2539" y="-1078.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 183&#45;185</text>
</g>
<!-- section_14&#45;&gt;codeblock_26 -->
<g id="edge26" class="edge">
<title>section_14&#45;&gt;codeblock_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1467.5493,-1459.1503C1645.3003,-1436.2328 2144.2095,-1367.1063 2292,-1295.6023 2388.7942,-1248.7713 2478.0263,-1154.3256 2517.5593,-1108.7956"/>
<polygon fill="#000000" stroke="#000000" points="2520.2711,-1111.0102 2524.1336,-1101.1445 2514.9618,-1106.4482 2520.2711,-1111.0102"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="671.5,-481.2023 284.5,-481.2023 284.5,-425.3993 671.5,-425.3993 671.5,-481.2023"/>
<text text-anchor="middle" x="478" y="-433.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">This is rapidly becoming something I&#39;ll move to core.</text>
</g>
<!-- raw_16&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>raw_16&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M680.5202,-1064.9324C675.2228,-1027.8907 661.5829,-941.1815 641,-870.6015 598.9899,-726.5469 527.725,-562.6153 495.1582,-490.58"/>
<polygon fill="#000000" stroke="#000000" points="498.1469,-488.6964 490.8267,-481.0371 491.7728,-491.5896 498.1469,-488.6964"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="874,-473.2028 690,-473.2028 690,-433.3987 874,-433.3987 874,-473.2028"/>
<text text-anchor="middle" x="782" y="-441.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">Some other part of core.</text>
</g>
<!-- raw_18&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>raw_18&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M763.5481,-1064.9324C766.2067,-976.8064 777.7664,-593.6326 781.0982,-483.1929"/>
<polygon fill="#000000" stroke="#000000" points="784.5998,-483.1893 781.403,-473.0883 777.603,-482.9782 784.5998,-483.1893"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="1035.5,-471.3008 928.5,-471.3008 928.5,-435.3008 1035.5,-435.3008 1035.5,-471.3008"/>
<text text-anchor="middle" x="982" y="-449.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">*** tabulator</text>
</g>
<!-- header_21&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>header_21&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1163.456,-1065.0515C1159.3072,-1025.9526 1144.9153,-932.0178 1099,-870.6015 1081.7288,-847.4995 1060.6447,-858.8347 1045,-834.6015 971.4016,-720.5999 974.7706,-548.7493 979.4311,-481.6009"/>
<polygon fill="#000000" stroke="#000000" points="982.9393,-481.6247 980.2084,-471.3879 975.9595,-481.0934 982.9393,-481.6247"/>
</g>
<!-- raw_28 -->
<g id="node29" class="node">
<title>raw_28</title>
<ellipse fill="none" stroke="#000000" cx="1081" cy="-453.3008" rx="27" ry="18"/>
<text text-anchor="middle" x="1081" y="-449.1008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_22&#45;&gt;raw_28 -->
<g id="edge28" class="edge">
<title>prose_22&#45;&gt;raw_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1274.1484,-1065.0999C1277.8936,-1024.8491 1280.9867,-926.7104 1231,-870.6015 1195.6561,-830.9289 1150.39,-875.9321 1117,-834.6015 1031.9217,-729.2906 1059.4035,-550.2973 1074.2159,-481.4432"/>
<polygon fill="#000000" stroke="#000000" points="1077.7025,-481.8887 1076.4652,-471.3664 1070.8706,-480.3637 1077.7025,-481.8887"/>
</g>
<!-- leaf_30 -->
<g id="node31" class="node">
<title>leaf_30</title>
<polygon fill="none" stroke="#c0c0c0" points="1646,-834.4024 1126,-834.4024 1126,-72.1991 1646,-72.1991 1646,-834.4024"/>
<text text-anchor="middle" x="1386" y="-819.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">local ts</text>
<text text-anchor="middle" x="1386" y="-804.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">local function tabulate(tab, depth)</text>
<text text-anchor="middle" x="1386" y="-788.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(tab) ~= &quot;table&quot; then</text>
<text text-anchor="middle" x="1386" y="-773.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return ts(tab)</text>
<text text-anchor="middle" x="1386" y="-757.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1386" y="-742.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(depth) == &quot;nil&quot; then</text>
<text text-anchor="middle" x="1386" y="-727.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;depth = 0</text>
<text text-anchor="middle" x="1386" y="-711.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1386" y="-696.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if depth &gt; 2 then</text>
<text text-anchor="middle" x="1386" y="-680.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return ts(tab, &quot;tab_name&quot;)</text>
<text text-anchor="middle" x="1386" y="-665.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1386" y="-650.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local indent = (&quot; &#160;&quot;):rep(depth)</text>
<text text-anchor="middle" x="1386" y="-634.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Check to see if this is an array</text>
<text text-anchor="middle" x="1386" y="-619.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local is_array = true</text>
<text text-anchor="middle" x="1386" y="-603.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local i = 1</text>
<text text-anchor="middle" x="1386" y="-588.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for k,v in pairs(tab) do</text>
<text text-anchor="middle" x="1386" y="-573.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not (k == i) then</text>
<text text-anchor="middle" x="1386" y="-557.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;is_array = false</text>
<text text-anchor="middle" x="1386" y="-542.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1386" y="-526.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;i = i + 1</text>
<text text-anchor="middle" x="1386" y="-511.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1386" y="-496.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local first = true</text>
<text text-anchor="middle" x="1386" y="-480.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local lines = {}</text>
<text text-anchor="middle" x="1386" y="-465.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;i = 1</text>
<text text-anchor="middle" x="1386" y="-449.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local estimated = 0</text>
<text text-anchor="middle" x="1386" y="-434.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for k,v in (is_array and ipairs or pairs)(tab) do</text>
<text text-anchor="middle" x="1386" y="-419.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local s</text>
<text text-anchor="middle" x="1386" y="-403.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if is_array then</text>
<text text-anchor="middle" x="1386" y="-388.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s = &quot;&quot;</text>
<text text-anchor="middle" x="1386" y="-372.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1386" y="-357.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if type(k) == &quot;string&quot; and k:find(&quot;^[%a_][%a%d_]*$&quot;) then</text>
<text text-anchor="middle" x="1386" y="-342.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s = ts(k) .. c.table(&quot; = &quot;)</text>
<text text-anchor="middle" x="1386" y="-326.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1386" y="-311.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s = c.table(&quot;[&quot;) .. tabulate(k, 100) .. c.table(&quot;] = &quot;)</text>
<text text-anchor="middle" x="1386" y="-295.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1386" y="-280.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1386" y="-265.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;s = s .. tabulate(v, depth + 1)</text>
<text text-anchor="middle" x="1386" y="-249.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;lines[i] = s</text>
<text text-anchor="middle" x="1386" y="-234.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;estimated = estimated + #s</text>
<text text-anchor="middle" x="1386" y="-218.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;i = i + 1</text>
<text text-anchor="middle" x="1386" y="-203.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1386" y="-188.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if estimated &gt; 200 then</text>
<text text-anchor="middle" x="1386" y="-172.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return &quot;{\n &#160;&quot; .. indent</text>
<text text-anchor="middle" x="1386" y="-157.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. table.concat(lines, &quot;,\n &#160;&quot; .. indent)</text>
<text text-anchor="middle" x="1386" y="-141.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. &quot;\n&quot; .. indent .. &quot;}&quot;</text>
<text text-anchor="middle" x="1386" y="-126.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="1386" y="-111.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return c.table(&quot;{ &quot;) .. table.concat(lines, &quot;, &quot;) .. c.table(&quot; }&quot;)</text>
<text text-anchor="middle" x="1386" y="-95.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1386" y="-80.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_23&#45;&gt;leaf_30 -->
<g id="edge30" class="edge">
<title>codeblock_23&#45;&gt;leaf_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1403.4807,-1064.9324C1402.44,-1028.5184 1399.9595,-941.7287 1397.1841,-844.6199"/>
<polygon fill="#000000" stroke="#000000" points="1400.6815,-844.4758 1396.8971,-834.5799 1393.6843,-844.6758 1400.6815,-844.4758"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="2191.5,-534.4015 1664.5,-534.4015 1664.5,-372.2 2191.5,-372.2 2191.5,-534.4015"/>
<text text-anchor="middle" x="1928" y="-519.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">local find, sub, gsub = string.find, string.sub</text>
<text text-anchor="middle" x="1928" y="-504.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">local e = function(str)</text>
<text text-anchor="middle" x="1928" y="-488.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return c.stresc(str) .. c.string</text>
<text text-anchor="middle" x="1928" y="-473.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1928" y="-441.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">scrub = function (str)</text>
<text text-anchor="middle" x="1928" y="-426.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return string.gsub(str, &quot;\27&quot;, e(&quot;\\27&quot;))</text>
<text text-anchor="middle" x="1928" y="-411.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;:gsub(&quot;\\&quot;, e(&quot;\\&quot;)):gsub(&quot;%z&quot;, e(&quot;\\0&quot;))</text>
<text text-anchor="middle" x="1928" y="-395.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;:gsub(&quot;\n&quot;, e(&quot;\\n&quot;)):gsub(&quot;\r&quot;, e(&quot;\\r&quot;)):gsub(&quot;\t&quot;, e(&quot;\\t&quot;))</text>
<text text-anchor="middle" x="1928" y="-380.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_24&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>codeblock_24&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1772.6159,-1064.9324C1791.8559,-989.1988 1866.4537,-695.5629 1904.8605,-544.3839"/>
<polygon fill="#000000" stroke="#000000" points="1908.2669,-545.1898 1907.337,-534.6358 1901.4824,-543.4661 1908.2669,-545.1898"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="2618,-819.7023 2210,-819.7023 2210,-86.8992 2618,-86.8992 2618,-819.7023"/>
<text text-anchor="middle" x="2414" y="-804.3015" font-family="Inconsolata" font-size="14.00" fill="#000000">ts = function (value, hint)</text>
<text text-anchor="middle" x="2414" y="-788.9015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local str = scrub(tostring(value))</text>
<text text-anchor="middle" x="2414" y="-773.5014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; For cases more specific than mere type,</text>
<text text-anchor="middle" x="2414" y="-758.1014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; we have hints:</text>
<text text-anchor="middle" x="2414" y="-742.7014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if hint == &quot;&quot; then</text>
<text text-anchor="middle" x="2414" y="-727.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return str &#45;&#45; or just use tostring()?</text>
<text text-anchor="middle" x="2414" y="-711.9013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="2414" y="-696.5013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if hint and hint ~= &quot;tab_name&quot; then</text>
<text text-anchor="middle" x="2414" y="-681.1012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return hints[hint](str)</text>
<text text-anchor="middle" x="2414" y="-665.7012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif hint == &quot;tab_name&quot; then</text>
<text text-anchor="middle" x="2414" y="-650.3012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if anti_G[value] then</text>
<text text-anchor="middle" x="2414" y="-634.9011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return c.table(anti_G[value])</text>
<text text-anchor="middle" x="2414" y="-619.5011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2414" y="-604.1011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return c.table(&quot;t:&quot; .. string.sub(str, &#45;6))</text>
<text text-anchor="middle" x="2414" y="-588.701" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2414" y="-573.301" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="2414" y="-541.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local typica = type(value)</text>
<text text-anchor="middle" x="2414" y="-526.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if typica == &quot;number&quot; then</text>
<text text-anchor="middle" x="2414" y="-511.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;str = c.number(str)</text>
<text text-anchor="middle" x="2414" y="-495.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif typica == &quot;table&quot; then</text>
<text text-anchor="middle" x="2414" y="-480.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;str = tabulate(value)</text>
<text text-anchor="middle" x="2414" y="-464.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif typica == &quot;function&quot; then</text>
<text text-anchor="middle" x="2414" y="-449.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if anti_G[value] then</text>
<text text-anchor="middle" x="2414" y="-434.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; we have a global name for this function</text>
<text text-anchor="middle" x="2414" y="-418.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;str = c.func(anti_G[value])</text>
<text text-anchor="middle" x="2414" y="-403.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2414" y="-387.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local func_handle = &quot;f:&quot; .. string.sub(str, &#45;6)</text>
<text text-anchor="middle" x="2414" y="-372.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;str = c.func(func_handle)</text>
<text text-anchor="middle" x="2414" y="-357.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2414" y="-341.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif typica == &quot;boolean&quot; then</text>
<text text-anchor="middle" x="2414" y="-326.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;str = value and c.truth(str) or c.falsehood(str)</text>
<text text-anchor="middle" x="2414" y="-310.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif typica == &quot;string&quot; then</text>
<text text-anchor="middle" x="2414" y="-295.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;str = c.string(str)</text>
<text text-anchor="middle" x="2414" y="-280.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif typica == &quot;nil&quot; then</text>
<text text-anchor="middle" x="2414" y="-264.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;str = c.nilness(str)</text>
<text text-anchor="middle" x="2414" y="-249.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif typica == &quot;userdata&quot; then</text>
<text text-anchor="middle" x="2414" y="-233.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local name = find(str, &quot;:&quot;)</text>
<text text-anchor="middle" x="2414" y="-218.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if name then</text>
<text text-anchor="middle" x="2414" y="-203.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;str = c.userdata(sub(str, 1, name &#45; 1))</text>
<text text-anchor="middle" x="2414" y="-187.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2414" y="-172.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;str = c.userdata(str)</text>
<text text-anchor="middle" x="2414" y="-156.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2414" y="-141.5002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="2414" y="-126.1001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return str</text>
<text text-anchor="middle" x="2414" y="-110.7001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2414" y="-95.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">C.ts = ts</text>
</g>
<!-- codeblock_25&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>codeblock_25&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2202.2892,-1064.9324C2215.5411,-1026.6478 2248.0675,-932.6791 2283.7549,-829.5785"/>
<polygon fill="#000000" stroke="#000000" points="2287.1423,-830.492 2287.1059,-819.8973 2280.5274,-828.2023 2287.1423,-830.492"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="2708,-471.3008 2636,-471.3008 2636,-435.3008 2708,-435.3008 2708,-471.3008"/>
<text text-anchor="middle" x="2672" y="-449.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">return C</text>
</g>
<!-- codeblock_26&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>codeblock_26&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2546.9397,-1065.1262C2564.4119,-1024.7686 2606.2812,-923.5263 2627,-834.6015 2657.2411,-704.8073 2667.6938,-545.1762 2670.8217,-481.4804"/>
<polygon fill="#000000" stroke="#000000" points="2674.3214,-481.5662 2671.2934,-471.4133 2667.3291,-481.2385 2674.3214,-481.5662"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="1108,-36 1054,-36 1054,0 1108,0 1108,-36"/>
</g>
<!-- raw_28&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>raw_28&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1081,-435.1506C1081,-367.394 1081,-128.9203 1081,-46.3736"/>
<polygon fill="#000000" stroke="#000000" points="1084.5001,-46.2276 1081,-36.2276 1077.5001,-46.2276 1084.5001,-46.2276"/>
</g>
</g>
</svg>
