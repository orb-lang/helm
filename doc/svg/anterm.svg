<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="5935pt" height="1927pt"
 viewBox="0.00 0.00 5934.50 1926.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1922.6028)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1922.6028 5930.5,-1922.6028 5930.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1718" cy="-1900.6028" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="1718" y="-1896.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 277</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1718" cy="-1828.6028" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1718" y="-1824.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;262</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1718,-1882.4341C1718,-1874.7337 1718,-1865.5771 1718,-1857.0194"/>
<polygon fill="#000000" stroke="#000000" points="1721.5001,-1857.016 1718,-1847.016 1714.5001,-1857.0161 1721.5001,-1857.016"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="120" cy="-1756.6028" rx="50.3327" ry="18"/>
<text text-anchor="middle" x="120" y="-1752.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Anterm</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1652.2574,-1828.2242C1446.722,-1826.599 798.0705,-1818.1225 263,-1774.6028 234.4876,-1772.2837 202.9224,-1768.4462 176.7173,-1764.9089"/>
<polygon fill="#000000" stroke="#000000" points="176.9673,-1761.4105 166.5847,-1763.5203 176.0169,-1768.3457 176.9673,-1761.4105"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="304" cy="-1756.6028" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="304" y="-1752.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1653.1031,-1825.2983C1408.8282,-1812.8599 548.3621,-1769.0455 346.5745,-1758.7706"/>
<polygon fill="#000000" stroke="#000000" points="346.548,-1755.2649 336.3829,-1758.2517 346.1919,-1762.2558 346.548,-1755.2649"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="770" cy="-1756.6028" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="770" y="-1752.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1654.6964,-1823.7949C1474.6356,-1810.1194 962.8905,-1771.2527 812.2262,-1759.8098"/>
<polygon fill="#000000" stroke="#000000" points="812.2483,-1756.3015 802.0119,-1759.0341 811.7181,-1763.2814 812.2483,-1756.3015"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="1434" cy="-1756.6028" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1434" y="-1752.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1669.5014,-1816.3073C1614.102,-1802.2624 1524.5229,-1779.5522 1473.2943,-1766.5647"/>
<polygon fill="#000000" stroke="#000000" points="1474.1349,-1763.1672 1463.5815,-1764.1023 1472.4147,-1769.9525 1474.1349,-1763.1672"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="1956" cy="-1756.6028" rx="70.655" ry="18"/>
<text text-anchor="middle" x="1956" y="-1752.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 12&#45;121</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1762.2082,-1815.2289C1801.2862,-1803.407 1858.46,-1786.1107 1900.5843,-1773.3672"/>
<polygon fill="#000000" stroke="#000000" points="1901.8501,-1776.641 1910.4082,-1770.3953 1899.8231,-1769.9409 1901.8501,-1776.641"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="2993" cy="-1756.6028" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="2993" y="-1752.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 122&#45;170</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1782.5401,-1824.9582C1994.7819,-1812.9727 2671.1156,-1774.7798 2909.1469,-1761.338"/>
<polygon fill="#000000" stroke="#000000" points="2909.6825,-1764.8134 2919.4692,-1760.7551 2909.2877,-1757.8246 2909.6825,-1764.8134"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="4567" cy="-1756.6028" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="4567" y="-1752.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 171&#45;262</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1783.5425,-1826.9464C2160.9577,-1817.4083 4055.0702,-1769.5403 4481.6029,-1758.7609"/>
<polygon fill="#000000" stroke="#000000" points="4481.7955,-1762.2573 4491.7038,-1758.5057 4481.6186,-1755.2595 4481.7955,-1762.2573"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="5607" cy="-1756.6028" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="5607" y="-1752.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 263&#45;277</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1783.5537,-1827.406C2100.0879,-1821.625 3502.1188,-1795.9947 4651,-1774.6028 4972.2772,-1768.6207 5354.2851,-1761.3937 5521.4916,-1758.2247"/>
<polygon fill="#000000" stroke="#000000" points="5521.7773,-1761.72 5531.7091,-1758.0311 5521.6445,-1754.7213 5521.7773,-1761.72"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="72,-1702.6028 0,-1702.6028 0,-1666.6028 72,-1666.6028 72,-1702.6028"/>
<text text-anchor="middle" x="36" y="-1681.1028" font-family="Inconsolata" font-size="14.00" fill="#000000">* Anterm</text>
</g>
<!-- header_2&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>header_2&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M100.5176,-1739.9036C89.9642,-1730.8578 76.7178,-1719.5037 64.9779,-1709.4409"/>
<polygon fill="#000000" stroke="#000000" points="67.0129,-1706.5755 57.1425,-1702.7249 62.4573,-1711.8903 67.0129,-1706.5755"/>
</g>
<!-- raw_11 -->
<g id="node12" class="node">
<title>raw_11</title>
<ellipse fill="none" stroke="#000000" cx="117" cy="-1684.6028" rx="27" ry="18"/>
<text text-anchor="middle" x="117" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_11 -->
<g id="edge11" class="edge">
<title>prose_3&#45;&gt;raw_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M275.7815,-1747.6399C245.1521,-1737.6513 194.9919,-1720.5324 153,-1702.6028 151.2167,-1701.8413 149.3969,-1701.0335 147.5697,-1700.1982"/>
<polygon fill="#000000" stroke="#000000" points="149.0375,-1697.0206 138.504,-1695.8813 146.028,-1703.3407 149.0375,-1697.0206"/>
</g>
<!-- prespace_12 -->
<g id="node13" class="node">
<title>prespace_12</title>
<ellipse fill="none" stroke="#000000" cx="208" cy="-1684.6028" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="208" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_3&#45;&gt;prespace_12 -->
<g id="edge12" class="edge">
<title>prose_3&#45;&gt;prespace_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M284.573,-1742.0325C271.0746,-1731.9087 252.8362,-1718.23 237.5453,-1706.7618"/>
<polygon fill="#000000" stroke="#000000" points="239.5024,-1703.8546 229.4024,-1700.6546 235.3024,-1709.4546 239.5024,-1703.8546"/>
</g>
<!-- literal_13 -->
<g id="node14" class="node">
<title>literal_13</title>
<ellipse fill="none" stroke="#000000" cx="304" cy="-1684.6028" rx="31.481" ry="18"/>
<text text-anchor="middle" x="304" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_3&#45;&gt;literal_13 -->
<g id="edge13" class="edge">
<title>prose_3&#45;&gt;literal_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M304,-1738.4341C304,-1730.7337 304,-1721.5771 304,-1713.0194"/>
<polygon fill="#000000" stroke="#000000" points="307.5001,-1713.016 304,-1703.016 300.5001,-1713.0161 307.5001,-1713.016"/>
</g>
<!-- raw_14 -->
<g id="node15" class="node">
<title>raw_14</title>
<ellipse fill="none" stroke="#000000" cx="394" cy="-1684.6028" rx="27" ry="18"/>
<text text-anchor="middle" x="394" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_14 -->
<g id="edge14" class="edge">
<title>prose_3&#45;&gt;raw_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M322.6481,-1741.6843C335.9045,-1731.0792 353.8717,-1716.7055 368.4596,-1705.0351"/>
<polygon fill="#000000" stroke="#000000" points="370.9748,-1707.5051 376.5971,-1698.5251 366.6019,-1702.039 370.9748,-1707.5051"/>
</g>
<!-- prespace_19 -->
<g id="node20" class="node">
<title>prespace_19</title>
<ellipse fill="none" stroke="#000000" cx="560" cy="-1684.6028" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="560" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_4&#45;&gt;prespace_19 -->
<g id="edge19" class="edge">
<title>prose_4&#45;&gt;prespace_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M742.1136,-1747.0417C706.9951,-1735.0011 646.2267,-1714.1662 604.6195,-1699.9009"/>
<polygon fill="#000000" stroke="#000000" points="605.5998,-1696.5371 595.0052,-1696.6046 603.3295,-1703.1587 605.5998,-1696.5371"/>
</g>
<!-- literal_20 -->
<g id="node21" class="node">
<title>literal_20</title>
<ellipse fill="none" stroke="#000000" cx="717" cy="-1684.6028" rx="31.481" ry="18"/>
<text text-anchor="middle" x="717" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_4&#45;&gt;literal_20 -->
<g id="edge20" class="edge">
<title>prose_4&#45;&gt;literal_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M757.7075,-1739.9036C751.0182,-1730.8162 742.6142,-1719.3994 735.1817,-1709.3024"/>
<polygon fill="#000000" stroke="#000000" points="737.9727,-1707.1899 729.2258,-1701.2114 732.3353,-1711.3397 737.9727,-1707.1899"/>
</g>
<!-- raw_21 -->
<g id="node22" class="node">
<title>raw_21</title>
<ellipse fill="none" stroke="#000000" cx="823" cy="-1684.6028" rx="27" ry="18"/>
<text text-anchor="middle" x="823" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_21 -->
<g id="edge21" class="edge">
<title>prose_4&#45;&gt;raw_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M782.2925,-1739.9036C788.9818,-1730.8162 797.3858,-1719.3994 804.8183,-1709.3024"/>
<polygon fill="#000000" stroke="#000000" points="807.6647,-1711.3397 810.7742,-1701.2114 802.0273,-1707.1899 807.6647,-1711.3397"/>
</g>
<!-- raw_25 -->
<g id="node26" class="node">
<title>raw_25</title>
<ellipse fill="none" stroke="#000000" cx="1111" cy="-1684.6028" rx="27" ry="18"/>
<text text-anchor="middle" x="1111" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_25 -->
<g id="edge25" class="edge">
<title>prose_5&#45;&gt;raw_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1402.6599,-1751.881C1351.6921,-1743.8683 1247.8952,-1726.1566 1162,-1702.6028 1156.141,-1700.9962 1149.9858,-1699.0518 1144.0583,-1697.0431"/>
<polygon fill="#000000" stroke="#000000" points="1144.9853,-1693.6592 1134.3904,-1693.6501 1142.6671,-1700.2642 1144.9853,-1693.6592"/>
</g>
<!-- prespace_26 -->
<g id="node27" class="node">
<title>prespace_26</title>
<ellipse fill="none" stroke="#000000" cx="1217" cy="-1684.6028" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="1217" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_5&#45;&gt;prespace_26 -->
<g id="edge26" class="edge">
<title>prose_5&#45;&gt;prespace_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1406.0753,-1747.3374C1369.6497,-1735.2515 1305.4669,-1713.9559 1262.0999,-1699.5668"/>
<polygon fill="#000000" stroke="#000000" points="1262.961,-1696.165 1252.3676,-1696.3377 1260.7566,-1702.8088 1262.961,-1696.165"/>
</g>
<!-- literal_27 -->
<g id="node28" class="node">
<title>literal_27</title>
<ellipse fill="none" stroke="#000000" cx="1313" cy="-1684.6028" rx="31.481" ry="18"/>
<text text-anchor="middle" x="1313" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_5&#45;&gt;literal_27 -->
<g id="edge27" class="edge">
<title>prose_5&#45;&gt;literal_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1411.8067,-1743.3969C1392.7035,-1732.0296 1364.9441,-1715.5116 1343.7094,-1702.8761"/>
<polygon fill="#000000" stroke="#000000" points="1345.436,-1699.8308 1335.0526,-1697.725 1341.8565,-1705.8464 1345.436,-1699.8308"/>
</g>
<!-- raw_28 -->
<g id="node29" class="node">
<title>raw_28</title>
<ellipse fill="none" stroke="#000000" cx="1389" cy="-1684.6028" rx="27" ry="18"/>
<text text-anchor="middle" x="1389" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_28 -->
<g id="edge28" class="edge">
<title>prose_5&#45;&gt;raw_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1423.3356,-1739.5398C1417.8435,-1730.7524 1411.0362,-1719.8606 1404.9347,-1710.0984"/>
<polygon fill="#000000" stroke="#000000" points="1407.8559,-1708.1683 1399.5878,-1701.5433 1401.9199,-1711.8783 1407.8559,-1708.1683"/>
</g>
<!-- prespace_29 -->
<g id="node30" class="node">
<title>prespace_29</title>
<ellipse fill="none" stroke="#000000" cx="1480" cy="-1684.6028" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="1480" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_5&#45;&gt;prespace_29 -->
<g id="edge29" class="edge">
<title>prose_5&#45;&gt;prespace_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1444.9014,-1739.5398C1450.3935,-1730.9434 1457.1722,-1720.3332 1463.3034,-1710.7366"/>
<polygon fill="#000000" stroke="#000000" points="1466.262,-1712.6066 1468.6965,-1702.2952 1460.3631,-1708.8378 1466.262,-1712.6066"/>
</g>
<!-- literal_30 -->
<g id="node31" class="node">
<title>literal_30</title>
<ellipse fill="none" stroke="#000000" cx="1576" cy="-1684.6028" rx="31.481" ry="18"/>
<text text-anchor="middle" x="1576" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_5&#45;&gt;literal_30 -->
<g id="edge30" class="edge">
<title>prose_5&#45;&gt;literal_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1458.0884,-1744.389C1481.4853,-1732.5257 1517.1844,-1714.4248 1543.1728,-1701.2475"/>
<polygon fill="#000000" stroke="#000000" points="1544.9312,-1704.2802 1552.2674,-1696.6362 1541.7655,-1698.0369 1544.9312,-1704.2802"/>
</g>
<!-- raw_31 -->
<g id="node32" class="node">
<title>raw_31</title>
<ellipse fill="none" stroke="#000000" cx="1672" cy="-1684.6028" rx="27" ry="18"/>
<text text-anchor="middle" x="1672" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_31 -->
<g id="edge31" class="edge">
<title>prose_5&#45;&gt;raw_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1462.7456,-1748.2913C1498.6679,-1737.8548 1561.9956,-1719.2914 1616,-1702.6028 1623.1103,-1700.4055 1630.7105,-1698.0006 1637.9454,-1695.6843"/>
<polygon fill="#000000" stroke="#000000" points="1639.0573,-1699.0033 1647.5046,-1692.6085 1636.9131,-1692.3398 1639.0573,-1699.0033"/>
</g>
<!-- header_39 -->
<g id="node40" class="node">
<title>header_39</title>
<ellipse fill="none" stroke="#000000" cx="1851" cy="-1684.6028" rx="54.6851" ry="18"/>
<text text-anchor="middle" x="1851" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : includes</text>
</g>
<!-- section_6&#45;&gt;header_39 -->
<g id="edge39" class="edge">
<title>section_6&#45;&gt;header_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1931.3822,-1739.722C1916.9596,-1729.8322 1898.5822,-1717.2305 1883.0405,-1706.5734"/>
<polygon fill="#000000" stroke="#000000" points="1884.9677,-1703.6511 1874.7411,-1700.8824 1881.009,-1709.4242 1884.9677,-1703.6511"/>
</g>
<!-- prose_40 -->
<g id="node41" class="node">
<title>prose_40</title>
<ellipse fill="none" stroke="#000000" cx="1956" cy="-1684.6028" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1956" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_40 -->
<g id="edge40" class="edge">
<title>section_6&#45;&gt;prose_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1956,-1738.4341C1956,-1730.7337 1956,-1721.5771 1956,-1713.0194"/>
<polygon fill="#000000" stroke="#000000" points="1959.5001,-1713.016 1956,-1703.016 1952.5001,-1713.0161 1959.5001,-1713.016"/>
</g>
<!-- codeblock_41 -->
<g id="node42" class="node">
<title>codeblock_41</title>
<ellipse fill="none" stroke="#000000" cx="2084" cy="-1684.6028" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2084" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 16&#45;18</text>
</g>
<!-- section_6&#45;&gt;codeblock_41 -->
<g id="edge41" class="edge">
<title>section_6&#45;&gt;codeblock_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1985.3658,-1740.0845C2003.2067,-1730.049 2026.1861,-1717.1231 2045.4756,-1706.2728"/>
<polygon fill="#000000" stroke="#000000" points="2047.3278,-1709.2467 2054.3276,-1701.2935 2043.8959,-1703.1456 2047.3278,-1709.2467"/>
</g>
<!-- codeblock_42 -->
<g id="node43" class="node">
<title>codeblock_42</title>
<ellipse fill="none" stroke="#000000" cx="2349" cy="-1684.6028" rx="81.9542" ry="18"/>
<text text-anchor="middle" x="2349" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 20&#45;119</text>
</g>
<!-- section_6&#45;&gt;codeblock_42 -->
<g id="edge42" class="edge">
<title>section_6&#45;&gt;codeblock_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2013.5665,-1746.0563C2083.1445,-1733.3091 2200.3033,-1711.8449 2276.1193,-1697.955"/>
<polygon fill="#000000" stroke="#000000" points="2276.8676,-1701.3762 2286.0732,-1696.1314 2275.6061,-1694.4908 2276.8676,-1701.3762"/>
</g>
<!-- header_48 -->
<g id="node49" class="node">
<title>header_48</title>
<ellipse fill="none" stroke="#000000" cx="2796" cy="-1684.6028" rx="58.5531" ry="18"/>
<text text-anchor="middle" x="2796" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : 256 color</text>
</g>
<!-- section_7&#45;&gt;header_48 -->
<g id="edge48" class="edge">
<title>section_7&#45;&gt;header_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2951.7023,-1741.5092C2920.0741,-1729.9497 2876.4044,-1713.9891 2843.3602,-1701.9121"/>
<polygon fill="#000000" stroke="#000000" points="2844.5009,-1698.6026 2833.907,-1698.4571 2842.0979,-1705.1773 2844.5009,-1698.6026"/>
</g>
<!-- prose_49 -->
<g id="node50" class="node">
<title>prose_49</title>
<ellipse fill="none" stroke="#000000" cx="2993" cy="-1684.6028" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2993" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_49 -->
<g id="edge49" class="edge">
<title>section_7&#45;&gt;prose_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2993,-1738.4341C2993,-1730.7337 2993,-1721.5771 2993,-1713.0194"/>
<polygon fill="#000000" stroke="#000000" points="2996.5001,-1713.016 2993,-1703.016 2989.5001,-1713.0161 2996.5001,-1713.016"/>
</g>
<!-- prose_50 -->
<g id="node51" class="node">
<title>prose_50</title>
<ellipse fill="none" stroke="#000000" cx="3152" cy="-1684.6028" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3152" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_50 -->
<g id="edge50" class="edge">
<title>section_7&#45;&gt;prose_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3028.2873,-1740.6236C3054.8507,-1728.5949 3091.0702,-1712.1936 3117.4522,-1700.2471"/>
<polygon fill="#000000" stroke="#000000" points="3119.0249,-1703.3771 3126.6907,-1696.0636 3116.1373,-1697.0004 3119.0249,-1703.3771"/>
</g>
<!-- codeblock_51 -->
<g id="node52" class="node">
<title>codeblock_51</title>
<ellipse fill="none" stroke="#000000" cx="3376" cy="-1684.6028" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="3376" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 128&#45;168</text>
</g>
<!-- section_7&#45;&gt;codeblock_51 -->
<g id="edge51" class="edge">
<title>section_7&#45;&gt;codeblock_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3052.4235,-1745.4318C3119.4486,-1732.8318 3228.5604,-1712.3199 3301.2979,-1698.646"/>
<polygon fill="#000000" stroke="#000000" points="3302.1307,-1702.0508 3311.3119,-1696.7635 3300.8374,-1695.1713 3302.1307,-1702.0508"/>
</g>
<!-- header_64 -->
<g id="node65" class="node">
<title>header_64</title>
<ellipse fill="none" stroke="#000000" cx="4324" cy="-1684.6028" rx="110.2981" ry="18"/>
<text text-anchor="middle" x="4324" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : fg24(r,g,b), bg24(r,g,b)</text>
</g>
<!-- section_8&#45;&gt;header_64 -->
<g id="edge64" class="edge">
<title>section_8&#45;&gt;header_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4519.5703,-1742.5495C4481.7211,-1731.335 4428.3644,-1715.5256 4386.9422,-1703.2523"/>
<polygon fill="#000000" stroke="#000000" points="4387.8064,-1699.858 4377.2241,-1700.3729 4385.8178,-1706.5696 4387.8064,-1699.858"/>
</g>
<!-- prose_65 -->
<g id="node66" class="node">
<title>prose_65</title>
<ellipse fill="none" stroke="#000000" cx="4485" cy="-1684.6028" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4485" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_65 -->
<g id="edge65" class="edge">
<title>section_8&#45;&gt;prose_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4547.1501,-1739.1736C4536.0588,-1729.4349 4522.1239,-1717.1994 4510.2613,-1706.7834"/>
<polygon fill="#000000" stroke="#000000" points="4512.264,-1703.8842 4502.4403,-1699.9162 4507.6454,-1709.1443 4512.264,-1703.8842"/>
</g>
<!-- prose_66 -->
<g id="node67" class="node">
<title>prose_66</title>
<ellipse fill="none" stroke="#000000" cx="4567" cy="-1684.6028" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4567" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_66 -->
<g id="edge66" class="edge">
<title>section_8&#45;&gt;prose_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4567,-1738.4341C4567,-1730.7337 4567,-1721.5771 4567,-1713.0194"/>
<polygon fill="#000000" stroke="#000000" points="4570.5001,-1713.016 4567,-1703.016 4563.5001,-1713.0161 4570.5001,-1713.016"/>
</g>
<!-- prose_67 -->
<g id="node68" class="node">
<title>prose_67</title>
<ellipse fill="none" stroke="#000000" cx="4649" cy="-1684.6028" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4649" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_67 -->
<g id="edge67" class="edge">
<title>section_8&#45;&gt;prose_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4586.8499,-1739.1736C4597.9412,-1729.4349 4611.8761,-1717.1994 4623.7387,-1706.7834"/>
<polygon fill="#000000" stroke="#000000" points="4626.3546,-1709.1443 4631.5597,-1699.9162 4621.736,-1703.8842 4626.3546,-1709.1443"/>
</g>
<!-- prose_68 -->
<g id="node69" class="node">
<title>prose_68</title>
<ellipse fill="none" stroke="#000000" cx="4731" cy="-1684.6028" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4731" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_68 -->
<g id="edge68" class="edge">
<title>section_8&#45;&gt;prose_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4603.3969,-1740.6236C4631.0847,-1728.468 4668.9434,-1711.8471 4696.2234,-1699.8705"/>
<polygon fill="#000000" stroke="#000000" points="4697.6481,-1703.0676 4705.3975,-1695.8429 4694.8341,-1696.6581 4697.6481,-1703.0676"/>
</g>
<!-- codeblock_69 -->
<g id="node70" class="node">
<title>codeblock_69</title>
<ellipse fill="none" stroke="#000000" cx="4937" cy="-1684.6028" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4937" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 184&#45;260</text>
</g>
<!-- section_8&#45;&gt;codeblock_69 -->
<g id="edge69" class="edge">
<title>section_8&#45;&gt;codeblock_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4625.6276,-1745.1942C4690.0108,-1732.6655 4793.5096,-1712.5252 4863.3278,-1698.939"/>
<polygon fill="#000000" stroke="#000000" points="4864.2285,-1702.3295 4873.3758,-1696.9837 4862.8914,-1695.4583 4864.2285,-1702.3295"/>
</g>
<!-- header_80 -->
<g id="node81" class="node">
<title>header_80</title>
<ellipse fill="none" stroke="#000000" cx="5515" cy="-1684.6028" rx="134.4448" ry="18"/>
<text text-anchor="middle" x="5515" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Miscellaneous term handling</text>
</g>
<!-- section_9&#45;&gt;header_80 -->
<g id="edge80" class="edge">
<title>section_9&#45;&gt;header_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5584.7294,-1739.1736C5573.0383,-1730.024 5558.5312,-1718.6706 5545.7818,-1708.6929"/>
<polygon fill="#000000" stroke="#000000" points="5547.7368,-1705.7785 5537.7047,-1702.3717 5543.4227,-1711.2911 5547.7368,-1705.7785"/>
</g>
<!-- prose_81 -->
<g id="node82" class="node">
<title>prose_81</title>
<ellipse fill="none" stroke="#000000" cx="5700" cy="-1684.6028" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5700" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_81 -->
<g id="edge81" class="edge">
<title>section_9&#45;&gt;prose_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5629.5127,-1739.1736C5642.6009,-1729.0408 5659.1804,-1716.205 5672.9713,-1705.5282"/>
<polygon fill="#000000" stroke="#000000" points="5675.3769,-1708.0922 5681.1416,-1699.2029 5671.0917,-1702.5571 5675.3769,-1708.0922"/>
</g>
<!-- codeblock_82 -->
<g id="node83" class="node">
<title>codeblock_82</title>
<ellipse fill="none" stroke="#000000" cx="5838" cy="-1684.6028" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5838" y="-1680.4028" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 265&#45;277</text>
</g>
<!-- section_9&#45;&gt;codeblock_82 -->
<g id="edge82" class="edge">
<title>section_9&#45;&gt;codeblock_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5652.9144,-1742.2918C5689.4245,-1730.912 5740.7242,-1714.9225 5780.0589,-1702.6623"/>
<polygon fill="#000000" stroke="#000000" points="5781.2797,-1705.948 5789.7852,-1699.6308 5779.1967,-1699.2651 5781.2797,-1705.948"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="136,-886.4014 82,-886.4014 82,-850.4014 136,-850.4014 136,-886.4014"/>
</g>
<!-- raw_11&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>raw_11&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M116.8217,-1666.4109C115.7867,-1560.8198 110.5537,-1026.9139 109.2798,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="112.7767,-896.6024 109.1787,-886.6372 105.777,-896.6711 112.7767,-896.6024"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="208,-886.4014 154,-886.4014 154,-850.4014 208,-850.4014 208,-886.4014"/>
</g>
<!-- prespace_12&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>prespace_12&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M207.3982,-1666.4109C203.9052,-1560.8198 186.2436,-1026.9139 181.9444,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="185.432,-896.516 181.6032,-886.6372 178.4359,-896.7475 185.432,-896.516"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="284,-886.4014 226,-886.4014 226,-850.4014 284,-850.4014 284,-886.4014"/>
<text text-anchor="middle" x="255" y="-864.9015" font-family="Inconsolata" font-size="14.00" fill="#000000">anterm</text>
</g>
<!-- literal_13&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>literal_13&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M299.6486,-1666.7155C297.2815,-1656.2531 294.5315,-1642.7531 293,-1630.6028 257.1072,-1345.8419 254.7494,-997.2272 254.8731,-896.7338"/>
<polygon fill="#000000" stroke="#000000" points="258.3735,-896.5024 254.8958,-886.4946 251.3735,-896.4868 258.3735,-896.5024"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="500,-886.4014 302,-886.4014 302,-850.4014 500,-850.4014 500,-886.4014"/>
<text text-anchor="middle" x="401" y="-864.9015" font-family="Inconsolata" font-size="14.00" fill="#000000"> is actually the protocol.</text>
</g>
<!-- raw_14&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>raw_14&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M394.156,-1666.4109C395.0616,-1560.8198 399.6405,-1026.9139 400.7552,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="404.2576,-896.6669 400.8436,-886.6372 397.2579,-896.6068 404.2576,-896.6669"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="572,-886.4014 518,-886.4014 518,-850.4014 572,-850.4014 572,-886.4014"/>
</g>
<!-- prespace_19&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>prespace_19&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M559.6657,-1666.4109C557.7251,-1560.8198 547.9131,-1026.9139 545.5247,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="549.0184,-896.5712 545.3351,-886.6372 542.0196,-896.6999 549.0184,-896.5712"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="676,-886.4014 590,-886.4014 590,-850.4014 676,-850.4014 676,-886.4014"/>
<text text-anchor="middle" x="633" y="-864.9015" font-family="Inconsolata" font-size="14.00" fill="#000000">anterm.orb</text>
</g>
<!-- literal_20&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>literal_20&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M704.4326,-1668.0666C697.3936,-1657.8441 689.2073,-1644.1303 685,-1630.6028 599.3917,-1355.3531 621.6604,-998.1195 630.3411,-896.479"/>
<polygon fill="#000000" stroke="#000000" points="633.8376,-896.6718 631.23,-886.4028 626.8647,-896.0566 633.8376,-896.6718"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="983.5,-886.4014 694.5,-886.4014 694.5,-850.4014 983.5,-850.4014 983.5,-886.4014"/>
<text text-anchor="middle" x="839" y="-864.9015" font-family="Inconsolata" font-size="14.00" fill="#000000"> is properly called &quot;anterm&#39;s monster&quot;.</text>
</g>
<!-- raw_21&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>raw_21&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M823.3566,-1666.4109C825.4265,-1560.8198 835.8927,-1026.9139 838.4403,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="841.9458,-896.7039 838.6425,-886.6372 834.9471,-896.5667 841.9458,-896.7039"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="1186,-888.3035 1002,-888.3035 1002,-848.4994 1186,-848.4994 1186,-888.3035"/>
<text text-anchor="middle" x="1094" y="-856.9015" font-family="Inconsolata" font-size="14.00" fill="#000000">This is actually our raw</text>
</g>
<!-- raw_25&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>raw_25&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1110.6211,-1666.4109C1108.4315,-1561.2856 1097.3995,-1031.6164 1094.6309,-898.6944"/>
<polygon fill="#000000" stroke="#000000" points="1098.125,-898.3679 1094.4174,-888.443 1091.1265,-898.5138 1098.125,-898.3679"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="1258,-886.4014 1204,-886.4014 1204,-850.4014 1258,-850.4014 1258,-886.4014"/>
<text text-anchor="middle" x="1231" y="-864.9015" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_26&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>prespace_26&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1217.312,-1666.4109C1219.1232,-1560.8198 1228.2811,-1026.9139 1230.5103,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="1234.0151,-896.6958 1230.6872,-886.6372 1227.0161,-896.5757 1234.0151,-896.6958"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="1330,-886.4014 1276,-886.4014 1276,-850.4014 1330,-850.4014 1330,-886.4014"/>
<text text-anchor="middle" x="1303" y="-864.9015" font-family="Inconsolata" font-size="14.00" fill="#000000">xterm</text>
</g>
<!-- literal_27&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>literal_27&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1312.7771,-1666.4109C1311.4834,-1560.8198 1304.9421,-1026.9139 1303.3498,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="1306.8458,-896.5936 1303.2234,-886.6372 1299.8463,-896.6794 1306.8458,-896.5936"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="1434,-886.4014 1348,-886.4014 1348,-850.4014 1434,-850.4014 1434,-886.4014"/>
<text text-anchor="middle" x="1391" y="-864.9015" font-family="Inconsolata" font-size="14.00" fill="#000000"> handler. </text>
</g>
<!-- raw_28&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>raw_28&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1389.0446,-1666.4109C1389.3033,-1560.8198 1390.6116,-1026.9139 1390.93,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="1394.4307,-896.6458 1390.9553,-886.6372 1387.4307,-896.6286 1394.4307,-896.6458"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="1506,-886.4014 1452,-886.4014 1452,-850.4014 1506,-850.4014 1506,-886.4014"/>
<text text-anchor="middle" x="1479" y="-864.9015" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_29&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>prespace_29&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1479.9777,-1666.4109C1479.8483,-1560.8198 1479.1942,-1026.9139 1479.035,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="1482.5347,-896.6329 1479.0223,-886.6372 1475.5347,-896.6415 1482.5347,-896.6329"/>
</g>
<!-- leaf_37 -->
<g id="node38" class="node">
<title>leaf_37</title>
<polygon fill="none" stroke="#c0c0c0" points="1582,-886.4014 1524,-886.4014 1524,-850.4014 1582,-850.4014 1582,-886.4014"/>
<text text-anchor="middle" x="1553" y="-864.9015" font-family="Inconsolata" font-size="14.00" fill="#000000">anterm</text>
</g>
<!-- literal_30&#45;&gt;leaf_37 -->
<g id="edge37" class="edge">
<title>literal_30&#45;&gt;leaf_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1575.4874,-1666.4109C1572.5119,-1560.8198 1557.4668,-1026.9139 1553.8045,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="1557.2943,-896.5346 1553.5139,-886.6372 1550.297,-896.7319 1557.2943,-896.5346"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="1784,-895.7019 1600,-895.7019 1600,-841.101 1784,-841.101 1784,-895.7019"/>
<text text-anchor="middle" x="1692" y="-880.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> protocol requires a few</text>
<text text-anchor="middle" x="1692" y="-865.2014" font-family="Inconsolata" font-size="14.00" fill="#000000">platforms which run it.</text>
</g>
<!-- raw_31&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>raw_31&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1672.4458,-1666.4109C1674.9761,-1563.149 1687.5438,-1050.2597 1691.0755,-906.1318"/>
<polygon fill="#000000" stroke="#000000" points="1694.5772,-906.0992 1691.3233,-896.0164 1687.5793,-905.9277 1694.5772,-906.0992"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="1902,-886.4014 1802,-886.4014 1802,-850.4014 1902,-850.4014 1902,-886.4014"/>
<text text-anchor="middle" x="1852" y="-864.9015" font-family="Inconsolata" font-size="14.00" fill="#000000">*** includes</text>
</g>
<!-- header_39&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>header_39&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1851.0223,-1666.4109C1851.1517,-1560.8198 1851.8058,-1026.9139 1851.965,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="1855.4653,-896.6415 1851.9777,-886.6372 1848.4653,-896.6329 1855.4653,-896.6415"/>
</g>
<!-- raw_44 -->
<g id="node45" class="node">
<title>raw_44</title>
<ellipse fill="none" stroke="#000000" cx="1947" cy="-868.4014" rx="27" ry="18"/>
<text text-anchor="middle" x="1947" y="-864.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_40&#45;&gt;raw_44 -->
<g id="edge44" class="edge">
<title>prose_40&#45;&gt;raw_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1955.7994,-1666.4109C1954.6351,-1560.8198 1948.7479,-1026.9139 1947.3148,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="1950.8112,-896.598 1947.2011,-886.6372 1943.8116,-896.6752 1950.8112,-896.598"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="2176,-886.4014 1992,-886.4014 1992,-850.4014 2176,-850.4014 2176,-886.4014"/>
<text text-anchor="middle" x="2084" y="-864.9015" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
</g>
<!-- codeblock_41&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>codeblock_41&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2084,-1666.4109C2084,-1560.8198 2084,-1026.9139 2084,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="2087.5001,-896.6372 2084,-886.6372 2080.5001,-896.6373 2087.5001,-896.6372"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="2679.5,-1630.8042 2194.5,-1630.8042 2194.5,-105.9987 2679.5,-105.9987 2679.5,-1630.8042"/>
<text text-anchor="middle" x="2437" y="-1615.4028" font-family="Inconsolata" font-size="14.00" fill="#000000">local pairs = pairs</text>
<text text-anchor="middle" x="2437" y="-1600.0027" font-family="Inconsolata" font-size="14.00" fill="#000000">local tostring = tostring</text>
<text text-anchor="middle" x="2437" y="-1584.6027" font-family="Inconsolata" font-size="14.00" fill="#000000">local setmetatable = setmetatable</text>
<text text-anchor="middle" x="2437" y="-1569.2027" font-family="Inconsolata" font-size="14.00" fill="#000000">local error = error</text>
<text text-anchor="middle" x="2437" y="-1553.8027" font-family="Inconsolata" font-size="14.00" fill="#000000">local require = require</text>
<text text-anchor="middle" x="2437" y="-1538.4026" font-family="Inconsolata" font-size="14.00" fill="#000000">local rawget = rawget</text>
<text text-anchor="middle" x="2437" y="-1523.0026" font-family="Inconsolata" font-size="14.00" fill="#000000">local io = io</text>
<text text-anchor="middle" x="2437" y="-1507.6026" font-family="Inconsolata" font-size="14.00" fill="#000000">local schar = string.char</text>
<text text-anchor="middle" x="2437" y="-1476.2025" font-family="Inconsolata" font-size="14.00" fill="#000000">local anterm = {}</text>
<text text-anchor="middle" x="2437" y="-1444.8025" font-family="Inconsolata" font-size="14.00" fill="#000000">local CSI = schar(27)..&#39;[&#39;</text>
<text text-anchor="middle" x="2437" y="-1413.4025" font-family="Inconsolata" font-size="14.00" fill="#000000">local colormt = {}</text>
<text text-anchor="middle" x="2437" y="-1382.0024" font-family="Inconsolata" font-size="14.00" fill="#000000">local colors = {</text>
<text text-anchor="middle" x="2437" y="-1366.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; attributes</text>
<text text-anchor="middle" x="2437" y="-1351.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;attribute = {</text>
<text text-anchor="middle" x="2437" y="-1335.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;reset = 0,</text>
<text text-anchor="middle" x="2437" y="-1320.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;clear = 0,</text>
<text text-anchor="middle" x="2437" y="-1305.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;bright = 1,</text>
<text text-anchor="middle" x="2437" y="-1289.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;bold = 1,</text>
<text text-anchor="middle" x="2437" y="-1274.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;dim = 2,</text>
<text text-anchor="middle" x="2437" y="-1258.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;italic = 3,</text>
<text text-anchor="middle" x="2437" y="-1243.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;underscore = 4,</text>
<text text-anchor="middle" x="2437" y="-1228.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;blink = 5,</text>
<text text-anchor="middle" x="2437" y="-1212.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;reverse = 7,</text>
<text text-anchor="middle" x="2437" y="-1197.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;hidden = 8},</text>
<text text-anchor="middle" x="2437" y="-1181.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; foreground</text>
<text text-anchor="middle" x="2437" y="-1166.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;fg = {</text>
<text text-anchor="middle" x="2437" y="-1151.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;black = 30,</text>
<text text-anchor="middle" x="2437" y="-1135.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;red = 31,</text>
<text text-anchor="middle" x="2437" y="-1120.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;green = 32,</text>
<text text-anchor="middle" x="2437" y="-1104.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;yellow = 33,</text>
<text text-anchor="middle" x="2437" y="-1089.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;blue = 34,</text>
<text text-anchor="middle" x="2437" y="-1074.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;magenta = 35,</text>
<text text-anchor="middle" x="2437" y="-1058.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;cyan = 36,</text>
<text text-anchor="middle" x="2437" y="-1043.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;white = 37,</text>
<text text-anchor="middle" x="2437" y="-1027.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;clear_fg = 39 &#160;},</text>
<text text-anchor="middle" x="2437" y="-1012.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; background</text>
<text text-anchor="middle" x="2437" y="-997.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;bg = {</text>
<text text-anchor="middle" x="2437" y="-981.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;onblack = 40,</text>
<text text-anchor="middle" x="2437" y="-966.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;onred = 41,</text>
<text text-anchor="middle" x="2437" y="-950.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;ongreen = 42,</text>
<text text-anchor="middle" x="2437" y="-935.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;onyellow = 43,</text>
<text text-anchor="middle" x="2437" y="-920.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;onblue = 44,</text>
<text text-anchor="middle" x="2437" y="-904.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;onmagenta = 45,</text>
<text text-anchor="middle" x="2437" y="-889.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;oncyan = 46,</text>
<text text-anchor="middle" x="2437" y="-873.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;onwhite = 47,</text>
<text text-anchor="middle" x="2437" y="-858.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;clear_bg = 49}</text>
<text text-anchor="middle" x="2437" y="-843.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">}</text>
<text text-anchor="middle" x="2437" y="-811.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">local function makecolor(value, name, kind)</text>
<text text-anchor="middle" x="2437" y="-796.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local color = {</text>
<text text-anchor="middle" x="2437" y="-780.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;value = CSI .. value ..&quot;m&quot;,</text>
<text text-anchor="middle" x="2437" y="-765.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;name = name,</text>
<text text-anchor="middle" x="2437" y="-750.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;kind = kind }</text>
<text text-anchor="middle" x="2437" y="-734.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return setmetatable(color, colormt)</text>
<text text-anchor="middle" x="2437" y="-719.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2437" y="-687.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">for kind, val in pairs(colors) do</text>
<text text-anchor="middle" x="2437" y="-672.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for c, v in pairs(val) do</text>
<text text-anchor="middle" x="2437" y="-657.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;anterm[c] = makecolor(v, c, kind)</text>
<text text-anchor="middle" x="2437" y="-641.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2437" y="-626.201" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2437" y="-594.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">function colormt:__tostring()</text>
<text text-anchor="middle" x="2437" y="-579.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return self.value</text>
<text text-anchor="middle" x="2437" y="-564.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2437" y="-532.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">function colormt:__concat(other)</text>
<text text-anchor="middle" x="2437" y="-517.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return tostring(self) .. tostring(other)</text>
<text text-anchor="middle" x="2437" y="-501.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2437" y="-470.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">local clear_fg, clear_bg, clear = anterm.clear_fg, anterm.clear_bg,</text>
<text text-anchor="middle" x="2437" y="-455.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;anterm.clear</text>
<text text-anchor="middle" x="2437" y="-423.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">local function reset(color)</text>
<text text-anchor="middle" x="2437" y="-408.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; given a color, reset its action.</text>
<text text-anchor="middle" x="2437" y="-392.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; simple for fg and bg</text>
<text text-anchor="middle" x="2437" y="-377.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if color.kind == &quot;fg&quot; then</text>
<text text-anchor="middle" x="2437" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return clear_fg</text>
<text text-anchor="middle" x="2437" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;elseif color.kind == &quot;bg&quot; then</text>
<text text-anchor="middle" x="2437" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return clear_bg</text>
<text text-anchor="middle" x="2437" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;elseif color.kind == &quot;attribute&quot; then</text>
<text text-anchor="middle" x="2437" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return clear</text>
<text text-anchor="middle" x="2437" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2437" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2437" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">local __ts = colormt.__tostring</text>
<text text-anchor="middle" x="2437" y="-206.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">function colormt:__call(s)</text>
<text text-anchor="middle" x="2437" y="-191.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if s then</text>
<text text-anchor="middle" x="2437" y="-176.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return __ts(self) .. s .. reset(self)</text>
<text text-anchor="middle" x="2437" y="-160.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2437" y="-145.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return __ts(self)</text>
<text text-anchor="middle" x="2437" y="-129.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2437" y="-114.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_42&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>codeblock_42&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2350.9614,-1666.4109C2351.6965,-1659.5929 2352.6241,-1650.9892 2353.7201,-1640.8238"/>
<polygon fill="#000000" stroke="#000000" points="2357.2295,-1640.9239 2354.8217,-1630.6063 2350.2698,-1640.1735 2357.2295,-1640.9239"/>
</g>
<!-- leaf_45 -->
<g id="node46" class="node">
<title>leaf_45</title>
<polygon fill="none" stroke="#c0c0c0" points="2077.5,-63.0015 1816.5,-63.0015 1816.5,-7.1986 2077.5,-7.1986 2077.5,-63.0015"/>
<text text-anchor="middle" x="1947" y="-15.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">We&#39;ll want lpeg for fuzzy matching.</text>
</g>
<!-- raw_44&#45;&gt;leaf_45 -->
<g id="edge45" class="edge">
<title>raw_44&#45;&gt;leaf_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1947,-850.2218C1947,-745.6152 1947,-219.9728 1947,-73.2096"/>
<polygon fill="#000000" stroke="#000000" points="1950.5001,-72.9156 1947,-62.9157 1943.5001,-72.9157 1950.5001,-72.9156"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="2804.5,-886.4014 2697.5,-886.4014 2697.5,-850.4014 2804.5,-850.4014 2804.5,-886.4014"/>
<text text-anchor="middle" x="2751" y="-864.9015" font-family="Inconsolata" font-size="14.00" fill="#000000">*** 256 color</text>
</g>
<!-- header_48&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>header_48&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2794.997,-1666.4109C2789.1754,-1560.8198 2759.7393,-1026.9139 2752.574,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="2756.0507,-896.4294 2752.0054,-886.6372 2749.0613,-896.8148 2756.0507,-896.4294"/>
</g>
<!-- raw_53 -->
<g id="node54" class="node">
<title>raw_53</title>
<ellipse fill="none" stroke="#000000" cx="2850" cy="-868.4014" rx="27" ry="18"/>
<text text-anchor="middle" x="2850" y="-864.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_49&#45;&gt;raw_53 -->
<g id="edge53" class="edge">
<title>prose_49&#45;&gt;raw_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2962.642,-1678.1766C2937.4769,-1671.1084 2903.152,-1657.0523 2886,-1630.6028 2805.5385,-1506.526 2838.0394,-1019.1479 2847.668,-896.5215"/>
<polygon fill="#000000" stroke="#000000" points="2851.1662,-896.6822 2848.4736,-886.4352 2844.1884,-896.1248 2851.1662,-896.6822"/>
</g>
<!-- prespace_54 -->
<g id="node55" class="node">
<title>prespace_54</title>
<ellipse fill="none" stroke="#000000" cx="2941" cy="-868.4014" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2941" y="-864.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_49&#45;&gt;prespace_54 -->
<g id="edge54" class="edge">
<title>prose_49&#45;&gt;prespace_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2991.841,-1666.4109C2985.1138,-1560.8198 2951.0988,-1026.9139 2942.8189,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="2946.2906,-896.3944 2942.1618,-886.6372 2939.3048,-896.8396 2946.2906,-896.3944"/>
</g>
<!-- literal_55 -->
<g id="node56" class="node">
<title>literal_55</title>
<ellipse fill="none" stroke="#000000" cx="3037" cy="-868.4014" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3037" y="-864.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_49&#45;&gt;literal_55 -->
<g id="edge55" class="edge">
<title>prose_49&#45;&gt;literal_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2994.0079,-1666.6032C2994.5939,-1656.1034 2995.3439,-1642.6034 2996,-1630.6028 3011.6719,-1343.9584 3030.1792,-996.6479 3035.5011,-896.6002"/>
<polygon fill="#000000" stroke="#000000" points="3039.0071,-896.579 3036.0432,-886.4073 3032.0169,-896.2072 3039.0071,-896.579"/>
</g>
<!-- raw_56 -->
<g id="node57" class="node">
<title>raw_56</title>
<ellipse fill="none" stroke="#000000" cx="3113" cy="-868.4014" rx="27" ry="18"/>
<text text-anchor="middle" x="3113" y="-864.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_49&#45;&gt;raw_56 -->
<g id="edge56" class="edge">
<title>prose_49&#45;&gt;raw_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3020.4088,-1674.8788C3039.8517,-1666.4093 3064.61,-1652.0763 3077,-1630.6028 3150.826,-1502.6524 3123.3439,-1019.1741 3115.0374,-896.723"/>
<polygon fill="#000000" stroke="#000000" points="3118.522,-896.3772 3114.341,-886.6422 3111.5386,-896.8596 3118.522,-896.3772"/>
</g>
<!-- raw_61 -->
<g id="node62" class="node">
<title>raw_61</title>
<ellipse fill="none" stroke="#000000" cx="3185" cy="-868.4014" rx="27" ry="18"/>
<text text-anchor="middle" x="3185" y="-864.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_50&#45;&gt;raw_61 -->
<g id="edge61" class="edge">
<title>prose_50&#45;&gt;raw_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3152.7355,-1666.4109C3157.0047,-1560.8198 3178.5912,-1026.9139 3183.8457,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="3187.3558,-896.7705 3184.2627,-886.6372 3180.3615,-896.4876 3187.3558,-896.7705"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="3694,-1173.8027 3230,-1173.8027 3230,-563.0002 3694,-563.0002 3694,-1173.8027"/>
<text text-anchor="middle" x="3462" y="-1158.402" font-family="Inconsolata" font-size="14.00" fill="#000000">local function byte_panic(byte_p)</text>
<text text-anchor="middle" x="3462" y="-1143.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;if not byte_p or not (0 &lt;= byte_p and byte_p &lt;= 255) then</text>
<text text-anchor="middle" x="3462" y="-1127.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;error &quot;xterm value must be 8 bit unsigned&quot;</text>
<text text-anchor="middle" x="3462" y="-1112.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3462" y="-1096.8019" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3462" y="-1065.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">local x256_store = {}</text>
<text text-anchor="middle" x="3462" y="-1034.0018" font-family="Inconsolata" font-size="14.00" fill="#000000">local function ansi_fg(byte)</text>
<text text-anchor="middle" x="3462" y="-1018.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local function make (byte)</text>
<text text-anchor="middle" x="3462" y="-1003.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;byte_panic(byte)</text>
<text text-anchor="middle" x="3462" y="-987.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local color = { value = schar(27)..&quot;[38;5;&quot;..byte..&quot;m&quot;,</text>
<text text-anchor="middle" x="3462" y="-972.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kind = &quot;fg&quot; }</text>
<text text-anchor="middle" x="3462" y="-957.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return setmetatable(color, colormt)</text>
<text text-anchor="middle" x="3462" y="-941.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3462" y="-926.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if x256_store[byte] then</text>
<text text-anchor="middle" x="3462" y="-910.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return x256_store[byte]</text>
<text text-anchor="middle" x="3462" y="-895.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3462" y="-880.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local color = make(byte)</text>
<text text-anchor="middle" x="3462" y="-864.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;x256_store[byte] = color</text>
<text text-anchor="middle" x="3462" y="-849.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return color</text>
<text text-anchor="middle" x="3462" y="-833.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3462" y="-818.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3462" y="-787.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">local function ansi_bg(byte)</text>
<text text-anchor="middle" x="3462" y="-771.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local function make (byte)</text>
<text text-anchor="middle" x="3462" y="-756.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;byte_panic(byte)</text>
<text text-anchor="middle" x="3462" y="-740.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local color = { value = schar(27)..&quot;[48;5;&quot;..byte..&quot;m&quot;,</text>
<text text-anchor="middle" x="3462" y="-725.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kind = &quot;bg&quot; }</text>
<text text-anchor="middle" x="3462" y="-710.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return setmetatable(color, colormt)</text>
<text text-anchor="middle" x="3462" y="-694.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3462" y="-679.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if x256_store[byte] then</text>
<text text-anchor="middle" x="3462" y="-663.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return x256_store[byte]</text>
<text text-anchor="middle" x="3462" y="-648.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3462" y="-633.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local color = make(byte)</text>
<text text-anchor="middle" x="3462" y="-617.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;x256_store[byte] = color</text>
<text text-anchor="middle" x="3462" y="-602.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return color</text>
<text text-anchor="middle" x="3462" y="-586.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3462" y="-571.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_51&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>codeblock_51&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3377.9168,-1666.4109C3384.7041,-1601.9945 3408.2873,-1378.1737 3428.7565,-1183.9057"/>
<polygon fill="#000000" stroke="#000000" points="3432.2541,-1184.1121 3429.8213,-1173.8003 3425.2926,-1183.3785 3432.2541,-1184.1121"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="2879.5,-63.0015 2772.5,-63.0015 2772.5,-7.1986 2879.5,-7.1986 2879.5,-63.0015"/>
<text text-anchor="middle" x="2826" y="-15.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">There are 512</text>
</g>
<!-- raw_53&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>raw_53&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2849.4764,-850.2218C2846.4636,-745.6152 2831.3245,-219.9728 2827.0976,-73.2096"/>
<polygon fill="#000000" stroke="#000000" points="2830.5877,-72.8107 2826.8011,-62.9157 2823.5906,-73.0123 2830.5877,-72.8107"/>
</g>
<!-- leaf_58 -->
<g id="node59" class="node">
<title>leaf_58</title>
<polygon fill="none" stroke="#c0c0c0" points="2952,-53.1 2898,-53.1 2898,-17.1 2952,-17.1 2952,-53.1"/>
<text text-anchor="middle" x="2925" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_54&#45;&gt;leaf_58 -->
<g id="edge58" class="edge">
<title>prespace_54&#45;&gt;leaf_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2940.6509,-850.2218C2938.5951,-743.1513 2928.0698,-194.9771 2925.5449,-63.48"/>
<polygon fill="#000000" stroke="#000000" points="2929.0427,-63.3278 2925.3513,-53.3968 2922.044,-63.4622 2929.0427,-63.3278"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="3024,-53.1 2970,-53.1 2970,-17.1 3024,-17.1 3024,-53.1"/>
<text text-anchor="middle" x="2997" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">xterm</text>
</g>
<!-- literal_55&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>literal_55&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3036.1273,-850.2218C3030.9878,-743.1513 3004.6744,-194.9771 2998.3623,-63.48"/>
<polygon fill="#000000" stroke="#000000" points="3001.8538,-63.2175 2997.8783,-53.3968 2994.8619,-63.5532 3001.8538,-63.2175"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="3184,-53.1 3042,-53.1 3042,-17.1 3184,-17.1 3184,-53.1"/>
<text text-anchor="middle" x="3113" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> colors available.</text>
</g>
<!-- raw_56&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>raw_56&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3113,-850.2218C3113,-743.1513 3113,-194.9771 3113,-63.48"/>
<polygon fill="#000000" stroke="#000000" points="3116.5001,-63.3968 3113,-53.3968 3109.5001,-63.3969 3116.5001,-63.3968"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="3736,-55.0021 3202,-55.0021 3202,-15.198 3736,-15.198 3736,-55.0021"/>
<text text-anchor="middle" x="3469" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">We memoize their creation, giving reference equality between these colors.</text>
</g>
<!-- raw_61&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>raw_61&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3183.1133,-850.1092C3172.7394,-745.7085 3126.4681,-225.6689 3221,-106.2001 3237.2872,-85.6164 3290.6442,-68.9771 3343.7135,-56.9851"/>
<polygon fill="#000000" stroke="#000000" points="3344.6001,-60.3737 3353.6104,-54.8001 3343.0909,-53.5383 3344.6001,-60.3737"/>
</g>
<!-- leaf_70 -->
<g id="node71" class="node">
<title>leaf_70</title>
<polygon fill="none" stroke="#c0c0c0" points="4430,-886.4014 4218,-886.4014 4218,-850.4014 4430,-850.4014 4430,-886.4014"/>
<text text-anchor="middle" x="4324" y="-864.9015" font-family="Inconsolata" font-size="14.00" fill="#000000">*** fg24(r,g,b), bg24(r,g,b)</text>
</g>
<!-- header_64&#45;&gt;leaf_70 -->
<g id="edge70" class="edge">
<title>header_64&#45;&gt;leaf_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4324,-1666.4109C4324,-1560.8198 4324,-1026.9139 4324,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="4327.5001,-896.6372 4324,-886.6372 4320.5001,-896.6373 4327.5001,-896.6372"/>
</g>
<!-- raw_71 -->
<g id="node72" class="node">
<title>raw_71</title>
<ellipse fill="none" stroke="#000000" cx="4480" cy="-868.4014" rx="27" ry="18"/>
<text text-anchor="middle" x="4480" y="-864.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_65&#45;&gt;raw_71 -->
<g id="edge71" class="edge">
<title>prose_65&#45;&gt;raw_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4484.8886,-1666.4109C4484.2417,-1560.8198 4480.971,-1026.9139 4480.1749,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="4483.673,-896.6156 4480.1117,-886.6372 4476.6731,-896.6585 4483.673,-896.6156"/>
</g>
<!-- raw_73 -->
<g id="node74" class="node">
<title>raw_73</title>
<ellipse fill="none" stroke="#000000" cx="4567" cy="-868.4014" rx="27" ry="18"/>
<text text-anchor="middle" x="4567" y="-864.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_66&#45;&gt;raw_73 -->
<g id="edge73" class="edge">
<title>prose_66&#45;&gt;raw_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4567,-1666.4109C4567,-1560.8198 4567,-1026.9139 4567,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="4570.5001,-896.6372 4567,-886.6372 4563.5001,-896.6373 4570.5001,-896.6372"/>
</g>
<!-- raw_75 -->
<g id="node76" class="node">
<title>raw_75</title>
<ellipse fill="none" stroke="#000000" cx="4654" cy="-868.4014" rx="27" ry="18"/>
<text text-anchor="middle" x="4654" y="-864.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_67&#45;&gt;raw_75 -->
<g id="edge75" class="edge">
<title>prose_67&#45;&gt;raw_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4649.1114,-1666.4109C4649.7583,-1560.8198 4653.029,-1026.9139 4653.8251,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="4657.3269,-896.6585 4653.8883,-886.6372 4650.327,-896.6156 4657.3269,-896.6585"/>
</g>
<!-- raw_77 -->
<g id="node78" class="node">
<title>raw_77</title>
<ellipse fill="none" stroke="#000000" cx="4731" cy="-868.4014" rx="27" ry="18"/>
<text text-anchor="middle" x="4731" y="-864.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_68&#45;&gt;raw_77 -->
<g id="edge77" class="edge">
<title>prose_68&#45;&gt;raw_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4731,-1666.4109C4731,-1560.8198 4731,-1026.9139 4731,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="4734.5001,-896.6372 4731,-886.6372 4727.5001,-896.6373 4734.5001,-896.6372"/>
</g>
<!-- leaf_79 -->
<g id="node80" class="node">
<title>leaf_79</title>
<polygon fill="none" stroke="#c0c0c0" points="5233.5,-1455.1033 4776.5,-1455.1033 4776.5,-281.6996 5233.5,-281.6996 5233.5,-1455.1033"/>
<text text-anchor="middle" x="5005" y="-1423.8023" font-family="Inconsolata" font-size="14.00" fill="#000000">local x24k = setmetatable({}, {__mode = &quot;v&quot;})</text>
<text text-anchor="middle" x="5005" y="-1392.4023" font-family="Inconsolata" font-size="14.00" fill="#000000">local fg24pre = schar(27) .. &quot;[38;2;&quot;</text>
<text text-anchor="middle" x="5005" y="-1361.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">local function fg24(r,g,b)</text>
<text text-anchor="middle" x="5005" y="-1345.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;byte_panic(r)</text>
<text text-anchor="middle" x="5005" y="-1330.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;byte_panic(g)</text>
<text text-anchor="middle" x="5005" y="-1314.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;byte_panic(b)</text>
<text text-anchor="middle" x="5005" y="-1299.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local color = { value = fg24pre</text>
<text text-anchor="middle" x="5005" y="-1284.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. r .. &quot;;&quot; .. g .. &quot;;&quot; .. b .. &quot;m&quot;,</text>
<text text-anchor="middle" x="5005" y="-1268.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kind = &quot;fg&quot; }</text>
<text text-anchor="middle" x="5005" y="-1253.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if x24k[color] then</text>
<text text-anchor="middle" x="5005" y="-1237.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return x24k[color]</text>
<text text-anchor="middle" x="5005" y="-1222.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="5005" y="-1207.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;x24k[color] = color</text>
<text text-anchor="middle" x="5005" y="-1191.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return setmetatable(color, colormt)</text>
<text text-anchor="middle" x="5005" y="-1176.2019" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5005" y="-1144.8019" font-family="Inconsolata" font-size="14.00" fill="#000000">local bg24pre = schar(27) .. &quot;[48;2;&quot;</text>
<text text-anchor="middle" x="5005" y="-1113.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">local function bg24(r,g,b)</text>
<text text-anchor="middle" x="5005" y="-1098.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;byte_panic(r)</text>
<text text-anchor="middle" x="5005" y="-1082.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;byte_panic(g)</text>
<text text-anchor="middle" x="5005" y="-1067.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;byte_panic(b)</text>
<text text-anchor="middle" x="5005" y="-1051.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local color = { value = bg24pre</text>
<text text-anchor="middle" x="5005" y="-1036.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. r .. &quot;;&quot; .. g .. &quot;;&quot; .. b .. &quot;m&quot;,</text>
<text text-anchor="middle" x="5005" y="-1021.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kind = &quot;bg&quot; }</text>
<text text-anchor="middle" x="5005" y="-1005.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if x24k[color] then</text>
<text text-anchor="middle" x="5005" y="-990.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return x24k[color]</text>
<text text-anchor="middle" x="5005" y="-974.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="5005" y="-959.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;x24k[color] = color</text>
<text text-anchor="middle" x="5005" y="-944.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return setmetatable(color, colormt)</text>
<text text-anchor="middle" x="5005" y="-928.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5005" y="-897.2014" font-family="Inconsolata" font-size="14.00" fill="#000000">anterm[&quot;fg&quot;], anterm[&quot;bg&quot;] = ansi_fg, ansi_bg</text>
<text text-anchor="middle" x="5005" y="-865.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">anterm[&quot;fg24&quot;], anterm[&quot;bg24&quot;] = fg24, bg24</text>
<text text-anchor="middle" x="5005" y="-834.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;&#45; Jumps</text>
<text text-anchor="middle" x="5005" y="-803.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">local jump = {}</text>
<text text-anchor="middle" x="5005" y="-771.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">jump.up = function(num)</text>
<text text-anchor="middle" x="5005" y="-756.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if not num then num = &quot;&quot; end</text>
<text text-anchor="middle" x="5005" y="-740.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return CSI..num..&quot;A&quot;</text>
<text text-anchor="middle" x="5005" y="-725.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5005" y="-694.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">jump.down = function(num)</text>
<text text-anchor="middle" x="5005" y="-678.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if not num then num = &quot;&quot; end</text>
<text text-anchor="middle" x="5005" y="-663.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return CSI..num..&quot;B&quot;</text>
<text text-anchor="middle" x="5005" y="-647.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5005" y="-616.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">jump.forward = function(num)</text>
<text text-anchor="middle" x="5005" y="-601.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if not num then num = &quot;&quot; end</text>
<text text-anchor="middle" x="5005" y="-585.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return CSI..num..&quot;C&quot;</text>
<text text-anchor="middle" x="5005" y="-570.201" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5005" y="-538.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">jump.back = function(num)</text>
<text text-anchor="middle" x="5005" y="-523.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if not num then num = &quot;&quot; end</text>
<text text-anchor="middle" x="5005" y="-508.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return CSI..num..&quot;D&quot;</text>
<text text-anchor="middle" x="5005" y="-492.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5005" y="-461.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">local function Jump(_,row,column)</text>
<text text-anchor="middle" x="5005" y="-445.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return CSI..row..&quot;;&quot;..column..&quot;H&quot;</text>
<text text-anchor="middle" x="5005" y="-430.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5005" y="-399.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">local J = { __call = Jump}</text>
<text text-anchor="middle" x="5005" y="-383.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">setmetatable(jump,J)</text>
<text text-anchor="middle" x="5005" y="-352.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">anterm[&quot;jump&quot;] = jump</text>
<text text-anchor="middle" x="5005" y="-320.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">function anterm.rc (row, column)</text>
<text text-anchor="middle" x="5005" y="-305.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return CSI .. row .. &quot;;&quot; .. column .. &quot;H&quot;</text>
<text text-anchor="middle" x="5005" y="-290.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_69&#45;&gt;leaf_79 -->
<g id="edge79" class="edge">
<title>codeblock_69&#45;&gt;leaf_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4938.5156,-1666.4109C4941.2855,-1633.1635 4947.5933,-1557.4521 4955.2743,-1465.257"/>
<polygon fill="#000000" stroke="#000000" points="4958.7769,-1465.3706 4956.1193,-1455.1146 4951.801,-1464.7894 4958.7769,-1465.3706"/>
</g>
<!-- leaf_72 -->
<g id="node73" class="node">
<title>leaf_72</title>
<polygon fill="none" stroke="#c0c0c0" points="4267.5,-63.0015 3754.5,-63.0015 3754.5,-7.1986 4267.5,-7.1986 4267.5,-63.0015"/>
<text text-anchor="middle" x="4011" y="-15.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">This state space is far too large to retain pointers to all colorizers.</text>
</g>
<!-- raw_71&#45;&gt;leaf_72 -->
<g id="edge72" class="edge">
<title>raw_71&#45;&gt;leaf_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4481.9269,-850.2688C4492.6328,-745.6506 4540.7338,-219.889 4439,-106.2001 4431.0321,-97.2958 4325.7848,-79.7472 4221.6643,-64.3129"/>
<polygon fill="#000000" stroke="#000000" points="4221.999,-60.8244 4211.595,-62.8262 4220.9765,-67.7494 4221.999,-60.8244"/>
</g>
<!-- leaf_74 -->
<g id="node75" class="node">
<title>leaf_74</title>
<polygon fill="none" stroke="#c0c0c0" points="4848,-62.4005 4286,-62.4005 4286,-7.7996 4848,-7.7996 4848,-62.4005"/>
<text text-anchor="middle" x="4567" y="-31.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">One might want to write a smooth transition, and would expect the colors to be</text>
<text text-anchor="middle" x="4567" y="-15.9" font-family="Inconsolata" font-size="14.00" fill="#000000">garbage collected after.</text>
</g>
<!-- raw_73&#45;&gt;leaf_74 -->
<g id="edge74" class="edge">
<title>raw_73&#45;&gt;leaf_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4567,-850.2218C4567,-745.4991 4567,-218.8054 4567,-72.7223"/>
<polygon fill="#000000" stroke="#000000" points="4570.5001,-72.4827 4567,-62.4827 4563.5001,-72.4828 4570.5001,-72.4827"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="5421.5,-70.3004 4866.5,-70.3004 4866.5,.1003 5421.5,.1003 5421.5,-70.3004"/>
<text text-anchor="middle" x="5144" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">Hence we memoize with a weak table. &#160;The only reliable way to achieve</text>
<text text-anchor="middle" x="5144" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">reference equality between instances of a 24 bit color is to retain a pointer</text>
<text text-anchor="middle" x="5144" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">to it.</text>
</g>
<!-- raw_75&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>raw_75&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4652.0601,-850.257C4641.2808,-745.5729 4592.8366,-219.5031 4695,-106.2001 4702.0044,-98.4319 4780.2239,-84.9025 4869.4678,-71.7165"/>
<polygon fill="#000000" stroke="#000000" points="4870.1627,-75.1521 4879.5476,-70.2354 4869.145,-68.2265 4870.1627,-75.1521"/>
</g>
<!-- leaf_78 -->
<g id="node79" class="node">
<title>leaf_78</title>
<polygon fill="none" stroke="#c0c0c0" points="5806,-55.0021 5440,-55.0021 5440,-15.198 5806,-15.198 5806,-55.0021"/>
<text text-anchor="middle" x="5623" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Happily, this is a requirement for any comparsion.</text>
</g>
<!-- raw_77&#45;&gt;leaf_78 -->
<g id="edge78" class="edge">
<title>raw_77&#45;&gt;leaf_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4728.7983,-850.4451C4716.3832,-745.7023 4659.4226,-214.5385 4767,-106.2001 4818.9828,-53.8496 5356.7298,-78.8174 5430,-70.2001 5458.7433,-66.8196 5489.6711,-61.8156 5518.1658,-56.6385"/>
<polygon fill="#000000" stroke="#000000" points="5518.9349,-60.0558 5528.1356,-54.8025 5517.6671,-53.1716 5518.9349,-60.0558"/>
</g>
<!-- leaf_83 -->
<g id="node84" class="node">
<title>leaf_83</title>
<polygon fill="none" stroke="#c0c0c0" points="5631.5,-886.4014 5398.5,-886.4014 5398.5,-850.4014 5631.5,-850.4014 5631.5,-886.4014"/>
<text text-anchor="middle" x="5515" y="-864.9015" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Miscellaneous term handling</text>
</g>
<!-- header_80&#45;&gt;leaf_83 -->
<g id="edge83" class="edge">
<title>header_80&#45;&gt;leaf_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5515,-1666.4109C5515,-1560.8198 5515,-1026.9139 5515,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="5518.5001,-896.6372 5515,-886.6372 5511.5001,-896.6373 5518.5001,-896.6372"/>
</g>
<!-- raw_84 -->
<g id="node85" class="node">
<title>raw_84</title>
<ellipse fill="none" stroke="#000000" cx="5702" cy="-868.4014" rx="27" ry="18"/>
<text text-anchor="middle" x="5702" y="-864.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_81&#45;&gt;raw_84 -->
<g id="edge84" class="edge">
<title>prose_81&#45;&gt;raw_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5700.0446,-1666.4109C5700.3033,-1560.8198 5701.6116,-1026.9139 5701.93,-896.9508"/>
<polygon fill="#000000" stroke="#000000" points="5705.4307,-896.6458 5701.9553,-886.6372 5698.4307,-896.6286 5705.4307,-896.6458"/>
</g>
<!-- leaf_86 -->
<g id="node87" class="node">
<title>leaf_86</title>
<polygon fill="none" stroke="#c0c0c0" points="5926.5,-950.2018 5749.5,-950.2018 5749.5,-786.6011 5926.5,-786.6011 5926.5,-950.2018"/>
<text text-anchor="middle" x="5838" y="-935.1015" font-family="Inconsolata" font-size="14.00" fill="#000000">function anterm.stash()</text>
<text text-anchor="middle" x="5838" y="-919.7015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return &quot;\0277&quot;</text>
<text text-anchor="middle" x="5838" y="-904.3015" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5838" y="-872.9015" font-family="Inconsolata" font-size="14.00" fill="#000000">function anterm.pop()</text>
<text text-anchor="middle" x="5838" y="-857.5014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return &quot;\0278&quot;</text>
<text text-anchor="middle" x="5838" y="-842.1014" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5838" y="-810.7014" font-family="Inconsolata" font-size="14.00" fill="#000000">return anterm</text>
</g>
<!-- codeblock_82&#45;&gt;leaf_86 -->
<g id="edge86" class="edge">
<title>codeblock_82&#45;&gt;leaf_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5838,-1666.4109C5838,-1573.6211 5838,-1150.0744 5838,-960.5472"/>
<polygon fill="#000000" stroke="#000000" points="5841.5001,-960.3271 5838,-950.3271 5834.5001,-960.3272 5841.5001,-960.3271"/>
</g>
<!-- leaf_85 -->
<g id="node86" class="node">
<title>leaf_85</title>
<polygon fill="none" stroke="#c0c0c0" points="5878,-53.1 5824,-53.1 5824,-17.1 5878,-17.1 5878,-53.1"/>
</g>
<!-- raw_84&#45;&gt;leaf_85 -->
<g id="edge85" class="edge">
<title>raw_84&#45;&gt;leaf_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5696.8626,-850.6234C5672.1898,-761.3538 5573.7196,-356.41 5740,-106.2001 5760.4649,-75.4056 5784.6967,-91.3855 5815,-70.2001 5819.2723,-67.2132 5823.5104,-63.7098 5827.4978,-60.0934"/>
<polygon fill="#000000" stroke="#000000" points="5829.9947,-62.5484 5834.7997,-53.1058 5825.155,-57.491 5829.9947,-62.5484"/>
</g>
</g>
</svg>
