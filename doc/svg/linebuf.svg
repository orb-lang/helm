<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="12253pt" height="1802pt"
 viewBox="0.00 0.00 12253.30 1801.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1797.8024)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1797.8024 12249.2972,-1797.8024 12249.2972,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="3545" cy="-1775.8024" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="3545" y="-1771.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 200</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="3545" cy="-1703.8024" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="3545" y="-1699.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;71</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3545,-1757.6338C3545,-1749.9334 3545,-1740.7767 3545,-1732.219"/>
<polygon fill="#000000" stroke="#000000" points="3548.5001,-1732.2156 3545,-1722.2157 3541.5001,-1732.2157 3548.5001,-1732.2156"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="1272" cy="-1631.8024" rx="51.319" ry="18"/>
<text text-anchor="middle" x="1272" y="-1627.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Linebuf</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3484.1262,-1703.0401C3152.0788,-1698.7835 1566.5105,-1677.1615 1350,-1649.8024 1341.1843,-1648.6884 1331.9067,-1647.0081 1322.9478,-1645.1138"/>
<polygon fill="#000000" stroke="#000000" points="1323.5314,-1641.6581 1313.0099,-1642.9029 1322.0112,-1648.4911 1323.5314,-1641.6581"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="1391" cy="-1631.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1391" y="-1627.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3484.2156,-1703.3985C3160.4939,-1701.0929 1646.0924,-1688.3124 1441,-1649.8024 1436.2084,-1648.9027 1431.2645,-1647.6074 1426.4354,-1646.1183"/>
<polygon fill="#000000" stroke="#000000" points="1427.3637,-1642.7377 1416.7695,-1642.8539 1425.1239,-1649.3697 1427.3637,-1642.7377"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="1482" cy="-1631.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1482" y="-1627.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3484.101,-1703.4507C3168.1198,-1701.4545 1722.4811,-1690.1676 1527,-1649.8024 1523.5158,-1649.083 1519.955,-1648.1101 1516.438,-1646.9873"/>
<polygon fill="#000000" stroke="#000000" points="1517.3363,-1643.5913 1506.7418,-1643.5113 1514.9741,-1650.1807 1517.3363,-1643.5913"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="1568" cy="-1631.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1568" y="-1627.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3484.4816,-1701.5984C3184.901,-1690.688 1864.896,-1642.615 1610.5064,-1633.3504"/>
<polygon fill="#000000" stroke="#000000" points="1610.3311,-1629.8418 1600.2103,-1632.9755 1610.0763,-1636.8372 1610.3311,-1629.8418"/>
</g>
<!-- prose_6 -->
<g id="node7" class="node">
<title>prose_6</title>
<ellipse fill="none" stroke="#000000" cx="3073" cy="-1631.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3073" y="-1627.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;prose_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3490.8556,-1695.5431C3395.5505,-1681.005 3199.8483,-1651.1521 3114.4217,-1638.121"/>
<polygon fill="#000000" stroke="#000000" points="3114.7368,-1634.6286 3104.3233,-1636.5805 3113.6811,-1641.5486 3114.7368,-1634.6286"/>
</g>
<!-- prose_7 -->
<g id="node8" class="node">
<title>prose_7</title>
<ellipse fill="none" stroke="#000000" cx="3663" cy="-1631.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3663" y="-1627.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;prose_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3571.776,-1687.4645C3589.7742,-1676.4825 3613.5436,-1661.9792 3632.307,-1650.5304"/>
<polygon fill="#000000" stroke="#000000" points="3634.3553,-1653.3806 3641.0687,-1645.1842 3630.7093,-1647.4052 3634.3553,-1653.3806"/>
</g>
<!-- prose_8 -->
<g id="node9" class="node">
<title>prose_8</title>
<ellipse fill="none" stroke="#000000" cx="4752" cy="-1631.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4752" y="-1627.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;prose_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3604.8553,-1700.2319C3816.7122,-1687.5942 4528.0213,-1645.1632 4709.5471,-1634.3348"/>
<polygon fill="#000000" stroke="#000000" points="4709.9826,-1637.8151 4719.7564,-1633.7258 4709.5657,-1630.8276 4709.9826,-1637.8151"/>
</g>
<!-- prose_9 -->
<g id="node10" class="node">
<title>prose_9</title>
<ellipse fill="none" stroke="#000000" cx="5007" cy="-1631.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5007" y="-1627.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;prose_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3605.7595,-1702.0496C3786.6007,-1696.6443 4337.1417,-1678.8243 4793,-1649.8024 4852.8114,-1645.9946 4921.8851,-1639.8717 4965.007,-1635.8425"/>
<polygon fill="#000000" stroke="#000000" points="4965.4962,-1639.312 4975.1245,-1634.891 4964.8407,-1632.3428 4965.4962,-1639.312"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="7134" cy="-1631.8024" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="7134" y="-1627.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 27&#45;71</text>
</g>
<!-- section_1&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3605.7879,-1702.5829C4033.2655,-1694.0072 6584.4436,-1642.8272 7058.2876,-1633.3213"/>
<polygon fill="#000000" stroke="#000000" points="7058.5073,-1636.8177 7068.435,-1633.1177 7058.3668,-1629.8191 7058.5073,-1636.8177"/>
</g>
<!-- section_11 -->
<g id="node12" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="8885" cy="-1631.8024" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="8885" y="-1627.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 72&#45;82</text>
</g>
<!-- section_1&#45;&gt;section_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;section_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3605.8907,-1702.9814C4152.0683,-1695.6172 8202.3749,-1641.0063 8809.0495,-1632.8265"/>
<polygon fill="#000000" stroke="#000000" points="8809.4644,-1636.3213 8819.4162,-1632.6867 8809.3699,-1629.3219 8809.4644,-1636.3213"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="1211.5,-1577.8024 1132.5,-1577.8024 1132.5,-1541.8024 1211.5,-1541.8024 1211.5,-1577.8024"/>
<text text-anchor="middle" x="1172" y="-1556.3024" font-family="Inconsolata" font-size="14.00" fill="#000000">* Linebuf</text>
</g>
<!-- header_2&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>header_2&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1249.3085,-1615.4645C1236.3022,-1606.1 1219.7398,-1594.175 1205.2839,-1583.7668"/>
<polygon fill="#000000" stroke="#000000" points="1207.2193,-1580.8475 1197.0588,-1577.8447 1203.1291,-1586.5282 1207.2193,-1580.8475"/>
</g>
<!-- raw_13 -->
<g id="node14" class="node">
<title>raw_13</title>
<ellipse fill="none" stroke="#000000" cx="1257" cy="-1559.8024" rx="27" ry="18"/>
<text text-anchor="middle" x="1257" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_13 -->
<g id="edge13" class="edge">
<title>prose_3&#45;&gt;raw_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1367.659,-1619.261C1345.3184,-1607.2571 1311.507,-1589.0898 1287.1397,-1575.9969"/>
<polygon fill="#000000" stroke="#000000" points="1288.7723,-1572.9009 1278.3067,-1571.2508 1285.4591,-1579.0671 1288.7723,-1572.9009"/>
</g>
<!-- raw_15 -->
<g id="node16" class="node">
<title>raw_15</title>
<ellipse fill="none" stroke="#000000" cx="1329" cy="-1559.8024" rx="27" ry="18"/>
<text text-anchor="middle" x="1329" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_15 -->
<g id="edge15" class="edge">
<title>prose_4&#45;&gt;raw_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1456.7882,-1620.441C1433.0209,-1609.6657 1396.4552,-1592.9206 1365,-1577.8024 1363.2523,-1576.9624 1361.4605,-1576.093 1359.6546,-1575.2105"/>
<polygon fill="#000000" stroke="#000000" points="1361.1642,-1572.0525 1350.6481,-1570.7634 1358.065,-1578.3291 1361.1642,-1572.0525"/>
</g>
<!-- raw_17 -->
<g id="node18" class="node">
<title>raw_17</title>
<ellipse fill="none" stroke="#000000" cx="1401" cy="-1559.8024" rx="27" ry="18"/>
<text text-anchor="middle" x="1401" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_17 -->
<g id="edge17" class="edge">
<title>prose_5&#45;&gt;raw_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1541.7249,-1621.235C1509.3823,-1608.1814 1456.3652,-1586.6209 1437,-1577.8024 1435.2353,-1576.9988 1433.4301,-1576.1579 1431.6141,-1575.2972"/>
<polygon fill="#000000" stroke="#000000" points="1433.1037,-1572.1298 1422.5793,-1570.9104 1430.0462,-1578.4268 1433.1037,-1572.1298"/>
</g>
<!-- link_18 -->
<g id="node19" class="node">
<title>link_18</title>
<ellipse fill="none" stroke="#000000" cx="1473" cy="-1559.8024" rx="27" ry="18"/>
<text text-anchor="middle" x="1473" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">link</text>
</g>
<!-- prose_5&#45;&gt;link_18 -->
<g id="edge18" class="edge">
<title>prose_5&#45;&gt;link_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1548.7753,-1617.2321C1534.5026,-1606.4149 1514.8748,-1591.5391 1499.1718,-1579.6379"/>
<polygon fill="#000000" stroke="#000000" points="1500.9944,-1576.6276 1490.9106,-1573.3768 1496.7663,-1582.2064 1500.9944,-1576.6276"/>
</g>
<!-- raw_19 -->
<g id="node20" class="node">
<title>raw_19</title>
<ellipse fill="none" stroke="#000000" cx="1616" cy="-1559.8024" rx="27" ry="18"/>
<text text-anchor="middle" x="1616" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_19 -->
<g id="edge19" class="edge">
<title>prose_5&#45;&gt;raw_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1579.3753,-1614.7394C1585.2336,-1605.952 1592.4948,-1595.0603 1599.0029,-1585.298"/>
<polygon fill="#000000" stroke="#000000" points="1602.0715,-1587.0049 1604.7063,-1576.7429 1596.2471,-1583.122 1602.0715,-1587.0049"/>
</g>
<!-- raw_26 -->
<g id="node27" class="node">
<title>raw_26</title>
<ellipse fill="none" stroke="#000000" cx="2198" cy="-1559.8024" rx="27" ry="18"/>
<text text-anchor="middle" x="2198" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_26 -->
<g id="edge26" class="edge">
<title>prose_6&#45;&gt;raw_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3040.3991,-1631.5616C2931.1944,-1630.339 2568.5197,-1622.9107 2273,-1577.8024 2259.8662,-1575.7976 2245.647,-1572.643 2233.1567,-1569.531"/>
<polygon fill="#000000" stroke="#000000" points="2233.6898,-1566.0543 2223.1332,-1566.9531 2231.9462,-1572.8337 2233.6898,-1566.0543"/>
</g>
<!-- prespace_27 -->
<g id="node28" class="node">
<title>prespace_27</title>
<ellipse fill="none" stroke="#000000" cx="2328" cy="-1559.8024" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2328" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_6&#45;&gt;prespace_27 -->
<g id="edge27" class="edge">
<title>prose_6&#45;&gt;prespace_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3040.7031,-1630.0105C2946.8801,-1624.6027 2666.3227,-1606.9988 2435,-1577.8024 2417.0336,-1575.5348 2397.4721,-1572.432 2380.047,-1569.441"/>
<polygon fill="#000000" stroke="#000000" points="2380.5151,-1565.9699 2370.0625,-1567.7 2379.3126,-1572.8658 2380.5151,-1565.9699"/>
</g>
<!-- literal_28 -->
<g id="node29" class="node">
<title>literal_28</title>
<ellipse fill="none" stroke="#000000" cx="2475" cy="-1559.8024" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2475" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_6&#45;&gt;literal_28 -->
<g id="edge28" class="edge">
<title>prose_6&#45;&gt;literal_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3040.6972,-1629.7596C2958.9635,-1624.3042 2737.4659,-1607.7343 2555,-1577.8024 2541.4763,-1575.584 2526.8111,-1572.4887 2513.7752,-1569.4897"/>
<polygon fill="#000000" stroke="#000000" points="2514.2588,-1566.0079 2503.7229,-1567.1238 2512.655,-1572.8218 2514.2588,-1566.0079"/>
</g>
<!-- raw_29 -->
<g id="node30" class="node">
<title>raw_29</title>
<ellipse fill="none" stroke="#000000" cx="2591" cy="-1559.8024" rx="27" ry="18"/>
<text text-anchor="middle" x="2591" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_29 -->
<g id="edge29" class="edge">
<title>prose_6&#45;&gt;raw_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3041.0908,-1629.0566C2971.3278,-1622.7443 2800.1748,-1605.5739 2659,-1577.8024 2648.0126,-1575.641 2636.1721,-1572.7186 2625.4992,-1569.8577"/>
<polygon fill="#000000" stroke="#000000" points="2626.2604,-1566.4372 2615.6903,-1567.1605 2624.4044,-1573.1866 2626.2604,-1566.4372"/>
</g>
<!-- prespace_30 -->
<g id="node31" class="node">
<title>prespace_30</title>
<ellipse fill="none" stroke="#000000" cx="2714" cy="-1559.8024" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2714" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_6&#45;&gt;prespace_30 -->
<g id="edge30" class="edge">
<title>prose_6&#45;&gt;prespace_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3041.2991,-1627.5881C2985.8258,-1619.8955 2867.7456,-1602.1042 2770,-1577.8024 2766.2062,-1576.8592 2762.2948,-1575.7955 2758.3857,-1574.6686"/>
<polygon fill="#000000" stroke="#000000" points="2759.3266,-1571.2968 2748.7423,-1571.7694 2757.3112,-1578.0004 2759.3266,-1571.2968"/>
</g>
<!-- literal_31 -->
<g id="node32" class="node">
<title>literal_31</title>
<ellipse fill="none" stroke="#000000" cx="2810" cy="-1559.8024" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2810" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_6&#45;&gt;literal_31 -->
<g id="edge31" class="edge">
<title>prose_6&#45;&gt;literal_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3042.1894,-1626.2211C2998.6847,-1617.9192 2917.074,-1600.7932 2850,-1577.8024 2847.8929,-1577.0802 2845.7451,-1576.288 2843.5934,-1575.4513"/>
<polygon fill="#000000" stroke="#000000" points="2844.8272,-1572.1739 2834.2492,-1571.5765 2842.1459,-1578.6401 2844.8272,-1572.1739"/>
</g>
<!-- raw_32 -->
<g id="node33" class="node">
<title>raw_32</title>
<ellipse fill="none" stroke="#000000" cx="2886" cy="-1559.8024" rx="27" ry="18"/>
<text text-anchor="middle" x="2886" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_32 -->
<g id="edge32" class="edge">
<title>prose_6&#45;&gt;raw_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3044.7815,-1622.8396C3014.1521,-1612.851 2963.9919,-1595.7321 2922,-1577.8024 2920.2167,-1577.041 2918.3969,-1576.2331 2916.5697,-1575.3978"/>
<polygon fill="#000000" stroke="#000000" points="2918.0375,-1572.2202 2907.504,-1571.081 2915.028,-1578.5403 2918.0375,-1572.2202"/>
</g>
<!-- prespace_33 -->
<g id="node34" class="node">
<title>prespace_33</title>
<ellipse fill="none" stroke="#000000" cx="2977" cy="-1559.8024" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2977" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_6&#45;&gt;prespace_33 -->
<g id="edge33" class="edge">
<title>prose_6&#45;&gt;prespace_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3053.573,-1617.2321C3040.0746,-1607.1083 3021.8362,-1593.4296 3006.5453,-1581.9614"/>
<polygon fill="#000000" stroke="#000000" points="3008.5024,-1579.0542 2998.4024,-1575.8542 3004.3024,-1584.6543 3008.5024,-1579.0542"/>
</g>
<!-- literal_34 -->
<g id="node35" class="node">
<title>literal_34</title>
<ellipse fill="none" stroke="#000000" cx="3073" cy="-1559.8024" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3073" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_6&#45;&gt;literal_34 -->
<g id="edge34" class="edge">
<title>prose_6&#45;&gt;literal_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3073,-1613.6338C3073,-1605.9334 3073,-1596.7767 3073,-1588.219"/>
<polygon fill="#000000" stroke="#000000" points="3076.5001,-1588.2156 3073,-1578.2157 3069.5001,-1588.2157 3076.5001,-1588.2156"/>
</g>
<!-- raw_35 -->
<g id="node36" class="node">
<title>raw_35</title>
<ellipse fill="none" stroke="#000000" cx="3149" cy="-1559.8024" rx="27" ry="18"/>
<text text-anchor="middle" x="3149" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_35 -->
<g id="edge35" class="edge">
<title>prose_6&#45;&gt;raw_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3089.4909,-1616.1795C3100.1629,-1606.0692 3114.2097,-1592.7616 3125.976,-1581.6146"/>
<polygon fill="#000000" stroke="#000000" points="3128.468,-1584.075 3133.3204,-1574.6567 3123.6538,-1578.9934 3128.468,-1584.075"/>
</g>
<!-- prespace_36 -->
<g id="node37" class="node">
<title>prespace_36</title>
<ellipse fill="none" stroke="#000000" cx="3243" cy="-1559.8024" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="3243" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_6&#45;&gt;prespace_36 -->
<g id="edge36" class="edge">
<title>prose_6&#45;&gt;prespace_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3098.8193,-1620.8672C3126.1768,-1609.2805 3169.7714,-1590.8169 3201.869,-1577.2226"/>
<polygon fill="#000000" stroke="#000000" points="3203.5873,-1580.2959 3211.4305,-1573.173 3200.8573,-1573.8502 3203.5873,-1580.2959"/>
</g>
<!-- literal_37 -->
<g id="node38" class="node">
<title>literal_37</title>
<ellipse fill="none" stroke="#000000" cx="3341" cy="-1559.8024" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3341" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_6&#45;&gt;literal_37 -->
<g id="edge37" class="edge">
<title>prose_6&#45;&gt;literal_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3103.638,-1626.0786C3147.3432,-1617.5481 3229.8437,-1600.086 3298,-1577.8024 3300.9062,-1576.8522 3303.8912,-1575.7904 3306.8684,-1574.6707"/>
<polygon fill="#000000" stroke="#000000" points="3308.2332,-1577.8948 3316.2453,-1570.9624 3305.6589,-1571.3853 3308.2332,-1577.8948"/>
</g>
<!-- raw_38 -->
<g id="node39" class="node">
<title>raw_38</title>
<ellipse fill="none" stroke="#000000" cx="3420" cy="-1559.8024" rx="27" ry="18"/>
<text text-anchor="middle" x="3420" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_38 -->
<g id="edge38" class="edge">
<title>prose_6&#45;&gt;raw_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3105.1243,-1628.9329C3161.8613,-1623.2601 3283.0696,-1608.4163 3381,-1577.8024 3383.7358,-1576.9472 3386.5293,-1575.943 3389.3014,-1574.8538"/>
<polygon fill="#000000" stroke="#000000" points="3390.7053,-1578.0601 3398.5296,-1570.9165 3387.9582,-1571.6217 3390.7053,-1578.0601"/>
</g>
<!-- prespace_39 -->
<g id="node40" class="node">
<title>prespace_39</title>
<ellipse fill="none" stroke="#000000" cx="3516" cy="-1559.8024" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="3516" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_6&#45;&gt;prespace_39 -->
<g id="edge39" class="edge">
<title>prose_6&#45;&gt;prespace_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3105.0679,-1628.9375C3171.2282,-1622.6646 3327.4363,-1605.9803 3456,-1577.8024 3460.7306,-1576.7656 3465.631,-1575.5448 3470.4989,-1574.2354"/>
<polygon fill="#000000" stroke="#000000" points="3471.7029,-1577.5326 3480.3805,-1571.454 3469.8063,-1570.7945 3471.7029,-1577.5326"/>
</g>
<!-- literal_40 -->
<g id="node41" class="node">
<title>literal_40</title>
<ellipse fill="none" stroke="#000000" cx="3614" cy="-1559.8024" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3614" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_6&#45;&gt;literal_40 -->
<g id="edge40" class="edge">
<title>prose_6&#45;&gt;literal_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3105.1775,-1629.5305C3200.7903,-1622.588 3482.0495,-1600.7263 3571,-1577.8024 3574.1348,-1576.9945 3577.3397,-1575.9997 3580.5164,-1574.896"/>
<polygon fill="#000000" stroke="#000000" points="3581.7635,-1578.1663 3589.8631,-1571.3365 3579.2722,-1571.6246 3581.7635,-1578.1663"/>
</g>
<!-- raw_41 -->
<g id="node42" class="node">
<title>raw_41</title>
<ellipse fill="none" stroke="#000000" cx="3696" cy="-1559.8024" rx="27" ry="18"/>
<text text-anchor="middle" x="3696" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_41 -->
<g id="edge41" class="edge">
<title>prose_6&#45;&gt;raw_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3105.1818,-1630.1343C3211.1765,-1624.4333 3548.575,-1604.5854 3654,-1577.8024 3657.5945,-1576.8892 3661.2769,-1575.7093 3664.8951,-1574.3905"/>
<polygon fill="#000000" stroke="#000000" points="3666.2325,-1577.6252 3674.2186,-1570.663 3663.6338,-1571.1254 3666.2325,-1577.6252"/>
</g>
<!-- raw_58 -->
<g id="node59" class="node">
<title>raw_58</title>
<ellipse fill="none" stroke="#000000" cx="3899" cy="-1559.8024" rx="27" ry="18"/>
<text text-anchor="middle" x="3899" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_7&#45;&gt;raw_58 -->
<g id="edge58" class="edge">
<title>prose_7&#45;&gt;raw_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3691.4671,-1623.1175C3734.9829,-1609.8415 3817.9078,-1584.5424 3864.6845,-1570.2715"/>
<polygon fill="#000000" stroke="#000000" points="3865.8242,-1573.5832 3874.3676,-1567.3174 3863.7815,-1566.8878 3865.8242,-1573.5832"/>
</g>
<!-- raw_60 -->
<g id="node61" class="node">
<title>raw_60</title>
<ellipse fill="none" stroke="#000000" cx="4426" cy="-1559.8024" rx="27" ry="18"/>
<text text-anchor="middle" x="4426" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_8&#45;&gt;raw_60 -->
<g id="edge60" class="edge">
<title>prose_8&#45;&gt;raw_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4721.6841,-1625.5872C4674.2941,-1615.8082 4579.8189,-1596.0585 4500,-1577.8024 4487.3124,-1574.9005 4473.4407,-1571.5689 4461.1715,-1568.5671"/>
<polygon fill="#000000" stroke="#000000" points="4461.85,-1565.1297 4451.3034,-1566.1398 4460.178,-1571.9271 4461.85,-1565.1297"/>
</g>
<!-- prespace_61 -->
<g id="node62" class="node">
<title>prespace_61</title>
<ellipse fill="none" stroke="#000000" cx="4555" cy="-1559.8024" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4555" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_8&#45;&gt;prespace_61 -->
<g id="edge61" class="edge">
<title>prose_8&#45;&gt;prespace_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4725.0211,-1621.9421C4692.3803,-1610.0125 4637.0057,-1589.774 4598.3508,-1575.6463"/>
<polygon fill="#000000" stroke="#000000" points="4599.5014,-1572.3405 4588.9075,-1572.195 4597.0984,-1578.9151 4599.5014,-1572.3405"/>
</g>
<!-- literal_62 -->
<g id="node63" class="node">
<title>literal_62</title>
<ellipse fill="none" stroke="#000000" cx="4701" cy="-1559.8024" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4701" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_8&#45;&gt;literal_62 -->
<g id="edge62" class="edge">
<title>prose_8&#45;&gt;literal_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4739.9137,-1614.7394C4733.6258,-1605.8624 4725.8167,-1594.8378 4718.8479,-1584.9995"/>
<polygon fill="#000000" stroke="#000000" points="4721.6358,-1582.8801 4712.9995,-1576.7429 4715.9237,-1586.9263 4721.6358,-1582.8801"/>
</g>
<!-- raw_63 -->
<g id="node64" class="node">
<title>raw_63</title>
<ellipse fill="none" stroke="#000000" cx="4790" cy="-1559.8024" rx="27" ry="18"/>
<text text-anchor="middle" x="4790" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_8&#45;&gt;raw_63 -->
<g id="edge63" class="edge">
<title>prose_8&#45;&gt;raw_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4761.1987,-1614.3732C4765.6797,-1605.8831 4771.1621,-1595.4953 4776.1366,-1586.0698"/>
<polygon fill="#000000" stroke="#000000" points="4779.3137,-1587.5486 4780.886,-1577.0711 4773.123,-1584.2813 4779.3137,-1587.5486"/>
</g>
<!-- prespace_64 -->
<g id="node65" class="node">
<title>prespace_64</title>
<ellipse fill="none" stroke="#000000" cx="4912" cy="-1559.8024" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4912" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_8&#45;&gt;prespace_64 -->
<g id="edge64" class="edge">
<title>prose_8&#45;&gt;prespace_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4777.3525,-1620.3938C4802.8756,-1608.9084 4842.6141,-1591.0261 4872.3152,-1577.6605"/>
<polygon fill="#000000" stroke="#000000" points="4873.8921,-1580.7891 4881.575,-1573.4936 4871.0195,-1574.4056 4873.8921,-1580.7891"/>
</g>
<!-- literal_65 -->
<g id="node66" class="node">
<title>literal_65</title>
<ellipse fill="none" stroke="#000000" cx="5039" cy="-1559.8024" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5039" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_8&#45;&gt;literal_65 -->
<g id="edge65" class="edge">
<title>prose_8&#45;&gt;literal_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4781.6331,-1624.3683C4833.7843,-1611.2851 4941.9344,-1584.1534 5000.0514,-1569.5735"/>
<polygon fill="#000000" stroke="#000000" points="5001.1078,-1572.917 5009.9556,-1567.0888 4999.4045,-1566.1274 5001.1078,-1572.917"/>
</g>
<!-- raw_66 -->
<g id="node67" class="node">
<title>raw_66</title>
<ellipse fill="none" stroke="#000000" cx="5219" cy="-1559.8024" rx="27" ry="18"/>
<text text-anchor="middle" x="5219" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_8&#45;&gt;raw_66 -->
<g id="edge66" class="edge">
<title>prose_8&#45;&gt;raw_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4783.3663,-1626.9665C4866.7745,-1614.107 5093.7297,-1579.116 5182.6105,-1565.4128"/>
<polygon fill="#000000" stroke="#000000" points="5183.1512,-1568.8709 5192.5011,-1563.8879 5182.0845,-1561.9526 5183.1512,-1568.8709"/>
</g>
<!-- raw_74 -->
<g id="node75" class="node">
<title>raw_74</title>
<ellipse fill="none" stroke="#000000" cx="5530" cy="-1559.8024" rx="27" ry="18"/>
<text text-anchor="middle" x="5530" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_9&#45;&gt;raw_74 -->
<g id="edge74" class="edge">
<title>prose_9&#45;&gt;raw_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5038.5382,-1627.4606C5130.1634,-1614.8468 5395.9988,-1578.25 5493.5506,-1564.8203"/>
<polygon fill="#000000" stroke="#000000" points="5494.0981,-1568.278 5503.5273,-1563.4468 5493.1434,-1561.3434 5494.0981,-1568.278"/>
</g>
<!-- header_76 -->
<g id="node77" class="node">
<title>header_76</title>
<ellipse fill="none" stroke="#000000" cx="6211" cy="-1559.8024" rx="78.8574" ry="18"/>
<text text-anchor="middle" x="6211" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Instance fields</text>
</g>
<!-- section_10&#45;&gt;header_76 -->
<g id="edge76" class="edge">
<title>section_10&#45;&gt;header_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7069.7371,-1627.8666C6940.01,-1619.7688 6637.5835,-1600.1179 6384,-1577.8024 6353.9975,-1575.1622 6321.1129,-1571.8469 6292.1461,-1568.7834"/>
<polygon fill="#000000" stroke="#000000" points="6292.389,-1565.2896 6282.0748,-1567.7119 6291.6483,-1572.2503 6292.389,-1565.2896"/>
</g>
<!-- prose_77 -->
<g id="node78" class="node">
<title>prose_77</title>
<ellipse fill="none" stroke="#000000" cx="6425" cy="-1559.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6425" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_77 -->
<g id="edge77" class="edge">
<title>section_10&#45;&gt;prose_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7072.3212,-1625.5388C6931.0422,-1611.1917 6586.9565,-1576.2493 6467.0455,-1564.0722"/>
<polygon fill="#000000" stroke="#000000" points="6467.1151,-1560.5613 6456.8127,-1563.033 6466.4079,-1567.5255 6467.1151,-1560.5613"/>
</g>
<!-- prose_78 -->
<g id="node79" class="node">
<title>prose_78</title>
<ellipse fill="none" stroke="#000000" cx="6996" cy="-1559.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6996" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_78 -->
<g id="edge78" class="edge">
<title>section_10&#45;&gt;prose_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7103.3733,-1615.8233C7081.1799,-1604.2441 7051.2205,-1588.6131 7028.5872,-1576.8044"/>
<polygon fill="#000000" stroke="#000000" points="7030.1736,-1573.6844 7019.6887,-1572.1617 7026.9356,-1579.8905 7030.1736,-1573.6844"/>
</g>
<!-- prose_79 -->
<g id="node80" class="node">
<title>prose_79</title>
<ellipse fill="none" stroke="#000000" cx="7134" cy="-1559.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7134" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_79 -->
<g id="edge79" class="edge">
<title>section_10&#45;&gt;prose_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7134,-1613.6338C7134,-1605.9334 7134,-1596.7767 7134,-1588.219"/>
<polygon fill="#000000" stroke="#000000" points="7137.5001,-1588.2156 7134,-1578.2157 7130.5001,-1588.2157 7137.5001,-1588.2156"/>
</g>
<!-- prose_80 -->
<g id="node81" class="node">
<title>prose_80</title>
<ellipse fill="none" stroke="#000000" cx="7216" cy="-1559.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7216" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_80 -->
<g id="edge80" class="edge">
<title>section_10&#45;&gt;prose_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7153.8499,-1614.3732C7164.9412,-1604.6345 7178.8761,-1592.399 7190.7387,-1581.9831"/>
<polygon fill="#000000" stroke="#000000" points="7193.3546,-1584.3439 7198.5597,-1575.1158 7188.736,-1579.0838 7193.3546,-1584.3439"/>
</g>
<!-- codeblock_81 -->
<g id="node82" class="node">
<title>codeblock_81</title>
<ellipse fill="none" stroke="#000000" cx="7407" cy="-1559.8024" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="7407" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 41&#45;44</text>
</g>
<!-- section_10&#45;&gt;codeblock_81 -->
<g id="edge81" class="edge">
<title>section_10&#45;&gt;codeblock_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7181.553,-1619.261C7227.0015,-1607.2745 7295.7516,-1589.1426 7345.3791,-1576.0541"/>
<polygon fill="#000000" stroke="#000000" points="7346.5731,-1579.3589 7355.3499,-1573.4244 7344.788,-1572.5904 7346.5731,-1579.3589"/>
</g>
<!-- codeblock_82 -->
<g id="node83" class="node">
<title>codeblock_82</title>
<ellipse fill="none" stroke="#000000" cx="7682" cy="-1559.8024" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="7682" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 46&#45;48</text>
</g>
<!-- section_10&#45;&gt;codeblock_82 -->
<g id="edge82" class="edge">
<title>section_10&#45;&gt;codeblock_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7193.4273,-1623.9944C7292.978,-1610.9148 7493.3967,-1584.5824 7604.0994,-1570.0375"/>
<polygon fill="#000000" stroke="#000000" points="7604.7403,-1573.4835 7614.1992,-1568.7105 7603.8284,-1566.5431 7604.7403,-1573.4835"/>
</g>
<!-- codeblock_83 -->
<g id="node84" class="node">
<title>codeblock_83</title>
<ellipse fill="none" stroke="#000000" cx="7947" cy="-1559.8024" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="7947" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 50&#45;69</text>
</g>
<!-- section_10&#45;&gt;codeblock_83 -->
<g id="edge83" class="edge">
<title>section_10&#45;&gt;codeblock_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7197.4699,-1626.7188C7311.6581,-1617.5011 7559.285,-1597.1838 7768,-1577.8024 7799.9922,-1574.8316 7835.177,-1571.3418 7865.8227,-1568.2298"/>
<polygon fill="#000000" stroke="#000000" points="7866.4365,-1571.6855 7876.0303,-1567.1903 7865.7272,-1564.7215 7866.4365,-1571.6855"/>
</g>
<!-- header_108 -->
<g id="node109" class="node">
<title>header_108</title>
<ellipse fill="none" stroke="#000000" cx="8411" cy="-1559.8024" rx="127.6874" ry="18"/>
<text text-anchor="middle" x="8411" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Linebuf.insert(linebuf, frag)</text>
</g>
<!-- section_11&#45;&gt;header_108 -->
<g id="edge108" class="edge">
<title>section_11&#45;&gt;header_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8827.3522,-1623.0458C8748.0018,-1610.9926 8604.0544,-1589.1271 8507.9751,-1574.5328"/>
<polygon fill="#000000" stroke="#000000" points="8508.3716,-1571.053 8497.9594,-1573.0114 8507.3203,-1577.9736 8508.3716,-1571.053"/>
</g>
<!-- prose_109 -->
<g id="node110" class="node">
<title>prose_109</title>
<ellipse fill="none" stroke="#000000" cx="8676" cy="-1559.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8676" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_109 -->
<g id="edge109" class="edge">
<title>section_11&#45;&gt;prose_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8843.7083,-1617.5775C8805.7582,-1604.5038 8749.9932,-1585.2929 8713.3454,-1572.6678"/>
<polygon fill="#000000" stroke="#000000" points="8714.1411,-1569.2401 8703.5464,-1569.2921 8711.8611,-1575.8584 8714.1411,-1569.2401"/>
</g>
<!-- prose_110 -->
<g id="node111" class="node">
<title>prose_110</title>
<ellipse fill="none" stroke="#000000" cx="9094" cy="-1559.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9094" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_110 -->
<g id="edge110" class="edge">
<title>section_11&#45;&gt;prose_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8926.2917,-1617.5775C8964.2418,-1604.5038 9020.0068,-1585.2929 9056.6546,-1572.6678"/>
<polygon fill="#000000" stroke="#000000" points="9058.1389,-1575.8584 9066.4536,-1569.2921 9055.8589,-1569.2401 9058.1389,-1575.8584"/>
</g>
<!-- prose_111 -->
<g id="node112" class="node">
<title>prose_111</title>
<ellipse fill="none" stroke="#000000" cx="9433" cy="-1559.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9433" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_111 -->
<g id="edge111" class="edge">
<title>section_11&#45;&gt;prose_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8944.4273,-1623.9944C9056.1754,-1609.3122 9295.0233,-1577.9307 9391.3996,-1565.2682"/>
<polygon fill="#000000" stroke="#000000" points="9391.8953,-1568.7332 9401.3541,-1563.9603 9390.9834,-1561.7928 9391.8953,-1568.7332"/>
</g>
<!-- section_112 -->
<g id="node113" class="node">
<title>section_112</title>
<ellipse fill="none" stroke="#000000" cx="11004" cy="-1559.8024" rx="70.655" ry="18"/>
<text text-anchor="middle" x="11004" y="-1555.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 83&#45;200</text>
</g>
<!-- section_11&#45;&gt;section_112 -->
<g id="edge112" class="edge">
<title>section_11&#45;&gt;section_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8950.4485,-1629.5786C9260.8457,-1619.0318 10583.6656,-1574.0846 10923.9342,-1562.5229"/>
<polygon fill="#000000" stroke="#000000" points="10924.0768,-1566.0202 10933.9521,-1562.1825 10923.839,-1559.0242 10924.0768,-1566.0202"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="548,-1405.6025 0,-1405.6025 0,-1319.0019 548,-1319.0019 548,-1405.6025"/>
<text text-anchor="middle" x="274" y="-1342.5022" font-family="Inconsolata" font-size="14.00" fill="#000000">Rather than derive this from [[espalier&#39;s Phrase class][@/espalier/phrase]],</text>
<text text-anchor="middle" x="274" y="-1327.1022" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m going to port it.</text>
</g>
<!-- raw_13&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>raw_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1236.4259,-1548.0096C1231.2199,-1545.531 1225.5321,-1543.2357 1220,-1541.8024 934.3314,-1467.7896 842.048,-1582.1705 557,-1505.8024 481.9946,-1485.7075 403.7874,-1444.235 348.6447,-1411.0193"/>
<polygon fill="#000000" stroke="#000000" points="350.3601,-1407.9662 339.9967,-1405.7638 346.7248,-1413.9482 350.3601,-1407.9662"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="848,-1382.2043 566,-1382.2043 566,-1342.4001 848,-1342.4001 848,-1382.2043"/>
<text text-anchor="middle" x="707" y="-1350.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">The concepts are close, but different.</text>
</g>
<!-- raw_15&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>raw_15&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1308.6019,-1547.9287C1303.6408,-1545.5171 1298.2485,-1543.272 1293,-1541.8024 1105.7643,-1489.3752 1034.3143,-1585.5864 857,-1505.8024 800.4943,-1480.3772 752.23,-1424.3778 726.624,-1390.3394"/>
<polygon fill="#000000" stroke="#000000" points="729.3649,-1388.159 720.611,-1382.1908 723.7324,-1392.3154 729.3649,-1388.159"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="1260,-1382.2043 866,-1382.2043 866,-1342.4001 1260,-1342.4001 1260,-1382.2043"/>
<text text-anchor="middle" x="1063" y="-1350.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">The main notes on where I&#39;m going with this are under </text>
</g>
<!-- raw_17&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>raw_17&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1379.4722,-1548.579C1374.7475,-1546.2453 1369.7399,-1543.8693 1365,-1541.8024 1323.2306,-1523.588 1309.3424,-1526.9904 1269,-1505.8024 1203.4343,-1471.3671 1134.1542,-1419.4264 1094.9742,-1388.3878"/>
<polygon fill="#000000" stroke="#000000" points="1097.0835,-1385.5933 1087.0827,-1382.0956 1092.7195,-1391.0665 1097.0835,-1385.5933"/>
</g>
<!-- anchortext_21 -->
<g id="node22" class="node">
<title>anchortext_21</title>
<ellipse fill="none" stroke="#000000" cx="1329" cy="-1362.3022" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="1329" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">anchortext</text>
</g>
<!-- link_18&#45;&gt;anchortext_21 -->
<g id="edge21" class="edge">
<title>link_18&#45;&gt;anchortext_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1451.7904,-1548.1135C1430.0385,-1535.7939 1398.1337,-1516.6962 1389,-1505.8024 1360.1635,-1471.4093 1343.4795,-1421.1853 1335.3233,-1390.1852"/>
<polygon fill="#000000" stroke="#000000" points="1338.7111,-1389.305 1332.8791,-1380.4598 1331.9222,-1391.0113 1338.7111,-1389.305"/>
</g>
<!-- url_22 -->
<g id="node23" class="node">
<title>url_22</title>
<ellipse fill="none" stroke="#000000" cx="1425" cy="-1362.3022" rx="27" ry="18"/>
<text text-anchor="middle" x="1425" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">url</text>
</g>
<!-- link_18&#45;&gt;url_22 -->
<g id="edge22" class="edge">
<title>link_18&#45;&gt;url_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1468.6557,-1541.9272C1460.27,-1507.4239 1441.7985,-1431.4211 1431.7808,-1390.2023"/>
<polygon fill="#000000" stroke="#000000" points="1435.1318,-1389.1698 1429.3691,-1380.2792 1428.3298,-1390.823 1435.1318,-1389.1698"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="1997.5,-1389.5026 1470.5,-1389.5026 1470.5,-1335.1017 1997.5,-1335.1017 1997.5,-1389.5026"/>
<text text-anchor="middle" x="1734" y="-1374.2022" font-family="Inconsolata" font-size="14.00" fill="#000000">,</text>
<text text-anchor="middle" x="1734" y="-1358.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">which will build from this class and is a generalization of it to support</text>
<text text-anchor="middle" x="1734" y="-1343.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">complex text types.</text>
</g>
<!-- raw_19&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>raw_19&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1626.0606,-1542.9636C1645.1046,-1511.0892 1686.8045,-1441.2947 1712.4385,-1398.3903"/>
<polygon fill="#000000" stroke="#000000" points="1715.5263,-1400.0461 1717.6507,-1389.6665 1709.5171,-1396.4558 1715.5263,-1400.0461"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="1361.5,-655.101 1296.5,-655.101 1296.5,-619.101 1361.5,-619.101 1361.5,-655.101"/>
<text text-anchor="middle" x="1329" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000">rainbuf</text>
</g>
<!-- anchortext_21&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>anchortext_21&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1329,-1344.013C1329,-1246.2356 1329,-785.1849 1329,-665.5276"/>
<polygon fill="#000000" stroke="#000000" points="1332.5001,-665.3406 1329,-655.3407 1325.5001,-665.3407 1332.5001,-665.3406"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="1457.5,-655.101 1392.5,-655.101 1392.5,-619.101 1457.5,-619.101 1457.5,-655.101"/>
<text text-anchor="middle" x="1425" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000">rainbuf</text>
</g>
<!-- url_22&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>url_22&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1425,-1344.013C1425,-1246.2356 1425,-785.1849 1425,-665.5276"/>
<polygon fill="#000000" stroke="#000000" points="1428.5001,-665.3406 1425,-655.3407 1421.5001,-665.3407 1428.5001,-665.3406"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="2262.5,-1382.2043 2015.5,-1382.2043 2015.5,-1342.4001 2262.5,-1342.4001 2262.5,-1382.2043"/>
<text text-anchor="middle" x="2139" y="-1350.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m realizing that for clarity, a</text>
</g>
<!-- raw_26&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>raw_26&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2192.6601,-1541.9272C2182.4878,-1507.8758 2160.2408,-1433.4051 2147.8239,-1391.8398"/>
<polygon fill="#000000" stroke="#000000" points="2151.1081,-1390.6057 2144.8922,-1382.026 2144.401,-1392.6094 2151.1081,-1390.6057"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="2335,-1380.3022 2281,-1380.3022 2281,-1344.3022 2335,-1344.3022 2335,-1380.3022"/>
<text text-anchor="middle" x="2308" y="-1358.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_27&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>prespace_27&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2326.1543,-1541.5761C2322.6568,-1507.0379 2315.0414,-1431.8363 2310.8713,-1390.656"/>
<polygon fill="#000000" stroke="#000000" points="2314.331,-1390.0809 2309.8412,-1380.4845 2307.3666,-1390.7862 2314.331,-1390.0809"/>
</g>
<!-- leaf_44 -->
<g id="node45" class="node">
<title>leaf_44</title>
<polygon fill="none" stroke="#c0c0c0" points="2418.5,-1380.3022 2353.5,-1380.3022 2353.5,-1344.3022 2418.5,-1344.3022 2418.5,-1380.3022"/>
<text text-anchor="middle" x="2386" y="-1358.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">linebuf</text>
</g>
<!-- literal_28&#45;&gt;leaf_44 -->
<g id="edge44" class="edge">
<title>literal_28&#45;&gt;leaf_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2457.7371,-1544.281C2447.4864,-1534.2165 2434.9738,-1520.313 2427,-1505.8024 2406.6626,-1468.7927 2395.6025,-1420.7426 2390.2501,-1390.7113"/>
<polygon fill="#000000" stroke="#000000" points="2393.645,-1389.7945 2388.5299,-1380.5162 2386.7426,-1390.9592 2393.645,-1389.7945"/>
</g>
<!-- leaf_45 -->
<g id="node46" class="node">
<title>leaf_45</title>
<polygon fill="none" stroke="#c0c0c0" points="2683.5,-1381.6027 2436.5,-1381.6027 2436.5,-1343.0016 2683.5,-1343.0016 2683.5,-1381.6027"/>
<text text-anchor="middle" x="2560" y="-1366.5022" font-family="Inconsolata" font-size="14.00" fill="#000000"> needs to be a line, period. &#160;The</text>
<text text-anchor="middle" x="2560" y="-1351.1022" font-family="Inconsolata" font-size="14.00" fill="#000000">recursive container class is a</text>
</g>
<!-- raw_29&#45;&gt;leaf_45 -->
<g id="edge45" class="edge">
<title>raw_29&#45;&gt;leaf_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2588.1392,-1541.5761C2582.7616,-1507.3158 2571.1038,-1433.0439 2564.6075,-1391.6566"/>
<polygon fill="#000000" stroke="#000000" points="2568.0443,-1390.9804 2563.0359,-1381.6441 2561.129,-1392.0659 2568.0443,-1390.9804"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="2756,-1380.3022 2702,-1380.3022 2702,-1344.3022 2756,-1344.3022 2756,-1380.3022"/>
<text text-anchor="middle" x="2729" y="-1358.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_30&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>prespace_30&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2715.3843,-1541.5761C2718.0074,-1507.0379 2723.7189,-1431.8363 2726.8465,-1390.656"/>
<polygon fill="#000000" stroke="#000000" points="2730.3516,-1390.7208 2727.6191,-1380.4845 2723.3717,-1390.1906 2730.3516,-1390.7208"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="2832,-1380.3022 2774,-1380.3022 2774,-1344.3022 2832,-1344.3022 2832,-1380.3022"/>
<text text-anchor="middle" x="2803" y="-1358.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">txtbuf</text>
</g>
<!-- literal_31&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>literal_31&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2809.354,-1541.5761C2808.1299,-1507.0379 2805.4645,-1431.8363 2804.0049,-1390.656"/>
<polygon fill="#000000" stroke="#000000" points="2807.4965,-1390.3542 2803.6444,-1380.4845 2800.5009,-1390.6022 2807.4965,-1390.3542"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="2904,-1380.3022 2850,-1380.3022 2850,-1344.3022 2904,-1344.3022 2904,-1380.3022"/>
<text text-anchor="middle" x="2877" y="-1358.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">, and</text>
</g>
<!-- raw_32&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>raw_32&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2885.1694,-1541.5761C2883.5955,-1507.0379 2880.1686,-1431.8363 2878.2921,-1390.656"/>
<polygon fill="#000000" stroke="#000000" points="2881.7802,-1390.3147 2877.8286,-1380.4845 2874.7875,-1390.6335 2881.7802,-1390.3147"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="2976,-1380.3022 2922,-1380.3022 2922,-1344.3022 2976,-1344.3022 2976,-1380.3022"/>
<text text-anchor="middle" x="2949" y="-1358.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_33&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>prespace_33&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2974.416,-1541.5761C2969.509,-1506.9644 2958.8126,-1431.5162 2952.9826,-1390.3936"/>
<polygon fill="#000000" stroke="#000000" points="2956.4469,-1389.8941 2951.5777,-1380.4845 2949.5162,-1390.8768 2956.4469,-1389.8941"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="3059.5,-1380.3022 2994.5,-1380.3022 2994.5,-1344.3022 3059.5,-1344.3022 3059.5,-1380.3022"/>
<text text-anchor="middle" x="3027" y="-1358.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">rainbuf</text>
</g>
<!-- literal_34&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>literal_34&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3068.8367,-1541.9272C3060.8208,-1507.5112 3043.1881,-1431.8057 3033.5713,-1390.516"/>
<polygon fill="#000000" stroke="#000000" points="3036.931,-1389.5111 3031.2538,-1380.5657 3030.1135,-1391.099 3036.931,-1389.5111"/>
</g>
<!-- leaf_51 -->
<g id="node52" class="node">
<title>leaf_51</title>
<polygon fill="none" stroke="#c0c0c0" points="3220,-1381.6027 3078,-1381.6027 3078,-1343.0016 3220,-1343.0016 3220,-1381.6027"/>
<text text-anchor="middle" x="3149" y="-1366.5022" font-family="Inconsolata" font-size="14.00" fill="#000000"> enhances that and</text>
<text text-anchor="middle" x="3149" y="-1351.1022" font-family="Inconsolata" font-size="14.00" fill="#000000">also makes a</text>
</g>
<!-- raw_35&#45;&gt;leaf_51 -->
<g id="edge51" class="edge">
<title>raw_35&#45;&gt;leaf_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3149,-1541.5761C3149,-1507.3158 3149,-1433.0439 3149,-1391.6566"/>
<polygon fill="#000000" stroke="#000000" points="3152.5001,-1391.644 3149,-1381.6441 3145.5001,-1391.6441 3152.5001,-1391.644"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="3292,-1380.3022 3238,-1380.3022 3238,-1344.3022 3292,-1344.3022 3292,-1380.3022"/>
<text text-anchor="middle" x="3265" y="-1358.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_36&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>prespace_36&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3245.0303,-1541.5761C3248.8776,-1507.0379 3257.2544,-1431.8363 3261.8416,-1390.656"/>
<polygon fill="#000000" stroke="#000000" points="3265.346,-1390.8105 3262.9746,-1380.4845 3258.389,-1390.0355 3265.346,-1390.8105"/>
</g>
<!-- leaf_53 -->
<g id="node54" class="node">
<title>leaf_53</title>
<polygon fill="none" stroke="#c0c0c0" points="3382,-1380.3022 3310,-1380.3022 3310,-1344.3022 3382,-1344.3022 3382,-1380.3022"/>
<text text-anchor="middle" x="3346" y="-1358.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">rainline</text>
</g>
<!-- literal_37&#45;&gt;leaf_53 -->
<g id="edge53" class="edge">
<title>literal_37&#45;&gt;leaf_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3341.4614,-1541.5761C3342.3358,-1507.0379 3344.2396,-1431.8363 3345.2822,-1390.656"/>
<polygon fill="#000000" stroke="#000000" points="3348.7854,-1390.5699 3345.5397,-1380.4845 3341.7876,-1390.3926 3348.7854,-1390.5699"/>
</g>
<!-- leaf_54 -->
<g id="node55" class="node">
<title>leaf_54</title>
<polygon fill="none" stroke="#c0c0c0" points="3500,-1380.3022 3400,-1380.3022 3400,-1344.3022 3500,-1344.3022 3500,-1380.3022"/>
<text text-anchor="middle" x="3450" y="-1358.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> out of each</text>
</g>
<!-- raw_38&#45;&gt;leaf_54 -->
<g id="edge54" class="edge">
<title>raw_38&#45;&gt;leaf_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3422.7686,-1541.5761C3428.026,-1506.9644 3439.4865,-1431.5162 3445.733,-1390.3936"/>
<polygon fill="#000000" stroke="#000000" points="3449.1966,-1390.8967 3447.2381,-1380.4845 3442.276,-1389.8454 3449.1966,-1390.8967"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="3572,-1380.3022 3518,-1380.3022 3518,-1344.3022 3572,-1344.3022 3572,-1380.3022"/>
<text text-anchor="middle" x="3545" y="-1358.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_39&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>prespace_39&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3518.6763,-1541.5761C3523.7585,-1506.9644 3534.8369,-1431.5162 3540.8752,-1390.3936"/>
<polygon fill="#000000" stroke="#000000" points="3544.3402,-1390.8869 3542.3302,-1380.4845 3537.4145,-1389.8699 3544.3402,-1390.8869"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="3655.5,-1380.3022 3590.5,-1380.3022 3590.5,-1344.3022 3655.5,-1344.3022 3655.5,-1380.3022"/>
<text text-anchor="middle" x="3623" y="-1358.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">linebuf</text>
</g>
<!-- literal_40&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>literal_40&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3614.8306,-1541.5761C3616.4045,-1507.0379 3619.8314,-1431.8363 3621.7079,-1390.656"/>
<polygon fill="#000000" stroke="#000000" points="3625.2125,-1390.6335 3622.1714,-1380.4845 3618.2198,-1390.3147 3625.2125,-1390.6335"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="3728,-1380.3022 3674,-1380.3022 3674,-1344.3022 3728,-1344.3022 3728,-1380.3022"/>
<text text-anchor="middle" x="3701" y="-1358.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_41&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>raw_41&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3696.4614,-1541.5761C3697.3358,-1507.0379 3699.2396,-1431.8363 3700.2822,-1390.656"/>
<polygon fill="#000000" stroke="#000000" points="3703.7854,-1390.5699 3700.5397,-1380.4845 3696.7876,-1390.3926 3703.7854,-1390.5699"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="4287.5,-1389.6026 3746.5,-1389.6026 3746.5,-1335.0017 4287.5,-1335.0017 4287.5,-1389.6026"/>
<text text-anchor="middle" x="4017" y="-1358.5022" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m making this the dumbest thing that can work. The dumbest thing that can</text>
<text text-anchor="middle" x="4017" y="-1343.1022" font-family="Inconsolata" font-size="14.00" fill="#000000">work, has one string per char, period.</text>
</g>
<!-- raw_58&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>raw_58&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3909.0606,-1542.9636C3928.1046,-1511.0892 3969.8045,-1441.2947 3995.4385,-1398.3903"/>
<polygon fill="#000000" stroke="#000000" points="3998.5263,-1400.0461 4000.6507,-1389.6665 3992.5171,-1396.4558 3998.5263,-1400.0461"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="4496.5,-1382.2043 4305.5,-1382.2043 4305.5,-1342.4001 4496.5,-1342.4001 4496.5,-1382.2043"/>
<text text-anchor="middle" x="4401" y="-1350.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">The way I&#39;m doing this, a</text>
</g>
<!-- raw_60&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>raw_60&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4423.6929,-1541.5761C4419.3784,-1507.4915 4410.0509,-1433.8046 4404.7967,-1392.2959"/>
<polygon fill="#000000" stroke="#000000" points="4408.2513,-1391.7162 4403.5231,-1382.2349 4401.3067,-1392.5953 4408.2513,-1391.7162"/>
</g>
<!-- leaf_68 -->
<g id="node69" class="node">
<title>leaf_68</title>
<polygon fill="none" stroke="#c0c0c0" points="4569,-1380.3022 4515,-1380.3022 4515,-1344.3022 4569,-1344.3022 4569,-1380.3022"/>
<text text-anchor="middle" x="4542" y="-1358.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_61&#45;&gt;leaf_68 -->
<g id="edge68" class="edge">
<title>prespace_61&#45;&gt;leaf_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4553.8003,-1541.5761C4551.5269,-1507.0379 4546.5769,-1431.8363 4543.8663,-1390.656"/>
<polygon fill="#000000" stroke="#000000" points="4547.3461,-1390.233 4543.1968,-1380.4845 4540.3613,-1390.6928 4547.3461,-1390.233"/>
</g>
<!-- leaf_69 -->
<g id="node70" class="node">
<title>leaf_69</title>
<polygon fill="none" stroke="#c0c0c0" points="4652.5,-1380.3022 4587.5,-1380.3022 4587.5,-1344.3022 4652.5,-1344.3022 4652.5,-1380.3022"/>
<text text-anchor="middle" x="4620" y="-1358.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">linebuf</text>
</g>
<!-- literal_62&#45;&gt;leaf_69 -->
<g id="edge69" class="edge">
<title>literal_62&#45;&gt;leaf_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4686.3416,-1543.322C4677.9153,-1533.1193 4667.7051,-1519.4067 4661,-1505.8024 4642.4329,-1468.1307 4630.9409,-1420.6334 4625.0082,-1390.8564"/>
<polygon fill="#000000" stroke="#000000" points="4628.3891,-1389.9022 4623.0711,-1380.7387 4621.514,-1391.2184 4628.3891,-1389.9022"/>
</g>
<!-- leaf_70 -->
<g id="node71" class="node">
<title>leaf_70</title>
<polygon fill="none" stroke="#c0c0c0" points="4959.5,-1381.6027 4670.5,-1381.6027 4670.5,-1343.0016 4959.5,-1343.0016 4959.5,-1381.6027"/>
<text text-anchor="middle" x="4815" y="-1366.5022" font-family="Inconsolata" font-size="14.00" fill="#000000"> is used as a pointer to history. &#160;When</text>
<text text-anchor="middle" x="4815" y="-1351.1022" font-family="Inconsolata" font-size="14.00" fill="#000000">it&#39;s not in play,</text>
</g>
<!-- raw_63&#45;&gt;leaf_70 -->
<g id="edge70" class="edge">
<title>raw_63&#45;&gt;leaf_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4792.3071,-1541.5761C4796.6439,-1507.3158 4806.0454,-1433.0439 4811.2843,-1391.6566"/>
<polygon fill="#000000" stroke="#000000" points="4814.7681,-1392.0045 4812.5517,-1381.6441 4807.8235,-1391.1253 4814.7681,-1392.0045"/>
</g>
<!-- leaf_71 -->
<g id="node72" class="node">
<title>leaf_71</title>
<polygon fill="none" stroke="#c0c0c0" points="5032,-1380.3022 4978,-1380.3022 4978,-1344.3022 5032,-1344.3022 5032,-1380.3022"/>
<text text-anchor="middle" x="5005" y="-1358.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_64&#45;&gt;leaf_71 -->
<g id="edge71" class="edge">
<title>prespace_64&#45;&gt;leaf_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4933.7457,-1543.7731C4945.5094,-1534.0251 4959.359,-1520.6195 4968,-1505.8024 4989.1245,-1469.5794 4998.3482,-1421.3143 5002.2621,-1391.0229"/>
<polygon fill="#000000" stroke="#000000" points="5005.7804,-1391.0729 5003.476,-1380.7317 4998.8286,-1390.2528 5005.7804,-1391.0729"/>
</g>
<!-- leaf_72 -->
<g id="node73" class="node">
<title>leaf_72</title>
<polygon fill="none" stroke="#c0c0c0" points="5150,-1380.3022 5050,-1380.3022 5050,-1344.3022 5150,-1344.3022 5150,-1380.3022"/>
<text text-anchor="middle" x="5100" y="-1358.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">linebuf.line</text>
</g>
<!-- literal_65&#45;&gt;leaf_72 -->
<g id="edge72" class="edge">
<title>literal_65&#45;&gt;leaf_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5044.5209,-1541.9272C5055.1732,-1507.4382 5078.6325,-1431.484 5091.3669,-1390.2535"/>
<polygon fill="#000000" stroke="#000000" points="5094.7521,-1391.1533 5094.3591,-1380.5657 5088.0639,-1389.0875 5094.7521,-1391.1533"/>
</g>
<!-- leaf_73 -->
<g id="node74" class="node">
<title>leaf_73</title>
<polygon fill="none" stroke="#c0c0c0" points="5478,-1381.6027 5168,-1381.6027 5168,-1343.0016 5478,-1343.0016 5478,-1381.6027"/>
<text text-anchor="middle" x="5323" y="-1366.5022" font-family="Inconsolata" font-size="14.00" fill="#000000"> is just a string, exploding into an array</text>
<text text-anchor="middle" x="5323" y="-1351.1022" font-family="Inconsolata" font-size="14.00" fill="#000000">of codepoints when edited.</text>
</g>
<!-- raw_66&#45;&gt;leaf_73 -->
<g id="edge73" class="edge">
<title>raw_66&#45;&gt;leaf_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5228.0474,-1542.621C5245.9739,-1508.5779 5286.1606,-1432.2617 5308.0673,-1390.66"/>
<polygon fill="#000000" stroke="#000000" points="5311.2721,-1392.0857 5312.8346,-1381.6067 5305.0784,-1388.8241 5311.2721,-1392.0857"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="6037.5,-1389.6026 5496.5,-1389.6026 5496.5,-1335.0017 6037.5,-1335.0017 6037.5,-1389.6026"/>
<text text-anchor="middle" x="5767" y="-1358.5022" font-family="Inconsolata" font-size="14.00" fill="#000000">This lets us load the history without making a bunch of codepoint arrays we</text>
<text text-anchor="middle" x="5767" y="-1343.1022" font-family="Inconsolata" font-size="14.00" fill="#000000">might not ever use.</text>
</g>
<!-- raw_74&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>raw_74&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5547.0445,-1545.5987C5584.1956,-1514.6394 5673.3533,-1440.3412 5726.0447,-1396.4317"/>
<polygon fill="#000000" stroke="#000000" points="5728.4175,-1399.0103 5733.8591,-1389.9196 5723.9362,-1393.6327 5728.4175,-1399.0103"/>
</g>
<!-- leaf_84 -->
<g id="node85" class="node">
<title>leaf_84</title>
<polygon fill="none" stroke="#c0c0c0" points="6198,-1380.3022 6056,-1380.3022 6056,-1344.3022 6198,-1344.3022 6198,-1380.3022"/>
<text text-anchor="middle" x="6127" y="-1358.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">** Instance fields</text>
</g>
<!-- header_76&#45;&gt;leaf_84 -->
<g id="edge84" class="edge">
<title>header_76&#45;&gt;leaf_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6203.248,-1541.5761C6188.4646,-1506.8174 6156.165,-1430.8747 6138.7257,-1389.8716"/>
<polygon fill="#000000" stroke="#000000" points="6141.8679,-1388.3169 6134.7332,-1380.4845 6135.4264,-1391.0566 6141.8679,-1388.3169"/>
</g>
<!-- raw_85 -->
<g id="node86" class="node">
<title>raw_85</title>
<ellipse fill="none" stroke="#000000" cx="6243" cy="-1362.3022" rx="27" ry="18"/>
<text text-anchor="middle" x="6243" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_77&#45;&gt;raw_85 -->
<g id="edge85" class="edge">
<title>prose_77&#45;&gt;raw_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6393.1469,-1556.6299C6359.8757,-1551.5989 6308.5051,-1538.6947 6279,-1505.8024 6250.4636,-1473.99 6243.8138,-1422.9132 6242.6552,-1391.051"/>
<polygon fill="#000000" stroke="#000000" points="6246.1464,-1390.5735 6242.4474,-1380.6454 6239.1478,-1390.7133 6246.1464,-1390.5735"/>
</g>
<!-- prespace_86 -->
<g id="node87" class="node">
<title>prespace_86</title>
<ellipse fill="none" stroke="#000000" cx="6334" cy="-1362.3022" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6334" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_77&#45;&gt;prespace_86 -->
<g id="edge86" class="edge">
<title>prose_77&#45;&gt;prespace_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6412.3092,-1542.8919C6404.9033,-1532.5368 6395.725,-1518.8149 6389,-1505.8024 6369.0572,-1467.2141 6352.2357,-1419.6695 6342.6311,-1390.1669"/>
<polygon fill="#000000" stroke="#000000" points="6345.927,-1388.9825 6339.5416,-1380.5281 6339.2611,-1391.1192 6345.927,-1388.9825"/>
</g>
<!-- bold_87 -->
<g id="node88" class="node">
<title>bold_87</title>
<ellipse fill="none" stroke="#000000" cx="6425" cy="-1362.3022" rx="27" ry="18"/>
<text text-anchor="middle" x="6425" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">bold</text>
</g>
<!-- prose_77&#45;&gt;bold_87 -->
<g id="edge87" class="edge">
<title>prose_77&#45;&gt;bold_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6425,-1541.5761C6425,-1507.0379 6425,-1431.8363 6425,-1390.656"/>
<polygon fill="#000000" stroke="#000000" points="6428.5001,-1390.4844 6425,-1380.4845 6421.5001,-1390.4845 6428.5001,-1390.4844"/>
</g>
<!-- raw_88 -->
<g id="node89" class="node">
<title>raw_88</title>
<ellipse fill="none" stroke="#000000" cx="6497" cy="-1362.3022" rx="27" ry="18"/>
<text text-anchor="middle" x="6497" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_77&#45;&gt;raw_88 -->
<g id="edge88" class="edge">
<title>prose_77&#45;&gt;raw_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6438.2677,-1543.1684C6445.878,-1532.9113 6455.0688,-1519.1954 6461,-1505.8024 6477.8589,-1467.7343 6487.8013,-1420.3426 6492.827,-1390.6964"/>
<polygon fill="#000000" stroke="#000000" points="6496.314,-1391.0584 6494.4599,-1380.6271 6489.4042,-1389.9379 6496.314,-1391.0584"/>
</g>
<!-- raw_93 -->
<g id="node94" class="node">
<title>raw_93</title>
<ellipse fill="none" stroke="#000000" cx="6711" cy="-1362.3022" rx="27" ry="18"/>
<text text-anchor="middle" x="6711" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_78&#45;&gt;raw_93 -->
<g id="edge93" class="edge">
<title>prose_78&#45;&gt;raw_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6965.7089,-1553.4701C6933.7694,-1545.8064 6882.9215,-1530.7305 6845,-1505.8024 6795.5325,-1473.2845 6751.5117,-1418.8435 6728.3141,-1387.1908"/>
<polygon fill="#000000" stroke="#000000" points="6731.0253,-1384.9667 6722.3361,-1378.9046 6725.3484,-1389.0622 6731.0253,-1384.9667"/>
</g>
<!-- prespace_94 -->
<g id="node95" class="node">
<title>prespace_94</title>
<ellipse fill="none" stroke="#000000" cx="6900" cy="-1362.3022" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6900" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_78&#45;&gt;prespace_94 -->
<g id="edge94" class="edge">
<title>prose_78&#45;&gt;prespace_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6981.7996,-1543.0828C6973.5357,-1532.7953 6963.3353,-1519.0775 6956,-1505.8024 6934.8272,-1467.4848 6917.8341,-1419.4949 6908.3327,-1389.8705"/>
<polygon fill="#000000" stroke="#000000" points="6911.631,-1388.6915 6905.2899,-1380.2038 6904.954,-1390.7933 6911.631,-1388.6915"/>
</g>
<!-- literal_95 -->
<g id="node96" class="node">
<title>literal_95</title>
<ellipse fill="none" stroke="#000000" cx="6996" cy="-1362.3022" rx="31.481" ry="18"/>
<text text-anchor="middle" x="6996" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_78&#45;&gt;literal_95 -->
<g id="edge95" class="edge">
<title>prose_78&#45;&gt;literal_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6996,-1541.5761C6996,-1507.0379 6996,-1431.8363 6996,-1390.656"/>
<polygon fill="#000000" stroke="#000000" points="6999.5001,-1390.4844 6996,-1380.4845 6992.5001,-1390.4845 6999.5001,-1390.4844"/>
</g>
<!-- raw_96 -->
<g id="node97" class="node">
<title>raw_96</title>
<ellipse fill="none" stroke="#000000" cx="7072" cy="-1362.3022" rx="27" ry="18"/>
<text text-anchor="middle" x="7072" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_78&#45;&gt;raw_96 -->
<g id="edge96" class="edge">
<title>prose_78&#45;&gt;raw_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7010.8197,-1543.3999C7019.3032,-1533.2248 7029.5169,-1519.5139 7036,-1505.8024 7053.8944,-1467.9567 7063.5956,-1420.1352 7068.2829,-1390.3802"/>
<polygon fill="#000000" stroke="#000000" points="7071.7747,-1390.6943 7069.7888,-1380.2873 7064.8514,-1389.6612 7071.7747,-1390.6943"/>
</g>
<!-- raw_101 -->
<g id="node102" class="node">
<title>raw_101</title>
<ellipse fill="none" stroke="#000000" cx="7144" cy="-1362.3022" rx="27" ry="18"/>
<text text-anchor="middle" x="7144" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_79&#45;&gt;raw_101 -->
<g id="edge101" class="edge">
<title>prose_79&#45;&gt;raw_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7134.9229,-1541.5761C7136.6716,-1507.0379 7140.4793,-1431.8363 7142.5644,-1390.656"/>
<polygon fill="#000000" stroke="#000000" points="7146.0691,-1390.6487 7143.0794,-1380.4845 7139.0781,-1390.2946 7146.0691,-1390.6487"/>
</g>
<!-- raw_103 -->
<g id="node104" class="node">
<title>raw_103</title>
<ellipse fill="none" stroke="#000000" cx="7216" cy="-1362.3022" rx="27" ry="18"/>
<text text-anchor="middle" x="7216" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_80&#45;&gt;raw_103 -->
<g id="edge103" class="edge">
<title>prose_80&#45;&gt;raw_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7216,-1541.5761C7216,-1507.0379 7216,-1431.8363 7216,-1390.656"/>
<polygon fill="#000000" stroke="#000000" points="7219.5001,-1390.4844 7216,-1380.4845 7212.5001,-1390.4845 7219.5001,-1390.4844"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="7676.5,-1381.6027 7261.5,-1381.6027 7261.5,-1343.0016 7676.5,-1343.0016 7676.5,-1381.6027"/>
<text text-anchor="middle" x="7469" y="-1366.5022" font-family="Inconsolata" font-size="14.00" fill="#000000">local sub, byte = assert(string.sub), assert(string.byte)</text>
<text text-anchor="middle" x="7469" y="-1351.1022" font-family="Inconsolata" font-size="14.00" fill="#000000">local gsub = assert(string.gsub)</text>
</g>
<!-- codeblock_81&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>codeblock_81&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7412.7217,-1541.5761C7423.4996,-1507.243 7446.8916,-1432.7283 7459.8676,-1391.3934"/>
<polygon fill="#000000" stroke="#000000" points="7463.2723,-1392.2333 7462.9281,-1381.6441 7456.5936,-1390.1367 7463.2723,-1392.2333"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="7871.5,-1380.3022 7694.5,-1380.3022 7694.5,-1344.3022 7871.5,-1344.3022 7871.5,-1380.3022"/>
<text text-anchor="middle" x="7783" y="-1358.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">local Linebuf = meta {}</text>
</g>
<!-- codeblock_82&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>codeblock_82&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7691.1412,-1541.9272C7708.8908,-1507.2189 7748.1156,-1430.5168 7769.1058,-1389.4716"/>
<polygon fill="#000000" stroke="#000000" points="7772.2232,-1391.0627 7773.6602,-1380.5657 7765.9909,-1387.8755 7772.2232,-1391.0627"/>
</g>
<!-- leaf_107 -->
<g id="node108" class="node">
<title>leaf_107</title>
<polygon fill="none" stroke="#c0c0c0" points="8186,-1505.8026 7890,-1505.8026 7890,-1218.8017 8186,-1218.8017 8186,-1505.8026"/>
<text text-anchor="middle" x="8038" y="-1474.6024" font-family="Inconsolata" font-size="14.00" fill="#000000">local function sum(dsps)</text>
<text text-anchor="middle" x="8038" y="-1459.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local summa = 0</text>
<text text-anchor="middle" x="8038" y="-1443.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i = 1, #dsps do</text>
<text text-anchor="middle" x="8038" y="-1428.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;summa = summa + #dsps[i]</text>
<text text-anchor="middle" x="8038" y="-1413.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8038" y="-1397.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return summa</text>
<text text-anchor="middle" x="8038" y="-1382.2022" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="8038" y="-1350.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">local concat = table.concat</text>
<text text-anchor="middle" x="8038" y="-1319.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.__tostring(linebuf)</text>
<text text-anchor="middle" x="8038" y="-1304.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(linebuf.line) == &quot;table&quot; then</text>
<text text-anchor="middle" x="8038" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return concat(linebuf.line)</text>
<text text-anchor="middle" x="8038" y="-1273.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8038" y="-1257.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return linebuf.line</text>
<text text-anchor="middle" x="8038" y="-1242.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8038" y="-1227.002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_83&#45;&gt;leaf_107 -->
<g id="edge107" class="edge">
<title>codeblock_83&#45;&gt;leaf_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7955.3979,-1541.5761C7958.733,-1534.3379 7962.8909,-1525.3139 7967.5549,-1515.1913"/>
<polygon fill="#000000" stroke="#000000" points="7970.77,-1516.5773 7971.776,-1506.0303 7964.4124,-1513.6479 7970.77,-1516.5773"/>
</g>
<!-- leaf_89 -->
<g id="node90" class="node">
<title>leaf_89</title>
<polygon fill="none" stroke="#c0c0c0" points="6062,-672.4013 5612,-672.4013 5612,-601.8006 6062,-601.8006 6062,-672.4013"/>
<text text-anchor="middle" x="5837" y="-625.301" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; lines : &#160;An array of string fragments</text>
<text text-anchor="middle" x="5837" y="-609.901" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; dsps &#160;: &#160;An array of uint, each corresponds to the number of</text>
</g>
<!-- raw_85&#45;&gt;leaf_89 -->
<g id="edge89" class="edge">
<title>raw_85&#45;&gt;leaf_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6243.9178,-1344.0971C6244.3983,-1313.7982 6240.7423,-1252.9849 6207,-1218.8019 6163.075,-1174.3034 6118.3262,-1223.6647 6071,-1182.8019 5913.9416,-1047.1932 5859.1977,-787.4442 5842.9734,-682.6277"/>
<polygon fill="#000000" stroke="#000000" points="5846.4261,-682.0509 5841.4784,-672.6823 5839.5039,-683.0915 5846.4261,-682.0509"/>
</g>
<!-- leaf_90 -->
<g id="node91" class="node">
<title>leaf_90</title>
<polygon fill="none" stroke="#c0c0c0" points="6134,-655.101 6080,-655.101 6080,-619.101 6134,-619.101 6134,-655.101"/>
<text text-anchor="middle" x="6107" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_86&#45;&gt;leaf_90 -->
<g id="edge90" class="edge">
<title>prespace_86&#45;&gt;leaf_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6332.2569,-1343.9129C6328.3567,-1313.3427 6316.1192,-1252.1398 6279,-1218.8019 6232.4814,-1177.0222 6182.7496,-1231.0668 6143,-1182.8019 6077.41,-1103.1611 6097.2394,-765.4474 6104.7265,-665.2408"/>
<polygon fill="#000000" stroke="#000000" points="6108.2171,-665.4951 6105.491,-655.257 6101.2376,-664.9606 6108.2171,-665.4951"/>
</g>
<!-- leaf_91 -->
<g id="node92" class="node">
<title>leaf_91</title>
<polygon fill="none" stroke="#c0c0c0" points="6206,-655.101 6152,-655.101 6152,-619.101 6206,-619.101 6206,-655.101"/>
<text text-anchor="middle" x="6179" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000">bytes</text>
</g>
<!-- bold_87&#45;&gt;leaf_91 -->
<g id="edge91" class="edge">
<title>bold_87&#45;&gt;leaf_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6426.1189,-1343.893C6426.8958,-1313.2934 6423.6654,-1252.0484 6389,-1218.8019 6332.0047,-1164.1395 6266.8539,-1242.3638 6215,-1182.8019 6147.2546,-1104.9863 6168.5883,-765.9988 6176.5789,-665.3658"/>
<polygon fill="#000000" stroke="#000000" points="6180.0722,-665.5897 6177.3943,-655.3389 6173.0952,-665.0223 6180.0722,-665.5897"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="6387.5,-657.0031 6224.5,-657.0031 6224.5,-617.1989 6387.5,-617.1989 6387.5,-657.0031"/>
<text text-anchor="middle" x="6306" y="-625.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in line[i].</text>
</g>
<!-- raw_88&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>raw_88&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6496.9117,-1344.0041C6495.8646,-1314.6387 6489.961,-1256.4741 6461,-1218.8019 6440.8728,-1192.6206 6415.0325,-1209.7895 6396,-1182.8019 6279.5275,-1017.6473 6293.7373,-755.1982 6302.4756,-667.0708"/>
<polygon fill="#000000" stroke="#000000" points="6305.9724,-667.2828 6303.5305,-656.9732 6299.0103,-666.5553 6305.9724,-667.2828"/>
</g>
<!-- leaf_97 -->
<g id="node98" class="node">
<title>leaf_97</title>
<polygon fill="none" stroke="#c0c0c0" points="6918.5,-664.4014 6405.5,-664.4014 6405.5,-609.8006 6918.5,-609.8006 6918.5,-664.4014"/>
<text text-anchor="middle" x="6662" y="-633.301" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; cursor : &#160;An uint representing the number of bytes to be skipped over</text>
<text text-anchor="middle" x="6662" y="-617.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;before executing</text>
</g>
<!-- raw_93&#45;&gt;leaf_97 -->
<g id="edge97" class="edge">
<title>raw_93&#45;&gt;leaf_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6709.7643,-1344.013C6703.3119,-1248.5182 6673.4467,-806.5129 6664.524,-674.4568"/>
<polygon fill="#000000" stroke="#000000" points="6668.0124,-674.1643 6663.8461,-664.4231 6661.0283,-674.6363 6668.0124,-674.1643"/>
</g>
<!-- leaf_98 -->
<g id="node99" class="node">
<title>leaf_98</title>
<polygon fill="none" stroke="#c0c0c0" points="6991,-655.101 6937,-655.101 6937,-619.101 6991,-619.101 6991,-655.101"/>
<text text-anchor="middle" x="6964" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_94&#45;&gt;leaf_98 -->
<g id="edge98" class="edge">
<title>prespace_94&#45;&gt;leaf_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6903.2101,-1344.2759C6908.8458,-1312.0018 6920.5333,-1242.1694 6927,-1182.8019 6948.4581,-985.806 6959.5188,-747.3589 6962.8745,-665.9461"/>
<polygon fill="#000000" stroke="#000000" points="6966.389,-665.6548 6963.2971,-655.5212 6959.3948,-665.3712 6966.389,-665.6548"/>
</g>
<!-- leaf_99 -->
<g id="node100" class="node">
<title>leaf_99</title>
<polygon fill="none" stroke="#c0c0c0" points="7081,-655.101 7009,-655.101 7009,-619.101 7081,-619.101 7081,-655.101"/>
<text text-anchor="middle" x="7045" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000">insert()</text>
</g>
<!-- literal_95&#45;&gt;leaf_99 -->
<g id="edge99" class="edge">
<title>literal_95&#45;&gt;leaf_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6997.2357,-1344.013C7003.8423,-1246.2356 7034.9943,-785.1849 7043.0793,-665.5276"/>
<polygon fill="#000000" stroke="#000000" points="7046.5854,-665.5539 7043.7676,-655.3407 7039.6013,-665.0819 7046.5854,-665.5539"/>
</g>
<!-- leaf_100 -->
<g id="node101" class="node">
<title>leaf_100</title>
<polygon fill="none" stroke="#c0c0c0" points="7367,-656.4016 7099,-656.4016 7099,-617.8004 7367,-617.8004 7367,-656.4016"/>
<text text-anchor="middle" x="7233" y="-641.301" font-family="Inconsolata" font-size="14.00" fill="#000000">. &#160;Not 1&#45;1 the same as the column</text>
<text text-anchor="middle" x="7233" y="-625.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;index of the tty cursor.</text>
</g>
<!-- raw_96&#45;&gt;leaf_100 -->
<g id="edge100" class="edge">
<title>raw_96&#45;&gt;leaf_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7075.9798,-1344.3757C7097.4374,-1247.7233 7199.3697,-788.5838 7226.4052,-666.8063"/>
<polygon fill="#000000" stroke="#000000" points="7229.8936,-667.2422 7228.6442,-656.7213 7223.06,-665.725 7229.8936,-667.2422"/>
</g>
<!-- leaf_102 -->
<g id="node103" class="node">
<title>leaf_102</title>
<polygon fill="none" stroke="#c0c0c0" points="7884.5,-664.4014 7385.5,-664.4014 7385.5,-609.8006 7884.5,-609.8006 7884.5,-664.4014"/>
<text text-anchor="middle" x="7635" y="-633.301" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;cursor is moved by linebuf, ensuring we stay on codepoint</text>
<text text-anchor="middle" x="7635" y="-617.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;boundaries.</text>
</g>
<!-- raw_101&#45;&gt;leaf_102 -->
<g id="edge102" class="edge">
<title>raw_101&#45;&gt;leaf_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7142.8152,-1344.2983C7141.8731,-1313.741 7144.7776,-1251.8343 7180,-1218.8019 7244.6034,-1158.2153 7305.7424,-1236.7298 7376,-1182.8019 7548.3397,-1050.5185 7611.3631,-774.963 7629.1357,-674.6527"/>
<polygon fill="#000000" stroke="#000000" points="7632.6059,-675.1247 7630.8554,-664.6755 7625.7076,-673.9357 7632.6059,-675.1247"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="8065.5,-657.0031 7902.5,-657.0031 7902.5,-617.1989 8065.5,-617.1989 8065.5,-657.0031"/>
<text text-anchor="middle" x="7984" y="-625.601" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; len &#160;: sum of dsps.</text>
</g>
<!-- raw_103&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>raw_103&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7214.4168,-1344.3133C7212.7892,-1313.2035 7214.5768,-1249.7233 7252,-1218.8019 7361.9828,-1127.9273 7786.7659,-1278.0318 7893,-1182.8019 8045.1921,-1046.3746 8007.2444,-759.694 7990.1026,-666.8219"/>
<polygon fill="#000000" stroke="#000000" points="7993.5349,-666.1359 7988.2254,-656.9675 7986.6585,-667.4458 7993.5349,-666.1359"/>
</g>
<!-- leaf_113 -->
<g id="node114" class="node">
<title>leaf_113</title>
<polygon fill="none" stroke="#c0c0c0" points="8444,-1380.3022 8204,-1380.3022 8204,-1344.3022 8444,-1344.3022 8444,-1380.3022"/>
<text text-anchor="middle" x="8324" y="-1358.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">** Linebuf.insert(linebuf, frag)</text>
</g>
<!-- header_108&#45;&gt;leaf_113 -->
<g id="edge113" class="edge">
<title>header_108&#45;&gt;leaf_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8402.9712,-1541.5761C8387.6598,-1506.8174 8354.2066,-1430.8747 8336.1445,-1389.8716"/>
<polygon fill="#000000" stroke="#000000" points="8339.2437,-1388.2249 8332.0094,-1380.4845 8332.8377,-1391.0469 8339.2437,-1388.2249"/>
</g>
<!-- raw_114 -->
<g id="node115" class="node">
<title>raw_114</title>
<ellipse fill="none" stroke="#000000" cx="8489" cy="-1362.3022" rx="27" ry="18"/>
<text text-anchor="middle" x="8489" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_109&#45;&gt;raw_114 -->
<g id="edge114" class="edge">
<title>prose_109&#45;&gt;raw_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8644.0224,-1557.0831C8609.6674,-1552.428 8555.859,-1539.832 8525,-1505.8024 8496.1666,-1474.0066 8489.6365,-1422.5747 8488.5779,-1390.6909"/>
<polygon fill="#000000" stroke="#000000" points="8492.0774,-1390.6219 8488.4044,-1380.6842 8485.0784,-1390.7434 8492.0774,-1390.6219"/>
</g>
<!-- prespace_115 -->
<g id="node116" class="node">
<title>prespace_115</title>
<ellipse fill="none" stroke="#000000" cx="8580" cy="-1362.3022" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="8580" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_109&#45;&gt;prespace_115 -->
<g id="edge115" class="edge">
<title>prose_109&#45;&gt;prespace_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8661.7996,-1543.0828C8653.5357,-1532.7953 8643.3353,-1519.0775 8636,-1505.8024 8614.8272,-1467.4848 8597.8341,-1419.4949 8588.3327,-1389.8705"/>
<polygon fill="#000000" stroke="#000000" points="8591.631,-1388.6915 8585.2899,-1380.2038 8584.954,-1390.7933 8591.631,-1388.6915"/>
</g>
<!-- literal_116 -->
<g id="node117" class="node">
<title>literal_116</title>
<ellipse fill="none" stroke="#000000" cx="8676" cy="-1362.3022" rx="31.481" ry="18"/>
<text text-anchor="middle" x="8676" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_109&#45;&gt;literal_116 -->
<g id="edge116" class="edge">
<title>prose_109&#45;&gt;literal_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8676,-1541.5761C8676,-1507.0379 8676,-1431.8363 8676,-1390.656"/>
<polygon fill="#000000" stroke="#000000" points="8679.5001,-1390.4844 8676,-1380.4845 8672.5001,-1390.4845 8679.5001,-1390.4844"/>
</g>
<!-- raw_117 -->
<g id="node118" class="node">
<title>raw_117</title>
<ellipse fill="none" stroke="#000000" cx="8752" cy="-1362.3022" rx="27" ry="18"/>
<text text-anchor="middle" x="8752" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_109&#45;&gt;raw_117 -->
<g id="edge117" class="edge">
<title>prose_109&#45;&gt;raw_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8690.8197,-1543.3999C8699.3032,-1533.2248 8709.5169,-1519.5139 8716,-1505.8024 8733.8944,-1467.9567 8743.5956,-1420.1352 8748.2829,-1390.3802"/>
<polygon fill="#000000" stroke="#000000" points="8751.7747,-1390.6943 8749.7888,-1380.2873 8744.8514,-1389.6612 8751.7747,-1390.6943"/>
</g>
<!-- raw_122 -->
<g id="node123" class="node">
<title>raw_122</title>
<ellipse fill="none" stroke="#000000" cx="9003" cy="-1362.3022" rx="27" ry="18"/>
<text text-anchor="middle" x="9003" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_110&#45;&gt;raw_122 -->
<g id="edge122" class="edge">
<title>prose_110&#45;&gt;raw_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9074.5046,-1545.3007C9062.5641,-1535.4278 9047.9126,-1521.3619 9039,-1505.8024 9018.1924,-1469.4768 9009.2875,-1421.2398 9005.5633,-1390.9823"/>
<polygon fill="#000000" stroke="#000000" points="9009.0036,-1390.2524 9004.4132,-1380.7036 9002.047,-1391.0308 9009.0036,-1390.2524"/>
</g>
<!-- prespace_123 -->
<g id="node124" class="node">
<title>prespace_123</title>
<ellipse fill="none" stroke="#000000" cx="9094" cy="-1362.3022" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="9094" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_110&#45;&gt;prespace_123 -->
<g id="edge123" class="edge">
<title>prose_110&#45;&gt;prespace_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9094,-1541.5761C9094,-1507.0379 9094,-1431.8363 9094,-1390.656"/>
<polygon fill="#000000" stroke="#000000" points="9097.5001,-1390.4844 9094,-1380.4845 9090.5001,-1390.4845 9097.5001,-1390.4844"/>
</g>
<!-- literal_124 -->
<g id="node125" class="node">
<title>literal_124</title>
<ellipse fill="none" stroke="#000000" cx="9190" cy="-1362.3022" rx="31.481" ry="18"/>
<text text-anchor="middle" x="9190" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_110&#45;&gt;literal_124 -->
<g id="edge124" class="edge">
<title>prose_110&#45;&gt;literal_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9113.3239,-1545.2006C9125.196,-1535.2878 9139.8357,-1521.215 9149,-1505.8024 9170.5825,-1469.5046 9181.3023,-1421.26 9186.243,-1390.9933"/>
<polygon fill="#000000" stroke="#000000" points="9189.7633,-1391.1247 9187.8112,-1380.7112 9182.8434,-1390.0692 9189.7633,-1391.1247"/>
</g>
<!-- raw_125 -->
<g id="node126" class="node">
<title>raw_125</title>
<ellipse fill="none" stroke="#000000" cx="9353" cy="-1362.3022" rx="27" ry="18"/>
<text text-anchor="middle" x="9353" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_110&#45;&gt;raw_125 -->
<g id="edge125" class="edge">
<title>prose_110&#45;&gt;raw_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9123.6211,-1552.5288C9152.6253,-1544.4206 9197.1269,-1529.2743 9230,-1505.8024 9275.9364,-1473.0032 9315.6755,-1419.4899 9336.8048,-1387.9097"/>
<polygon fill="#000000" stroke="#000000" points="9339.936,-1389.5182 9342.506,-1379.2398 9334.0872,-1385.6721 9339.936,-1389.5182"/>
</g>
<!-- raw_130 -->
<g id="node131" class="node">
<title>raw_130</title>
<ellipse fill="none" stroke="#000000" cx="9689" cy="-1362.3022" rx="27" ry="18"/>
<text text-anchor="middle" x="9689" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_111&#45;&gt;raw_130 -->
<g id="edge130" class="edge">
<title>prose_111&#45;&gt;raw_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9452.2416,-1544.9578C9497.733,-1509.8618 9611.9364,-1421.7556 9663.2853,-1382.1406"/>
<polygon fill="#000000" stroke="#000000" points="9665.4744,-1384.8724 9671.2541,-1375.9929 9661.1985,-1379.3301 9665.4744,-1384.8724"/>
</g>
<!-- header_132 -->
<g id="node133" class="node">
<title>header_132</title>
<ellipse fill="none" stroke="#000000" cx="10362" cy="-1362.3022" rx="83.677" ry="18"/>
<text text-anchor="middle" x="10362" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : join(token, frag)</text>
</g>
<!-- section_112&#45;&gt;header_132 -->
<g id="edge132" class="edge">
<title>section_112&#45;&gt;header_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10935.5224,-1555.0253C10831.8346,-1547.142 10640.2691,-1529.8542 10576,-1505.8024 10501.6857,-1477.9914 10427.6123,-1419.8247 10389.1252,-1386.7217"/>
<polygon fill="#000000" stroke="#000000" points="10391.3072,-1383.9809 10381.4653,-1380.0583 10386.7129,-1389.2623 10391.3072,-1383.9809"/>
</g>
<!-- prose_133 -->
<g id="node134" class="node">
<title>prose_133</title>
<ellipse fill="none" stroke="#000000" cx="10617" cy="-1362.3022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10617" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_112&#45;&gt;prose_133 -->
<g id="edge133" class="edge">
<title>section_112&#45;&gt;prose_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10940.8072,-1551.6C10874.1415,-1542.1149 10774.223,-1525.2834 10741,-1505.8024 10691.6719,-1476.8778 10652.2036,-1421.1547 10631.9198,-1388.3057"/>
<polygon fill="#000000" stroke="#000000" points="10634.8812,-1386.4388 10626.7152,-1379.6884 10628.8892,-1390.0578 10634.8812,-1386.4388"/>
</g>
<!-- codeblock_134 -->
<g id="node135" class="node">
<title>codeblock_134</title>
<ellipse fill="none" stroke="#000000" cx="10832" cy="-1362.3022" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="10832" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 87&#45;158</text>
</g>
<!-- section_112&#45;&gt;codeblock_134 -->
<g id="edge134" class="edge">
<title>section_112&#45;&gt;codeblock_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10988.4328,-1541.9272C10957.7326,-1506.6756 10889.3066,-1428.1048 10854.0056,-1387.5703"/>
<polygon fill="#000000" stroke="#000000" points="10856.615,-1385.2372 10847.4081,-1379.9946 10851.3362,-1389.8344 10856.615,-1385.2372"/>
</g>
<!-- codeblock_135 -->
<g id="node136" class="node">
<title>codeblock_135</title>
<ellipse fill="none" stroke="#000000" cx="11177" cy="-1362.3022" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11177" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 162&#45;175</text>
</g>
<!-- section_112&#45;&gt;codeblock_135 -->
<g id="edge135" class="edge">
<title>section_112&#45;&gt;codeblock_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11019.6577,-1541.9272C11050.4584,-1506.7646 11119.0129,-1428.5014 11154.5968,-1387.8781"/>
<polygon fill="#000000" stroke="#000000" points="11157.2967,-1390.1077 11161.253,-1380.2792 11152.0311,-1385.4953 11157.2967,-1390.1077"/>
</g>
<!-- codeblock_136 -->
<g id="node137" class="node">
<title>codeblock_136</title>
<ellipse fill="none" stroke="#000000" cx="11509" cy="-1362.3022" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11509" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 177&#45;187</text>
</g>
<!-- section_112&#45;&gt;codeblock_136 -->
<g id="edge136" class="edge">
<title>section_112&#45;&gt;codeblock_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11069.6547,-1553.0958C11125.2589,-1545.9073 11206.332,-1531.8305 11273,-1505.8024 11352.1469,-1474.9024 11434.7897,-1418.0319 11478.1734,-1385.9442"/>
<polygon fill="#000000" stroke="#000000" points="11480.3909,-1388.6566 11486.314,-1379.8721 11476.2056,-1383.0455 11480.3909,-1388.6566"/>
</g>
<!-- codeblock_137 -->
<g id="node138" class="node">
<title>codeblock_137</title>
<ellipse fill="none" stroke="#000000" cx="11830" cy="-1362.3022" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11830" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 189&#45;196</text>
</g>
<!-- section_112&#45;&gt;codeblock_137 -->
<g id="edge137" class="edge">
<title>section_112&#45;&gt;codeblock_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11074.1679,-1557.6628C11210.9833,-1552.8102 11508.4498,-1538.7301 11605,-1505.8024 11683.3568,-1479.0794 11761.9493,-1419.747 11802.2721,-1386.348"/>
<polygon fill="#000000" stroke="#000000" points="11804.6305,-1388.9382 11810.0485,-1379.8335 11800.1353,-1383.5723 11804.6305,-1388.9382"/>
</g>
<!-- codeblock_138 -->
<g id="node139" class="node">
<title>codeblock_138</title>
<ellipse fill="none" stroke="#000000" cx="12158" cy="-1362.3022" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="12158" y="-1358.1022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 198&#45;200</text>
</g>
<!-- section_112&#45;&gt;codeblock_138 -->
<g id="edge138" class="edge">
<title>section_112&#45;&gt;codeblock_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11074.1151,-1557.6792C11275.3741,-1551.3072 11845.64,-1531.2093 11926,-1505.8024 12007.0706,-1480.1708 12088.5332,-1419.9145 12129.9664,-1386.2036"/>
<polygon fill="#000000" stroke="#000000" points="12132.2097,-1388.8903 12137.7074,-1379.8335 12127.7617,-1383.4852 12132.2097,-1388.8903"/>
</g>
<!-- leaf_118 -->
<g id="node119" class="node">
<title>leaf_118</title>
<polygon fill="none" stroke="#c0c0c0" points="8361,-655.101 8307,-655.101 8307,-619.101 8361,-619.101 8361,-655.101"/>
</g>
<!-- raw_114&#45;&gt;leaf_118 -->
<g id="edge118" class="edge">
<title>raw_114&#45;&gt;leaf_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8489.3306,-1344.1527C8488.9087,-1314.4755 8483.9113,-1255.2286 8453,-1218.8019 8426.9836,-1188.1435 8393.1568,-1215.6737 8370,-1182.8019 8253.996,-1018.131 8305.5371,-751.6196 8326.5967,-665.1526"/>
<polygon fill="#000000" stroke="#000000" points="8330.0316,-665.8434 8329.0584,-655.2934 8323.2401,-664.1476 8330.0316,-665.8434"/>
</g>
<!-- leaf_119 -->
<g id="node120" class="node">
<title>leaf_119</title>
<polygon fill="none" stroke="#c0c0c0" points="8433,-655.101 8379,-655.101 8379,-619.101 8433,-619.101 8433,-655.101"/>
</g>
<!-- prespace_115&#45;&gt;leaf_119 -->
<g id="edge119" class="edge">
<title>prespace_115&#45;&gt;leaf_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8577.6111,-1344.0213C8572.8049,-1314.1553 8559.3238,-1254.6429 8525,-1218.8019 8497.189,-1189.7616 8465.1568,-1215.6737 8442,-1182.8019 8382.7079,-1098.6351 8398.0385,-765.4435 8404.1103,-665.5525"/>
<polygon fill="#000000" stroke="#000000" points="8407.6187,-665.5266 8404.7497,-655.3276 8400.6323,-665.0896 8407.6187,-665.5266"/>
</g>
<!-- leaf_120 -->
<g id="node121" class="node">
<title>leaf_120</title>
<polygon fill="none" stroke="#c0c0c0" points="8509,-655.101 8451,-655.101 8451,-619.101 8509,-619.101 8509,-655.101"/>
<text text-anchor="middle" x="8480" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000">insert</text>
</g>
<!-- literal_116&#45;&gt;leaf_120 -->
<g id="edge120" class="edge">
<title>literal_116&#45;&gt;leaf_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8676.0611,-1344.1891C8675.1582,-1314.0257 8668.913,-1253.4069 8635,-1218.8019 8596.9197,-1179.9446 8551.8241,-1225.4157 8518,-1182.8019 8453.9064,-1102.0527 8471.1953,-765.7695 8477.9271,-665.4635"/>
<polygon fill="#000000" stroke="#000000" points="8481.4383,-665.4208 8478.6348,-655.2036 8474.4549,-664.9391 8481.4383,-665.4208"/>
</g>
<!-- leaf_121 -->
<g id="node122" class="node">
<title>leaf_121</title>
<polygon fill="none" stroke="#c0c0c0" points="8977,-655.101 8527,-655.101 8527,-619.101 8977,-619.101 8977,-655.101"/>
<text text-anchor="middle" x="8752" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> takes a fragment and carefully places it at the cursor point.</text>
</g>
<!-- raw_117&#45;&gt;leaf_121 -->
<g id="edge121" class="edge">
<title>raw_117&#45;&gt;leaf_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8752,-1344.013C8752,-1246.2356 8752,-785.1849 8752,-665.5276"/>
<polygon fill="#000000" stroke="#000000" points="8755.5001,-665.3406 8752,-655.3407 8748.5001,-665.3407 8755.5001,-665.3406"/>
</g>
<!-- leaf_126 -->
<g id="node127" class="node">
<title>leaf_126</title>
<polygon fill="none" stroke="#c0c0c0" points="9049,-657.0031 8995,-657.0031 8995,-617.1989 9049,-617.1989 9049,-657.0031"/>
<text text-anchor="middle" x="9022" y="-625.601" font-family="Inconsolata" font-size="14.00" fill="#000000">A</text>
</g>
<!-- raw_122&#45;&gt;leaf_126 -->
<g id="edge126" class="edge">
<title>raw_122&#45;&gt;leaf_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9003.4792,-1344.013C9006.0295,-1246.6708 9018.0129,-789.282 9021.2128,-667.1457"/>
<polygon fill="#000000" stroke="#000000" points="9024.7149,-667.1106 9021.4781,-657.0223 9017.7173,-666.9272 9024.7149,-667.1106"/>
</g>
<!-- leaf_127 -->
<g id="node128" class="node">
<title>leaf_127</title>
<polygon fill="none" stroke="#c0c0c0" points="9121,-655.101 9067,-655.101 9067,-619.101 9121,-619.101 9121,-655.101"/>
<text text-anchor="middle" x="9094" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_123&#45;&gt;leaf_127 -->
<g id="edge127" class="edge">
<title>prespace_123&#45;&gt;leaf_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9094,-1344.013C9094,-1246.2356 9094,-785.1849 9094,-665.5276"/>
<polygon fill="#000000" stroke="#000000" points="9097.5001,-665.3406 9094,-655.3407 9090.5001,-665.3407 9097.5001,-665.3406"/>
</g>
<!-- leaf_128 -->
<g id="node129" class="node">
<title>leaf_128</title>
<polygon fill="none" stroke="#c0c0c0" points="9193,-655.101 9139,-655.101 9139,-619.101 9193,-619.101 9193,-655.101"/>
<text text-anchor="middle" x="9166" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000">frag</text>
</g>
<!-- literal_124&#45;&gt;leaf_128 -->
<g id="edge128" class="edge">
<title>literal_124&#45;&gt;leaf_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9189.3947,-1344.013C9186.1589,-1246.2356 9170.9007,-785.1849 9166.9408,-665.5276"/>
<polygon fill="#000000" stroke="#000000" points="9170.4326,-665.2194 9166.6036,-655.3407 9163.4364,-665.451 9170.4326,-665.2194"/>
</g>
<!-- leaf_129 -->
<g id="node130" class="node">
<title>leaf_129</title>
<polygon fill="none" stroke="#c0c0c0" points="9668.5,-655.101 9211.5,-655.101 9211.5,-619.101 9668.5,-619.101 9668.5,-655.101"/>
<text text-anchor="middle" x="9440" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> is any kind of string that we won&#39;t want to break into pieces.</text>
</g>
<!-- raw_125&#45;&gt;leaf_129 -->
<g id="edge129" class="edge">
<title>raw_125&#45;&gt;leaf_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9355.1941,-1344.013C9366.9241,-1246.2356 9422.2349,-785.1849 9436.5897,-665.5276"/>
<polygon fill="#000000" stroke="#000000" points="9440.0957,-665.6864 9437.8118,-655.3407 9433.1455,-664.8526 9440.0957,-665.6864"/>
</g>
<!-- leaf_131 -->
<g id="node132" class="node">
<title>leaf_131</title>
<polygon fill="none" stroke="#c0c0c0" points="10221,-680.3013 9687,-680.3013 9687,-593.9007 10221,-593.9007 10221,-680.3013"/>
<text text-anchor="middle" x="9954" y="-649.001" font-family="Inconsolata" font-size="14.00" fill="#000000">At first that means pasting long strings will cause syntax highlighting to</text>
<text text-anchor="middle" x="9954" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000">fall over. Harmlessly. &#160;Once lexing is working we can trip an interrupt on</text>
<text text-anchor="middle" x="9954" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">long input.</text>
</g>
<!-- raw_130&#45;&gt;leaf_131 -->
<g id="edge131" class="edge">
<title>raw_130&#45;&gt;leaf_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9695.4193,-1344.7351C9728.4897,-1254.2345 9880.1804,-839.1163 9934.5447,-690.3426"/>
<polygon fill="#000000" stroke="#000000" points="9937.9904,-691.1103 9938.1353,-680.5165 9931.4156,-688.7078 9937.9904,-691.1103"/>
</g>
<!-- leaf_139 -->
<g id="node140" class="node">
<title>leaf_139</title>
<polygon fill="none" stroke="#c0c0c0" points="10402.5,-655.101 10239.5,-655.101 10239.5,-619.101 10402.5,-619.101 10402.5,-655.101"/>
<text text-anchor="middle" x="10321" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000">*** join(token, frag)</text>
</g>
<!-- header_132&#45;&gt;leaf_139 -->
<g id="edge139" class="edge">
<title>header_132&#45;&gt;leaf_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10360.966,-1344.013C10355.4381,-1246.2356 10329.3721,-785.1849 10322.6071,-665.5276"/>
<polygon fill="#000000" stroke="#000000" points="10326.0902,-665.1271 10322.0312,-655.3407 10319.1013,-665.5223 10326.0902,-665.1271"/>
</g>
<!-- raw_140 -->
<g id="node141" class="node">
<title>raw_140</title>
<ellipse fill="none" stroke="#000000" cx="10448" cy="-637.101" rx="27" ry="18"/>
<text text-anchor="middle" x="10448" y="-632.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_133&#45;&gt;raw_140 -->
<g id="edge140" class="edge">
<title>prose_133&#45;&gt;raw_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10600.101,-1346.4559C10570.3548,-1317.3489 10509.392,-1251.9814 10484,-1182.8019 10415.2757,-995.5652 10435.0983,-748.1656 10444.4238,-665.4159"/>
<polygon fill="#000000" stroke="#000000" points="10447.9231,-665.6248 10445.6074,-655.2861 10440.9704,-664.8123 10447.9231,-665.6248"/>
</g>
<!-- leaf_142 -->
<g id="node143" class="node">
<title>leaf_142</title>
<polygon fill="none" stroke="#c0c0c0" points="11013,-1183.003 10493,-1183.003 10493,-91.199 11013,-91.199 11013,-1183.003"/>
<text text-anchor="middle" x="10753" y="-1167.6019" font-family="Inconsolata" font-size="14.00" fill="#000000">local function join(token, frag)</text>
<text text-anchor="middle" x="10753" y="-1152.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if sub(token, &#45;1) == &quot; &quot; and sub(frag, 1,1) ~= &quot; &quot; then</text>
<text text-anchor="middle" x="10753" y="-1136.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return token, frag</text>
<text text-anchor="middle" x="10753" y="-1121.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10753" y="-1106.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return token .. frag, nil</text>
<text text-anchor="middle" x="10753" y="-1090.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10753" y="-1075.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10753" y="-1043.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">local t_insert, splice = assert(table.insert), assert(table.splice)</text>
<text text-anchor="middle" x="10753" y="-1028.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">local utf8, codepoints = string.utf8, string.codepoints</text>
<text text-anchor="middle" x="10753" y="-997.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.insert(linebuf, frag)</text>
<text text-anchor="middle" x="10753" y="-981.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local line = linebuf.line</text>
<text text-anchor="middle" x="10753" y="-966.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(line) == &quot;string&quot; then</text>
<text text-anchor="middle" x="10753" y="-950.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;line = codepoints(line)</text>
<text text-anchor="middle" x="10753" y="-935.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;linebuf.line = line</text>
<text text-anchor="middle" x="10753" y="-920.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10753" y="-904.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local wide_frag = utf8(frag)</text>
<text text-anchor="middle" x="10753" y="-889.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if wide_frag &lt; #frag then &#45;&#45; a paste</text>
<text text-anchor="middle" x="10753" y="-873.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; Normalize whitespace</text>
<text text-anchor="middle" x="10753" y="-858.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;frag = gsub(frag, &quot;\r\n&quot;, &quot;\n&quot;):gsub(&quot;\r&quot;, &quot;\n&quot;):gsub(&quot;\t&quot;, &quot; &#160;&#160;&quot;)</text>
<text text-anchor="middle" x="10753" y="-843.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;wide_frag = codepoints(frag)</text>
<text text-anchor="middle" x="10753" y="-827.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10753" y="-812.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;wide_frag = false</text>
<text text-anchor="middle" x="10753" y="-796.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10753" y="-781.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not wide_frag then</text>
<text text-anchor="middle" x="10753" y="-766.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;t_insert(line, linebuf.cursor, frag)</text>
<text text-anchor="middle" x="10753" y="-750.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;linebuf.cursor = linebuf.cursor + 1</text>
<text text-anchor="middle" x="10753" y="-735.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="10753" y="-719.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10753" y="-704.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;splice(line, linebuf.cursor, wide_frag)</text>
<text text-anchor="middle" x="10753" y="-689.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;linebuf.cursor = linebuf.cursor + #wide_frag</text>
<text text-anchor="middle" x="10753" y="-673.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="10753" y="-658.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10753" y="-626.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return false</text>
<text text-anchor="middle" x="10753" y="-611.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10753" y="-580.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">local remove = table.remove</text>
<text text-anchor="middle" x="10753" y="-548.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.d_back(linebuf)</text>
<text text-anchor="middle" x="10753" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;remove(linebuf.line, linebuf.cursor &#45; 1)</text>
<text text-anchor="middle" x="10753" y="-517.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.cursor = linebuf.cursor &gt; 1 and linebuf.cursor &#45; 1 or 1</text>
<text text-anchor="middle" x="10753" y="-502.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10753" y="-455.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.d_fwd(linebuf)</text>
<text text-anchor="middle" x="10753" y="-439.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;remove(linebuf.line, linebuf.cursor)</text>
<text text-anchor="middle" x="10753" y="-424.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10753" y="-392.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.left(linebuf, disp)</text>
<text text-anchor="middle" x="10753" y="-377.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local disp = disp or 1</text>
<text text-anchor="middle" x="10753" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if linebuf.cursor &#45; disp &gt;= 1 then</text>
<text text-anchor="middle" x="10753" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;linebuf.cursor = linebuf.cursor &#45; disp</text>
<text text-anchor="middle" x="10753" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return linebuf.cursor</text>
<text text-anchor="middle" x="10753" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10753" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;linebuf.cursor = 1</text>
<text text-anchor="middle" x="10753" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return linebuf.cursor</text>
<text text-anchor="middle" x="10753" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10753" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10753" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.right(linebuf, disp)</text>
<text text-anchor="middle" x="10753" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;disp = disp or 1</text>
<text text-anchor="middle" x="10753" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if linebuf.cursor + disp &lt;= #linebuf.line + 1 then</text>
<text text-anchor="middle" x="10753" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;linebuf.cursor = linebuf.cursor + disp</text>
<text text-anchor="middle" x="10753" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10753" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;linebuf.cursor = #linebuf.line + 1</text>
<text text-anchor="middle" x="10753" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10753" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return linebuf.cursor</text>
<text text-anchor="middle" x="10753" y="-99.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_134&#45;&gt;leaf_142 -->
<g id="edge142" class="edge">
<title>codeblock_134&#45;&gt;leaf_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10830.0077,-1344.013C10827.0451,-1316.8169 10821.0209,-1261.5166 10813.587,-1193.2753"/>
<polygon fill="#000000" stroke="#000000" points="10817.0426,-1192.677 10812.4802,-1183.1148 10810.0838,-1193.4351 10817.0426,-1192.677"/>
</g>
<!-- leaf_143 -->
<g id="node144" class="node">
<title>leaf_143</title>
<polygon fill="none" stroke="#c0c0c0" points="11481,-734.1013 11031,-734.1013 11031,-540.1007 11481,-540.1007 11481,-734.1013"/>
<text text-anchor="middle" x="11256" y="-718.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">local cl = assert(table.clone, &quot;table.clone must be provided&quot;)</text>
<text text-anchor="middle" x="11256" y="-687.5011" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.suspend(linebuf)</text>
<text text-anchor="middle" x="11256" y="-672.1011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.line = tostring(linebuf)</text>
<text text-anchor="middle" x="11256" y="-656.701" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return linebuf</text>
<text text-anchor="middle" x="11256" y="-641.301" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="11256" y="-609.901" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.resume(linebuf)</text>
<text text-anchor="middle" x="11256" y="-594.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.line = codepoints(linebuf.line)</text>
<text text-anchor="middle" x="11256" y="-579.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.cursor = #linebuf.line + 1</text>
<text text-anchor="middle" x="11256" y="-563.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return linebuf</text>
<text text-anchor="middle" x="11256" y="-548.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_135&#45;&gt;leaf_143 -->
<g id="edge143" class="edge">
<title>codeblock_135&#45;&gt;leaf_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11178.9923,-1344.013C11187.9693,-1261.6062 11225.0558,-921.1618 11244.2972,-744.5297"/>
<polygon fill="#000000" stroke="#000000" points="11247.7937,-744.7516 11245.3973,-734.4313 11240.8348,-743.9935 11247.7937,-744.7516"/>
</g>
<!-- leaf_144 -->
<g id="node145" class="node">
<title>leaf_144</title>
<polygon fill="none" stroke="#c0c0c0" points="11795,-710.2018 11499,-710.2018 11499,-564.0002 11795,-564.0002 11795,-710.2018"/>
<text text-anchor="middle" x="11647" y="-695.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.clone(linebuf)</text>
<text text-anchor="middle" x="11647" y="-679.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local lb = cl(linebuf)</text>
<text text-anchor="middle" x="11647" y="-664.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(lb.line) == &quot;table&quot; then</text>
<text text-anchor="middle" x="11647" y="-649.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;lb.line = cl(lb.line)</text>
<text text-anchor="middle" x="11647" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif type(lb.line) == &quot;string&quot; then</text>
<text text-anchor="middle" x="11647" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;lb:resume()</text>
<text text-anchor="middle" x="11647" y="-602.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11647" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return lb</text>
<text text-anchor="middle" x="11647" y="-572.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_136&#45;&gt;leaf_144 -->
<g id="edge144" class="edge">
<title>codeblock_136&#45;&gt;leaf_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11512.4803,-1344.013C11528.915,-1257.6474 11599.2832,-887.8568 11631.1765,-720.2547"/>
<polygon fill="#000000" stroke="#000000" points="11634.651,-720.7185 11633.0821,-710.2404 11627.7744,-719.4099 11634.651,-720.7185"/>
</g>
<!-- leaf_145 -->
<g id="node146" class="node">
<title>leaf_145</title>
<polygon fill="none" stroke="#c0c0c0" points="12102.5,-687.502 11813.5,-687.502 11813.5,-586.7 12102.5,-586.7 12102.5,-687.502"/>
<text text-anchor="middle" x="11958" y="-672.1011" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(line)</text>
<text text-anchor="middle" x="11958" y="-656.701" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local linebuf = meta(Linebuf)</text>
<text text-anchor="middle" x="11958" y="-641.301" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.cursor = line and #line or 1</text>
<text text-anchor="middle" x="11958" y="-625.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.line &#160;= line or {}</text>
<text text-anchor="middle" x="11958" y="-610.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return linebuf</text>
<text text-anchor="middle" x="11958" y="-595.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_137&#45;&gt;leaf_145 -->
<g id="edge145" class="edge">
<title>codeblock_137&#45;&gt;leaf_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11833.2281,-1344.013C11849.2022,-1253.5094 11920.1102,-851.7705 11947.3201,-697.6096"/>
<polygon fill="#000000" stroke="#000000" points="11950.8337,-697.8382 11949.1253,-687.3821 11943.9403,-696.6215 11950.8337,-697.8382"/>
</g>
<!-- leaf_146 -->
<g id="node147" class="node">
<title>leaf_146</title>
<polygon fill="none" stroke="#c0c0c0" points="12207,-655.101 12121,-655.101 12121,-619.101 12207,-619.101 12207,-655.101"/>
<text text-anchor="middle" x="12164" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000">return new</text>
</g>
<!-- codeblock_138&#45;&gt;leaf_146 -->
<g id="edge146" class="edge">
<title>codeblock_138&#45;&gt;leaf_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12158.1513,-1344.013C12158.9603,-1246.2356 12162.7748,-785.1849 12163.7648,-665.5276"/>
<polygon fill="#000000" stroke="#000000" points="12167.2661,-665.3693 12163.8491,-655.3407 12160.2664,-665.3113 12167.2661,-665.3693"/>
</g>
<!-- leaf_141 -->
<g id="node142" class="node">
<title>leaf_141</title>
<polygon fill="none" stroke="#c0c0c0" points="10571.5,-55.6015 10324.5,-55.6015 10324.5,.2015 10571.5,.2015 10571.5,-55.6015"/>
<text text-anchor="middle" x="10448" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">Decides when to emit a new token.</text>
</g>
<!-- raw_140&#45;&gt;leaf_141 -->
<g id="edge141" class="edge">
<title>raw_140&#45;&gt;leaf_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10448,-618.8628C10448,-534.747 10448,-183.3603 10448,-66.0304"/>
<polygon fill="#000000" stroke="#000000" points="10451.5001,-65.7413 10448,-55.7414 10444.5001,-65.7414 10451.5001,-65.7413"/>
</g>
</g>
</svg>
