<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="12219pt" height="1771pt"
 viewBox="0.00 0.00 12219.30 1771.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1767.0023)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1767.0023 12215.2972,-1767.0023 12215.2972,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="3545" cy="-1745.0023" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="3545" y="-1740.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 197</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="3545" cy="-1673.0023" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="3545" y="-1668.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;70</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3545,-1726.8337C3545,-1719.1333 3545,-1709.9767 3545,-1701.419"/>
<polygon fill="#000000" stroke="#000000" points="3548.5001,-1701.4156 3545,-1691.4156 3541.5001,-1701.4156 3548.5001,-1701.4156"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="1272" cy="-1601.0023" rx="51.319" ry="18"/>
<text text-anchor="middle" x="1272" y="-1596.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Linebuf</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3484.1262,-1672.24C3152.0788,-1667.9835 1566.5105,-1646.3614 1350,-1619.0023 1341.1843,-1617.8884 1331.9067,-1616.208 1322.9478,-1614.3137"/>
<polygon fill="#000000" stroke="#000000" points="1323.5314,-1610.858 1313.0099,-1612.1029 1322.0112,-1617.691 1323.5314,-1610.858"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="1391" cy="-1601.0023" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1391" y="-1596.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3484.2156,-1672.5985C3160.4939,-1670.2928 1646.0924,-1657.5123 1441,-1619.0023 1436.2084,-1618.1026 1431.2645,-1616.8074 1426.4354,-1615.3182"/>
<polygon fill="#000000" stroke="#000000" points="1427.3637,-1611.9376 1416.7695,-1612.0538 1425.1239,-1618.5696 1427.3637,-1611.9376"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="1482" cy="-1601.0023" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1482" y="-1596.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3484.101,-1672.6506C3168.1198,-1670.6544 1722.4811,-1659.3675 1527,-1619.0023 1523.5158,-1618.2829 1519.955,-1617.3101 1516.438,-1616.1872"/>
<polygon fill="#000000" stroke="#000000" points="1517.3363,-1612.7912 1506.7418,-1612.7113 1514.9741,-1619.3806 1517.3363,-1612.7912"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="1568" cy="-1601.0023" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1568" y="-1596.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3484.4816,-1670.7983C3184.901,-1659.888 1864.896,-1611.8149 1610.5064,-1602.5504"/>
<polygon fill="#000000" stroke="#000000" points="1610.3311,-1599.0418 1600.2103,-1602.1754 1610.0763,-1606.0371 1610.3311,-1599.0418"/>
</g>
<!-- prose_6 -->
<g id="node7" class="node">
<title>prose_6</title>
<ellipse fill="none" stroke="#000000" cx="3073" cy="-1601.0023" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3073" y="-1596.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;prose_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3490.8556,-1664.743C3395.5505,-1650.205 3199.8483,-1620.3521 3114.4217,-1607.3209"/>
<polygon fill="#000000" stroke="#000000" points="3114.7368,-1603.8286 3104.3233,-1605.7805 3113.6811,-1610.7485 3114.7368,-1603.8286"/>
</g>
<!-- prose_7 -->
<g id="node8" class="node">
<title>prose_7</title>
<ellipse fill="none" stroke="#000000" cx="3663" cy="-1601.0023" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3663" y="-1596.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;prose_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3571.776,-1656.6644C3589.7742,-1645.6825 3613.5436,-1631.1791 3632.307,-1619.7303"/>
<polygon fill="#000000" stroke="#000000" points="3634.3553,-1622.5806 3641.0687,-1614.3841 3630.7093,-1616.6051 3634.3553,-1622.5806"/>
</g>
<!-- prose_8 -->
<g id="node9" class="node">
<title>prose_8</title>
<ellipse fill="none" stroke="#000000" cx="4752" cy="-1601.0023" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4752" y="-1596.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;prose_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3604.8553,-1669.4318C3816.7122,-1656.7942 4528.0213,-1614.3631 4709.5471,-1603.5347"/>
<polygon fill="#000000" stroke="#000000" points="4709.9826,-1607.0151 4719.7564,-1602.9257 4709.5657,-1600.0275 4709.9826,-1607.0151"/>
</g>
<!-- prose_9 -->
<g id="node10" class="node">
<title>prose_9</title>
<ellipse fill="none" stroke="#000000" cx="5007" cy="-1601.0023" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5007" y="-1596.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;prose_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3605.7595,-1671.2496C3786.6007,-1665.8443 4337.1417,-1648.0242 4793,-1619.0023 4852.8114,-1615.1945 4921.8851,-1609.0717 4965.007,-1605.0424"/>
<polygon fill="#000000" stroke="#000000" points="4965.4962,-1608.512 4975.1245,-1604.0909 4964.8407,-1601.5427 4965.4962,-1608.512"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="7134" cy="-1601.0023" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="7134" y="-1596.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 27&#45;70</text>
</g>
<!-- section_1&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3605.7879,-1671.7829C4033.2655,-1663.2071 6584.4436,-1612.0272 7058.2876,-1602.5212"/>
<polygon fill="#000000" stroke="#000000" points="7058.5073,-1606.0176 7068.435,-1602.3177 7058.3668,-1599.019 7058.5073,-1606.0176"/>
</g>
<!-- section_11 -->
<g id="node12" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="8885" cy="-1601.0023" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="8885" y="-1596.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 71&#45;81</text>
</g>
<!-- section_1&#45;&gt;section_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;section_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3605.8907,-1672.1813C4152.0683,-1664.8171 8202.3749,-1610.2063 8809.0495,-1602.0264"/>
<polygon fill="#000000" stroke="#000000" points="8809.4644,-1605.5212 8819.4162,-1601.8866 8809.3699,-1598.5218 8809.4644,-1605.5212"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="1211.5,-1547.0023 1132.5,-1547.0023 1132.5,-1511.0023 1211.5,-1511.0023 1211.5,-1547.0023"/>
<text text-anchor="middle" x="1172" y="-1525.5024" font-family="Inconsolata" font-size="14.00" fill="#000000">* Linebuf</text>
</g>
<!-- header_2&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>header_2&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1249.3085,-1584.6644C1236.3022,-1575.2999 1219.7398,-1563.375 1205.2839,-1552.9668"/>
<polygon fill="#000000" stroke="#000000" points="1207.2193,-1550.0474 1197.0588,-1547.0447 1203.1291,-1555.7281 1207.2193,-1550.0474"/>
</g>
<!-- raw_13 -->
<g id="node14" class="node">
<title>raw_13</title>
<ellipse fill="none" stroke="#000000" cx="1257" cy="-1529.0023" rx="27" ry="18"/>
<text text-anchor="middle" x="1257" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_13 -->
<g id="edge13" class="edge">
<title>prose_3&#45;&gt;raw_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1367.659,-1588.4609C1345.3184,-1576.457 1311.507,-1558.2897 1287.1397,-1545.1968"/>
<polygon fill="#000000" stroke="#000000" points="1288.7723,-1542.1008 1278.3067,-1540.4507 1285.4591,-1548.2671 1288.7723,-1542.1008"/>
</g>
<!-- raw_15 -->
<g id="node16" class="node">
<title>raw_15</title>
<ellipse fill="none" stroke="#000000" cx="1329" cy="-1529.0023" rx="27" ry="18"/>
<text text-anchor="middle" x="1329" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_15 -->
<g id="edge15" class="edge">
<title>prose_4&#45;&gt;raw_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1456.7882,-1589.6409C1433.0209,-1578.8656 1396.4552,-1562.1205 1365,-1547.0023 1363.2523,-1546.1623 1361.4605,-1545.293 1359.6546,-1544.4104"/>
<polygon fill="#000000" stroke="#000000" points="1361.1642,-1541.2524 1350.6481,-1539.9633 1358.065,-1547.529 1361.1642,-1541.2524"/>
</g>
<!-- raw_17 -->
<g id="node18" class="node">
<title>raw_17</title>
<ellipse fill="none" stroke="#000000" cx="1401" cy="-1529.0023" rx="27" ry="18"/>
<text text-anchor="middle" x="1401" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_17 -->
<g id="edge17" class="edge">
<title>prose_5&#45;&gt;raw_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1541.7249,-1590.435C1509.3823,-1577.3814 1456.3652,-1555.8209 1437,-1547.0023 1435.2353,-1546.1987 1433.4301,-1545.3578 1431.6141,-1544.4972"/>
<polygon fill="#000000" stroke="#000000" points="1433.1037,-1541.3297 1422.5793,-1540.1104 1430.0462,-1547.6267 1433.1037,-1541.3297"/>
</g>
<!-- link_18 -->
<g id="node19" class="node">
<title>link_18</title>
<ellipse fill="none" stroke="#000000" cx="1473" cy="-1529.0023" rx="27" ry="18"/>
<text text-anchor="middle" x="1473" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">link</text>
</g>
<!-- prose_5&#45;&gt;link_18 -->
<g id="edge18" class="edge">
<title>prose_5&#45;&gt;link_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1548.7753,-1586.4321C1534.5026,-1575.6149 1514.8748,-1560.739 1499.1718,-1548.8378"/>
<polygon fill="#000000" stroke="#000000" points="1500.9944,-1545.8275 1490.9106,-1542.5767 1496.7663,-1551.4063 1500.9944,-1545.8275"/>
</g>
<!-- raw_19 -->
<g id="node20" class="node">
<title>raw_19</title>
<ellipse fill="none" stroke="#000000" cx="1616" cy="-1529.0023" rx="27" ry="18"/>
<text text-anchor="middle" x="1616" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_19 -->
<g id="edge19" class="edge">
<title>prose_5&#45;&gt;raw_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1579.3753,-1583.9393C1585.2336,-1575.152 1592.4948,-1564.2602 1599.0029,-1554.4979"/>
<polygon fill="#000000" stroke="#000000" points="1602.0715,-1556.2048 1604.7063,-1545.9429 1596.2471,-1552.3219 1602.0715,-1556.2048"/>
</g>
<!-- raw_26 -->
<g id="node27" class="node">
<title>raw_26</title>
<ellipse fill="none" stroke="#000000" cx="2198" cy="-1529.0023" rx="27" ry="18"/>
<text text-anchor="middle" x="2198" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_26 -->
<g id="edge26" class="edge">
<title>prose_6&#45;&gt;raw_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3040.3991,-1600.7616C2931.1944,-1599.5389 2568.5197,-1592.1106 2273,-1547.0023 2259.8662,-1544.9976 2245.647,-1541.843 2233.1567,-1538.731"/>
<polygon fill="#000000" stroke="#000000" points="2233.6898,-1535.2542 2223.1332,-1536.1531 2231.9462,-1542.0336 2233.6898,-1535.2542"/>
</g>
<!-- prespace_27 -->
<g id="node28" class="node">
<title>prespace_27</title>
<ellipse fill="none" stroke="#000000" cx="2328" cy="-1529.0023" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2328" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_6&#45;&gt;prespace_27 -->
<g id="edge27" class="edge">
<title>prose_6&#45;&gt;prespace_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3040.7031,-1599.2105C2946.8801,-1593.8026 2666.3227,-1576.1987 2435,-1547.0023 2417.0336,-1544.7347 2397.4721,-1541.6319 2380.047,-1538.6409"/>
<polygon fill="#000000" stroke="#000000" points="2380.5151,-1535.1698 2370.0625,-1536.9 2379.3126,-1542.0658 2380.5151,-1535.1698"/>
</g>
<!-- literal_28 -->
<g id="node29" class="node">
<title>literal_28</title>
<ellipse fill="none" stroke="#000000" cx="2475" cy="-1529.0023" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2475" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_6&#45;&gt;literal_28 -->
<g id="edge28" class="edge">
<title>prose_6&#45;&gt;literal_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3040.6972,-1598.9595C2958.9635,-1593.5041 2737.4659,-1576.9343 2555,-1547.0023 2541.4763,-1544.7839 2526.8111,-1541.6886 2513.7752,-1538.6896"/>
<polygon fill="#000000" stroke="#000000" points="2514.2588,-1535.2079 2503.7229,-1536.3237 2512.655,-1542.0217 2514.2588,-1535.2079"/>
</g>
<!-- raw_29 -->
<g id="node30" class="node">
<title>raw_29</title>
<ellipse fill="none" stroke="#000000" cx="2591" cy="-1529.0023" rx="27" ry="18"/>
<text text-anchor="middle" x="2591" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_29 -->
<g id="edge29" class="edge">
<title>prose_6&#45;&gt;raw_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3041.0908,-1598.2565C2971.3278,-1591.9443 2800.1748,-1574.7738 2659,-1547.0023 2648.0126,-1544.8409 2636.1721,-1541.9186 2625.4992,-1539.0577"/>
<polygon fill="#000000" stroke="#000000" points="2626.2604,-1535.6371 2615.6903,-1536.3604 2624.4044,-1542.3866 2626.2604,-1535.6371"/>
</g>
<!-- prespace_30 -->
<g id="node31" class="node">
<title>prespace_30</title>
<ellipse fill="none" stroke="#000000" cx="2714" cy="-1529.0023" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2714" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_6&#45;&gt;prespace_30 -->
<g id="edge30" class="edge">
<title>prose_6&#45;&gt;prespace_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3041.2991,-1596.788C2985.8258,-1589.0954 2867.7456,-1571.3041 2770,-1547.0023 2766.2062,-1546.0591 2762.2948,-1544.9955 2758.3857,-1543.8685"/>
<polygon fill="#000000" stroke="#000000" points="2759.3266,-1540.4967 2748.7423,-1540.9694 2757.3112,-1547.2003 2759.3266,-1540.4967"/>
</g>
<!-- literal_31 -->
<g id="node32" class="node">
<title>literal_31</title>
<ellipse fill="none" stroke="#000000" cx="2810" cy="-1529.0023" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2810" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_6&#45;&gt;literal_31 -->
<g id="edge31" class="edge">
<title>prose_6&#45;&gt;literal_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3042.1894,-1595.421C2998.6847,-1587.1191 2917.074,-1569.9931 2850,-1547.0023 2847.8929,-1546.2801 2845.7451,-1545.4879 2843.5934,-1544.6512"/>
<polygon fill="#000000" stroke="#000000" points="2844.8272,-1541.3739 2834.2492,-1540.7765 2842.1459,-1547.84 2844.8272,-1541.3739"/>
</g>
<!-- raw_32 -->
<g id="node33" class="node">
<title>raw_32</title>
<ellipse fill="none" stroke="#000000" cx="2886" cy="-1529.0023" rx="27" ry="18"/>
<text text-anchor="middle" x="2886" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_32 -->
<g id="edge32" class="edge">
<title>prose_6&#45;&gt;raw_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3044.7815,-1592.0395C3014.1521,-1582.0509 2963.9919,-1564.932 2922,-1547.0023 2920.2167,-1546.2409 2918.3969,-1545.433 2916.5697,-1544.5977"/>
<polygon fill="#000000" stroke="#000000" points="2918.0375,-1541.4202 2907.504,-1540.2809 2915.028,-1547.7402 2918.0375,-1541.4202"/>
</g>
<!-- prespace_33 -->
<g id="node34" class="node">
<title>prespace_33</title>
<ellipse fill="none" stroke="#000000" cx="2977" cy="-1529.0023" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2977" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_6&#45;&gt;prespace_33 -->
<g id="edge33" class="edge">
<title>prose_6&#45;&gt;prespace_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3053.573,-1586.4321C3040.0746,-1576.3083 3021.8362,-1562.6295 3006.5453,-1551.1613"/>
<polygon fill="#000000" stroke="#000000" points="3008.5024,-1548.2542 2998.4024,-1545.0541 3004.3024,-1553.8542 3008.5024,-1548.2542"/>
</g>
<!-- literal_34 -->
<g id="node35" class="node">
<title>literal_34</title>
<ellipse fill="none" stroke="#000000" cx="3073" cy="-1529.0023" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3073" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_6&#45;&gt;literal_34 -->
<g id="edge34" class="edge">
<title>prose_6&#45;&gt;literal_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3073,-1582.8337C3073,-1575.1333 3073,-1565.9767 3073,-1557.419"/>
<polygon fill="#000000" stroke="#000000" points="3076.5001,-1557.4156 3073,-1547.4156 3069.5001,-1557.4156 3076.5001,-1557.4156"/>
</g>
<!-- raw_35 -->
<g id="node36" class="node">
<title>raw_35</title>
<ellipse fill="none" stroke="#000000" cx="3149" cy="-1529.0023" rx="27" ry="18"/>
<text text-anchor="middle" x="3149" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_35 -->
<g id="edge35" class="edge">
<title>prose_6&#45;&gt;raw_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3089.4909,-1585.3794C3100.1629,-1575.2691 3114.2097,-1561.9616 3125.976,-1550.8145"/>
<polygon fill="#000000" stroke="#000000" points="3128.468,-1553.275 3133.3204,-1543.8567 3123.6538,-1548.1933 3128.468,-1553.275"/>
</g>
<!-- prespace_36 -->
<g id="node37" class="node">
<title>prespace_36</title>
<ellipse fill="none" stroke="#000000" cx="3243" cy="-1529.0023" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="3243" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_6&#45;&gt;prespace_36 -->
<g id="edge36" class="edge">
<title>prose_6&#45;&gt;prespace_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3098.8193,-1590.0671C3126.1768,-1578.4804 3169.7714,-1560.0168 3201.869,-1546.4225"/>
<polygon fill="#000000" stroke="#000000" points="3203.5873,-1549.4958 3211.4305,-1542.373 3200.8573,-1543.0501 3203.5873,-1549.4958"/>
</g>
<!-- literal_37 -->
<g id="node38" class="node">
<title>literal_37</title>
<ellipse fill="none" stroke="#000000" cx="3341" cy="-1529.0023" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3341" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_6&#45;&gt;literal_37 -->
<g id="edge37" class="edge">
<title>prose_6&#45;&gt;literal_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3103.638,-1595.2786C3147.3432,-1586.748 3229.8437,-1569.2859 3298,-1547.0023 3300.9062,-1546.0522 3303.8912,-1544.9904 3306.8684,-1543.8706"/>
<polygon fill="#000000" stroke="#000000" points="3308.2332,-1547.0947 3316.2453,-1540.1624 3305.6589,-1540.5853 3308.2332,-1547.0947"/>
</g>
<!-- raw_38 -->
<g id="node39" class="node">
<title>raw_38</title>
<ellipse fill="none" stroke="#000000" cx="3420" cy="-1529.0023" rx="27" ry="18"/>
<text text-anchor="middle" x="3420" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_38 -->
<g id="edge38" class="edge">
<title>prose_6&#45;&gt;raw_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3105.1243,-1598.1328C3161.8613,-1592.46 3283.0696,-1577.6163 3381,-1547.0023 3383.7358,-1546.1471 3386.5293,-1545.1429 3389.3014,-1544.0537"/>
<polygon fill="#000000" stroke="#000000" points="3390.7053,-1547.2601 3398.5296,-1540.1164 3387.9582,-1540.8216 3390.7053,-1547.2601"/>
</g>
<!-- prespace_39 -->
<g id="node40" class="node">
<title>prespace_39</title>
<ellipse fill="none" stroke="#000000" cx="3516" cy="-1529.0023" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="3516" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_6&#45;&gt;prespace_39 -->
<g id="edge39" class="edge">
<title>prose_6&#45;&gt;prespace_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3105.0679,-1598.1374C3171.2282,-1591.8645 3327.4363,-1575.1802 3456,-1547.0023 3460.7306,-1545.9655 3465.631,-1544.7447 3470.4989,-1543.4354"/>
<polygon fill="#000000" stroke="#000000" points="3471.7029,-1546.7326 3480.3805,-1540.6539 3469.8063,-1539.9944 3471.7029,-1546.7326"/>
</g>
<!-- literal_40 -->
<g id="node41" class="node">
<title>literal_40</title>
<ellipse fill="none" stroke="#000000" cx="3614" cy="-1529.0023" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3614" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_6&#45;&gt;literal_40 -->
<g id="edge40" class="edge">
<title>prose_6&#45;&gt;literal_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3105.1775,-1598.7305C3200.7903,-1591.7879 3482.0495,-1569.9262 3571,-1547.0023 3574.1348,-1546.1945 3577.3397,-1545.1996 3580.5164,-1544.0959"/>
<polygon fill="#000000" stroke="#000000" points="3581.7635,-1547.3663 3589.8631,-1540.5365 3579.2722,-1540.8246 3581.7635,-1547.3663"/>
</g>
<!-- raw_41 -->
<g id="node42" class="node">
<title>raw_41</title>
<ellipse fill="none" stroke="#000000" cx="3696" cy="-1529.0023" rx="27" ry="18"/>
<text text-anchor="middle" x="3696" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_41 -->
<g id="edge41" class="edge">
<title>prose_6&#45;&gt;raw_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3105.1818,-1599.3342C3211.1765,-1593.6333 3548.575,-1573.7853 3654,-1547.0023 3657.5945,-1546.0892 3661.2769,-1544.9092 3664.8951,-1543.5904"/>
<polygon fill="#000000" stroke="#000000" points="3666.2325,-1546.8252 3674.2186,-1539.8629 3663.6338,-1540.3254 3666.2325,-1546.8252"/>
</g>
<!-- raw_58 -->
<g id="node59" class="node">
<title>raw_58</title>
<ellipse fill="none" stroke="#000000" cx="3899" cy="-1529.0023" rx="27" ry="18"/>
<text text-anchor="middle" x="3899" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_7&#45;&gt;raw_58 -->
<g id="edge58" class="edge">
<title>prose_7&#45;&gt;raw_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3691.4671,-1592.3175C3734.9829,-1579.0414 3817.9078,-1553.7423 3864.6845,-1539.4715"/>
<polygon fill="#000000" stroke="#000000" points="3865.8242,-1542.7831 3874.3676,-1536.5173 3863.7815,-1536.0878 3865.8242,-1542.7831"/>
</g>
<!-- raw_60 -->
<g id="node61" class="node">
<title>raw_60</title>
<ellipse fill="none" stroke="#000000" cx="4426" cy="-1529.0023" rx="27" ry="18"/>
<text text-anchor="middle" x="4426" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_8&#45;&gt;raw_60 -->
<g id="edge60" class="edge">
<title>prose_8&#45;&gt;raw_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4721.6841,-1594.7871C4674.2941,-1585.0081 4579.8189,-1565.2584 4500,-1547.0023 4487.3124,-1544.1004 4473.4407,-1540.7688 4461.1715,-1537.767"/>
<polygon fill="#000000" stroke="#000000" points="4461.85,-1534.3296 4451.3034,-1535.3397 4460.178,-1541.127 4461.85,-1534.3296"/>
</g>
<!-- prespace_61 -->
<g id="node62" class="node">
<title>prespace_61</title>
<ellipse fill="none" stroke="#000000" cx="4555" cy="-1529.0023" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4555" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_8&#45;&gt;prespace_61 -->
<g id="edge61" class="edge">
<title>prose_8&#45;&gt;prespace_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4725.0211,-1591.142C4692.3803,-1579.2124 4637.0057,-1558.974 4598.3508,-1544.8463"/>
<polygon fill="#000000" stroke="#000000" points="4599.5014,-1541.5404 4588.9075,-1541.3949 4597.0984,-1548.1151 4599.5014,-1541.5404"/>
</g>
<!-- literal_62 -->
<g id="node63" class="node">
<title>literal_62</title>
<ellipse fill="none" stroke="#000000" cx="4701" cy="-1529.0023" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4701" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_8&#45;&gt;literal_62 -->
<g id="edge62" class="edge">
<title>prose_8&#45;&gt;literal_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4739.9137,-1583.9393C4733.6258,-1575.0623 4725.8167,-1564.0377 4718.8479,-1554.1994"/>
<polygon fill="#000000" stroke="#000000" points="4721.6358,-1552.08 4712.9995,-1545.9429 4715.9237,-1556.1262 4721.6358,-1552.08"/>
</g>
<!-- raw_63 -->
<g id="node64" class="node">
<title>raw_63</title>
<ellipse fill="none" stroke="#000000" cx="4790" cy="-1529.0023" rx="27" ry="18"/>
<text text-anchor="middle" x="4790" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_8&#45;&gt;raw_63 -->
<g id="edge63" class="edge">
<title>prose_8&#45;&gt;raw_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4761.1987,-1583.5731C4765.6797,-1575.083 4771.1621,-1564.6952 4776.1366,-1555.2698"/>
<polygon fill="#000000" stroke="#000000" points="4779.3137,-1556.7486 4780.886,-1546.271 4773.123,-1553.4812 4779.3137,-1556.7486"/>
</g>
<!-- prespace_64 -->
<g id="node65" class="node">
<title>prespace_64</title>
<ellipse fill="none" stroke="#000000" cx="4912" cy="-1529.0023" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4912" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_8&#45;&gt;prespace_64 -->
<g id="edge64" class="edge">
<title>prose_8&#45;&gt;prespace_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4777.3525,-1589.5937C4802.8756,-1578.1083 4842.6141,-1560.226 4872.3152,-1546.8605"/>
<polygon fill="#000000" stroke="#000000" points="4873.8921,-1549.989 4881.575,-1542.6936 4871.0195,-1543.6055 4873.8921,-1549.989"/>
</g>
<!-- literal_65 -->
<g id="node66" class="node">
<title>literal_65</title>
<ellipse fill="none" stroke="#000000" cx="5039" cy="-1529.0023" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5039" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_8&#45;&gt;literal_65 -->
<g id="edge65" class="edge">
<title>prose_8&#45;&gt;literal_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4781.6331,-1593.5683C4833.7843,-1580.485 4941.9344,-1553.3533 5000.0514,-1538.7734"/>
<polygon fill="#000000" stroke="#000000" points="5001.1078,-1542.1169 5009.9556,-1536.2887 4999.4045,-1535.3273 5001.1078,-1542.1169"/>
</g>
<!-- raw_66 -->
<g id="node67" class="node">
<title>raw_66</title>
<ellipse fill="none" stroke="#000000" cx="5219" cy="-1529.0023" rx="27" ry="18"/>
<text text-anchor="middle" x="5219" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_8&#45;&gt;raw_66 -->
<g id="edge66" class="edge">
<title>prose_8&#45;&gt;raw_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4783.3663,-1596.1664C4866.7745,-1583.3069 5093.7297,-1548.316 5182.6105,-1534.6127"/>
<polygon fill="#000000" stroke="#000000" points="5183.1512,-1538.0708 5192.5011,-1533.0878 5182.0845,-1531.1525 5183.1512,-1538.0708"/>
</g>
<!-- raw_74 -->
<g id="node75" class="node">
<title>raw_74</title>
<ellipse fill="none" stroke="#000000" cx="5530" cy="-1529.0023" rx="27" ry="18"/>
<text text-anchor="middle" x="5530" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_9&#45;&gt;raw_74 -->
<g id="edge74" class="edge">
<title>prose_9&#45;&gt;raw_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5038.5382,-1596.6606C5130.1634,-1584.0468 5395.9988,-1547.4499 5493.5506,-1534.0202"/>
<polygon fill="#000000" stroke="#000000" points="5494.0981,-1537.478 5503.5273,-1532.6468 5493.1434,-1530.5434 5494.0981,-1537.478"/>
</g>
<!-- header_76 -->
<g id="node77" class="node">
<title>header_76</title>
<ellipse fill="none" stroke="#000000" cx="6211" cy="-1529.0023" rx="78.8574" ry="18"/>
<text text-anchor="middle" x="6211" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Instance fields</text>
</g>
<!-- section_10&#45;&gt;header_76 -->
<g id="edge76" class="edge">
<title>section_10&#45;&gt;header_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7069.7371,-1597.0665C6940.01,-1588.9687 6637.5835,-1569.3179 6384,-1547.0023 6353.9975,-1544.3621 6321.1129,-1541.0469 6292.1461,-1537.9834"/>
<polygon fill="#000000" stroke="#000000" points="6292.389,-1534.4895 6282.0748,-1536.9118 6291.6483,-1541.4503 6292.389,-1534.4895"/>
</g>
<!-- prose_77 -->
<g id="node78" class="node">
<title>prose_77</title>
<ellipse fill="none" stroke="#000000" cx="6425" cy="-1529.0023" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6425" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_77 -->
<g id="edge77" class="edge">
<title>section_10&#45;&gt;prose_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7072.3212,-1594.7388C6931.0422,-1580.3917 6586.9565,-1545.4493 6467.0455,-1533.2721"/>
<polygon fill="#000000" stroke="#000000" points="6467.1151,-1529.7613 6456.8127,-1532.233 6466.4079,-1536.7255 6467.1151,-1529.7613"/>
</g>
<!-- prose_78 -->
<g id="node79" class="node">
<title>prose_78</title>
<ellipse fill="none" stroke="#000000" cx="6996" cy="-1529.0023" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6996" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_78 -->
<g id="edge78" class="edge">
<title>section_10&#45;&gt;prose_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7103.3733,-1585.0232C7081.1799,-1573.4441 7051.2205,-1557.8131 7028.5872,-1546.0043"/>
<polygon fill="#000000" stroke="#000000" points="7030.1736,-1542.8843 7019.6887,-1541.3617 7026.9356,-1549.0904 7030.1736,-1542.8843"/>
</g>
<!-- prose_79 -->
<g id="node80" class="node">
<title>prose_79</title>
<ellipse fill="none" stroke="#000000" cx="7134" cy="-1529.0023" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7134" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_79 -->
<g id="edge79" class="edge">
<title>section_10&#45;&gt;prose_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7134,-1582.8337C7134,-1575.1333 7134,-1565.9767 7134,-1557.419"/>
<polygon fill="#000000" stroke="#000000" points="7137.5001,-1557.4156 7134,-1547.4156 7130.5001,-1557.4156 7137.5001,-1557.4156"/>
</g>
<!-- prose_80 -->
<g id="node81" class="node">
<title>prose_80</title>
<ellipse fill="none" stroke="#000000" cx="7216" cy="-1529.0023" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7216" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_80 -->
<g id="edge80" class="edge">
<title>section_10&#45;&gt;prose_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7153.8499,-1583.5731C7164.9412,-1573.8345 7178.8761,-1561.5989 7190.7387,-1551.183"/>
<polygon fill="#000000" stroke="#000000" points="7193.3546,-1553.5438 7198.5597,-1544.3157 7188.736,-1548.2837 7193.3546,-1553.5438"/>
</g>
<!-- codeblock_81 -->
<g id="node82" class="node">
<title>codeblock_81</title>
<ellipse fill="none" stroke="#000000" cx="7407" cy="-1529.0023" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="7407" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 41&#45;43</text>
</g>
<!-- section_10&#45;&gt;codeblock_81 -->
<g id="edge81" class="edge">
<title>section_10&#45;&gt;codeblock_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7181.553,-1588.4609C7227.0015,-1576.4745 7295.7516,-1558.3426 7345.3791,-1545.254"/>
<polygon fill="#000000" stroke="#000000" points="7346.5731,-1548.5589 7355.3499,-1542.6243 7344.788,-1541.7903 7346.5731,-1548.5589"/>
</g>
<!-- codeblock_82 -->
<g id="node83" class="node">
<title>codeblock_82</title>
<ellipse fill="none" stroke="#000000" cx="7682" cy="-1529.0023" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="7682" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 45&#45;47</text>
</g>
<!-- section_10&#45;&gt;codeblock_82 -->
<g id="edge82" class="edge">
<title>section_10&#45;&gt;codeblock_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7193.4273,-1593.1944C7292.978,-1580.1147 7493.3967,-1553.7823 7604.0994,-1539.2375"/>
<polygon fill="#000000" stroke="#000000" points="7604.7403,-1542.6834 7614.1992,-1537.9105 7603.8284,-1535.7431 7604.7403,-1542.6834"/>
</g>
<!-- codeblock_83 -->
<g id="node84" class="node">
<title>codeblock_83</title>
<ellipse fill="none" stroke="#000000" cx="7947" cy="-1529.0023" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="7947" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 49&#45;68</text>
</g>
<!-- section_10&#45;&gt;codeblock_83 -->
<g id="edge83" class="edge">
<title>section_10&#45;&gt;codeblock_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7197.4699,-1595.9187C7311.6581,-1586.701 7559.285,-1566.3838 7768,-1547.0023 7799.9922,-1544.0315 7835.177,-1540.5417 7865.8227,-1537.4298"/>
<polygon fill="#000000" stroke="#000000" points="7866.4365,-1540.8855 7876.0303,-1536.3902 7865.7272,-1533.9215 7866.4365,-1540.8855"/>
</g>
<!-- header_108 -->
<g id="node109" class="node">
<title>header_108</title>
<ellipse fill="none" stroke="#000000" cx="8411" cy="-1529.0023" rx="127.6874" ry="18"/>
<text text-anchor="middle" x="8411" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Linebuf.insert(linebuf, frag)</text>
</g>
<!-- section_11&#45;&gt;header_108 -->
<g id="edge108" class="edge">
<title>section_11&#45;&gt;header_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8827.3522,-1592.2457C8748.0018,-1580.1925 8604.0544,-1558.3271 8507.9751,-1543.7327"/>
<polygon fill="#000000" stroke="#000000" points="8508.3716,-1540.2529 8497.9594,-1542.2114 8507.3203,-1547.1735 8508.3716,-1540.2529"/>
</g>
<!-- prose_109 -->
<g id="node110" class="node">
<title>prose_109</title>
<ellipse fill="none" stroke="#000000" cx="8676" cy="-1529.0023" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8676" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_109 -->
<g id="edge109" class="edge">
<title>section_11&#45;&gt;prose_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8843.7083,-1586.7775C8805.7582,-1573.7037 8749.9932,-1554.4928 8713.3454,-1541.8677"/>
<polygon fill="#000000" stroke="#000000" points="8714.1411,-1538.4401 8703.5464,-1538.492 8711.8611,-1545.0583 8714.1411,-1538.4401"/>
</g>
<!-- prose_110 -->
<g id="node111" class="node">
<title>prose_110</title>
<ellipse fill="none" stroke="#000000" cx="9094" cy="-1529.0023" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9094" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_110 -->
<g id="edge110" class="edge">
<title>section_11&#45;&gt;prose_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8926.2917,-1586.7775C8964.2418,-1573.7037 9020.0068,-1554.4928 9056.6546,-1541.8677"/>
<polygon fill="#000000" stroke="#000000" points="9058.1389,-1545.0583 9066.4536,-1538.492 9055.8589,-1538.4401 9058.1389,-1545.0583"/>
</g>
<!-- prose_111 -->
<g id="node112" class="node">
<title>prose_111</title>
<ellipse fill="none" stroke="#000000" cx="9433" cy="-1529.0023" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9433" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_111 -->
<g id="edge111" class="edge">
<title>section_11&#45;&gt;prose_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8944.4273,-1593.1944C9056.1754,-1578.5121 9295.0233,-1547.1307 9391.3996,-1534.4681"/>
<polygon fill="#000000" stroke="#000000" points="9391.8953,-1537.9331 9401.3541,-1533.1602 9390.9834,-1530.9928 9391.8953,-1537.9331"/>
</g>
<!-- section_112 -->
<g id="node113" class="node">
<title>section_112</title>
<ellipse fill="none" stroke="#000000" cx="10978" cy="-1529.0023" rx="70.655" ry="18"/>
<text text-anchor="middle" x="10978" y="-1524.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 82&#45;197</text>
</g>
<!-- section_11&#45;&gt;section_112 -->
<g id="edge112" class="edge">
<title>section_11&#45;&gt;section_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8950.224,-1598.7586C9257.4813,-1588.1888 10559.7037,-1543.3919 10897.6256,-1531.7672"/>
<polygon fill="#000000" stroke="#000000" points="10897.942,-1535.2585 10907.8157,-1531.4167 10897.7012,-1528.2627 10897.942,-1535.2585"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="548,-1374.8024 0,-1374.8024 0,-1288.2018 548,-1288.2018 548,-1374.8024"/>
<text text-anchor="middle" x="274" y="-1311.7021" font-family="Inconsolata" font-size="14.00" fill="#000000">Rather than derive this from [[espalier&#39;s Phrase class][@/espalier/phrase]],</text>
<text text-anchor="middle" x="274" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m going to port it.</text>
</g>
<!-- raw_13&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>raw_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1236.4259,-1517.2095C1231.2199,-1514.7309 1225.5321,-1512.4356 1220,-1511.0023 934.3314,-1436.9895 842.048,-1551.3704 557,-1475.0023 481.9946,-1454.9074 403.7874,-1413.435 348.6447,-1380.2193"/>
<polygon fill="#000000" stroke="#000000" points="350.3601,-1377.1661 339.9967,-1374.9638 346.7248,-1383.1482 350.3601,-1377.1661"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="848,-1351.4042 566,-1351.4042 566,-1311.6 848,-1311.6 848,-1351.4042"/>
<text text-anchor="middle" x="707" y="-1320.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">The concepts are close, but different.</text>
</g>
<!-- raw_15&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>raw_15&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1308.6019,-1517.1286C1303.6408,-1514.7171 1298.2485,-1512.472 1293,-1511.0023 1105.7643,-1458.5751 1034.3143,-1554.7863 857,-1475.0023 800.4943,-1449.5771 752.23,-1393.5777 726.624,-1359.5394"/>
<polygon fill="#000000" stroke="#000000" points="729.3649,-1357.359 720.611,-1351.3907 723.7324,-1361.5153 729.3649,-1357.359"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="1260,-1351.4042 866,-1351.4042 866,-1311.6 1260,-1311.6 1260,-1351.4042"/>
<text text-anchor="middle" x="1063" y="-1320.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">The main notes on where I&#39;m going with this are under </text>
</g>
<!-- raw_17&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>raw_17&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1379.4722,-1517.7789C1374.7475,-1515.4452 1369.7399,-1513.0692 1365,-1511.0023 1323.2306,-1492.788 1309.3424,-1496.1903 1269,-1475.0023 1203.4343,-1440.567 1134.1542,-1388.6263 1094.9742,-1357.5878"/>
<polygon fill="#000000" stroke="#000000" points="1097.0835,-1354.7933 1087.0827,-1351.2956 1092.7195,-1360.2665 1097.0835,-1354.7933"/>
</g>
<!-- anchortext_21 -->
<g id="node22" class="node">
<title>anchortext_21</title>
<ellipse fill="none" stroke="#000000" cx="1329" cy="-1331.5021" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="1329" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">anchortext</text>
</g>
<!-- link_18&#45;&gt;anchortext_21 -->
<g id="edge21" class="edge">
<title>link_18&#45;&gt;anchortext_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1451.7904,-1517.3134C1430.0385,-1504.9939 1398.1337,-1485.8961 1389,-1475.0023 1360.1635,-1440.6092 1343.4795,-1390.3852 1335.3233,-1359.3852"/>
<polygon fill="#000000" stroke="#000000" points="1338.7111,-1358.505 1332.8791,-1349.6597 1331.9222,-1360.2113 1338.7111,-1358.505"/>
</g>
<!-- url_22 -->
<g id="node23" class="node">
<title>url_22</title>
<ellipse fill="none" stroke="#000000" cx="1425" cy="-1331.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="1425" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">url</text>
</g>
<!-- link_18&#45;&gt;url_22 -->
<g id="edge22" class="edge">
<title>link_18&#45;&gt;url_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1468.6557,-1511.1272C1460.27,-1476.6238 1441.7985,-1400.621 1431.7808,-1359.4023"/>
<polygon fill="#000000" stroke="#000000" points="1435.1318,-1358.3697 1429.3691,-1349.4792 1428.3298,-1360.0229 1435.1318,-1358.3697"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="1997.5,-1358.7026 1470.5,-1358.7026 1470.5,-1304.3016 1997.5,-1304.3016 1997.5,-1358.7026"/>
<text text-anchor="middle" x="1734" y="-1343.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">,</text>
<text text-anchor="middle" x="1734" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">which will build from this class and is a generalization of it to support</text>
<text text-anchor="middle" x="1734" y="-1312.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">complex text types.</text>
</g>
<!-- raw_19&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>raw_19&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1626.0606,-1512.1636C1645.1046,-1480.2891 1686.8045,-1410.4946 1712.4385,-1367.5902"/>
<polygon fill="#000000" stroke="#000000" points="1715.5263,-1369.2461 1717.6507,-1358.8664 1709.5171,-1365.6558 1715.5263,-1369.2461"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="1361.5,-639.701 1296.5,-639.701 1296.5,-603.701 1361.5,-603.701 1361.5,-639.701"/>
<text text-anchor="middle" x="1329" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">rainbuf</text>
</g>
<!-- anchortext_21&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>anchortext_21&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1329,-1313.2431C1329,-1216.8691 1329,-767.3293 1329,-649.8501"/>
<polygon fill="#000000" stroke="#000000" points="1332.5001,-649.8392 1329,-639.8393 1325.5001,-649.8393 1332.5001,-649.8392"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="1457.5,-639.701 1392.5,-639.701 1392.5,-603.701 1457.5,-603.701 1457.5,-639.701"/>
<text text-anchor="middle" x="1425" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">rainbuf</text>
</g>
<!-- url_22&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>url_22&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1425,-1313.2431C1425,-1216.8691 1425,-767.3293 1425,-649.8501"/>
<polygon fill="#000000" stroke="#000000" points="1428.5001,-649.8392 1425,-639.8393 1421.5001,-649.8393 1428.5001,-649.8392"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="2262.5,-1351.4042 2015.5,-1351.4042 2015.5,-1311.6 2262.5,-1311.6 2262.5,-1351.4042"/>
<text text-anchor="middle" x="2139" y="-1320.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m realizing that for clarity, a</text>
</g>
<!-- raw_26&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>raw_26&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2192.6601,-1511.1272C2182.4878,-1477.0758 2160.2408,-1402.605 2147.8239,-1361.0398"/>
<polygon fill="#000000" stroke="#000000" points="2151.1081,-1359.8057 2144.8922,-1351.2259 2144.401,-1361.8094 2151.1081,-1359.8057"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="2335,-1349.5021 2281,-1349.5021 2281,-1313.5021 2335,-1313.5021 2335,-1349.5021"/>
<text text-anchor="middle" x="2308" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_27&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>prespace_27&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2326.1543,-1510.776C2322.6568,-1476.2378 2315.0414,-1401.0363 2310.8713,-1359.8559"/>
<polygon fill="#000000" stroke="#000000" points="2314.331,-1359.2809 2309.8412,-1349.6844 2307.3666,-1359.9862 2314.331,-1359.2809"/>
</g>
<!-- leaf_44 -->
<g id="node45" class="node">
<title>leaf_44</title>
<polygon fill="none" stroke="#c0c0c0" points="2418.5,-1349.5021 2353.5,-1349.5021 2353.5,-1313.5021 2418.5,-1313.5021 2418.5,-1349.5021"/>
<text text-anchor="middle" x="2386" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">linebuf</text>
</g>
<!-- literal_28&#45;&gt;leaf_44 -->
<g id="edge44" class="edge">
<title>literal_28&#45;&gt;leaf_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2457.7371,-1513.481C2447.4864,-1503.4165 2434.9738,-1489.513 2427,-1475.0023 2406.6626,-1437.9926 2395.6025,-1389.9425 2390.2501,-1359.9113"/>
<polygon fill="#000000" stroke="#000000" points="2393.645,-1358.9944 2388.5299,-1349.7162 2386.7426,-1360.1591 2393.645,-1358.9944"/>
</g>
<!-- leaf_45 -->
<g id="node46" class="node">
<title>leaf_45</title>
<polygon fill="none" stroke="#c0c0c0" points="2683.5,-1350.8027 2436.5,-1350.8027 2436.5,-1312.2015 2683.5,-1312.2015 2683.5,-1350.8027"/>
<text text-anchor="middle" x="2560" y="-1335.7021" font-family="Inconsolata" font-size="14.00" fill="#000000"> needs to be a line, period. &#160;The</text>
<text text-anchor="middle" x="2560" y="-1320.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">recursive container class is a</text>
</g>
<!-- raw_29&#45;&gt;leaf_45 -->
<g id="edge45" class="edge">
<title>raw_29&#45;&gt;leaf_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2588.1392,-1510.776C2582.7616,-1476.5157 2571.1038,-1402.2438 2564.6075,-1360.8565"/>
<polygon fill="#000000" stroke="#000000" points="2568.0443,-1360.1803 2563.0359,-1350.844 2561.129,-1361.2658 2568.0443,-1360.1803"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="2756,-1349.5021 2702,-1349.5021 2702,-1313.5021 2756,-1313.5021 2756,-1349.5021"/>
<text text-anchor="middle" x="2729" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_30&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>prespace_30&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2715.3843,-1510.776C2718.0074,-1476.2378 2723.7189,-1401.0363 2726.8465,-1359.8559"/>
<polygon fill="#000000" stroke="#000000" points="2730.3516,-1359.9208 2727.6191,-1349.6844 2723.3717,-1359.3906 2730.3516,-1359.9208"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="2832,-1349.5021 2774,-1349.5021 2774,-1313.5021 2832,-1313.5021 2832,-1349.5021"/>
<text text-anchor="middle" x="2803" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">txtbuf</text>
</g>
<!-- literal_31&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>literal_31&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2809.354,-1510.776C2808.1299,-1476.2378 2805.4645,-1401.0363 2804.0049,-1359.8559"/>
<polygon fill="#000000" stroke="#000000" points="2807.4965,-1359.5541 2803.6444,-1349.6844 2800.5009,-1359.8021 2807.4965,-1359.5541"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="2904,-1349.5021 2850,-1349.5021 2850,-1313.5021 2904,-1313.5021 2904,-1349.5021"/>
<text text-anchor="middle" x="2877" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">, and</text>
</g>
<!-- raw_32&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>raw_32&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2885.1694,-1510.776C2883.5955,-1476.2378 2880.1686,-1401.0363 2878.2921,-1359.8559"/>
<polygon fill="#000000" stroke="#000000" points="2881.7802,-1359.5147 2877.8286,-1349.6844 2874.7875,-1359.8334 2881.7802,-1359.5147"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="2976,-1349.5021 2922,-1349.5021 2922,-1313.5021 2976,-1313.5021 2976,-1349.5021"/>
<text text-anchor="middle" x="2949" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_33&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>prespace_33&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2974.416,-1510.776C2969.509,-1476.1643 2958.8126,-1400.7161 2952.9826,-1359.5935"/>
<polygon fill="#000000" stroke="#000000" points="2956.4469,-1359.0941 2951.5777,-1349.6844 2949.5162,-1360.0767 2956.4469,-1359.0941"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="3059.5,-1349.5021 2994.5,-1349.5021 2994.5,-1313.5021 3059.5,-1313.5021 3059.5,-1349.5021"/>
<text text-anchor="middle" x="3027" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">rainbuf</text>
</g>
<!-- literal_34&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>literal_34&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3068.8367,-1511.1272C3060.8208,-1476.7112 3043.1881,-1401.0056 3033.5713,-1359.716"/>
<polygon fill="#000000" stroke="#000000" points="3036.931,-1358.711 3031.2538,-1349.7656 3030.1135,-1360.2989 3036.931,-1358.711"/>
</g>
<!-- leaf_51 -->
<g id="node52" class="node">
<title>leaf_51</title>
<polygon fill="none" stroke="#c0c0c0" points="3220,-1350.8027 3078,-1350.8027 3078,-1312.2015 3220,-1312.2015 3220,-1350.8027"/>
<text text-anchor="middle" x="3149" y="-1335.7021" font-family="Inconsolata" font-size="14.00" fill="#000000"> enhances that and</text>
<text text-anchor="middle" x="3149" y="-1320.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">also makes a</text>
</g>
<!-- raw_35&#45;&gt;leaf_51 -->
<g id="edge51" class="edge">
<title>raw_35&#45;&gt;leaf_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3149,-1510.776C3149,-1476.5157 3149,-1402.2438 3149,-1360.8565"/>
<polygon fill="#000000" stroke="#000000" points="3152.5001,-1360.844 3149,-1350.844 3145.5001,-1360.844 3152.5001,-1360.844"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="3292,-1349.5021 3238,-1349.5021 3238,-1313.5021 3292,-1313.5021 3292,-1349.5021"/>
<text text-anchor="middle" x="3265" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_36&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>prespace_36&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3245.0303,-1510.776C3248.8776,-1476.2378 3257.2544,-1401.0363 3261.8416,-1359.8559"/>
<polygon fill="#000000" stroke="#000000" points="3265.346,-1360.0104 3262.9746,-1349.6844 3258.389,-1359.2354 3265.346,-1360.0104"/>
</g>
<!-- leaf_53 -->
<g id="node54" class="node">
<title>leaf_53</title>
<polygon fill="none" stroke="#c0c0c0" points="3382,-1349.5021 3310,-1349.5021 3310,-1313.5021 3382,-1313.5021 3382,-1349.5021"/>
<text text-anchor="middle" x="3346" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">rainline</text>
</g>
<!-- literal_37&#45;&gt;leaf_53 -->
<g id="edge53" class="edge">
<title>literal_37&#45;&gt;leaf_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3341.4614,-1510.776C3342.3358,-1476.2378 3344.2396,-1401.0363 3345.2822,-1359.8559"/>
<polygon fill="#000000" stroke="#000000" points="3348.7854,-1359.7698 3345.5397,-1349.6844 3341.7876,-1359.5926 3348.7854,-1359.7698"/>
</g>
<!-- leaf_54 -->
<g id="node55" class="node">
<title>leaf_54</title>
<polygon fill="none" stroke="#c0c0c0" points="3500,-1349.5021 3400,-1349.5021 3400,-1313.5021 3500,-1313.5021 3500,-1349.5021"/>
<text text-anchor="middle" x="3450" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> out of each</text>
</g>
<!-- raw_38&#45;&gt;leaf_54 -->
<g id="edge54" class="edge">
<title>raw_38&#45;&gt;leaf_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3422.7686,-1510.776C3428.026,-1476.1643 3439.4865,-1400.7161 3445.733,-1359.5935"/>
<polygon fill="#000000" stroke="#000000" points="3449.1966,-1360.0966 3447.2381,-1349.6844 3442.276,-1359.0453 3449.1966,-1360.0966"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="3572,-1349.5021 3518,-1349.5021 3518,-1313.5021 3572,-1313.5021 3572,-1349.5021"/>
<text text-anchor="middle" x="3545" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_39&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>prespace_39&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3518.6763,-1510.776C3523.7585,-1476.1643 3534.8369,-1400.7161 3540.8752,-1359.5935"/>
<polygon fill="#000000" stroke="#000000" points="3544.3402,-1360.0868 3542.3302,-1349.6844 3537.4145,-1359.0698 3544.3402,-1360.0868"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="3655.5,-1349.5021 3590.5,-1349.5021 3590.5,-1313.5021 3655.5,-1313.5021 3655.5,-1349.5021"/>
<text text-anchor="middle" x="3623" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">linebuf</text>
</g>
<!-- literal_40&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>literal_40&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3614.8306,-1510.776C3616.4045,-1476.2378 3619.8314,-1401.0363 3621.7079,-1359.8559"/>
<polygon fill="#000000" stroke="#000000" points="3625.2125,-1359.8334 3622.1714,-1349.6844 3618.2198,-1359.5147 3625.2125,-1359.8334"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="3728,-1349.5021 3674,-1349.5021 3674,-1313.5021 3728,-1313.5021 3728,-1349.5021"/>
<text text-anchor="middle" x="3701" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_41&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>raw_41&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3696.4614,-1510.776C3697.3358,-1476.2378 3699.2396,-1401.0363 3700.2822,-1359.8559"/>
<polygon fill="#000000" stroke="#000000" points="3703.7854,-1359.7698 3700.5397,-1349.6844 3696.7876,-1359.5926 3703.7854,-1359.7698"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="4287.5,-1358.8025 3746.5,-1358.8025 3746.5,-1304.2017 4287.5,-1304.2017 4287.5,-1358.8025"/>
<text text-anchor="middle" x="4017" y="-1327.7021" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m making this the dumbest thing that can work. The dumbest thing that can</text>
<text text-anchor="middle" x="4017" y="-1312.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">work, has one string per char, period.</text>
</g>
<!-- raw_58&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>raw_58&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3909.0606,-1512.1636C3928.1046,-1480.2891 3969.8045,-1410.4946 3995.4385,-1367.5902"/>
<polygon fill="#000000" stroke="#000000" points="3998.5263,-1369.2461 4000.6507,-1358.8664 3992.5171,-1365.6558 3998.5263,-1369.2461"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="4496.5,-1351.4042 4305.5,-1351.4042 4305.5,-1311.6 4496.5,-1311.6 4496.5,-1351.4042"/>
<text text-anchor="middle" x="4401" y="-1320.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">The way I&#39;m doing this, a</text>
</g>
<!-- raw_60&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>raw_60&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4423.6929,-1510.776C4419.3784,-1476.6914 4410.0509,-1403.0045 4404.7967,-1361.4958"/>
<polygon fill="#000000" stroke="#000000" points="4408.2513,-1360.9161 4403.5231,-1351.4348 4401.3067,-1361.7952 4408.2513,-1360.9161"/>
</g>
<!-- leaf_68 -->
<g id="node69" class="node">
<title>leaf_68</title>
<polygon fill="none" stroke="#c0c0c0" points="4569,-1349.5021 4515,-1349.5021 4515,-1313.5021 4569,-1313.5021 4569,-1349.5021"/>
<text text-anchor="middle" x="4542" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_61&#45;&gt;leaf_68 -->
<g id="edge68" class="edge">
<title>prespace_61&#45;&gt;leaf_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4553.8003,-1510.776C4551.5269,-1476.2378 4546.5769,-1401.0363 4543.8663,-1359.8559"/>
<polygon fill="#000000" stroke="#000000" points="4547.3461,-1359.4329 4543.1968,-1349.6844 4540.3613,-1359.8927 4547.3461,-1359.4329"/>
</g>
<!-- leaf_69 -->
<g id="node70" class="node">
<title>leaf_69</title>
<polygon fill="none" stroke="#c0c0c0" points="4652.5,-1349.5021 4587.5,-1349.5021 4587.5,-1313.5021 4652.5,-1313.5021 4652.5,-1349.5021"/>
<text text-anchor="middle" x="4620" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">linebuf</text>
</g>
<!-- literal_62&#45;&gt;leaf_69 -->
<g id="edge69" class="edge">
<title>literal_62&#45;&gt;leaf_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4686.3416,-1512.522C4677.9153,-1502.3193 4667.7051,-1488.6067 4661,-1475.0023 4642.4329,-1437.3306 4630.9409,-1389.8333 4625.0082,-1360.0563"/>
<polygon fill="#000000" stroke="#000000" points="4628.3891,-1359.1021 4623.0711,-1349.9386 4621.514,-1360.4184 4628.3891,-1359.1021"/>
</g>
<!-- leaf_70 -->
<g id="node71" class="node">
<title>leaf_70</title>
<polygon fill="none" stroke="#c0c0c0" points="4959.5,-1350.8027 4670.5,-1350.8027 4670.5,-1312.2015 4959.5,-1312.2015 4959.5,-1350.8027"/>
<text text-anchor="middle" x="4815" y="-1335.7021" font-family="Inconsolata" font-size="14.00" fill="#000000"> is used as a pointer to history. &#160;When</text>
<text text-anchor="middle" x="4815" y="-1320.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">it&#39;s not in play,</text>
</g>
<!-- raw_63&#45;&gt;leaf_70 -->
<g id="edge70" class="edge">
<title>raw_63&#45;&gt;leaf_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4792.3071,-1510.776C4796.6439,-1476.5157 4806.0454,-1402.2438 4811.2843,-1360.8565"/>
<polygon fill="#000000" stroke="#000000" points="4814.7681,-1361.2044 4812.5517,-1350.844 4807.8235,-1360.3253 4814.7681,-1361.2044"/>
</g>
<!-- leaf_71 -->
<g id="node72" class="node">
<title>leaf_71</title>
<polygon fill="none" stroke="#c0c0c0" points="5032,-1349.5021 4978,-1349.5021 4978,-1313.5021 5032,-1313.5021 5032,-1349.5021"/>
<text text-anchor="middle" x="5005" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_64&#45;&gt;leaf_71 -->
<g id="edge71" class="edge">
<title>prespace_64&#45;&gt;leaf_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4933.7457,-1512.9731C4945.5094,-1503.225 4959.359,-1489.8194 4968,-1475.0023 4989.1245,-1438.7794 4998.3482,-1390.5143 5002.2621,-1360.2229"/>
<polygon fill="#000000" stroke="#000000" points="5005.7804,-1360.2728 5003.476,-1349.9317 4998.8286,-1359.4528 5005.7804,-1360.2728"/>
</g>
<!-- leaf_72 -->
<g id="node73" class="node">
<title>leaf_72</title>
<polygon fill="none" stroke="#c0c0c0" points="5150,-1349.5021 5050,-1349.5021 5050,-1313.5021 5150,-1313.5021 5150,-1349.5021"/>
<text text-anchor="middle" x="5100" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">linebuf.line</text>
</g>
<!-- literal_65&#45;&gt;leaf_72 -->
<g id="edge72" class="edge">
<title>literal_65&#45;&gt;leaf_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5044.5209,-1511.1272C5055.1732,-1476.6381 5078.6325,-1400.6839 5091.3669,-1359.4535"/>
<polygon fill="#000000" stroke="#000000" points="5094.7521,-1360.3532 5094.3591,-1349.7656 5088.0639,-1358.2874 5094.7521,-1360.3532"/>
</g>
<!-- leaf_73 -->
<g id="node74" class="node">
<title>leaf_73</title>
<polygon fill="none" stroke="#c0c0c0" points="5478,-1350.8027 5168,-1350.8027 5168,-1312.2015 5478,-1312.2015 5478,-1350.8027"/>
<text text-anchor="middle" x="5323" y="-1335.7021" font-family="Inconsolata" font-size="14.00" fill="#000000"> is just a string, exploding into an array</text>
<text text-anchor="middle" x="5323" y="-1320.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">of codepoints when edited.</text>
</g>
<!-- raw_66&#45;&gt;leaf_73 -->
<g id="edge73" class="edge">
<title>raw_66&#45;&gt;leaf_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5228.0474,-1511.821C5245.9739,-1477.7779 5286.1606,-1401.4617 5308.0673,-1359.86"/>
<polygon fill="#000000" stroke="#000000" points="5311.2721,-1361.2856 5312.8346,-1350.8066 5305.0784,-1358.0241 5311.2721,-1361.2856"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="6037.5,-1358.8025 5496.5,-1358.8025 5496.5,-1304.2017 6037.5,-1304.2017 6037.5,-1358.8025"/>
<text text-anchor="middle" x="5767" y="-1327.7021" font-family="Inconsolata" font-size="14.00" fill="#000000">This lets us load the history without making a bunch of codepoint arrays we</text>
<text text-anchor="middle" x="5767" y="-1312.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">might not ever use.</text>
</g>
<!-- raw_74&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>raw_74&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5547.0445,-1514.7986C5584.1956,-1483.8393 5673.3533,-1409.5411 5726.0447,-1365.6316"/>
<polygon fill="#000000" stroke="#000000" points="5728.4175,-1368.2102 5733.8591,-1359.1196 5723.9362,-1362.8327 5728.4175,-1368.2102"/>
</g>
<!-- leaf_84 -->
<g id="node85" class="node">
<title>leaf_84</title>
<polygon fill="none" stroke="#c0c0c0" points="6198,-1349.5021 6056,-1349.5021 6056,-1313.5021 6198,-1313.5021 6198,-1349.5021"/>
<text text-anchor="middle" x="6127" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">** Instance fields</text>
</g>
<!-- header_76&#45;&gt;leaf_84 -->
<g id="edge84" class="edge">
<title>header_76&#45;&gt;leaf_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6203.248,-1510.776C6188.4646,-1476.0173 6156.165,-1400.0746 6138.7257,-1359.0715"/>
<polygon fill="#000000" stroke="#000000" points="6141.8679,-1357.5168 6134.7332,-1349.6844 6135.4264,-1360.2565 6141.8679,-1357.5168"/>
</g>
<!-- raw_85 -->
<g id="node86" class="node">
<title>raw_85</title>
<ellipse fill="none" stroke="#000000" cx="6243" cy="-1331.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="6243" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_77&#45;&gt;raw_85 -->
<g id="edge85" class="edge">
<title>prose_77&#45;&gt;raw_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6393.1469,-1525.8298C6359.8757,-1520.7988 6308.5051,-1507.8946 6279,-1475.0023 6250.4636,-1443.19 6243.8138,-1392.1131 6242.6552,-1360.2509"/>
<polygon fill="#000000" stroke="#000000" points="6246.1464,-1359.7734 6242.4474,-1349.8453 6239.1478,-1359.9132 6246.1464,-1359.7734"/>
</g>
<!-- prespace_86 -->
<g id="node87" class="node">
<title>prespace_86</title>
<ellipse fill="none" stroke="#000000" cx="6334" cy="-1331.5021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6334" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_77&#45;&gt;prespace_86 -->
<g id="edge86" class="edge">
<title>prose_77&#45;&gt;prespace_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6412.3092,-1512.0919C6404.9033,-1501.7367 6395.725,-1488.0149 6389,-1475.0023 6369.0572,-1436.414 6352.2357,-1388.8694 6342.6311,-1359.3668"/>
<polygon fill="#000000" stroke="#000000" points="6345.927,-1358.1825 6339.5416,-1349.7281 6339.2611,-1360.3192 6345.927,-1358.1825"/>
</g>
<!-- bold_87 -->
<g id="node88" class="node">
<title>bold_87</title>
<ellipse fill="none" stroke="#000000" cx="6425" cy="-1331.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="6425" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">bold</text>
</g>
<!-- prose_77&#45;&gt;bold_87 -->
<g id="edge87" class="edge">
<title>prose_77&#45;&gt;bold_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6425,-1510.776C6425,-1476.2378 6425,-1401.0363 6425,-1359.8559"/>
<polygon fill="#000000" stroke="#000000" points="6428.5001,-1359.6844 6425,-1349.6844 6421.5001,-1359.6844 6428.5001,-1359.6844"/>
</g>
<!-- raw_88 -->
<g id="node89" class="node">
<title>raw_88</title>
<ellipse fill="none" stroke="#000000" cx="6497" cy="-1331.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="6497" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_77&#45;&gt;raw_88 -->
<g id="edge88" class="edge">
<title>prose_77&#45;&gt;raw_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6438.2677,-1512.3684C6445.878,-1502.1112 6455.0688,-1488.3953 6461,-1475.0023 6477.8589,-1436.9342 6487.8013,-1389.5425 6492.827,-1359.8963"/>
<polygon fill="#000000" stroke="#000000" points="6496.314,-1360.2584 6494.4599,-1349.827 6489.4042,-1359.1378 6496.314,-1360.2584"/>
</g>
<!-- raw_93 -->
<g id="node94" class="node">
<title>raw_93</title>
<ellipse fill="none" stroke="#000000" cx="6711" cy="-1331.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="6711" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_78&#45;&gt;raw_93 -->
<g id="edge93" class="edge">
<title>prose_78&#45;&gt;raw_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6965.7089,-1522.6701C6933.7694,-1515.0063 6882.9215,-1499.9304 6845,-1475.0023 6795.5325,-1442.4844 6751.5117,-1388.0434 6728.3141,-1356.3907"/>
<polygon fill="#000000" stroke="#000000" points="6731.0253,-1354.1666 6722.3361,-1348.1045 6725.3484,-1358.2621 6731.0253,-1354.1666"/>
</g>
<!-- prespace_94 -->
<g id="node95" class="node">
<title>prespace_94</title>
<ellipse fill="none" stroke="#000000" cx="6900" cy="-1331.5021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6900" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_78&#45;&gt;prespace_94 -->
<g id="edge94" class="edge">
<title>prose_78&#45;&gt;prespace_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6981.7996,-1512.2827C6973.5357,-1501.9952 6963.3353,-1488.2775 6956,-1475.0023 6934.8272,-1436.6847 6917.8341,-1388.6948 6908.3327,-1359.0704"/>
<polygon fill="#000000" stroke="#000000" points="6911.631,-1357.8914 6905.2899,-1349.4038 6904.954,-1359.9933 6911.631,-1357.8914"/>
</g>
<!-- literal_95 -->
<g id="node96" class="node">
<title>literal_95</title>
<ellipse fill="none" stroke="#000000" cx="6996" cy="-1331.5021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="6996" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_78&#45;&gt;literal_95 -->
<g id="edge95" class="edge">
<title>prose_78&#45;&gt;literal_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6996,-1510.776C6996,-1476.2378 6996,-1401.0363 6996,-1359.8559"/>
<polygon fill="#000000" stroke="#000000" points="6999.5001,-1359.6844 6996,-1349.6844 6992.5001,-1359.6844 6999.5001,-1359.6844"/>
</g>
<!-- raw_96 -->
<g id="node97" class="node">
<title>raw_96</title>
<ellipse fill="none" stroke="#000000" cx="7072" cy="-1331.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="7072" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_78&#45;&gt;raw_96 -->
<g id="edge96" class="edge">
<title>prose_78&#45;&gt;raw_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7010.8197,-1512.5999C7019.3032,-1502.4248 7029.5169,-1488.7138 7036,-1475.0023 7053.8944,-1437.1567 7063.5956,-1389.3351 7068.2829,-1359.5802"/>
<polygon fill="#000000" stroke="#000000" points="7071.7747,-1359.8943 7069.7888,-1349.4872 7064.8514,-1358.8612 7071.7747,-1359.8943"/>
</g>
<!-- raw_101 -->
<g id="node102" class="node">
<title>raw_101</title>
<ellipse fill="none" stroke="#000000" cx="7144" cy="-1331.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="7144" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_79&#45;&gt;raw_101 -->
<g id="edge101" class="edge">
<title>prose_79&#45;&gt;raw_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7134.9229,-1510.776C7136.6716,-1476.2378 7140.4793,-1401.0363 7142.5644,-1359.8559"/>
<polygon fill="#000000" stroke="#000000" points="7146.0691,-1359.8486 7143.0794,-1349.6844 7139.0781,-1359.4946 7146.0691,-1359.8486"/>
</g>
<!-- raw_103 -->
<g id="node104" class="node">
<title>raw_103</title>
<ellipse fill="none" stroke="#000000" cx="7216" cy="-1331.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="7216" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_80&#45;&gt;raw_103 -->
<g id="edge103" class="edge">
<title>prose_80&#45;&gt;raw_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7216,-1510.776C7216,-1476.2378 7216,-1401.0363 7216,-1359.8559"/>
<polygon fill="#000000" stroke="#000000" points="7219.5001,-1359.6844 7216,-1349.6844 7212.5001,-1359.6844 7219.5001,-1359.6844"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="7676.5,-1349.5021 7261.5,-1349.5021 7261.5,-1313.5021 7676.5,-1313.5021 7676.5,-1349.5021"/>
<text text-anchor="middle" x="7469" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">local sub, byte = assert(string.sub), assert(string.byte)</text>
</g>
<!-- codeblock_81&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>codeblock_81&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7412.7217,-1510.776C7423.6102,-1476.0908 7447.3727,-1400.3955 7460.2635,-1359.3321"/>
<polygon fill="#000000" stroke="#000000" points="7463.6363,-1360.2736 7463.2921,-1349.6844 7456.9576,-1358.177 7463.6363,-1360.2736"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="7871.5,-1349.5021 7694.5,-1349.5021 7694.5,-1313.5021 7871.5,-1313.5021 7871.5,-1349.5021"/>
<text text-anchor="middle" x="7783" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">local Linebuf = meta {}</text>
</g>
<!-- codeblock_82&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>codeblock_82&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7691.1412,-1511.1272C7708.8908,-1476.4189 7748.1156,-1399.7167 7769.1058,-1358.6715"/>
<polygon fill="#000000" stroke="#000000" points="7772.2232,-1360.2626 7773.6602,-1349.7656 7765.9909,-1357.0754 7772.2232,-1360.2626"/>
</g>
<!-- leaf_107 -->
<g id="node108" class="node">
<title>leaf_107</title>
<polygon fill="none" stroke="#c0c0c0" points="8186,-1475.0026 7890,-1475.0026 7890,-1188.0016 8186,-1188.0016 8186,-1475.0026"/>
<text text-anchor="middle" x="8038" y="-1443.8023" font-family="Inconsolata" font-size="14.00" fill="#000000">local function sum(dsps)</text>
<text text-anchor="middle" x="8038" y="-1428.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local summa = 0</text>
<text text-anchor="middle" x="8038" y="-1413.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i = 1, #dsps do</text>
<text text-anchor="middle" x="8038" y="-1397.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;summa = summa + #dsps[i]</text>
<text text-anchor="middle" x="8038" y="-1382.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8038" y="-1366.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return summa</text>
<text text-anchor="middle" x="8038" y="-1351.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="8038" y="-1320.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">local concat = table.concat</text>
<text text-anchor="middle" x="8038" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.__tostring(linebuf)</text>
<text text-anchor="middle" x="8038" y="-1273.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(linebuf.line) == &quot;table&quot; then</text>
<text text-anchor="middle" x="8038" y="-1257.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return concat(linebuf.line)</text>
<text text-anchor="middle" x="8038" y="-1242.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8038" y="-1227.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return linebuf.line</text>
<text text-anchor="middle" x="8038" y="-1211.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8038" y="-1196.2019" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_83&#45;&gt;leaf_107 -->
<g id="edge107" class="edge">
<title>codeblock_83&#45;&gt;leaf_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7955.3979,-1510.776C7958.733,-1503.5379 7962.8909,-1494.5138 7967.5549,-1484.3913"/>
<polygon fill="#000000" stroke="#000000" points="7970.77,-1485.7772 7971.776,-1475.2302 7964.4124,-1482.8478 7970.77,-1485.7772"/>
</g>
<!-- leaf_89 -->
<g id="node90" class="node">
<title>leaf_89</title>
<polygon fill="none" stroke="#c0c0c0" points="6062,-657.0013 5612,-657.0013 5612,-586.4006 6062,-586.4006 6062,-657.0013"/>
<text text-anchor="middle" x="5837" y="-609.901" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; lines : &#160;An array of string fragments</text>
<text text-anchor="middle" x="5837" y="-594.501" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; dsps &#160;: &#160;An array of uint, each corresponds to the number of</text>
</g>
<!-- raw_85&#45;&gt;leaf_89 -->
<g id="edge89" class="edge">
<title>raw_85&#45;&gt;leaf_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6243.9178,-1313.297C6244.3983,-1282.9981 6240.7423,-1222.1848 6207,-1188.0019 6163.075,-1143.5033 6118.5394,-1192.6163 6071,-1152.0019 5917.6963,-1021.0298 5861.0219,-770.2145 5843.6296,-667.3901"/>
<polygon fill="#000000" stroke="#000000" points="5847.0516,-666.6296 5841.9744,-657.3306 5840.1445,-667.7662 5847.0516,-666.6296"/>
</g>
<!-- leaf_90 -->
<g id="node91" class="node">
<title>leaf_90</title>
<polygon fill="none" stroke="#c0c0c0" points="6134,-639.701 6080,-639.701 6080,-603.701 6134,-603.701 6134,-639.701"/>
<text text-anchor="middle" x="6107" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_86&#45;&gt;leaf_90 -->
<g id="edge90" class="edge">
<title>prespace_86&#45;&gt;leaf_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6332.2569,-1313.1128C6328.3567,-1282.5426 6316.1192,-1221.3398 6279,-1188.0019 6232.4814,-1146.2221 6182.7956,-1200.2288 6143,-1152.0019 6079.3852,-1074.9093 6097.6546,-748.5582 6104.7787,-650.001"/>
<polygon fill="#000000" stroke="#000000" points="6108.2783,-650.1341 6105.5279,-639.9025 6101.2975,-649.6161 6108.2783,-650.1341"/>
</g>
<!-- leaf_91 -->
<g id="node92" class="node">
<title>leaf_91</title>
<polygon fill="none" stroke="#c0c0c0" points="6206,-639.701 6152,-639.701 6152,-603.701 6206,-603.701 6206,-639.701"/>
<text text-anchor="middle" x="6179" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">bytes</text>
</g>
<!-- bold_87&#45;&gt;leaf_91 -->
<g id="edge91" class="edge">
<title>bold_87&#45;&gt;leaf_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6426.1189,-1313.0929C6426.8958,-1282.4933 6423.6654,-1221.2484 6389,-1188.0019 6332.0047,-1133.3394 6266.9107,-1211.5143 6215,-1152.0019 6149.2257,-1076.5957 6169.0568,-748.3736 6176.656,-649.7972"/>
<polygon fill="#000000" stroke="#000000" points="6180.1548,-649.9494 6177.4539,-639.7046 6173.1766,-649.3976 6180.1548,-649.9494"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="6387.5,-641.603 6224.5,-641.603 6224.5,-601.7989 6387.5,-601.7989 6387.5,-641.603"/>
<text text-anchor="middle" x="6306" y="-610.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in line[i].</text>
</g>
<!-- raw_88&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>raw_88&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6496.9117,-1313.204C6495.8646,-1283.8386 6489.961,-1225.6741 6461,-1188.0019 6440.8728,-1161.8205 6415.0954,-1178.9451 6396,-1152.0019 6282.7268,-992.1756 6294.6618,-738.1954 6302.6644,-651.6908"/>
<polygon fill="#000000" stroke="#000000" points="6306.1679,-651.8245 6303.6595,-641.5309 6299.2013,-651.1421 6306.1679,-651.8245"/>
</g>
<!-- leaf_97 -->
<g id="node98" class="node">
<title>leaf_97</title>
<polygon fill="none" stroke="#c0c0c0" points="6918.5,-649.0014 6405.5,-649.0014 6405.5,-594.4005 6918.5,-594.4005 6918.5,-649.0014"/>
<text text-anchor="middle" x="6662" y="-617.901" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; cursor : &#160;An uint representing the number of bytes to be skipped over</text>
<text text-anchor="middle" x="6662" y="-602.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;before executing</text>
</g>
<!-- raw_93&#45;&gt;leaf_97 -->
<g id="edge97" class="edge">
<title>raw_93&#45;&gt;leaf_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6709.7395,-1313.2431C6703.2558,-1219.3217 6673.617,-789.9811 6664.6062,-659.4531"/>
<polygon fill="#000000" stroke="#000000" points="6668.0766,-658.9025 6663.8961,-649.1673 6661.0932,-659.3846 6668.0766,-658.9025"/>
</g>
<!-- leaf_98 -->
<g id="node99" class="node">
<title>leaf_98</title>
<polygon fill="none" stroke="#c0c0c0" points="6991,-639.701 6937,-639.701 6937,-603.701 6991,-603.701 6991,-639.701"/>
<text text-anchor="middle" x="6964" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_94&#45;&gt;leaf_98 -->
<g id="edge98" class="edge">
<title>prespace_94&#45;&gt;leaf_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6903.1983,-1313.4745C6908.8156,-1281.1984 6920.4751,-1211.363 6927,-1152.0019 6947.9948,-960.9981 6959.3135,-729.9057 6962.808,-650.277"/>
<polygon fill="#000000" stroke="#000000" points="6966.3141,-650.208 6963.2493,-640.0662 6959.3207,-649.9057 6966.3141,-650.208"/>
</g>
<!-- leaf_99 -->
<g id="node100" class="node">
<title>leaf_99</title>
<polygon fill="none" stroke="#c0c0c0" points="7081,-639.701 7009,-639.701 7009,-603.701 7081,-603.701 7081,-639.701"/>
<text text-anchor="middle" x="7045" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">insert()</text>
</g>
<!-- literal_95&#45;&gt;leaf_99 -->
<g id="edge99" class="edge">
<title>literal_95&#45;&gt;leaf_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6997.2605,-1313.2431C7003.9135,-1216.8691 7034.9468,-767.3293 7043.0568,-649.8501"/>
<polygon fill="#000000" stroke="#000000" points="7046.5508,-650.0566 7043.7479,-639.8393 7039.5674,-649.5744 7046.5508,-650.0566"/>
</g>
<!-- leaf_100 -->
<g id="node101" class="node">
<title>leaf_100</title>
<polygon fill="none" stroke="#c0c0c0" points="7367,-641.0015 7099,-641.0015 7099,-602.4004 7367,-602.4004 7367,-641.0015"/>
<text text-anchor="middle" x="7233" y="-625.901" font-family="Inconsolata" font-size="14.00" fill="#000000">. &#160;Not 1&#45;1 the same as the column</text>
<text text-anchor="middle" x="7233" y="-610.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;index of the tty cursor.</text>
</g>
<!-- raw_96&#45;&gt;leaf_100 -->
<g id="edge100" class="edge">
<title>raw_96&#45;&gt;leaf_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7076.0603,-1313.6014C7097.671,-1218.3263 7199.2147,-770.6503 7226.3299,-651.1076"/>
<polygon fill="#000000" stroke="#000000" points="7229.7785,-651.7257 7228.5773,-641.1992 7222.9519,-650.1773 7229.7785,-651.7257"/>
</g>
<!-- leaf_102 -->
<g id="node103" class="node">
<title>leaf_102</title>
<polygon fill="none" stroke="#c0c0c0" points="7884.5,-649.0014 7385.5,-649.0014 7385.5,-594.4005 7884.5,-594.4005 7884.5,-649.0014"/>
<text text-anchor="middle" x="7635" y="-617.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;cursor is moved by linebuf, ensuring we stay on codepoint</text>
<text text-anchor="middle" x="7635" y="-602.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;boundaries.</text>
</g>
<!-- raw_101&#45;&gt;leaf_102 -->
<g id="edge102" class="edge">
<title>raw_101&#45;&gt;leaf_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7142.8152,-1313.4982C7141.8731,-1282.941 7144.7776,-1221.0343 7180,-1188.0019 7244.6034,-1127.4152 7305.4418,-1205.5359 7376,-1152.0019 7544.5365,-1024.1296 7609.6921,-757.5558 7628.5938,-659.2032"/>
<polygon fill="#000000" stroke="#000000" points="7632.0783,-659.6104 7630.4785,-649.137 7625.1979,-658.3221 7632.0783,-659.6104"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="8065.5,-641.603 7902.5,-641.603 7902.5,-601.7989 8065.5,-601.7989 8065.5,-641.603"/>
<text text-anchor="middle" x="7984" y="-610.201" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; len &#160;: sum of dsps.</text>
</g>
<!-- raw_103&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>raw_103&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7214.4168,-1313.5133C7212.7892,-1282.4034 7214.5768,-1218.9233 7252,-1188.0019 7361.9828,-1097.1272 7786.542,-1246.9814 7893,-1152.0019 8040.8413,-1020.1011 8006.1696,-742.7403 7989.9318,-651.4971"/>
<polygon fill="#000000" stroke="#000000" points="7993.3543,-650.7564 7988.1022,-641.555 7986.4699,-652.0233 7993.3543,-650.7564"/>
</g>
<!-- leaf_113 -->
<g id="node114" class="node">
<title>leaf_113</title>
<polygon fill="none" stroke="#c0c0c0" points="8444,-1349.5021 8204,-1349.5021 8204,-1313.5021 8444,-1313.5021 8444,-1349.5021"/>
<text text-anchor="middle" x="8324" y="-1328.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">** Linebuf.insert(linebuf, frag)</text>
</g>
<!-- header_108&#45;&gt;leaf_113 -->
<g id="edge113" class="edge">
<title>header_108&#45;&gt;leaf_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8402.9712,-1510.776C8387.6598,-1476.0173 8354.2066,-1400.0746 8336.1445,-1359.0715"/>
<polygon fill="#000000" stroke="#000000" points="8339.2437,-1357.4249 8332.0094,-1349.6844 8332.8377,-1360.2468 8339.2437,-1357.4249"/>
</g>
<!-- raw_114 -->
<g id="node115" class="node">
<title>raw_114</title>
<ellipse fill="none" stroke="#000000" cx="8489" cy="-1331.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="8489" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_109&#45;&gt;raw_114 -->
<g id="edge114" class="edge">
<title>prose_109&#45;&gt;raw_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8644.0224,-1526.283C8609.6674,-1521.628 8555.859,-1509.032 8525,-1475.0023 8496.1666,-1443.2065 8489.6365,-1391.7746 8488.5779,-1359.8908"/>
<polygon fill="#000000" stroke="#000000" points="8492.0774,-1359.8219 8488.4044,-1349.8841 8485.0784,-1359.9433 8492.0774,-1359.8219"/>
</g>
<!-- prespace_115 -->
<g id="node116" class="node">
<title>prespace_115</title>
<ellipse fill="none" stroke="#000000" cx="8580" cy="-1331.5021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="8580" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_109&#45;&gt;prespace_115 -->
<g id="edge115" class="edge">
<title>prose_109&#45;&gt;prespace_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8661.7996,-1512.2827C8653.5357,-1501.9952 8643.3353,-1488.2775 8636,-1475.0023 8614.8272,-1436.6847 8597.8341,-1388.6948 8588.3327,-1359.0704"/>
<polygon fill="#000000" stroke="#000000" points="8591.631,-1357.8914 8585.2899,-1349.4038 8584.954,-1359.9933 8591.631,-1357.8914"/>
</g>
<!-- literal_116 -->
<g id="node117" class="node">
<title>literal_116</title>
<ellipse fill="none" stroke="#000000" cx="8676" cy="-1331.5021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="8676" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_109&#45;&gt;literal_116 -->
<g id="edge116" class="edge">
<title>prose_109&#45;&gt;literal_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8676,-1510.776C8676,-1476.2378 8676,-1401.0363 8676,-1359.8559"/>
<polygon fill="#000000" stroke="#000000" points="8679.5001,-1359.6844 8676,-1349.6844 8672.5001,-1359.6844 8679.5001,-1359.6844"/>
</g>
<!-- raw_117 -->
<g id="node118" class="node">
<title>raw_117</title>
<ellipse fill="none" stroke="#000000" cx="8752" cy="-1331.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="8752" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_109&#45;&gt;raw_117 -->
<g id="edge117" class="edge">
<title>prose_109&#45;&gt;raw_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8690.8197,-1512.5999C8699.3032,-1502.4248 8709.5169,-1488.7138 8716,-1475.0023 8733.8944,-1437.1567 8743.5956,-1389.3351 8748.2829,-1359.5802"/>
<polygon fill="#000000" stroke="#000000" points="8751.7747,-1359.8943 8749.7888,-1349.4872 8744.8514,-1358.8612 8751.7747,-1359.8943"/>
</g>
<!-- raw_122 -->
<g id="node123" class="node">
<title>raw_122</title>
<ellipse fill="none" stroke="#000000" cx="9003" cy="-1331.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="9003" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_110&#45;&gt;raw_122 -->
<g id="edge122" class="edge">
<title>prose_110&#45;&gt;raw_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9074.5046,-1514.5006C9062.5641,-1504.6278 9047.9126,-1490.5618 9039,-1475.0023 9018.1924,-1438.6767 9009.2875,-1390.4397 9005.5633,-1360.1822"/>
<polygon fill="#000000" stroke="#000000" points="9009.0036,-1359.4523 9004.4132,-1349.9035 9002.047,-1360.2308 9009.0036,-1359.4523"/>
</g>
<!-- prespace_123 -->
<g id="node124" class="node">
<title>prespace_123</title>
<ellipse fill="none" stroke="#000000" cx="9094" cy="-1331.5021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="9094" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_110&#45;&gt;prespace_123 -->
<g id="edge123" class="edge">
<title>prose_110&#45;&gt;prespace_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9094,-1510.776C9094,-1476.2378 9094,-1401.0363 9094,-1359.8559"/>
<polygon fill="#000000" stroke="#000000" points="9097.5001,-1359.6844 9094,-1349.6844 9090.5001,-1359.6844 9097.5001,-1359.6844"/>
</g>
<!-- literal_124 -->
<g id="node125" class="node">
<title>literal_124</title>
<ellipse fill="none" stroke="#000000" cx="9190" cy="-1331.5021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="9190" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_110&#45;&gt;literal_124 -->
<g id="edge124" class="edge">
<title>prose_110&#45;&gt;literal_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9113.3239,-1514.4005C9125.196,-1504.4878 9139.8357,-1490.4149 9149,-1475.0023 9170.5825,-1438.7046 9181.3023,-1390.4599 9186.243,-1360.1932"/>
<polygon fill="#000000" stroke="#000000" points="9189.7633,-1360.3246 9187.8112,-1349.9112 9182.8434,-1359.2691 9189.7633,-1360.3246"/>
</g>
<!-- raw_125 -->
<g id="node126" class="node">
<title>raw_125</title>
<ellipse fill="none" stroke="#000000" cx="9353" cy="-1331.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="9353" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_110&#45;&gt;raw_125 -->
<g id="edge125" class="edge">
<title>prose_110&#45;&gt;raw_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9123.6211,-1521.7287C9152.6253,-1513.6205 9197.1269,-1498.4742 9230,-1475.0023 9275.9364,-1442.2031 9315.6755,-1388.6898 9336.8048,-1357.1096"/>
<polygon fill="#000000" stroke="#000000" points="9339.936,-1358.7181 9342.506,-1348.4397 9334.0872,-1354.8721 9339.936,-1358.7181"/>
</g>
<!-- raw_130 -->
<g id="node131" class="node">
<title>raw_130</title>
<ellipse fill="none" stroke="#000000" cx="9689" cy="-1331.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="9689" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_111&#45;&gt;raw_130 -->
<g id="edge130" class="edge">
<title>prose_111&#45;&gt;raw_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9452.2416,-1514.1577C9497.733,-1479.0618 9611.9364,-1390.9556 9663.2853,-1351.3406"/>
<polygon fill="#000000" stroke="#000000" points="9665.4744,-1354.0724 9671.2541,-1345.1928 9661.1985,-1348.53 9665.4744,-1354.0724"/>
</g>
<!-- header_132 -->
<g id="node133" class="node">
<title>header_132</title>
<ellipse fill="none" stroke="#000000" cx="10358" cy="-1331.5021" rx="83.677" ry="18"/>
<text text-anchor="middle" x="10358" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : join(token, frag)</text>
</g>
<!-- section_112&#45;&gt;header_132 -->
<g id="edge132" class="edge">
<title>section_112&#45;&gt;header_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10909.7156,-1524.131C10808.473,-1516.2356 10623.8482,-1499.0661 10562,-1475.0023 10490.7176,-1447.2679 10420.6801,-1389.4862 10384.1074,-1356.327"/>
<polygon fill="#000000" stroke="#000000" points="10386.1313,-1353.4338 10376.3976,-1349.2497 10381.3975,-1358.5905 10386.1313,-1353.4338"/>
</g>
<!-- prose_133 -->
<g id="node134" class="node">
<title>prose_133</title>
<ellipse fill="none" stroke="#000000" cx="10603" cy="-1331.5021" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10603" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_112&#45;&gt;prose_133 -->
<g id="edge133" class="edge">
<title>section_112&#45;&gt;prose_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10915.0466,-1520.8275C10849.288,-1511.4258 10751.291,-1494.723 10719,-1475.0023 10671.7216,-1446.1285 10635.3851,-1390.7831 10616.7814,-1357.905"/>
<polygon fill="#000000" stroke="#000000" points="10619.6929,-1355.9369 10611.797,-1348.8724 10613.5641,-1359.3189 10619.6929,-1355.9369"/>
</g>
<!-- codeblock_134 -->
<g id="node135" class="node">
<title>codeblock_134</title>
<ellipse fill="none" stroke="#000000" cx="10810" cy="-1331.5021" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="10810" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 86&#45;155</text>
</g>
<!-- section_112&#45;&gt;codeblock_134 -->
<g id="edge134" class="edge">
<title>section_112&#45;&gt;codeblock_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10962.7948,-1511.1272C10932.9466,-1476.0378 10866.5884,-1398.0272 10831.9721,-1357.3324"/>
<polygon fill="#000000" stroke="#000000" points="10834.4371,-1354.8285 10825.2919,-1349.4792 10829.1052,-1359.364 10834.4371,-1354.8285"/>
</g>
<!-- codeblock_135 -->
<g id="node136" class="node">
<title>codeblock_135</title>
<ellipse fill="none" stroke="#000000" cx="11147" cy="-1331.5021" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11147" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 159&#45;172</text>
</g>
<!-- section_112&#45;&gt;codeblock_135 -->
<g id="edge135" class="edge">
<title>section_112&#45;&gt;codeblock_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10993.2957,-1511.1272C11023.3842,-1475.9645 11090.3537,-1397.7013 11125.1148,-1357.078"/>
<polygon fill="#000000" stroke="#000000" points="11127.7748,-1359.3528 11131.6171,-1349.4792 11122.4562,-1354.8016 11127.7748,-1359.3528"/>
</g>
<!-- codeblock_136 -->
<g id="node137" class="node">
<title>codeblock_136</title>
<ellipse fill="none" stroke="#000000" cx="11477" cy="-1331.5021" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11477" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 174&#45;184</text>
</g>
<!-- section_112&#45;&gt;codeblock_136 -->
<g id="edge136" class="edge">
<title>section_112&#45;&gt;codeblock_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11043.5252,-1522.109C11098.2922,-1514.8406 11177.6986,-1500.7492 11243,-1475.0023 11321.5545,-1444.0301 11403.4669,-1387.1874 11446.4569,-1355.1236"/>
<polygon fill="#000000" stroke="#000000" points="11448.6356,-1357.8644 11454.5234,-1349.0562 11444.4278,-1352.2702 11448.6356,-1357.8644"/>
</g>
<!-- codeblock_137 -->
<g id="node138" class="node">
<title>codeblock_137</title>
<ellipse fill="none" stroke="#000000" cx="11797" cy="-1331.5021" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11797" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 186&#45;193</text>
</g>
<!-- section_112&#45;&gt;codeblock_137 -->
<g id="edge137" class="edge">
<title>section_112&#45;&gt;codeblock_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11048.2585,-1526.8022C11184.0695,-1521.8662 11477.6376,-1507.6805 11573,-1475.0023 11650.8661,-1448.3197 11728.8796,-1389.2394 11769.0964,-1355.8026"/>
<polygon fill="#000000" stroke="#000000" points="11771.4567,-1358.3908 11776.8578,-1349.276 11766.9515,-1353.0332 11771.4567,-1358.3908"/>
</g>
<!-- codeblock_138 -->
<g id="node139" class="node">
<title>codeblock_138</title>
<ellipse fill="none" stroke="#000000" cx="12124" cy="-1331.5021" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="12124" y="-1327.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 195&#45;197</text>
</g>
<!-- section_112&#45;&gt;codeblock_138 -->
<g id="edge138" class="edge">
<title>section_112&#45;&gt;codeblock_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11048.2995,-1526.847C11248.669,-1520.4244 11813.3729,-1500.2819 11893,-1475.0023 11973.6192,-1449.4079 12054.5344,-1389.3555 12095.8468,-1355.6102"/>
<polygon fill="#000000" stroke="#000000" points="12098.3299,-1358.0986 12103.8083,-1349.0301 12093.8704,-1352.7029 12098.3299,-1358.0986"/>
</g>
<!-- leaf_118 -->
<g id="node119" class="node">
<title>leaf_118</title>
<polygon fill="none" stroke="#c0c0c0" points="8361,-639.701 8307,-639.701 8307,-603.701 8361,-603.701 8361,-639.701"/>
</g>
<!-- raw_114&#45;&gt;leaf_118 -->
<g id="edge118" class="edge">
<title>raw_114&#45;&gt;leaf_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8489.3306,-1313.3526C8488.9087,-1283.6755 8483.9113,-1224.4285 8453,-1188.0019 8426.9836,-1157.3435 8393.1882,-1184.8515 8370,-1152.0019 8257.4727,-992.5894 8306.2786,-734.7146 8326.6699,-649.8007"/>
<polygon fill="#000000" stroke="#000000" points="8330.1212,-650.4228 8329.1155,-639.8758 8323.3245,-648.7479 8330.1212,-650.4228"/>
</g>
<!-- leaf_119 -->
<g id="node120" class="node">
<title>leaf_119</title>
<polygon fill="none" stroke="#c0c0c0" points="8433,-639.701 8379,-639.701 8379,-603.701 8433,-603.701 8433,-639.701"/>
</g>
<!-- prespace_115&#45;&gt;leaf_119 -->
<g id="edge119" class="edge">
<title>prespace_115&#45;&gt;leaf_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8577.6111,-1313.2212C8572.8049,-1283.3552 8559.3238,-1223.8429 8525,-1188.0019 8497.189,-1158.9616 8465.1882,-1184.8515 8442,-1152.0019 8329.4727,-992.5894 8378.2786,-734.7146 8398.6699,-649.8007"/>
<polygon fill="#000000" stroke="#000000" points="8402.1212,-650.4228 8401.1155,-639.8758 8395.3245,-648.7479 8402.1212,-650.4228"/>
</g>
<!-- leaf_120 -->
<g id="node121" class="node">
<title>leaf_120</title>
<polygon fill="none" stroke="#c0c0c0" points="8509,-639.701 8451,-639.701 8451,-603.701 8509,-603.701 8509,-639.701"/>
<text text-anchor="middle" x="8480" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">insert</text>
</g>
<!-- literal_116&#45;&gt;leaf_120 -->
<g id="edge120" class="edge">
<title>literal_116&#45;&gt;leaf_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8676.0611,-1313.389C8675.1582,-1283.2256 8668.913,-1222.6069 8635,-1188.0019 8596.9197,-1149.1445 8551.8669,-1194.5816 8518,-1152.0019 8455.7658,-1073.7571 8471.6471,-748.2038 8478.004,-649.9192"/>
<polygon fill="#000000" stroke="#000000" points="8481.5023,-650.0594 8478.6741,-639.8491 8474.5177,-649.5946 8481.5023,-650.0594"/>
</g>
<!-- leaf_121 -->
<g id="node122" class="node">
<title>leaf_121</title>
<polygon fill="none" stroke="#c0c0c0" points="8977,-639.701 8527,-639.701 8527,-603.701 8977,-603.701 8977,-639.701"/>
<text text-anchor="middle" x="8752" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> takes a fragment and carefully places it at the cursor point.</text>
</g>
<!-- raw_117&#45;&gt;leaf_121 -->
<g id="edge121" class="edge">
<title>raw_117&#45;&gt;leaf_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8752,-1313.2431C8752,-1216.8691 8752,-767.3293 8752,-649.8501"/>
<polygon fill="#000000" stroke="#000000" points="8755.5001,-649.8392 8752,-639.8393 8748.5001,-649.8393 8755.5001,-649.8392"/>
</g>
<!-- leaf_126 -->
<g id="node127" class="node">
<title>leaf_126</title>
<polygon fill="none" stroke="#c0c0c0" points="9049,-641.603 8995,-641.603 8995,-601.7989 9049,-601.7989 9049,-641.603"/>
<text text-anchor="middle" x="9022" y="-610.201" font-family="Inconsolata" font-size="14.00" fill="#000000">A</text>
</g>
<!-- raw_122&#45;&gt;leaf_126 -->
<g id="edge126" class="edge">
<title>raw_122&#45;&gt;leaf_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9003.4888,-1313.2431C9006.0544,-1217.3952 9017.9707,-772.2264 9021.1942,-651.8035"/>
<polygon fill="#000000" stroke="#000000" points="9024.7012,-651.5853 9021.4701,-641.4952 9017.7037,-651.3979 9024.7012,-651.5853"/>
</g>
<!-- leaf_127 -->
<g id="node128" class="node">
<title>leaf_127</title>
<polygon fill="none" stroke="#c0c0c0" points="9121,-639.701 9067,-639.701 9067,-603.701 9121,-603.701 9121,-639.701"/>
<text text-anchor="middle" x="9094" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_123&#45;&gt;leaf_127 -->
<g id="edge127" class="edge">
<title>prespace_123&#45;&gt;leaf_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9094,-1313.2431C9094,-1216.8691 9094,-767.3293 9094,-649.8501"/>
<polygon fill="#000000" stroke="#000000" points="9097.5001,-649.8392 9094,-639.8393 9090.5001,-649.8393 9097.5001,-649.8392"/>
</g>
<!-- leaf_128 -->
<g id="node129" class="node">
<title>leaf_128</title>
<polygon fill="none" stroke="#c0c0c0" points="9193,-639.701 9139,-639.701 9139,-603.701 9193,-603.701 9193,-639.701"/>
<text text-anchor="middle" x="9166" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">frag</text>
</g>
<!-- literal_124&#45;&gt;leaf_128 -->
<g id="edge128" class="edge">
<title>literal_124&#45;&gt;leaf_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9189.3826,-1313.2431C9186.124,-1216.8691 9170.924,-767.3293 9166.9518,-649.8501"/>
<polygon fill="#000000" stroke="#000000" points="9170.4493,-649.7152 9166.6133,-639.8393 9163.4533,-649.9519 9170.4493,-649.7152"/>
</g>
<!-- leaf_129 -->
<g id="node130" class="node">
<title>leaf_129</title>
<polygon fill="none" stroke="#c0c0c0" points="9668.5,-639.701 9211.5,-639.701 9211.5,-603.701 9668.5,-603.701 9668.5,-639.701"/>
<text text-anchor="middle" x="9440" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> is any kind of string that we won&#39;t want to break into pieces.</text>
</g>
<!-- raw_125&#45;&gt;leaf_129 -->
<g id="edge129" class="edge">
<title>raw_125&#45;&gt;leaf_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9355.238,-1313.2431C9367.0505,-1216.8691 9422.1504,-767.3293 9436.5498,-649.8501"/>
<polygon fill="#000000" stroke="#000000" points="9440.0341,-650.1908 9437.7768,-639.8393 9433.0861,-649.3391 9440.0341,-650.1908"/>
</g>
<!-- leaf_131 -->
<g id="node132" class="node">
<title>leaf_131</title>
<polygon fill="none" stroke="#c0c0c0" points="10221,-664.9013 9687,-664.9013 9687,-578.5006 10221,-578.5006 10221,-664.9013"/>
<text text-anchor="middle" x="9954" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000">At first that means pasting long strings will cause syntax highlighting to</text>
<text text-anchor="middle" x="9954" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">fall over. Harmlessly. &#160;Once lexing is working we can trip an interrupt on</text>
<text text-anchor="middle" x="9954" y="-602.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">long input.</text>
</g>
<!-- raw_130&#45;&gt;leaf_131 -->
<g id="edge131" class="edge">
<title>raw_130&#45;&gt;leaf_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9695.5506,-1313.9564C9728.8193,-1224.8464 9879.6181,-820.9326 9934.202,-674.7297"/>
<polygon fill="#000000" stroke="#000000" points="9937.5908,-675.6595 9937.8096,-665.0669 9931.0329,-673.2111 9937.5908,-675.6595"/>
</g>
<!-- leaf_139 -->
<g id="node140" class="node">
<title>leaf_139</title>
<polygon fill="none" stroke="#c0c0c0" points="10402.5,-639.701 10239.5,-639.701 10239.5,-603.701 10402.5,-603.701 10402.5,-639.701"/>
<text text-anchor="middle" x="10321" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">*** join(token, frag)</text>
</g>
<!-- header_132&#45;&gt;leaf_139 -->
<g id="edge139" class="edge">
<title>header_132&#45;&gt;leaf_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10357.0482,-1313.2431C10352.0245,-1216.8691 10328.5912,-767.3293 10322.4673,-649.8501"/>
<polygon fill="#000000" stroke="#000000" points="10325.9614,-649.6435 10321.9455,-639.8393 10318.9709,-650.0079 10325.9614,-649.6435"/>
</g>
<!-- raw_140 -->
<g id="node141" class="node">
<title>raw_140</title>
<ellipse fill="none" stroke="#000000" cx="10448" cy="-621.701" rx="27" ry="18"/>
<text text-anchor="middle" x="10448" y="-617.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_133&#45;&gt;raw_140 -->
<g id="edge140" class="edge">
<title>prose_133&#45;&gt;raw_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10587.8943,-1315.278C10561.3022,-1285.5718 10506.7916,-1219.2865 10484,-1152.0019 10422.0767,-969.1943 10437.309,-731.1045 10444.9557,-650.1018"/>
<polygon fill="#000000" stroke="#000000" points="10448.4795,-650.0313 10445.9755,-639.7367 10441.5131,-649.3459 10448.4795,-650.0313"/>
</g>
<!-- leaf_142 -->
<g id="node143" class="node">
<title>leaf_142</title>
<polygon fill="none" stroke="#c0c0c0" points="10978.5,-1151.8029 10493.5,-1151.8029 10493.5,-91.599 10978.5,-91.599 10978.5,-1151.8029"/>
<text text-anchor="middle" x="10736" y="-1136.8019" font-family="Inconsolata" font-size="14.00" fill="#000000">local function join(token, frag)</text>
<text text-anchor="middle" x="10736" y="-1121.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if sub(token, &#45;1) == &quot; &quot; and sub(frag, 1,1) ~= &quot; &quot; then</text>
<text text-anchor="middle" x="10736" y="-1106.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return token, frag</text>
<text text-anchor="middle" x="10736" y="-1090.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10736" y="-1075.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return token .. frag, nil</text>
<text text-anchor="middle" x="10736" y="-1059.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10736" y="-1044.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10736" y="-1013.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">local t_insert, splice = assert(table.insert), assert(table.splice)</text>
<text text-anchor="middle" x="10736" y="-997.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">local utf8, codepoints = string.utf8, string.codepoints</text>
<text text-anchor="middle" x="10736" y="-966.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.insert(linebuf, frag)</text>
<text text-anchor="middle" x="10736" y="-950.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local line = linebuf.line</text>
<text text-anchor="middle" x="10736" y="-935.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(line) == &quot;string&quot; then</text>
<text text-anchor="middle" x="10736" y="-920.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;line = codepoints(line)</text>
<text text-anchor="middle" x="10736" y="-904.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;linebuf.line = line</text>
<text text-anchor="middle" x="10736" y="-889.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10736" y="-873.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local wide_frag = utf8(frag)</text>
<text text-anchor="middle" x="10736" y="-858.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if wide_frag &lt; #frag then &#45;&#45; a paste</text>
<text text-anchor="middle" x="10736" y="-843.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;wide_frag = codepoints(frag)</text>
<text text-anchor="middle" x="10736" y="-827.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10736" y="-812.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;wide_frag = false</text>
<text text-anchor="middle" x="10736" y="-796.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10736" y="-781.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not wide_frag then</text>
<text text-anchor="middle" x="10736" y="-766.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;t_insert(line, linebuf.cursor, frag)</text>
<text text-anchor="middle" x="10736" y="-750.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;linebuf.cursor = linebuf.cursor + 1</text>
<text text-anchor="middle" x="10736" y="-735.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="10736" y="-719.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10736" y="-704.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;splice(line, linebuf.cursor, wide_frag)</text>
<text text-anchor="middle" x="10736" y="-689.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;linebuf.cursor = linebuf.cursor + #wide_frag</text>
<text text-anchor="middle" x="10736" y="-673.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="10736" y="-658.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10736" y="-626.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return false</text>
<text text-anchor="middle" x="10736" y="-611.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10736" y="-580.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">local remove = table.remove</text>
<text text-anchor="middle" x="10736" y="-548.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.d_back(linebuf)</text>
<text text-anchor="middle" x="10736" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;remove(linebuf.line, linebuf.cursor &#45; 1)</text>
<text text-anchor="middle" x="10736" y="-517.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.cursor = linebuf.cursor &gt; 1 and linebuf.cursor &#45; 1 or 1</text>
<text text-anchor="middle" x="10736" y="-502.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10736" y="-455.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.d_fwd(linebuf)</text>
<text text-anchor="middle" x="10736" y="-439.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;remove(linebuf.line, linebuf.cursor)</text>
<text text-anchor="middle" x="10736" y="-424.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10736" y="-392.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.left(linebuf, disp)</text>
<text text-anchor="middle" x="10736" y="-377.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local disp = disp or 1</text>
<text text-anchor="middle" x="10736" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if linebuf.cursor &#45; disp &gt;= 1 then</text>
<text text-anchor="middle" x="10736" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;linebuf.cursor = linebuf.cursor &#45; disp</text>
<text text-anchor="middle" x="10736" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return linebuf.cursor</text>
<text text-anchor="middle" x="10736" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10736" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;linebuf.cursor = 1</text>
<text text-anchor="middle" x="10736" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return linebuf.cursor</text>
<text text-anchor="middle" x="10736" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10736" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10736" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.right(linebuf, disp)</text>
<text text-anchor="middle" x="10736" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;disp = disp or 1</text>
<text text-anchor="middle" x="10736" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if linebuf.cursor + disp &lt;= #linebuf.line + 1 then</text>
<text text-anchor="middle" x="10736" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;linebuf.cursor = linebuf.cursor + disp</text>
<text text-anchor="middle" x="10736" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10736" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;linebuf.cursor = #linebuf.line + 1</text>
<text text-anchor="middle" x="10736" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10736" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return linebuf.cursor</text>
<text text-anchor="middle" x="10736" y="-99.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_134&#45;&gt;leaf_142 -->
<g id="edge142" class="edge">
<title>codeblock_134&#45;&gt;leaf_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10808.0964,-1313.2431C10805.2556,-1285.9944 10799.4714,-1230.5132 10792.3586,-1162.2872"/>
<polygon fill="#000000" stroke="#000000" points="10795.8178,-1161.7136 10791.2997,-1152.1305 10788.8556,-1162.4395 10795.8178,-1161.7136"/>
</g>
<!-- leaf_143 -->
<g id="node144" class="node">
<title>leaf_143</title>
<polygon fill="none" stroke="#c0c0c0" points="11447,-718.7013 10997,-718.7013 10997,-524.7006 11447,-524.7006 11447,-718.7013"/>
<text text-anchor="middle" x="11222" y="-703.5011" font-family="Inconsolata" font-size="14.00" fill="#000000">local cl = assert(table.clone, &quot;table.clone must be provided&quot;)</text>
<text text-anchor="middle" x="11222" y="-672.1011" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.suspend(linebuf)</text>
<text text-anchor="middle" x="11222" y="-656.701" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.line = tostring(linebuf)</text>
<text text-anchor="middle" x="11222" y="-641.301" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return linebuf</text>
<text text-anchor="middle" x="11222" y="-625.901" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="11222" y="-594.501" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.resume(linebuf)</text>
<text text-anchor="middle" x="11222" y="-579.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.line = codepoints(linebuf.line)</text>
<text text-anchor="middle" x="11222" y="-563.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.cursor = #linebuf.line + 1</text>
<text text-anchor="middle" x="11222" y="-548.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return linebuf</text>
<text text-anchor="middle" x="11222" y="-532.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_135&#45;&gt;leaf_143 -->
<g id="edge143" class="edge">
<title>codeblock_135&#45;&gt;leaf_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11148.9293,-1313.2431C11157.4831,-1232.29 11192.3668,-902.1495 11210.6685,-728.9424"/>
<polygon fill="#000000" stroke="#000000" points="11214.1719,-729.0939 11211.7421,-718.7814 11207.2107,-728.3583 11214.1719,-729.0939"/>
</g>
<!-- leaf_144 -->
<g id="node145" class="node">
<title>leaf_144</title>
<polygon fill="none" stroke="#c0c0c0" points="11761,-694.8018 11465,-694.8018 11465,-548.6001 11761,-548.6001 11761,-694.8018"/>
<text text-anchor="middle" x="11613" y="-679.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.clone(linebuf)</text>
<text text-anchor="middle" x="11613" y="-664.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local lb = cl(linebuf)</text>
<text text-anchor="middle" x="11613" y="-649.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(lb.line) == &quot;table&quot; then</text>
<text text-anchor="middle" x="11613" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;lb.line = cl(lb.line)</text>
<text text-anchor="middle" x="11613" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif type(lb.line) == &quot;string&quot; then</text>
<text text-anchor="middle" x="11613" y="-602.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;lb:resume()</text>
<text text-anchor="middle" x="11613" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11613" y="-572.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return lb</text>
<text text-anchor="middle" x="11613" y="-556.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_136&#45;&gt;leaf_144 -->
<g id="edge144" class="edge">
<title>codeblock_136&#45;&gt;leaf_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11480.4985,-1313.2431C11496.7575,-1228.3855 11565.4782,-869.7231 11597.0357,-705.0208"/>
<polygon fill="#000000" stroke="#000000" points="11600.5237,-705.4149 11598.9682,-694.9349 11593.6488,-704.0976 11600.5237,-705.4149"/>
</g>
<!-- leaf_145 -->
<g id="node146" class="node">
<title>leaf_145</title>
<polygon fill="none" stroke="#c0c0c0" points="12068.5,-672.1019 11779.5,-672.1019 11779.5,-571.3 12068.5,-571.3 12068.5,-672.1019"/>
<text text-anchor="middle" x="11924" y="-656.701" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(line)</text>
<text text-anchor="middle" x="11924" y="-641.301" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local linebuf = meta(Linebuf)</text>
<text text-anchor="middle" x="11924" y="-625.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.cursor = line and #line or 1</text>
<text text-anchor="middle" x="11924" y="-610.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.line &#160;= line or {}</text>
<text text-anchor="middle" x="11924" y="-595.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return linebuf</text>
<text text-anchor="middle" x="11924" y="-579.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_137&#45;&gt;leaf_145 -->
<g id="edge145" class="edge">
<title>codeblock_137&#45;&gt;leaf_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11800.267,-1313.2431C11816.1977,-1224.2062 11886.0629,-833.7308 11913.1837,-682.1533"/>
<polygon fill="#000000" stroke="#000000" points="11916.6682,-682.55 11914.9842,-672.0899 11909.7776,-681.3171 11916.6682,-682.55"/>
</g>
<!-- leaf_146 -->
<g id="node147" class="node">
<title>leaf_146</title>
<polygon fill="none" stroke="#c0c0c0" points="12173,-639.701 12087,-639.701 12087,-603.701 12173,-603.701 12173,-639.701"/>
<text text-anchor="middle" x="12130" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000">return new</text>
</g>
<!-- codeblock_138&#45;&gt;leaf_146 -->
<g id="edge146" class="edge">
<title>codeblock_138&#45;&gt;leaf_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12124.1543,-1313.2431C12124.969,-1216.8691 12128.769,-767.3293 12129.7621,-649.8501"/>
<polygon fill="#000000" stroke="#000000" points="12133.2619,-649.8685 12129.8467,-639.8393 12126.2622,-649.8093 12133.2619,-649.8685"/>
</g>
<!-- leaf_141 -->
<g id="node142" class="node">
<title>leaf_141</title>
<polygon fill="none" stroke="#c0c0c0" points="10571.5,-55.6015 10324.5,-55.6015 10324.5,.2015 10571.5,.2015 10571.5,-55.6015"/>
<text text-anchor="middle" x="10448" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">Decides when to emit a new token.</text>
</g>
<!-- raw_140&#45;&gt;leaf_141 -->
<g id="edge141" class="edge">
<title>raw_140&#45;&gt;leaf_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10448,-603.5993C10448,-521.2044 10448,-180.6831 10448,-65.7703"/>
<polygon fill="#000000" stroke="#000000" points="10451.5001,-65.6824 10448,-55.6825 10444.5001,-65.6825 10451.5001,-65.6824"/>
</g>
</g>
</svg>
