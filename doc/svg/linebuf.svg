<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="12219pt" height="1709pt"
 viewBox="0.00 0.00 12219.30 1709.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1705.4022)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1705.4022 12215.2972,-1705.4022 12215.2972,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="3545" cy="-1683.4022" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="3545" y="-1679.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 193</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="3545" cy="-1611.4022" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="3545" y="-1607.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;70</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3545,-1665.2336C3545,-1657.5332 3545,-1648.3766 3545,-1639.8188"/>
<polygon fill="#000000" stroke="#000000" points="3548.5001,-1639.8154 3545,-1629.8155 3541.5001,-1639.8155 3548.5001,-1639.8154"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="1272" cy="-1539.4022" rx="51.319" ry="18"/>
<text text-anchor="middle" x="1272" y="-1535.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Linebuf</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3484.1262,-1610.6399C3152.0788,-1606.3833 1566.5105,-1584.7613 1350,-1557.4022 1341.1843,-1556.2882 1331.9067,-1554.6079 1322.9478,-1552.7136"/>
<polygon fill="#000000" stroke="#000000" points="1323.5314,-1549.2579 1313.0099,-1550.5027 1322.0112,-1556.0909 1323.5314,-1549.2579"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="1391" cy="-1539.4022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1391" y="-1535.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3484.2156,-1610.9983C3160.4939,-1608.6927 1646.0924,-1595.9122 1441,-1557.4022 1436.2084,-1556.5025 1431.2645,-1555.2073 1426.4354,-1553.7181"/>
<polygon fill="#000000" stroke="#000000" points="1427.3637,-1550.3375 1416.7695,-1550.4537 1425.1239,-1556.9695 1427.3637,-1550.3375"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="1482" cy="-1539.4022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1482" y="-1535.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3484.101,-1611.0505C3168.1198,-1609.0543 1722.4811,-1597.7674 1527,-1557.4022 1523.5158,-1556.6828 1519.955,-1555.71 1516.438,-1554.5871"/>
<polygon fill="#000000" stroke="#000000" points="1517.3363,-1551.1911 1506.7418,-1551.1111 1514.9741,-1557.7805 1517.3363,-1551.1911"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="1568" cy="-1539.4022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1568" y="-1535.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3484.4816,-1609.1982C3184.901,-1598.2878 1864.896,-1550.2148 1610.5064,-1540.9502"/>
<polygon fill="#000000" stroke="#000000" points="1610.3311,-1537.4416 1600.2103,-1540.5753 1610.0763,-1544.437 1610.3311,-1537.4416"/>
</g>
<!-- prose_6 -->
<g id="node7" class="node">
<title>prose_6</title>
<ellipse fill="none" stroke="#000000" cx="3073" cy="-1539.4022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3073" y="-1535.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;prose_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3490.8556,-1603.1429C3395.5505,-1588.6048 3199.8483,-1558.752 3114.4217,-1545.7208"/>
<polygon fill="#000000" stroke="#000000" points="3114.7368,-1542.2284 3104.3233,-1544.1803 3113.6811,-1549.1484 3114.7368,-1542.2284"/>
</g>
<!-- prose_7 -->
<g id="node8" class="node">
<title>prose_7</title>
<ellipse fill="none" stroke="#000000" cx="3663" cy="-1539.4022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3663" y="-1535.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;prose_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3571.776,-1595.0643C3589.7742,-1584.0823 3613.5436,-1569.579 3632.307,-1558.1302"/>
<polygon fill="#000000" stroke="#000000" points="3634.3553,-1560.9805 3641.0687,-1552.784 3630.7093,-1555.005 3634.3553,-1560.9805"/>
</g>
<!-- prose_8 -->
<g id="node9" class="node">
<title>prose_8</title>
<ellipse fill="none" stroke="#000000" cx="4752" cy="-1539.4022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4752" y="-1535.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;prose_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3604.8553,-1607.8317C3816.7122,-1595.194 4528.0213,-1552.763 4709.5471,-1541.9346"/>
<polygon fill="#000000" stroke="#000000" points="4709.9826,-1545.415 4719.7564,-1541.3256 4709.5657,-1538.4274 4709.9826,-1545.415"/>
</g>
<!-- prose_9 -->
<g id="node10" class="node">
<title>prose_9</title>
<ellipse fill="none" stroke="#000000" cx="5007" cy="-1539.4022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5007" y="-1535.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;prose_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3605.7595,-1609.6495C3786.6007,-1604.2441 4337.1417,-1586.4241 4793,-1557.4022 4852.8114,-1553.5944 4921.8851,-1547.4715 4965.007,-1543.4423"/>
<polygon fill="#000000" stroke="#000000" points="4965.4962,-1546.9118 4975.1245,-1542.4908 4964.8407,-1539.9426 4965.4962,-1546.9118"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="7134" cy="-1539.4022" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="7134" y="-1535.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 27&#45;70</text>
</g>
<!-- section_1&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3605.7879,-1610.1827C4033.2655,-1601.607 6584.4436,-1550.427 7058.2876,-1540.9211"/>
<polygon fill="#000000" stroke="#000000" points="7058.5073,-1544.4175 7068.435,-1540.7175 7058.3668,-1537.4189 7058.5073,-1544.4175"/>
</g>
<!-- section_11 -->
<g id="node12" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="8885" cy="-1539.4022" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="8885" y="-1535.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 71&#45;81</text>
</g>
<!-- section_1&#45;&gt;section_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;section_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3605.8907,-1610.5812C4152.0683,-1603.217 8202.3749,-1548.6061 8809.0495,-1540.4263"/>
<polygon fill="#000000" stroke="#000000" points="8809.4644,-1543.9211 8819.4162,-1540.2865 8809.3699,-1536.9217 8809.4644,-1543.9211"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="1211.5,-1485.4022 1132.5,-1485.4022 1132.5,-1449.4022 1211.5,-1449.4022 1211.5,-1485.4022"/>
<text text-anchor="middle" x="1172" y="-1463.9022" font-family="Inconsolata" font-size="14.00" fill="#000000">* Linebuf</text>
</g>
<!-- header_2&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>header_2&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1249.3085,-1523.0643C1236.3022,-1513.6998 1219.7398,-1501.7749 1205.2839,-1491.3667"/>
<polygon fill="#000000" stroke="#000000" points="1207.2193,-1488.4473 1197.0588,-1485.4446 1203.1291,-1494.128 1207.2193,-1488.4473"/>
</g>
<!-- raw_13 -->
<g id="node14" class="node">
<title>raw_13</title>
<ellipse fill="none" stroke="#000000" cx="1257" cy="-1467.4022" rx="27" ry="18"/>
<text text-anchor="middle" x="1257" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_13 -->
<g id="edge13" class="edge">
<title>prose_3&#45;&gt;raw_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1367.659,-1526.8608C1345.3184,-1514.8569 1311.507,-1496.6896 1287.1397,-1483.5967"/>
<polygon fill="#000000" stroke="#000000" points="1288.7723,-1480.5007 1278.3067,-1478.8506 1285.4591,-1486.6669 1288.7723,-1480.5007"/>
</g>
<!-- raw_15 -->
<g id="node16" class="node">
<title>raw_15</title>
<ellipse fill="none" stroke="#000000" cx="1329" cy="-1467.4022" rx="27" ry="18"/>
<text text-anchor="middle" x="1329" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_15 -->
<g id="edge15" class="edge">
<title>prose_4&#45;&gt;raw_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1456.7882,-1528.0408C1433.0209,-1517.2655 1396.4552,-1500.5204 1365,-1485.4022 1363.2523,-1484.5622 1361.4605,-1483.6928 1359.6546,-1482.8103"/>
<polygon fill="#000000" stroke="#000000" points="1361.1642,-1479.6523 1350.6481,-1478.3632 1358.065,-1485.9289 1361.1642,-1479.6523"/>
</g>
<!-- raw_17 -->
<g id="node18" class="node">
<title>raw_17</title>
<ellipse fill="none" stroke="#000000" cx="1401" cy="-1467.4022" rx="27" ry="18"/>
<text text-anchor="middle" x="1401" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_17 -->
<g id="edge17" class="edge">
<title>prose_5&#45;&gt;raw_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1541.7249,-1528.8349C1509.3823,-1515.7812 1456.3652,-1494.2208 1437,-1485.4022 1435.2353,-1484.5986 1433.4301,-1483.7577 1431.6141,-1482.897"/>
<polygon fill="#000000" stroke="#000000" points="1433.1037,-1479.7296 1422.5793,-1478.5102 1430.0462,-1486.0266 1433.1037,-1479.7296"/>
</g>
<!-- link_18 -->
<g id="node19" class="node">
<title>link_18</title>
<ellipse fill="none" stroke="#000000" cx="1473" cy="-1467.4022" rx="27" ry="18"/>
<text text-anchor="middle" x="1473" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">link</text>
</g>
<!-- prose_5&#45;&gt;link_18 -->
<g id="edge18" class="edge">
<title>prose_5&#45;&gt;link_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1548.7753,-1524.8319C1534.5026,-1514.0147 1514.8748,-1499.1389 1499.1718,-1487.2377"/>
<polygon fill="#000000" stroke="#000000" points="1500.9944,-1484.2274 1490.9106,-1480.9766 1496.7663,-1489.8062 1500.9944,-1484.2274"/>
</g>
<!-- raw_19 -->
<g id="node20" class="node">
<title>raw_19</title>
<ellipse fill="none" stroke="#000000" cx="1616" cy="-1467.4022" rx="27" ry="18"/>
<text text-anchor="middle" x="1616" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_19 -->
<g id="edge19" class="edge">
<title>prose_5&#45;&gt;raw_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1579.3753,-1522.3392C1585.2336,-1513.5519 1592.4948,-1502.6601 1599.0029,-1492.8978"/>
<polygon fill="#000000" stroke="#000000" points="1602.0715,-1494.6047 1604.7063,-1484.3427 1596.2471,-1490.7218 1602.0715,-1494.6047"/>
</g>
<!-- raw_26 -->
<g id="node27" class="node">
<title>raw_26</title>
<ellipse fill="none" stroke="#000000" cx="2198" cy="-1467.4022" rx="27" ry="18"/>
<text text-anchor="middle" x="2198" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_26 -->
<g id="edge26" class="edge">
<title>prose_6&#45;&gt;raw_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3040.3991,-1539.1615C2931.1944,-1537.9388 2568.5197,-1530.5105 2273,-1485.4022 2259.8662,-1483.3975 2245.647,-1480.2428 2233.1567,-1477.1308"/>
<polygon fill="#000000" stroke="#000000" points="2233.6898,-1473.6541 2223.1332,-1474.5529 2231.9462,-1480.4335 2233.6898,-1473.6541"/>
</g>
<!-- prespace_27 -->
<g id="node28" class="node">
<title>prespace_27</title>
<ellipse fill="none" stroke="#000000" cx="2328" cy="-1467.4022" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2328" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_6&#45;&gt;prespace_27 -->
<g id="edge27" class="edge">
<title>prose_6&#45;&gt;prespace_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3040.7031,-1537.6103C2946.8801,-1532.2025 2666.3227,-1514.5986 2435,-1485.4022 2417.0336,-1483.1346 2397.4721,-1480.0318 2380.047,-1477.0408"/>
<polygon fill="#000000" stroke="#000000" points="2380.5151,-1473.5697 2370.0625,-1475.2998 2379.3126,-1480.4656 2380.5151,-1473.5697"/>
</g>
<!-- literal_28 -->
<g id="node29" class="node">
<title>literal_28</title>
<ellipse fill="none" stroke="#000000" cx="2475" cy="-1467.4022" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2475" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_6&#45;&gt;literal_28 -->
<g id="edge28" class="edge">
<title>prose_6&#45;&gt;literal_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3040.6972,-1537.3594C2958.9635,-1531.904 2737.4659,-1515.3342 2555,-1485.4022 2541.4763,-1483.1838 2526.8111,-1480.0885 2513.7752,-1477.0895"/>
<polygon fill="#000000" stroke="#000000" points="2514.2588,-1473.6078 2503.7229,-1474.7236 2512.655,-1480.4216 2514.2588,-1473.6078"/>
</g>
<!-- raw_29 -->
<g id="node30" class="node">
<title>raw_29</title>
<ellipse fill="none" stroke="#000000" cx="2591" cy="-1467.4022" rx="27" ry="18"/>
<text text-anchor="middle" x="2591" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_29 -->
<g id="edge29" class="edge">
<title>prose_6&#45;&gt;raw_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3041.0908,-1536.6564C2971.3278,-1530.3441 2800.1748,-1513.1737 2659,-1485.4022 2648.0126,-1483.2408 2636.1721,-1480.3184 2625.4992,-1477.4575"/>
<polygon fill="#000000" stroke="#000000" points="2626.2604,-1474.037 2615.6903,-1474.7603 2624.4044,-1480.7865 2626.2604,-1474.037"/>
</g>
<!-- prespace_30 -->
<g id="node31" class="node">
<title>prespace_30</title>
<ellipse fill="none" stroke="#000000" cx="2714" cy="-1467.4022" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2714" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_6&#45;&gt;prespace_30 -->
<g id="edge30" class="edge">
<title>prose_6&#45;&gt;prespace_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3041.2991,-1535.1879C2985.8258,-1527.4953 2867.7456,-1509.704 2770,-1485.4022 2766.2062,-1484.459 2762.2948,-1483.3953 2758.3857,-1482.2684"/>
<polygon fill="#000000" stroke="#000000" points="2759.3266,-1478.8966 2748.7423,-1479.3693 2757.3112,-1485.6002 2759.3266,-1478.8966"/>
</g>
<!-- literal_31 -->
<g id="node32" class="node">
<title>literal_31</title>
<ellipse fill="none" stroke="#000000" cx="2810" cy="-1467.4022" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2810" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_6&#45;&gt;literal_31 -->
<g id="edge31" class="edge">
<title>prose_6&#45;&gt;literal_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3042.1894,-1533.8209C2998.6847,-1525.519 2917.074,-1508.393 2850,-1485.4022 2847.8929,-1484.68 2845.7451,-1483.8878 2843.5934,-1483.0511"/>
<polygon fill="#000000" stroke="#000000" points="2844.8272,-1479.7737 2834.2492,-1479.1763 2842.1459,-1486.2399 2844.8272,-1479.7737"/>
</g>
<!-- raw_32 -->
<g id="node33" class="node">
<title>raw_32</title>
<ellipse fill="none" stroke="#000000" cx="2886" cy="-1467.4022" rx="27" ry="18"/>
<text text-anchor="middle" x="2886" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_32 -->
<g id="edge32" class="edge">
<title>prose_6&#45;&gt;raw_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3044.7815,-1530.4394C3014.1521,-1520.4508 2963.9919,-1503.3319 2922,-1485.4022 2920.2167,-1484.6408 2918.3969,-1483.8329 2916.5697,-1482.9976"/>
<polygon fill="#000000" stroke="#000000" points="2918.0375,-1479.82 2907.504,-1478.6808 2915.028,-1486.1401 2918.0375,-1479.82"/>
</g>
<!-- prespace_33 -->
<g id="node34" class="node">
<title>prespace_33</title>
<ellipse fill="none" stroke="#000000" cx="2977" cy="-1467.4022" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2977" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_6&#45;&gt;prespace_33 -->
<g id="edge33" class="edge">
<title>prose_6&#45;&gt;prespace_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3053.573,-1524.8319C3040.0746,-1514.7081 3021.8362,-1501.0294 3006.5453,-1489.5612"/>
<polygon fill="#000000" stroke="#000000" points="3008.5024,-1486.6541 2998.4024,-1483.454 3004.3024,-1492.2541 3008.5024,-1486.6541"/>
</g>
<!-- literal_34 -->
<g id="node35" class="node">
<title>literal_34</title>
<ellipse fill="none" stroke="#000000" cx="3073" cy="-1467.4022" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3073" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_6&#45;&gt;literal_34 -->
<g id="edge34" class="edge">
<title>prose_6&#45;&gt;literal_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3073,-1521.2336C3073,-1513.5332 3073,-1504.3766 3073,-1495.8188"/>
<polygon fill="#000000" stroke="#000000" points="3076.5001,-1495.8154 3073,-1485.8155 3069.5001,-1495.8155 3076.5001,-1495.8154"/>
</g>
<!-- raw_35 -->
<g id="node36" class="node">
<title>raw_35</title>
<ellipse fill="none" stroke="#000000" cx="3149" cy="-1467.4022" rx="27" ry="18"/>
<text text-anchor="middle" x="3149" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_35 -->
<g id="edge35" class="edge">
<title>prose_6&#45;&gt;raw_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3089.4909,-1523.7793C3100.1629,-1513.669 3114.2097,-1500.3614 3125.976,-1489.2144"/>
<polygon fill="#000000" stroke="#000000" points="3128.468,-1491.6749 3133.3204,-1482.2565 3123.6538,-1486.5932 3128.468,-1491.6749"/>
</g>
<!-- prespace_36 -->
<g id="node37" class="node">
<title>prespace_36</title>
<ellipse fill="none" stroke="#000000" cx="3243" cy="-1467.4022" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="3243" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_6&#45;&gt;prespace_36 -->
<g id="edge36" class="edge">
<title>prose_6&#45;&gt;prespace_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3098.8193,-1528.467C3126.1768,-1516.8803 3169.7714,-1498.4167 3201.869,-1484.8224"/>
<polygon fill="#000000" stroke="#000000" points="3203.5873,-1487.8957 3211.4305,-1480.7728 3200.8573,-1481.45 3203.5873,-1487.8957"/>
</g>
<!-- literal_37 -->
<g id="node38" class="node">
<title>literal_37</title>
<ellipse fill="none" stroke="#000000" cx="3341" cy="-1467.4022" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3341" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_6&#45;&gt;literal_37 -->
<g id="edge37" class="edge">
<title>prose_6&#45;&gt;literal_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3103.638,-1533.6784C3147.3432,-1525.1479 3229.8437,-1507.6858 3298,-1485.4022 3300.9062,-1484.452 3303.8912,-1483.3902 3306.8684,-1482.2705"/>
<polygon fill="#000000" stroke="#000000" points="3308.2332,-1485.4946 3316.2453,-1478.5623 3305.6589,-1478.9851 3308.2332,-1485.4946"/>
</g>
<!-- raw_38 -->
<g id="node39" class="node">
<title>raw_38</title>
<ellipse fill="none" stroke="#000000" cx="3420" cy="-1467.4022" rx="27" ry="18"/>
<text text-anchor="middle" x="3420" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_38 -->
<g id="edge38" class="edge">
<title>prose_6&#45;&gt;raw_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3105.1243,-1536.5327C3161.8613,-1530.8599 3283.0696,-1516.0162 3381,-1485.4022 3383.7358,-1484.547 3386.5293,-1483.5428 3389.3014,-1482.4536"/>
<polygon fill="#000000" stroke="#000000" points="3390.7053,-1485.6599 3398.5296,-1478.5163 3387.9582,-1479.2215 3390.7053,-1485.6599"/>
</g>
<!-- prespace_39 -->
<g id="node40" class="node">
<title>prespace_39</title>
<ellipse fill="none" stroke="#000000" cx="3516" cy="-1467.4022" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="3516" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_6&#45;&gt;prespace_39 -->
<g id="edge39" class="edge">
<title>prose_6&#45;&gt;prespace_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3105.0679,-1536.5373C3171.2282,-1530.2644 3327.4363,-1513.5801 3456,-1485.4022 3460.7306,-1484.3654 3465.631,-1483.1446 3470.4989,-1481.8353"/>
<polygon fill="#000000" stroke="#000000" points="3471.7029,-1485.1324 3480.3805,-1479.0538 3469.8063,-1478.3943 3471.7029,-1485.1324"/>
</g>
<!-- literal_40 -->
<g id="node41" class="node">
<title>literal_40</title>
<ellipse fill="none" stroke="#000000" cx="3614" cy="-1467.4022" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3614" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_6&#45;&gt;literal_40 -->
<g id="edge40" class="edge">
<title>prose_6&#45;&gt;literal_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3105.1775,-1537.1303C3200.7903,-1530.1878 3482.0495,-1508.3261 3571,-1485.4022 3574.1348,-1484.5943 3577.3397,-1483.5995 3580.5164,-1482.4958"/>
<polygon fill="#000000" stroke="#000000" points="3581.7635,-1485.7661 3589.8631,-1478.9363 3579.2722,-1479.2244 3581.7635,-1485.7661"/>
</g>
<!-- raw_41 -->
<g id="node42" class="node">
<title>raw_41</title>
<ellipse fill="none" stroke="#000000" cx="3696" cy="-1467.4022" rx="27" ry="18"/>
<text text-anchor="middle" x="3696" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_41 -->
<g id="edge41" class="edge">
<title>prose_6&#45;&gt;raw_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3105.1818,-1537.7341C3211.1765,-1532.0331 3548.575,-1512.1852 3654,-1485.4022 3657.5945,-1484.489 3661.2769,-1483.3091 3664.8951,-1481.9903"/>
<polygon fill="#000000" stroke="#000000" points="3666.2325,-1485.225 3674.2186,-1478.2628 3663.6338,-1478.7252 3666.2325,-1485.225"/>
</g>
<!-- raw_58 -->
<g id="node59" class="node">
<title>raw_58</title>
<ellipse fill="none" stroke="#000000" cx="3899" cy="-1467.4022" rx="27" ry="18"/>
<text text-anchor="middle" x="3899" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_7&#45;&gt;raw_58 -->
<g id="edge58" class="edge">
<title>prose_7&#45;&gt;raw_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3691.4671,-1530.7173C3734.9829,-1517.4413 3817.9078,-1492.1422 3864.6845,-1477.8713"/>
<polygon fill="#000000" stroke="#000000" points="3865.8242,-1481.183 3874.3676,-1474.9172 3863.7815,-1474.4876 3865.8242,-1481.183"/>
</g>
<!-- raw_60 -->
<g id="node61" class="node">
<title>raw_60</title>
<ellipse fill="none" stroke="#000000" cx="4426" cy="-1467.4022" rx="27" ry="18"/>
<text text-anchor="middle" x="4426" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_8&#45;&gt;raw_60 -->
<g id="edge60" class="edge">
<title>prose_8&#45;&gt;raw_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4721.6841,-1533.187C4674.2941,-1523.408 4579.8189,-1503.6583 4500,-1485.4022 4487.3124,-1482.5003 4473.4407,-1479.1687 4461.1715,-1476.1669"/>
<polygon fill="#000000" stroke="#000000" points="4461.85,-1472.7295 4451.3034,-1473.7396 4460.178,-1479.5269 4461.85,-1472.7295"/>
</g>
<!-- prespace_61 -->
<g id="node62" class="node">
<title>prespace_61</title>
<ellipse fill="none" stroke="#000000" cx="4555" cy="-1467.4022" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4555" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_8&#45;&gt;prespace_61 -->
<g id="edge61" class="edge">
<title>prose_8&#45;&gt;prespace_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4725.0211,-1529.5419C4692.3803,-1517.6123 4637.0057,-1497.3738 4598.3508,-1483.2462"/>
<polygon fill="#000000" stroke="#000000" points="4599.5014,-1479.9403 4588.9075,-1479.7948 4597.0984,-1486.5149 4599.5014,-1479.9403"/>
</g>
<!-- literal_62 -->
<g id="node63" class="node">
<title>literal_62</title>
<ellipse fill="none" stroke="#000000" cx="4701" cy="-1467.4022" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4701" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_8&#45;&gt;literal_62 -->
<g id="edge62" class="edge">
<title>prose_8&#45;&gt;literal_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4739.9137,-1522.3392C4733.6258,-1513.4622 4725.8167,-1502.4376 4718.8479,-1492.5993"/>
<polygon fill="#000000" stroke="#000000" points="4721.6358,-1490.4799 4712.9995,-1484.3427 4715.9237,-1494.5261 4721.6358,-1490.4799"/>
</g>
<!-- raw_63 -->
<g id="node64" class="node">
<title>raw_63</title>
<ellipse fill="none" stroke="#000000" cx="4790" cy="-1467.4022" rx="27" ry="18"/>
<text text-anchor="middle" x="4790" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_8&#45;&gt;raw_63 -->
<g id="edge63" class="edge">
<title>prose_8&#45;&gt;raw_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4761.1987,-1521.973C4765.6797,-1513.4829 4771.1621,-1503.0951 4776.1366,-1493.6696"/>
<polygon fill="#000000" stroke="#000000" points="4779.3137,-1495.1484 4780.886,-1484.6709 4773.123,-1491.8811 4779.3137,-1495.1484"/>
</g>
<!-- prespace_64 -->
<g id="node65" class="node">
<title>prespace_64</title>
<ellipse fill="none" stroke="#000000" cx="4912" cy="-1467.4022" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4912" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_8&#45;&gt;prespace_64 -->
<g id="edge64" class="edge">
<title>prose_8&#45;&gt;prespace_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4777.3525,-1527.9936C4802.8756,-1516.5082 4842.6141,-1498.6259 4872.3152,-1485.2604"/>
<polygon fill="#000000" stroke="#000000" points="4873.8921,-1488.3889 4881.575,-1481.0934 4871.0195,-1482.0054 4873.8921,-1488.3889"/>
</g>
<!-- literal_65 -->
<g id="node66" class="node">
<title>literal_65</title>
<ellipse fill="none" stroke="#000000" cx="5039" cy="-1467.4022" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5039" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_8&#45;&gt;literal_65 -->
<g id="edge65" class="edge">
<title>prose_8&#45;&gt;literal_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4781.6331,-1531.9681C4833.7843,-1518.8849 4941.9344,-1491.7532 5000.0514,-1477.1733"/>
<polygon fill="#000000" stroke="#000000" points="5001.1078,-1480.5168 5009.9556,-1474.6886 4999.4045,-1473.7272 5001.1078,-1480.5168"/>
</g>
<!-- raw_66 -->
<g id="node67" class="node">
<title>raw_66</title>
<ellipse fill="none" stroke="#000000" cx="5219" cy="-1467.4022" rx="27" ry="18"/>
<text text-anchor="middle" x="5219" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_8&#45;&gt;raw_66 -->
<g id="edge66" class="edge">
<title>prose_8&#45;&gt;raw_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4783.3663,-1534.5663C4866.7745,-1521.7068 5093.7297,-1486.7158 5182.6105,-1473.0126"/>
<polygon fill="#000000" stroke="#000000" points="5183.1512,-1476.4707 5192.5011,-1471.4877 5182.0845,-1469.5524 5183.1512,-1476.4707"/>
</g>
<!-- raw_74 -->
<g id="node75" class="node">
<title>raw_74</title>
<ellipse fill="none" stroke="#000000" cx="5530" cy="-1467.4022" rx="27" ry="18"/>
<text text-anchor="middle" x="5530" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_9&#45;&gt;raw_74 -->
<g id="edge74" class="edge">
<title>prose_9&#45;&gt;raw_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5038.5382,-1535.0604C5130.1634,-1522.4466 5395.9988,-1485.8498 5493.5506,-1472.4201"/>
<polygon fill="#000000" stroke="#000000" points="5494.0981,-1475.8778 5503.5273,-1471.0466 5493.1434,-1468.9432 5494.0981,-1475.8778"/>
</g>
<!-- header_76 -->
<g id="node77" class="node">
<title>header_76</title>
<ellipse fill="none" stroke="#000000" cx="6211" cy="-1467.4022" rx="78.8574" ry="18"/>
<text text-anchor="middle" x="6211" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Instance fields</text>
</g>
<!-- section_10&#45;&gt;header_76 -->
<g id="edge76" class="edge">
<title>section_10&#45;&gt;header_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7069.7371,-1535.4664C6940.01,-1527.3686 6637.5835,-1507.7177 6384,-1485.4022 6353.9975,-1482.762 6321.1129,-1479.4467 6292.1461,-1476.3832"/>
<polygon fill="#000000" stroke="#000000" points="6292.389,-1472.8894 6282.0748,-1475.3117 6291.6483,-1479.8501 6292.389,-1472.8894"/>
</g>
<!-- prose_77 -->
<g id="node78" class="node">
<title>prose_77</title>
<ellipse fill="none" stroke="#000000" cx="6425" cy="-1467.4022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6425" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_77 -->
<g id="edge77" class="edge">
<title>section_10&#45;&gt;prose_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7072.3212,-1533.1386C6931.0422,-1518.7916 6586.9565,-1483.8491 6467.0455,-1471.672"/>
<polygon fill="#000000" stroke="#000000" points="6467.1151,-1468.1612 6456.8127,-1470.6328 6466.4079,-1475.1253 6467.1151,-1468.1612"/>
</g>
<!-- prose_78 -->
<g id="node79" class="node">
<title>prose_78</title>
<ellipse fill="none" stroke="#000000" cx="6996" cy="-1467.4022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6996" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_78 -->
<g id="edge78" class="edge">
<title>section_10&#45;&gt;prose_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7103.3733,-1523.4231C7081.1799,-1511.8439 7051.2205,-1496.2129 7028.5872,-1484.4042"/>
<polygon fill="#000000" stroke="#000000" points="7030.1736,-1481.2842 7019.6887,-1479.7615 7026.9356,-1487.4903 7030.1736,-1481.2842"/>
</g>
<!-- prose_79 -->
<g id="node80" class="node">
<title>prose_79</title>
<ellipse fill="none" stroke="#000000" cx="7134" cy="-1467.4022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7134" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_79 -->
<g id="edge79" class="edge">
<title>section_10&#45;&gt;prose_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7134,-1521.2336C7134,-1513.5332 7134,-1504.3766 7134,-1495.8188"/>
<polygon fill="#000000" stroke="#000000" points="7137.5001,-1495.8154 7134,-1485.8155 7130.5001,-1495.8155 7137.5001,-1495.8154"/>
</g>
<!-- prose_80 -->
<g id="node81" class="node">
<title>prose_80</title>
<ellipse fill="none" stroke="#000000" cx="7216" cy="-1467.4022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7216" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_80 -->
<g id="edge80" class="edge">
<title>section_10&#45;&gt;prose_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7153.8499,-1521.973C7164.9412,-1512.2343 7178.8761,-1499.9988 7190.7387,-1489.5829"/>
<polygon fill="#000000" stroke="#000000" points="7193.3546,-1491.9437 7198.5597,-1482.7156 7188.736,-1486.6836 7193.3546,-1491.9437"/>
</g>
<!-- codeblock_81 -->
<g id="node82" class="node">
<title>codeblock_81</title>
<ellipse fill="none" stroke="#000000" cx="7407" cy="-1467.4022" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="7407" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 41&#45;43</text>
</g>
<!-- section_10&#45;&gt;codeblock_81 -->
<g id="edge81" class="edge">
<title>section_10&#45;&gt;codeblock_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7181.553,-1526.8608C7227.0015,-1514.8743 7295.7516,-1496.7424 7345.3791,-1483.6539"/>
<polygon fill="#000000" stroke="#000000" points="7346.5731,-1486.9587 7355.3499,-1481.0242 7344.788,-1480.1902 7346.5731,-1486.9587"/>
</g>
<!-- codeblock_82 -->
<g id="node83" class="node">
<title>codeblock_82</title>
<ellipse fill="none" stroke="#000000" cx="7682" cy="-1467.4022" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="7682" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 45&#45;47</text>
</g>
<!-- section_10&#45;&gt;codeblock_82 -->
<g id="edge82" class="edge">
<title>section_10&#45;&gt;codeblock_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7193.4273,-1531.5942C7292.978,-1518.5146 7493.3967,-1492.1822 7604.0994,-1477.6373"/>
<polygon fill="#000000" stroke="#000000" points="7604.7403,-1481.0833 7614.1992,-1476.3104 7603.8284,-1474.1429 7604.7403,-1481.0833"/>
</g>
<!-- codeblock_83 -->
<g id="node84" class="node">
<title>codeblock_83</title>
<ellipse fill="none" stroke="#000000" cx="7947" cy="-1467.4022" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="7947" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 49&#45;68</text>
</g>
<!-- section_10&#45;&gt;codeblock_83 -->
<g id="edge83" class="edge">
<title>section_10&#45;&gt;codeblock_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7197.4699,-1534.3186C7311.6581,-1525.1009 7559.285,-1504.7836 7768,-1485.4022 7799.9922,-1482.4314 7835.177,-1478.9416 7865.8227,-1475.8296"/>
<polygon fill="#000000" stroke="#000000" points="7866.4365,-1479.2853 7876.0303,-1474.7901 7865.7272,-1472.3214 7866.4365,-1479.2853"/>
</g>
<!-- header_108 -->
<g id="node109" class="node">
<title>header_108</title>
<ellipse fill="none" stroke="#000000" cx="8411" cy="-1467.4022" rx="127.6874" ry="18"/>
<text text-anchor="middle" x="8411" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Linebuf.insert(linebuf, frag)</text>
</g>
<!-- section_11&#45;&gt;header_108 -->
<g id="edge108" class="edge">
<title>section_11&#45;&gt;header_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8827.3522,-1530.6456C8748.0018,-1518.5924 8604.0544,-1496.7269 8507.9751,-1482.1326"/>
<polygon fill="#000000" stroke="#000000" points="8508.3716,-1478.6528 8497.9594,-1480.6112 8507.3203,-1485.5734 8508.3716,-1478.6528"/>
</g>
<!-- prose_109 -->
<g id="node110" class="node">
<title>prose_109</title>
<ellipse fill="none" stroke="#000000" cx="8676" cy="-1467.4022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8676" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_109 -->
<g id="edge109" class="edge">
<title>section_11&#45;&gt;prose_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8843.7083,-1525.1773C8805.7582,-1512.1036 8749.9932,-1492.8927 8713.3454,-1480.2676"/>
<polygon fill="#000000" stroke="#000000" points="8714.1411,-1476.8399 8703.5464,-1476.8919 8711.8611,-1483.4582 8714.1411,-1476.8399"/>
</g>
<!-- prose_110 -->
<g id="node111" class="node">
<title>prose_110</title>
<ellipse fill="none" stroke="#000000" cx="9094" cy="-1467.4022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9094" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_110 -->
<g id="edge110" class="edge">
<title>section_11&#45;&gt;prose_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8926.2917,-1525.1773C8964.2418,-1512.1036 9020.0068,-1492.8927 9056.6546,-1480.2676"/>
<polygon fill="#000000" stroke="#000000" points="9058.1389,-1483.4582 9066.4536,-1476.8919 9055.8589,-1476.8399 9058.1389,-1483.4582"/>
</g>
<!-- prose_111 -->
<g id="node112" class="node">
<title>prose_111</title>
<ellipse fill="none" stroke="#000000" cx="9433" cy="-1467.4022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9433" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_111 -->
<g id="edge111" class="edge">
<title>section_11&#45;&gt;prose_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8944.4273,-1531.5942C9056.1754,-1516.912 9295.0233,-1485.5305 9391.3996,-1472.868"/>
<polygon fill="#000000" stroke="#000000" points="9391.8953,-1476.333 9401.3541,-1471.5601 9390.9834,-1469.3926 9391.8953,-1476.333"/>
</g>
<!-- section_112 -->
<g id="node113" class="node">
<title>section_112</title>
<ellipse fill="none" stroke="#000000" cx="10978" cy="-1467.4022" rx="70.655" ry="18"/>
<text text-anchor="middle" x="10978" y="-1463.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 82&#45;193</text>
</g>
<!-- section_11&#45;&gt;section_112 -->
<g id="edge112" class="edge">
<title>section_11&#45;&gt;section_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8950.224,-1537.1585C9257.4813,-1526.5887 10559.7037,-1481.7918 10897.6256,-1470.1671"/>
<polygon fill="#000000" stroke="#000000" points="10897.942,-1473.6584 10907.8157,-1469.8166 10897.7012,-1466.6625 10897.942,-1473.6584"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="548,-1313.2023 0,-1313.2023 0,-1226.6017 548,-1226.6017 548,-1313.2023"/>
<text text-anchor="middle" x="274" y="-1250.102" font-family="Inconsolata" font-size="14.00" fill="#000000">Rather than derive this from [[espalier&#39;s Phrase class][@/espalier/phrase]],</text>
<text text-anchor="middle" x="274" y="-1234.702" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m going to port it.</text>
</g>
<!-- raw_13&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>raw_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1236.4259,-1455.6094C1231.2199,-1453.1308 1225.5321,-1450.8355 1220,-1449.4022 934.3314,-1375.3894 842.048,-1489.7703 557,-1413.4022 481.9946,-1393.3073 403.7874,-1351.8348 348.6447,-1318.6191"/>
<polygon fill="#000000" stroke="#000000" points="350.3601,-1315.566 339.9967,-1313.3637 346.7248,-1321.548 350.3601,-1315.566"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="848,-1289.8041 566,-1289.8041 566,-1249.9999 848,-1249.9999 848,-1289.8041"/>
<text text-anchor="middle" x="707" y="-1258.402" font-family="Inconsolata" font-size="14.00" fill="#000000">The concepts are close, but different.</text>
</g>
<!-- raw_15&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>raw_15&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1308.6019,-1455.5285C1303.6408,-1453.1169 1298.2485,-1450.8718 1293,-1449.4022 1105.7643,-1396.975 1034.3143,-1493.1862 857,-1413.4022 800.4943,-1387.977 752.23,-1331.9776 726.624,-1297.9392"/>
<polygon fill="#000000" stroke="#000000" points="729.3649,-1295.7588 720.611,-1289.7906 723.7324,-1299.9152 729.3649,-1295.7588"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="1260,-1289.8041 866,-1289.8041 866,-1249.9999 1260,-1249.9999 1260,-1289.8041"/>
<text text-anchor="middle" x="1063" y="-1258.402" font-family="Inconsolata" font-size="14.00" fill="#000000">The main notes on where I&#39;m going with this are under </text>
</g>
<!-- raw_17&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>raw_17&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1379.4722,-1456.1788C1374.7475,-1453.8451 1369.7399,-1451.4691 1365,-1449.4022 1323.2306,-1431.1879 1309.3424,-1434.5902 1269,-1413.4022 1203.4343,-1378.9669 1134.1542,-1327.0262 1094.9742,-1295.9877"/>
<polygon fill="#000000" stroke="#000000" points="1097.0835,-1293.1931 1087.0827,-1289.6955 1092.7195,-1298.6663 1097.0835,-1293.1931"/>
</g>
<!-- anchortext_21 -->
<g id="node22" class="node">
<title>anchortext_21</title>
<ellipse fill="none" stroke="#000000" cx="1329" cy="-1269.902" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="1329" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">anchortext</text>
</g>
<!-- link_18&#45;&gt;anchortext_21 -->
<g id="edge21" class="edge">
<title>link_18&#45;&gt;anchortext_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1451.7904,-1455.7133C1430.0385,-1443.3937 1398.1337,-1424.296 1389,-1413.4022 1360.1635,-1379.0091 1343.4795,-1328.7851 1335.3233,-1297.785"/>
<polygon fill="#000000" stroke="#000000" points="1338.7111,-1296.9048 1332.8791,-1288.0596 1331.9222,-1298.6111 1338.7111,-1296.9048"/>
</g>
<!-- url_22 -->
<g id="node23" class="node">
<title>url_22</title>
<ellipse fill="none" stroke="#000000" cx="1425" cy="-1269.902" rx="27" ry="18"/>
<text text-anchor="middle" x="1425" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">url</text>
</g>
<!-- link_18&#45;&gt;url_22 -->
<g id="edge22" class="edge">
<title>link_18&#45;&gt;url_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1468.6557,-1449.5271C1460.27,-1415.0237 1441.7985,-1339.0209 1431.7808,-1297.8021"/>
<polygon fill="#000000" stroke="#000000" points="1435.1318,-1296.7696 1429.3691,-1287.8791 1428.3298,-1298.4228 1435.1318,-1296.7696"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="1997.5,-1297.1024 1470.5,-1297.1024 1470.5,-1242.7015 1997.5,-1242.7015 1997.5,-1297.1024"/>
<text text-anchor="middle" x="1734" y="-1281.802" font-family="Inconsolata" font-size="14.00" fill="#000000">,</text>
<text text-anchor="middle" x="1734" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000">which will build from this class and is a generalization of it to support</text>
<text text-anchor="middle" x="1734" y="-1251.002" font-family="Inconsolata" font-size="14.00" fill="#000000">complex text types.</text>
</g>
<!-- raw_19&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>raw_19&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1626.0606,-1450.5635C1645.1046,-1418.689 1686.8045,-1348.8945 1712.4385,-1305.9901"/>
<polygon fill="#000000" stroke="#000000" points="1715.5263,-1307.6459 1717.6507,-1297.2663 1709.5171,-1304.0556 1715.5263,-1307.6459"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="1361.5,-608.9009 1296.5,-608.9009 1296.5,-572.9009 1361.5,-572.9009 1361.5,-608.9009"/>
<text text-anchor="middle" x="1329" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">rainbuf</text>
</g>
<!-- anchortext_21&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>anchortext_21&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1329,-1251.7403C1329,-1158.4735 1329,-733.3071 1329,-619.1715"/>
<polygon fill="#000000" stroke="#000000" points="1332.5001,-619.1187 1329,-609.1187 1325.5001,-619.1188 1332.5001,-619.1187"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="1457.5,-608.9009 1392.5,-608.9009 1392.5,-572.9009 1457.5,-572.9009 1457.5,-608.9009"/>
<text text-anchor="middle" x="1425" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">rainbuf</text>
</g>
<!-- url_22&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>url_22&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1425,-1251.7403C1425,-1158.4735 1425,-733.3071 1425,-619.1715"/>
<polygon fill="#000000" stroke="#000000" points="1428.5001,-619.1187 1425,-609.1187 1421.5001,-619.1188 1428.5001,-619.1187"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="2262.5,-1289.8041 2015.5,-1289.8041 2015.5,-1249.9999 2262.5,-1249.9999 2262.5,-1289.8041"/>
<text text-anchor="middle" x="2139" y="-1258.402" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m realizing that for clarity, a</text>
</g>
<!-- raw_26&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>raw_26&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2192.6601,-1449.5271C2182.4878,-1415.4756 2160.2408,-1341.0049 2147.8239,-1299.4396"/>
<polygon fill="#000000" stroke="#000000" points="2151.1081,-1298.2056 2144.8922,-1289.6258 2144.401,-1300.2092 2151.1081,-1298.2056"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="2335,-1287.902 2281,-1287.902 2281,-1251.902 2335,-1251.902 2335,-1287.902"/>
<text text-anchor="middle" x="2308" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_27&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>prespace_27&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2326.1543,-1449.1759C2322.6568,-1414.6377 2315.0414,-1339.4362 2310.8713,-1298.2558"/>
<polygon fill="#000000" stroke="#000000" points="2314.331,-1297.6807 2309.8412,-1288.0843 2307.3666,-1298.386 2314.331,-1297.6807"/>
</g>
<!-- leaf_44 -->
<g id="node45" class="node">
<title>leaf_44</title>
<polygon fill="none" stroke="#c0c0c0" points="2418.5,-1287.902 2353.5,-1287.902 2353.5,-1251.902 2418.5,-1251.902 2418.5,-1287.902"/>
<text text-anchor="middle" x="2386" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000">linebuf</text>
</g>
<!-- literal_28&#45;&gt;leaf_44 -->
<g id="edge44" class="edge">
<title>literal_28&#45;&gt;leaf_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2457.7371,-1451.8809C2447.4864,-1441.8163 2434.9738,-1427.9129 2427,-1413.4022 2406.6626,-1376.3925 2395.6025,-1328.3424 2390.2501,-1298.3111"/>
<polygon fill="#000000" stroke="#000000" points="2393.645,-1297.3943 2388.5299,-1288.116 2386.7426,-1298.559 2393.645,-1297.3943"/>
</g>
<!-- leaf_45 -->
<g id="node46" class="node">
<title>leaf_45</title>
<polygon fill="none" stroke="#c0c0c0" points="2683.5,-1289.2026 2436.5,-1289.2026 2436.5,-1250.6014 2683.5,-1250.6014 2683.5,-1289.2026"/>
<text text-anchor="middle" x="2560" y="-1274.102" font-family="Inconsolata" font-size="14.00" fill="#000000"> needs to be a line, period. &#160;The</text>
<text text-anchor="middle" x="2560" y="-1258.702" font-family="Inconsolata" font-size="14.00" fill="#000000">recursive container class is a</text>
</g>
<!-- raw_29&#45;&gt;leaf_45 -->
<g id="edge45" class="edge">
<title>raw_29&#45;&gt;leaf_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2588.1392,-1449.1759C2582.7616,-1414.9156 2571.1038,-1340.6437 2564.6075,-1299.2564"/>
<polygon fill="#000000" stroke="#000000" points="2568.0443,-1298.5802 2563.0359,-1289.2439 2561.129,-1299.6657 2568.0443,-1298.5802"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="2756,-1287.902 2702,-1287.902 2702,-1251.902 2756,-1251.902 2756,-1287.902"/>
<text text-anchor="middle" x="2729" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_30&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>prespace_30&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2715.3843,-1449.1759C2718.0074,-1414.6377 2723.7189,-1339.4362 2726.8465,-1298.2558"/>
<polygon fill="#000000" stroke="#000000" points="2730.3516,-1298.3206 2727.6191,-1288.0843 2723.3717,-1297.7905 2730.3516,-1298.3206"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="2832,-1287.902 2774,-1287.902 2774,-1251.902 2832,-1251.902 2832,-1287.902"/>
<text text-anchor="middle" x="2803" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000">txtbuf</text>
</g>
<!-- literal_31&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>literal_31&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2809.354,-1449.1759C2808.1299,-1414.6377 2805.4645,-1339.4362 2804.0049,-1298.2558"/>
<polygon fill="#000000" stroke="#000000" points="2807.4965,-1297.954 2803.6444,-1288.0843 2800.5009,-1298.202 2807.4965,-1297.954"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="2904,-1287.902 2850,-1287.902 2850,-1251.902 2904,-1251.902 2904,-1287.902"/>
<text text-anchor="middle" x="2877" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000">, and</text>
</g>
<!-- raw_32&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>raw_32&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2885.1694,-1449.1759C2883.5955,-1414.6377 2880.1686,-1339.4362 2878.2921,-1298.2558"/>
<polygon fill="#000000" stroke="#000000" points="2881.7802,-1297.9145 2877.8286,-1288.0843 2874.7875,-1298.2333 2881.7802,-1297.9145"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="2976,-1287.902 2922,-1287.902 2922,-1251.902 2976,-1251.902 2976,-1287.902"/>
<text text-anchor="middle" x="2949" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_33&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>prespace_33&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2974.416,-1449.1759C2969.509,-1414.5642 2958.8126,-1339.116 2952.9826,-1297.9934"/>
<polygon fill="#000000" stroke="#000000" points="2956.4469,-1297.4939 2951.5777,-1288.0843 2949.5162,-1298.4766 2956.4469,-1297.4939"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="3059.5,-1287.902 2994.5,-1287.902 2994.5,-1251.902 3059.5,-1251.902 3059.5,-1287.902"/>
<text text-anchor="middle" x="3027" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000">rainbuf</text>
</g>
<!-- literal_34&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>literal_34&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3068.8367,-1449.5271C3060.8208,-1415.111 3043.1881,-1339.4055 3033.5713,-1298.1159"/>
<polygon fill="#000000" stroke="#000000" points="3036.931,-1297.1109 3031.2538,-1288.1655 3030.1135,-1298.6988 3036.931,-1297.1109"/>
</g>
<!-- leaf_51 -->
<g id="node52" class="node">
<title>leaf_51</title>
<polygon fill="none" stroke="#c0c0c0" points="3220,-1289.2026 3078,-1289.2026 3078,-1250.6014 3220,-1250.6014 3220,-1289.2026"/>
<text text-anchor="middle" x="3149" y="-1274.102" font-family="Inconsolata" font-size="14.00" fill="#000000"> enhances that and</text>
<text text-anchor="middle" x="3149" y="-1258.702" font-family="Inconsolata" font-size="14.00" fill="#000000">also makes a</text>
</g>
<!-- raw_35&#45;&gt;leaf_51 -->
<g id="edge51" class="edge">
<title>raw_35&#45;&gt;leaf_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3149,-1449.1759C3149,-1414.9156 3149,-1340.6437 3149,-1299.2564"/>
<polygon fill="#000000" stroke="#000000" points="3152.5001,-1299.2438 3149,-1289.2439 3145.5001,-1299.2439 3152.5001,-1299.2438"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="3292,-1287.902 3238,-1287.902 3238,-1251.902 3292,-1251.902 3292,-1287.902"/>
<text text-anchor="middle" x="3265" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_36&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>prespace_36&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3245.0303,-1449.1759C3248.8776,-1414.6377 3257.2544,-1339.4362 3261.8416,-1298.2558"/>
<polygon fill="#000000" stroke="#000000" points="3265.346,-1298.4103 3262.9746,-1288.0843 3258.389,-1297.6353 3265.346,-1298.4103"/>
</g>
<!-- leaf_53 -->
<g id="node54" class="node">
<title>leaf_53</title>
<polygon fill="none" stroke="#c0c0c0" points="3382,-1287.902 3310,-1287.902 3310,-1251.902 3382,-1251.902 3382,-1287.902"/>
<text text-anchor="middle" x="3346" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000">rainline</text>
</g>
<!-- literal_37&#45;&gt;leaf_53 -->
<g id="edge53" class="edge">
<title>literal_37&#45;&gt;leaf_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3341.4614,-1449.1759C3342.3358,-1414.6377 3344.2396,-1339.4362 3345.2822,-1298.2558"/>
<polygon fill="#000000" stroke="#000000" points="3348.7854,-1298.1697 3345.5397,-1288.0843 3341.7876,-1297.9925 3348.7854,-1298.1697"/>
</g>
<!-- leaf_54 -->
<g id="node55" class="node">
<title>leaf_54</title>
<polygon fill="none" stroke="#c0c0c0" points="3500,-1287.902 3400,-1287.902 3400,-1251.902 3500,-1251.902 3500,-1287.902"/>
<text text-anchor="middle" x="3450" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> out of each</text>
</g>
<!-- raw_38&#45;&gt;leaf_54 -->
<g id="edge54" class="edge">
<title>raw_38&#45;&gt;leaf_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3422.7686,-1449.1759C3428.026,-1414.5642 3439.4865,-1339.116 3445.733,-1297.9934"/>
<polygon fill="#000000" stroke="#000000" points="3449.1966,-1298.4965 3447.2381,-1288.0843 3442.276,-1297.4452 3449.1966,-1298.4965"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="3572,-1287.902 3518,-1287.902 3518,-1251.902 3572,-1251.902 3572,-1287.902"/>
<text text-anchor="middle" x="3545" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_39&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>prespace_39&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3518.6763,-1449.1759C3523.7585,-1414.5642 3534.8369,-1339.116 3540.8752,-1297.9934"/>
<polygon fill="#000000" stroke="#000000" points="3544.3402,-1298.4867 3542.3302,-1288.0843 3537.4145,-1297.4697 3544.3402,-1298.4867"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="3655.5,-1287.902 3590.5,-1287.902 3590.5,-1251.902 3655.5,-1251.902 3655.5,-1287.902"/>
<text text-anchor="middle" x="3623" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000">linebuf</text>
</g>
<!-- literal_40&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>literal_40&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3614.8306,-1449.1759C3616.4045,-1414.6377 3619.8314,-1339.4362 3621.7079,-1298.2558"/>
<polygon fill="#000000" stroke="#000000" points="3625.2125,-1298.2333 3622.1714,-1288.0843 3618.2198,-1297.9145 3625.2125,-1298.2333"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="3728,-1287.902 3674,-1287.902 3674,-1251.902 3728,-1251.902 3728,-1287.902"/>
<text text-anchor="middle" x="3701" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_41&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>raw_41&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3696.4614,-1449.1759C3697.3358,-1414.6377 3699.2396,-1339.4362 3700.2822,-1298.2558"/>
<polygon fill="#000000" stroke="#000000" points="3703.7854,-1298.1697 3700.5397,-1288.0843 3696.7876,-1297.9925 3703.7854,-1298.1697"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="4287.5,-1297.2024 3746.5,-1297.2024 3746.5,-1242.6016 4287.5,-1242.6016 4287.5,-1297.2024"/>
<text text-anchor="middle" x="4017" y="-1266.102" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m making this the dumbest thing that can work. The dumbest thing that can</text>
<text text-anchor="middle" x="4017" y="-1250.702" font-family="Inconsolata" font-size="14.00" fill="#000000">work, has one string per char, period.</text>
</g>
<!-- raw_58&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>raw_58&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3909.0606,-1450.5635C3928.1046,-1418.689 3969.8045,-1348.8945 3995.4385,-1305.9901"/>
<polygon fill="#000000" stroke="#000000" points="3998.5263,-1307.6459 4000.6507,-1297.2663 3992.5171,-1304.0556 3998.5263,-1307.6459"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="4496.5,-1289.8041 4305.5,-1289.8041 4305.5,-1249.9999 4496.5,-1249.9999 4496.5,-1289.8041"/>
<text text-anchor="middle" x="4401" y="-1258.402" font-family="Inconsolata" font-size="14.00" fill="#000000">The way I&#39;m doing this, a</text>
</g>
<!-- raw_60&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>raw_60&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4423.6929,-1449.1759C4419.3784,-1415.0913 4410.0509,-1341.4044 4404.7967,-1299.8957"/>
<polygon fill="#000000" stroke="#000000" points="4408.2513,-1299.316 4403.5231,-1289.8347 4401.3067,-1300.1951 4408.2513,-1299.316"/>
</g>
<!-- leaf_68 -->
<g id="node69" class="node">
<title>leaf_68</title>
<polygon fill="none" stroke="#c0c0c0" points="4569,-1287.902 4515,-1287.902 4515,-1251.902 4569,-1251.902 4569,-1287.902"/>
<text text-anchor="middle" x="4542" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_61&#45;&gt;leaf_68 -->
<g id="edge68" class="edge">
<title>prespace_61&#45;&gt;leaf_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4553.8003,-1449.1759C4551.5269,-1414.6377 4546.5769,-1339.4362 4543.8663,-1298.2558"/>
<polygon fill="#000000" stroke="#000000" points="4547.3461,-1297.8328 4543.1968,-1288.0843 4540.3613,-1298.2926 4547.3461,-1297.8328"/>
</g>
<!-- leaf_69 -->
<g id="node70" class="node">
<title>leaf_69</title>
<polygon fill="none" stroke="#c0c0c0" points="4652.5,-1287.902 4587.5,-1287.902 4587.5,-1251.902 4652.5,-1251.902 4652.5,-1287.902"/>
<text text-anchor="middle" x="4620" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000">linebuf</text>
</g>
<!-- literal_62&#45;&gt;leaf_69 -->
<g id="edge69" class="edge">
<title>literal_62&#45;&gt;leaf_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4686.3416,-1450.9219C4677.9153,-1440.7191 4667.7051,-1427.0065 4661,-1413.4022 4642.4329,-1375.7305 4630.9409,-1328.2332 4625.0082,-1298.4562"/>
<polygon fill="#000000" stroke="#000000" points="4628.3891,-1297.502 4623.0711,-1288.3385 4621.514,-1298.8183 4628.3891,-1297.502"/>
</g>
<!-- leaf_70 -->
<g id="node71" class="node">
<title>leaf_70</title>
<polygon fill="none" stroke="#c0c0c0" points="4959.5,-1289.2026 4670.5,-1289.2026 4670.5,-1250.6014 4959.5,-1250.6014 4959.5,-1289.2026"/>
<text text-anchor="middle" x="4815" y="-1274.102" font-family="Inconsolata" font-size="14.00" fill="#000000"> is used as a pointer to history. &#160;When</text>
<text text-anchor="middle" x="4815" y="-1258.702" font-family="Inconsolata" font-size="14.00" fill="#000000">it&#39;s not in play,</text>
</g>
<!-- raw_63&#45;&gt;leaf_70 -->
<g id="edge70" class="edge">
<title>raw_63&#45;&gt;leaf_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4792.3071,-1449.1759C4796.6439,-1414.9156 4806.0454,-1340.6437 4811.2843,-1299.2564"/>
<polygon fill="#000000" stroke="#000000" points="4814.7681,-1299.6043 4812.5517,-1289.2439 4807.8235,-1298.7252 4814.7681,-1299.6043"/>
</g>
<!-- leaf_71 -->
<g id="node72" class="node">
<title>leaf_71</title>
<polygon fill="none" stroke="#c0c0c0" points="5032,-1287.902 4978,-1287.902 4978,-1251.902 5032,-1251.902 5032,-1287.902"/>
<text text-anchor="middle" x="5005" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_64&#45;&gt;leaf_71 -->
<g id="edge71" class="edge">
<title>prespace_64&#45;&gt;leaf_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4933.7457,-1451.3729C4945.5094,-1441.6249 4959.359,-1428.2193 4968,-1413.4022 4989.1245,-1377.1792 4998.3482,-1328.9142 5002.2621,-1298.6227"/>
<polygon fill="#000000" stroke="#000000" points="5005.7804,-1298.6727 5003.476,-1288.3315 4998.8286,-1297.8526 5005.7804,-1298.6727"/>
</g>
<!-- leaf_72 -->
<g id="node73" class="node">
<title>leaf_72</title>
<polygon fill="none" stroke="#c0c0c0" points="5150,-1287.902 5050,-1287.902 5050,-1251.902 5150,-1251.902 5150,-1287.902"/>
<text text-anchor="middle" x="5100" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000">linebuf.line</text>
</g>
<!-- literal_65&#45;&gt;leaf_72 -->
<g id="edge72" class="edge">
<title>literal_65&#45;&gt;leaf_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5044.5209,-1449.5271C5055.1732,-1415.038 5078.6325,-1339.0838 5091.3669,-1297.8533"/>
<polygon fill="#000000" stroke="#000000" points="5094.7521,-1298.7531 5094.3591,-1288.1655 5088.0639,-1296.6873 5094.7521,-1298.7531"/>
</g>
<!-- leaf_73 -->
<g id="node74" class="node">
<title>leaf_73</title>
<polygon fill="none" stroke="#c0c0c0" points="5478,-1289.2026 5168,-1289.2026 5168,-1250.6014 5478,-1250.6014 5478,-1289.2026"/>
<text text-anchor="middle" x="5323" y="-1274.102" font-family="Inconsolata" font-size="14.00" fill="#000000"> is just a string, exploding into an array</text>
<text text-anchor="middle" x="5323" y="-1258.702" font-family="Inconsolata" font-size="14.00" fill="#000000">of codepoints when edited.</text>
</g>
<!-- raw_66&#45;&gt;leaf_73 -->
<g id="edge73" class="edge">
<title>raw_66&#45;&gt;leaf_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5228.0474,-1450.2209C5245.9739,-1416.1778 5286.1606,-1339.8615 5308.0673,-1298.2599"/>
<polygon fill="#000000" stroke="#000000" points="5311.2721,-1299.6855 5312.8346,-1289.2065 5305.0784,-1296.4239 5311.2721,-1299.6855"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="6037.5,-1297.2024 5496.5,-1297.2024 5496.5,-1242.6016 6037.5,-1242.6016 6037.5,-1297.2024"/>
<text text-anchor="middle" x="5767" y="-1266.102" font-family="Inconsolata" font-size="14.00" fill="#000000">This lets us load the history without making a bunch of codepoint arrays we</text>
<text text-anchor="middle" x="5767" y="-1250.702" font-family="Inconsolata" font-size="14.00" fill="#000000">might not ever use.</text>
</g>
<!-- raw_74&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>raw_74&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5547.0445,-1453.1985C5584.1956,-1422.2392 5673.3533,-1347.941 5726.0447,-1304.0315"/>
<polygon fill="#000000" stroke="#000000" points="5728.4175,-1306.6101 5733.8591,-1297.5195 5723.9362,-1301.2326 5728.4175,-1306.6101"/>
</g>
<!-- leaf_84 -->
<g id="node85" class="node">
<title>leaf_84</title>
<polygon fill="none" stroke="#c0c0c0" points="6198,-1287.902 6056,-1287.902 6056,-1251.902 6198,-1251.902 6198,-1287.902"/>
<text text-anchor="middle" x="6127" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000">** Instance fields</text>
</g>
<!-- header_76&#45;&gt;leaf_84 -->
<g id="edge84" class="edge">
<title>header_76&#45;&gt;leaf_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6203.248,-1449.1759C6188.4646,-1414.4172 6156.165,-1338.4745 6138.7257,-1297.4714"/>
<polygon fill="#000000" stroke="#000000" points="6141.8679,-1295.9167 6134.7332,-1288.0843 6135.4264,-1298.6564 6141.8679,-1295.9167"/>
</g>
<!-- raw_85 -->
<g id="node86" class="node">
<title>raw_85</title>
<ellipse fill="none" stroke="#000000" cx="6243" cy="-1269.902" rx="27" ry="18"/>
<text text-anchor="middle" x="6243" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_77&#45;&gt;raw_85 -->
<g id="edge85" class="edge">
<title>prose_77&#45;&gt;raw_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6393.1469,-1464.2297C6359.8757,-1459.1987 6308.5051,-1446.2945 6279,-1413.4022 6250.4636,-1381.5899 6243.8138,-1330.513 6242.6552,-1298.6508"/>
<polygon fill="#000000" stroke="#000000" points="6246.1464,-1298.1733 6242.4474,-1288.2452 6239.1478,-1298.3131 6246.1464,-1298.1733"/>
</g>
<!-- prespace_86 -->
<g id="node87" class="node">
<title>prespace_86</title>
<ellipse fill="none" stroke="#000000" cx="6334" cy="-1269.902" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6334" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_77&#45;&gt;prespace_86 -->
<g id="edge86" class="edge">
<title>prose_77&#45;&gt;prespace_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6412.3092,-1450.4918C6404.9033,-1440.1366 6395.725,-1426.4147 6389,-1413.4022 6369.0572,-1374.8139 6352.2357,-1327.2693 6342.6311,-1297.7667"/>
<polygon fill="#000000" stroke="#000000" points="6345.927,-1296.5823 6339.5416,-1288.1279 6339.2611,-1298.719 6345.927,-1296.5823"/>
</g>
<!-- bold_87 -->
<g id="node88" class="node">
<title>bold_87</title>
<ellipse fill="none" stroke="#000000" cx="6425" cy="-1269.902" rx="27" ry="18"/>
<text text-anchor="middle" x="6425" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">bold</text>
</g>
<!-- prose_77&#45;&gt;bold_87 -->
<g id="edge87" class="edge">
<title>prose_77&#45;&gt;bold_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6425,-1449.1759C6425,-1414.6377 6425,-1339.4362 6425,-1298.2558"/>
<polygon fill="#000000" stroke="#000000" points="6428.5001,-1298.0842 6425,-1288.0843 6421.5001,-1298.0843 6428.5001,-1298.0842"/>
</g>
<!-- raw_88 -->
<g id="node89" class="node">
<title>raw_88</title>
<ellipse fill="none" stroke="#000000" cx="6497" cy="-1269.902" rx="27" ry="18"/>
<text text-anchor="middle" x="6497" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_77&#45;&gt;raw_88 -->
<g id="edge88" class="edge">
<title>prose_77&#45;&gt;raw_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6438.2677,-1450.7683C6445.878,-1440.5111 6455.0688,-1426.7952 6461,-1413.4022 6477.8589,-1375.3341 6487.8013,-1327.9424 6492.827,-1298.2962"/>
<polygon fill="#000000" stroke="#000000" points="6496.314,-1298.6582 6494.4599,-1288.2269 6489.4042,-1297.5377 6496.314,-1298.6582"/>
</g>
<!-- raw_93 -->
<g id="node94" class="node">
<title>raw_93</title>
<ellipse fill="none" stroke="#000000" cx="6711" cy="-1269.902" rx="27" ry="18"/>
<text text-anchor="middle" x="6711" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_78&#45;&gt;raw_93 -->
<g id="edge93" class="edge">
<title>prose_78&#45;&gt;raw_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6965.7089,-1461.0699C6933.7694,-1453.4062 6882.9215,-1438.3303 6845,-1413.4022 6795.5325,-1380.8843 6751.5117,-1326.4433 6728.3141,-1294.7906"/>
<polygon fill="#000000" stroke="#000000" points="6731.0253,-1292.5665 6722.3361,-1286.5044 6725.3484,-1296.662 6731.0253,-1292.5665"/>
</g>
<!-- prespace_94 -->
<g id="node95" class="node">
<title>prespace_94</title>
<ellipse fill="none" stroke="#000000" cx="6900" cy="-1269.902" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6900" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_78&#45;&gt;prespace_94 -->
<g id="edge94" class="edge">
<title>prose_78&#45;&gt;prespace_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6981.7996,-1450.6826C6973.5357,-1440.3951 6963.3353,-1426.6773 6956,-1413.4022 6934.8272,-1375.0846 6917.8341,-1327.0947 6908.3327,-1297.4703"/>
<polygon fill="#000000" stroke="#000000" points="6911.631,-1296.2913 6905.2899,-1287.8036 6904.954,-1298.3932 6911.631,-1296.2913"/>
</g>
<!-- literal_95 -->
<g id="node96" class="node">
<title>literal_95</title>
<ellipse fill="none" stroke="#000000" cx="6996" cy="-1269.902" rx="31.481" ry="18"/>
<text text-anchor="middle" x="6996" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_78&#45;&gt;literal_95 -->
<g id="edge95" class="edge">
<title>prose_78&#45;&gt;literal_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6996,-1449.1759C6996,-1414.6377 6996,-1339.4362 6996,-1298.2558"/>
<polygon fill="#000000" stroke="#000000" points="6999.5001,-1298.0842 6996,-1288.0843 6992.5001,-1298.0843 6999.5001,-1298.0842"/>
</g>
<!-- raw_96 -->
<g id="node97" class="node">
<title>raw_96</title>
<ellipse fill="none" stroke="#000000" cx="7072" cy="-1269.902" rx="27" ry="18"/>
<text text-anchor="middle" x="7072" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_78&#45;&gt;raw_96 -->
<g id="edge96" class="edge">
<title>prose_78&#45;&gt;raw_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7010.8197,-1450.9997C7019.3032,-1440.8246 7029.5169,-1427.1137 7036,-1413.4022 7053.8944,-1375.5565 7063.5956,-1327.735 7068.2829,-1297.9801"/>
<polygon fill="#000000" stroke="#000000" points="7071.7747,-1298.2941 7069.7888,-1287.8871 7064.8514,-1297.2611 7071.7747,-1298.2941"/>
</g>
<!-- raw_101 -->
<g id="node102" class="node">
<title>raw_101</title>
<ellipse fill="none" stroke="#000000" cx="7144" cy="-1269.902" rx="27" ry="18"/>
<text text-anchor="middle" x="7144" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_79&#45;&gt;raw_101 -->
<g id="edge101" class="edge">
<title>prose_79&#45;&gt;raw_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7134.9229,-1449.1759C7136.6716,-1414.6377 7140.4793,-1339.4362 7142.5644,-1298.2558"/>
<polygon fill="#000000" stroke="#000000" points="7146.0691,-1298.2485 7143.0794,-1288.0843 7139.0781,-1297.8945 7146.0691,-1298.2485"/>
</g>
<!-- raw_103 -->
<g id="node104" class="node">
<title>raw_103</title>
<ellipse fill="none" stroke="#000000" cx="7216" cy="-1269.902" rx="27" ry="18"/>
<text text-anchor="middle" x="7216" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_80&#45;&gt;raw_103 -->
<g id="edge103" class="edge">
<title>prose_80&#45;&gt;raw_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7216,-1449.1759C7216,-1414.6377 7216,-1339.4362 7216,-1298.2558"/>
<polygon fill="#000000" stroke="#000000" points="7219.5001,-1298.0842 7216,-1288.0843 7212.5001,-1298.0843 7219.5001,-1298.0842"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="7676.5,-1287.902 7261.5,-1287.902 7261.5,-1251.902 7676.5,-1251.902 7676.5,-1287.902"/>
<text text-anchor="middle" x="7469" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000">local sub, byte = assert(string.sub), assert(string.byte)</text>
</g>
<!-- codeblock_81&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>codeblock_81&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7412.7217,-1449.1759C7423.6102,-1414.4907 7447.3727,-1338.7954 7460.2635,-1297.7319"/>
<polygon fill="#000000" stroke="#000000" points="7463.6363,-1298.6735 7463.2921,-1288.0843 7456.9576,-1296.5769 7463.6363,-1298.6735"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="7871.5,-1287.902 7694.5,-1287.902 7694.5,-1251.902 7871.5,-1251.902 7871.5,-1287.902"/>
<text text-anchor="middle" x="7783" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000">local Linebuf = meta {}</text>
</g>
<!-- codeblock_82&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>codeblock_82&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7691.1412,-1449.5271C7708.8908,-1414.8188 7748.1156,-1338.1166 7769.1058,-1297.0714"/>
<polygon fill="#000000" stroke="#000000" points="7772.2232,-1298.6625 7773.6602,-1288.1655 7765.9909,-1295.4753 7772.2232,-1298.6625"/>
</g>
<!-- leaf_107 -->
<g id="node108" class="node">
<title>leaf_107</title>
<polygon fill="none" stroke="#c0c0c0" points="8186,-1413.4024 7890,-1413.4024 7890,-1126.4015 8186,-1126.4015 8186,-1413.4024"/>
<text text-anchor="middle" x="8038" y="-1382.2022" font-family="Inconsolata" font-size="14.00" fill="#000000">local function sum(dsps)</text>
<text text-anchor="middle" x="8038" y="-1366.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local summa = 0</text>
<text text-anchor="middle" x="8038" y="-1351.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i = 1, #dsps do</text>
<text text-anchor="middle" x="8038" y="-1336.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;summa = summa + #dsps[i]</text>
<text text-anchor="middle" x="8038" y="-1320.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8038" y="-1305.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return summa</text>
<text text-anchor="middle" x="8038" y="-1289.802" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="8038" y="-1258.402" font-family="Inconsolata" font-size="14.00" fill="#000000">local concat = table.concat</text>
<text text-anchor="middle" x="8038" y="-1227.002" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.__tostring(linebuf)</text>
<text text-anchor="middle" x="8038" y="-1211.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(linebuf.line) == &quot;table&quot; then</text>
<text text-anchor="middle" x="8038" y="-1196.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return concat(linebuf.line)</text>
<text text-anchor="middle" x="8038" y="-1180.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8038" y="-1165.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return linebuf.line</text>
<text text-anchor="middle" x="8038" y="-1150.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8038" y="-1134.6018" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_83&#45;&gt;leaf_107 -->
<g id="edge107" class="edge">
<title>codeblock_83&#45;&gt;leaf_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7955.3979,-1449.1759C7958.733,-1441.9377 7962.8909,-1432.9137 7967.5549,-1422.7912"/>
<polygon fill="#000000" stroke="#000000" points="7970.77,-1424.1771 7971.776,-1413.6301 7964.4124,-1421.2477 7970.77,-1424.1771"/>
</g>
<!-- leaf_89 -->
<g id="node90" class="node">
<title>leaf_89</title>
<polygon fill="none" stroke="#c0c0c0" points="6062,-626.2012 5612,-626.2012 5612,-555.6005 6062,-555.6005 6062,-626.2012"/>
<text text-anchor="middle" x="5837" y="-579.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; lines : &#160;An array of string fragments</text>
<text text-anchor="middle" x="5837" y="-563.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; dsps &#160;: &#160;An array of uint, each corresponds to the number of</text>
</g>
<!-- raw_85&#45;&gt;leaf_89 -->
<g id="edge89" class="edge">
<title>raw_85&#45;&gt;leaf_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6243.9178,-1251.6969C6244.3983,-1221.398 6240.7423,-1160.5847 6207,-1126.4017 6163.075,-1081.9032 6118.9942,-1130.4777 6071,-1090.4017 5924.9301,-968.4309 5864.6344,-734.8437 5844.9644,-636.4157"/>
<polygon fill="#000000" stroke="#000000" points="5848.377,-635.6293 5843.0267,-626.4846 5841.5066,-636.9698 5848.377,-635.6293"/>
</g>
<!-- leaf_90 -->
<g id="node91" class="node">
<title>leaf_90</title>
<polygon fill="none" stroke="#c0c0c0" points="6134,-608.9009 6080,-608.9009 6080,-572.9009 6134,-572.9009 6134,-608.9009"/>
<text text-anchor="middle" x="6107" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_86&#45;&gt;leaf_90 -->
<g id="edge90" class="edge">
<title>prespace_86&#45;&gt;leaf_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6332.2569,-1251.5127C6328.3567,-1220.9425 6316.1192,-1159.7396 6279,-1126.4017 6232.4814,-1084.622 6182.896,-1138.5457 6143,-1090.4017 6083.2393,-1018.2863 6098.5687,-713.7715 6104.925,-619.1042"/>
<polygon fill="#000000" stroke="#000000" points="6108.4172,-619.3368 6105.6151,-609.1192 6101.4339,-618.8541 6108.4172,-619.3368"/>
</g>
<!-- leaf_91 -->
<g id="node92" class="node">
<title>leaf_91</title>
<polygon fill="none" stroke="#c0c0c0" points="6206,-608.9009 6152,-608.9009 6152,-572.9009 6206,-572.9009 6206,-608.9009"/>
<text text-anchor="middle" x="6179" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">bytes</text>
</g>
<!-- bold_87&#45;&gt;leaf_91 -->
<g id="edge91" class="edge">
<title>bold_87&#45;&gt;leaf_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6426.1189,-1251.4928C6426.8958,-1220.8932 6423.6654,-1159.6482 6389,-1126.4017 6332.0047,-1071.7393 6267.0345,-1149.8059 6215,-1090.4017 6153.2187,-1019.8704 6169.9877,-713.615 6176.801,-618.9115"/>
<polygon fill="#000000" stroke="#000000" points="6180.292,-619.1612 6177.5393,-608.9302 6173.311,-618.6448 6180.292,-619.1612"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="6387.5,-610.803 6224.5,-610.803 6224.5,-570.9988 6387.5,-570.9988 6387.5,-610.803"/>
<text text-anchor="middle" x="6306" y="-579.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in line[i].</text>
</g>
<!-- raw_88&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>raw_88&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6496.9117,-1251.6039C6495.8646,-1222.2385 6489.961,-1164.0739 6461,-1126.4017 6440.8728,-1100.2204 6415.2319,-1117.2476 6396,-1090.4017 6289.0759,-941.146 6296.586,-703.9461 6303.0827,-620.8431"/>
<polygon fill="#000000" stroke="#000000" points="6306.5749,-621.0809 6303.9214,-610.8238 6299.5993,-620.4969 6306.5749,-621.0809"/>
</g>
<!-- leaf_97 -->
<g id="node98" class="node">
<title>leaf_97</title>
<polygon fill="none" stroke="#c0c0c0" points="6918.5,-618.2013 6405.5,-618.2013 6405.5,-563.6005 6918.5,-563.6005 6918.5,-618.2013"/>
<text text-anchor="middle" x="6662" y="-587.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; cursor : &#160;An uint representing the number of bytes to be skipped over</text>
<text text-anchor="middle" x="6662" y="-571.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;before executing</text>
</g>
<!-- raw_93&#45;&gt;leaf_97 -->
<g id="edge97" class="edge">
<title>raw_93&#45;&gt;leaf_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6709.6894,-1251.7403C6703.1315,-1160.8668 6673.8355,-754.9079 6664.7177,-628.5612"/>
<polygon fill="#000000" stroke="#000000" points="6668.2084,-628.3037 6663.9976,-618.5816 6661.2265,-628.8076 6668.2084,-628.3037"/>
</g>
<!-- leaf_98 -->
<g id="node99" class="node">
<title>leaf_98</title>
<polygon fill="none" stroke="#c0c0c0" points="6991,-608.9009 6937,-608.9009 6937,-572.9009 6991,-572.9009 6991,-608.9009"/>
<text text-anchor="middle" x="6964" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_94&#45;&gt;leaf_98 -->
<g id="edge98" class="edge">
<title>prespace_94&#45;&gt;leaf_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6903.1726,-1251.8716C6908.7496,-1219.591 6920.3481,-1149.7488 6927,-1090.4017 6947.033,-911.6705 6958.8471,-695.6977 6962.6465,-619.3247"/>
<polygon fill="#000000" stroke="#000000" points="6966.1543,-619.2502 6963.1489,-609.0906 6959.1627,-618.9069 6966.1543,-619.2502"/>
</g>
<!-- leaf_99 -->
<g id="node100" class="node">
<title>leaf_99</title>
<polygon fill="none" stroke="#c0c0c0" points="7081,-608.9009 7009,-608.9009 7009,-572.9009 7081,-572.9009 7081,-608.9009"/>
<text text-anchor="middle" x="7045" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">insert()</text>
</g>
<!-- literal_95&#45;&gt;leaf_99 -->
<g id="edge99" class="edge">
<title>literal_95&#45;&gt;leaf_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6997.3106,-1251.7403C7004.0412,-1158.4735 7034.7233,-733.3071 7042.9599,-619.1715"/>
<polygon fill="#000000" stroke="#000000" points="7046.4564,-619.3447 7043.6853,-609.1187 7039.4745,-618.8408 7046.4564,-619.3447"/>
</g>
<!-- leaf_100 -->
<g id="node101" class="node">
<title>leaf_100</title>
<polygon fill="none" stroke="#c0c0c0" points="7367,-610.2015 7099,-610.2015 7099,-571.6003 7367,-571.6003 7367,-610.2015"/>
<text text-anchor="middle" x="7233" y="-595.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">. &#160;Not 1&#45;1 the same as the column</text>
<text text-anchor="middle" x="7233" y="-579.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;index of the tty cursor.</text>
</g>
<!-- raw_96&#45;&gt;leaf_100 -->
<g id="edge100" class="edge">
<title>raw_96&#45;&gt;leaf_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7076.2236,-1252.0894C7098.0905,-1159.8678 7198.4839,-736.4689 7226.0055,-620.3995"/>
<polygon fill="#000000" stroke="#000000" points="7229.4637,-620.9847 7228.3654,-610.4469 7222.6526,-619.3696 7229.4637,-620.9847"/>
</g>
<!-- leaf_102 -->
<g id="node103" class="node">
<title>leaf_102</title>
<polygon fill="none" stroke="#c0c0c0" points="7884.5,-618.2013 7385.5,-618.2013 7385.5,-563.6005 7884.5,-563.6005 7884.5,-618.2013"/>
<text text-anchor="middle" x="7635" y="-587.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;cursor is moved by linebuf, ensuring we stay on codepoint</text>
<text text-anchor="middle" x="7635" y="-571.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;boundaries.</text>
</g>
<!-- raw_101&#45;&gt;leaf_102 -->
<g id="edge102" class="edge">
<title>raw_101&#45;&gt;leaf_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7142.8152,-1251.8981C7141.8731,-1221.3408 7144.7776,-1159.4341 7180,-1126.4017 7244.6034,-1065.8151 7304.8038,-1143.0843 7376,-1090.4017 7537.0222,-971.2512 7606.2639,-722.4848 7627.4436,-628.2061"/>
<polygon fill="#000000" stroke="#000000" points="7630.8992,-628.7875 7629.6251,-618.2696 7624.062,-627.2864 7630.8992,-628.7875"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="8065.5,-610.803 7902.5,-610.803 7902.5,-570.9988 8065.5,-570.9988 8065.5,-610.803"/>
<text text-anchor="middle" x="7984" y="-579.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; len &#160;: sum of dsps.</text>
</g>
<!-- raw_103&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>raw_103&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7214.4168,-1251.9132C7212.7892,-1220.8033 7214.5768,-1157.3231 7252,-1126.4017 7361.9828,-1035.5271 7786.0562,-1184.8339 7893,-1090.4017 8032.2254,-967.4648 8003.9109,-708.5029 7989.5355,-620.7253"/>
<polygon fill="#000000" stroke="#000000" points="7992.9504,-619.9289 7987.8227,-610.6576 7986.0496,-621.103 7992.9504,-619.9289"/>
</g>
<!-- leaf_113 -->
<g id="node114" class="node">
<title>leaf_113</title>
<polygon fill="none" stroke="#c0c0c0" points="8444,-1287.902 8204,-1287.902 8204,-1251.902 8444,-1251.902 8444,-1287.902"/>
<text text-anchor="middle" x="8324" y="-1266.402" font-family="Inconsolata" font-size="14.00" fill="#000000">** Linebuf.insert(linebuf, frag)</text>
</g>
<!-- header_108&#45;&gt;leaf_113 -->
<g id="edge113" class="edge">
<title>header_108&#45;&gt;leaf_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8402.9712,-1449.1759C8387.6598,-1414.4172 8354.2066,-1338.4745 8336.1445,-1297.4714"/>
<polygon fill="#000000" stroke="#000000" points="8339.2437,-1295.8248 8332.0094,-1288.0843 8332.8377,-1298.6467 8339.2437,-1295.8248"/>
</g>
<!-- raw_114 -->
<g id="node115" class="node">
<title>raw_114</title>
<ellipse fill="none" stroke="#000000" cx="8489" cy="-1269.902" rx="27" ry="18"/>
<text text-anchor="middle" x="8489" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_109&#45;&gt;raw_114 -->
<g id="edge114" class="edge">
<title>prose_109&#45;&gt;raw_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8644.0224,-1464.6829C8609.6674,-1460.0279 8555.859,-1447.4318 8525,-1413.4022 8496.1666,-1381.6064 8489.6365,-1330.1745 8488.5779,-1298.2907"/>
<polygon fill="#000000" stroke="#000000" points="8492.0774,-1298.2218 8488.4044,-1288.284 8485.0784,-1298.3432 8492.0774,-1298.2218"/>
</g>
<!-- prespace_115 -->
<g id="node116" class="node">
<title>prespace_115</title>
<ellipse fill="none" stroke="#000000" cx="8580" cy="-1269.902" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="8580" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_109&#45;&gt;prespace_115 -->
<g id="edge115" class="edge">
<title>prose_109&#45;&gt;prespace_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8661.7996,-1450.6826C8653.5357,-1440.3951 8643.3353,-1426.6773 8636,-1413.4022 8614.8272,-1375.0846 8597.8341,-1327.0947 8588.3327,-1297.4703"/>
<polygon fill="#000000" stroke="#000000" points="8591.631,-1296.2913 8585.2899,-1287.8036 8584.954,-1298.3932 8591.631,-1296.2913"/>
</g>
<!-- literal_116 -->
<g id="node117" class="node">
<title>literal_116</title>
<ellipse fill="none" stroke="#000000" cx="8676" cy="-1269.902" rx="31.481" ry="18"/>
<text text-anchor="middle" x="8676" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_109&#45;&gt;literal_116 -->
<g id="edge116" class="edge">
<title>prose_109&#45;&gt;literal_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8676,-1449.1759C8676,-1414.6377 8676,-1339.4362 8676,-1298.2558"/>
<polygon fill="#000000" stroke="#000000" points="8679.5001,-1298.0842 8676,-1288.0843 8672.5001,-1298.0843 8679.5001,-1298.0842"/>
</g>
<!-- raw_117 -->
<g id="node118" class="node">
<title>raw_117</title>
<ellipse fill="none" stroke="#000000" cx="8752" cy="-1269.902" rx="27" ry="18"/>
<text text-anchor="middle" x="8752" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_109&#45;&gt;raw_117 -->
<g id="edge117" class="edge">
<title>prose_109&#45;&gt;raw_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8690.8197,-1450.9997C8699.3032,-1440.8246 8709.5169,-1427.1137 8716,-1413.4022 8733.8944,-1375.5565 8743.5956,-1327.735 8748.2829,-1297.9801"/>
<polygon fill="#000000" stroke="#000000" points="8751.7747,-1298.2941 8749.7888,-1287.8871 8744.8514,-1297.2611 8751.7747,-1298.2941"/>
</g>
<!-- raw_122 -->
<g id="node123" class="node">
<title>raw_122</title>
<ellipse fill="none" stroke="#000000" cx="9003" cy="-1269.902" rx="27" ry="18"/>
<text text-anchor="middle" x="9003" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_110&#45;&gt;raw_122 -->
<g id="edge122" class="edge">
<title>prose_110&#45;&gt;raw_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9074.5046,-1452.9005C9062.5641,-1443.0276 9047.9126,-1428.9617 9039,-1413.4022 9018.1924,-1377.0766 9009.2875,-1328.8396 9005.5633,-1298.5821"/>
<polygon fill="#000000" stroke="#000000" points="9009.0036,-1297.8522 9004.4132,-1288.3034 9002.047,-1298.6306 9009.0036,-1297.8522"/>
</g>
<!-- prespace_123 -->
<g id="node124" class="node">
<title>prespace_123</title>
<ellipse fill="none" stroke="#000000" cx="9094" cy="-1269.902" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="9094" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_110&#45;&gt;prespace_123 -->
<g id="edge123" class="edge">
<title>prose_110&#45;&gt;prespace_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9094,-1449.1759C9094,-1414.6377 9094,-1339.4362 9094,-1298.2558"/>
<polygon fill="#000000" stroke="#000000" points="9097.5001,-1298.0842 9094,-1288.0843 9090.5001,-1298.0843 9097.5001,-1298.0842"/>
</g>
<!-- literal_124 -->
<g id="node125" class="node">
<title>literal_124</title>
<ellipse fill="none" stroke="#000000" cx="9190" cy="-1269.902" rx="31.481" ry="18"/>
<text text-anchor="middle" x="9190" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_110&#45;&gt;literal_124 -->
<g id="edge124" class="edge">
<title>prose_110&#45;&gt;literal_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9113.3239,-1452.8004C9125.196,-1442.8876 9139.8357,-1428.8148 9149,-1413.4022 9170.5825,-1377.1045 9181.3023,-1328.8598 9186.243,-1298.5931"/>
<polygon fill="#000000" stroke="#000000" points="9189.7633,-1298.7245 9187.8112,-1288.311 9182.8434,-1297.669 9189.7633,-1298.7245"/>
</g>
<!-- raw_125 -->
<g id="node126" class="node">
<title>raw_125</title>
<ellipse fill="none" stroke="#000000" cx="9353" cy="-1269.902" rx="27" ry="18"/>
<text text-anchor="middle" x="9353" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_110&#45;&gt;raw_125 -->
<g id="edge125" class="edge">
<title>prose_110&#45;&gt;raw_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9123.6211,-1460.1286C9152.6253,-1452.0204 9197.1269,-1436.8741 9230,-1413.4022 9275.9364,-1380.603 9315.6755,-1327.0897 9336.8048,-1295.5095"/>
<polygon fill="#000000" stroke="#000000" points="9339.936,-1297.118 9342.506,-1286.8396 9334.0872,-1293.2719 9339.936,-1297.118"/>
</g>
<!-- raw_130 -->
<g id="node131" class="node">
<title>raw_130</title>
<ellipse fill="none" stroke="#000000" cx="9689" cy="-1269.902" rx="27" ry="18"/>
<text text-anchor="middle" x="9689" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_111&#45;&gt;raw_130 -->
<g id="edge130" class="edge">
<title>prose_111&#45;&gt;raw_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9452.2416,-1452.5576C9497.733,-1417.4616 9611.9364,-1329.3554 9663.2853,-1289.7405"/>
<polygon fill="#000000" stroke="#000000" points="9665.4744,-1292.4722 9671.2541,-1283.5927 9661.1985,-1286.9299 9665.4744,-1292.4722"/>
</g>
<!-- header_132 -->
<g id="node133" class="node">
<title>header_132</title>
<ellipse fill="none" stroke="#000000" cx="10358" cy="-1269.902" rx="83.677" ry="18"/>
<text text-anchor="middle" x="10358" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : join(token, frag)</text>
</g>
<!-- section_112&#45;&gt;header_132 -->
<g id="edge132" class="edge">
<title>section_112&#45;&gt;header_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10909.7156,-1462.5309C10808.473,-1454.6355 10623.8482,-1437.466 10562,-1413.4022 10490.7176,-1385.6678 10420.6801,-1327.886 10384.1074,-1294.7269"/>
<polygon fill="#000000" stroke="#000000" points="10386.1313,-1291.8336 10376.3976,-1287.6496 10381.3975,-1296.9904 10386.1313,-1291.8336"/>
</g>
<!-- prose_133 -->
<g id="node134" class="node">
<title>prose_133</title>
<ellipse fill="none" stroke="#000000" cx="10603" cy="-1269.902" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10603" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_112&#45;&gt;prose_133 -->
<g id="edge133" class="edge">
<title>section_112&#45;&gt;prose_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10915.0466,-1459.2274C10849.288,-1449.8257 10751.291,-1433.1229 10719,-1413.4022 10671.7216,-1384.5284 10635.3851,-1329.183 10616.7814,-1296.3049"/>
<polygon fill="#000000" stroke="#000000" points="10619.6929,-1294.3367 10611.797,-1287.2723 10613.5641,-1297.7187 10619.6929,-1294.3367"/>
</g>
<!-- codeblock_134 -->
<g id="node135" class="node">
<title>codeblock_134</title>
<ellipse fill="none" stroke="#000000" cx="10810" cy="-1269.902" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="10810" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 86&#45;151</text>
</g>
<!-- section_112&#45;&gt;codeblock_134 -->
<g id="edge134" class="edge">
<title>section_112&#45;&gt;codeblock_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10962.7948,-1449.5271C10932.9466,-1414.4376 10866.5884,-1336.4271 10831.9721,-1295.7323"/>
<polygon fill="#000000" stroke="#000000" points="10834.4371,-1293.2283 10825.2919,-1287.8791 10829.1052,-1297.7638 10834.4371,-1293.2283"/>
</g>
<!-- codeblock_135 -->
<g id="node136" class="node">
<title>codeblock_135</title>
<ellipse fill="none" stroke="#000000" cx="11147" cy="-1269.902" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11147" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 155&#45;168</text>
</g>
<!-- section_112&#45;&gt;codeblock_135 -->
<g id="edge135" class="edge">
<title>section_112&#45;&gt;codeblock_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10993.2957,-1449.5271C11023.3842,-1414.3644 11090.3537,-1336.1012 11125.1148,-1295.4779"/>
<polygon fill="#000000" stroke="#000000" points="11127.7748,-1297.7526 11131.6171,-1287.8791 11122.4562,-1293.2015 11127.7748,-1297.7526"/>
</g>
<!-- codeblock_136 -->
<g id="node137" class="node">
<title>codeblock_136</title>
<ellipse fill="none" stroke="#000000" cx="11477" cy="-1269.902" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11477" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 170&#45;180</text>
</g>
<!-- section_112&#45;&gt;codeblock_136 -->
<g id="edge136" class="edge">
<title>section_112&#45;&gt;codeblock_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11043.5252,-1460.5089C11098.2922,-1453.2404 11177.6986,-1439.1491 11243,-1413.4022 11321.5545,-1382.43 11403.4669,-1325.5873 11446.4569,-1293.5234"/>
<polygon fill="#000000" stroke="#000000" points="11448.6356,-1296.2643 11454.5234,-1287.4561 11444.4278,-1290.6701 11448.6356,-1296.2643"/>
</g>
<!-- codeblock_137 -->
<g id="node138" class="node">
<title>codeblock_137</title>
<ellipse fill="none" stroke="#000000" cx="11797" cy="-1269.902" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11797" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 182&#45;189</text>
</g>
<!-- section_112&#45;&gt;codeblock_137 -->
<g id="edge137" class="edge">
<title>section_112&#45;&gt;codeblock_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11048.2585,-1465.2021C11184.0695,-1460.2661 11477.6376,-1446.0803 11573,-1413.4022 11650.8661,-1386.7196 11728.8796,-1327.6392 11769.0964,-1294.2025"/>
<polygon fill="#000000" stroke="#000000" points="11771.4567,-1296.7907 11776.8578,-1287.6759 11766.9515,-1291.4331 11771.4567,-1296.7907"/>
</g>
<!-- codeblock_138 -->
<g id="node139" class="node">
<title>codeblock_138</title>
<ellipse fill="none" stroke="#000000" cx="12124" cy="-1269.902" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="12124" y="-1265.702" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 191&#45;193</text>
</g>
<!-- section_112&#45;&gt;codeblock_138 -->
<g id="edge138" class="edge">
<title>section_112&#45;&gt;codeblock_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11048.2995,-1465.2469C11248.669,-1458.8243 11813.3729,-1438.6817 11893,-1413.4022 11973.6192,-1387.8077 12054.5344,-1327.7554 12095.8468,-1294.01"/>
<polygon fill="#000000" stroke="#000000" points="12098.3299,-1296.4985 12103.8083,-1287.43 12093.8704,-1291.1028 12098.3299,-1296.4985"/>
</g>
<!-- leaf_118 -->
<g id="node119" class="node">
<title>leaf_118</title>
<polygon fill="none" stroke="#c0c0c0" points="8361,-608.9009 8307,-608.9009 8307,-572.9009 8361,-572.9009 8361,-608.9009"/>
</g>
<!-- raw_114&#45;&gt;leaf_118 -->
<g id="edge118" class="edge">
<title>raw_114&#45;&gt;leaf_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8489.3306,-1251.7525C8488.9087,-1222.0754 8483.9113,-1162.8284 8453,-1126.4017 8426.9836,-1095.7433 8393.2565,-1123.203 8370,-1090.4017 8264.3627,-941.4096 8307.8524,-700.598 8326.8589,-618.9812"/>
<polygon fill="#000000" stroke="#000000" points="8330.3303,-619.5135 8329.2552,-608.9734 8323.5227,-617.8835 8330.3303,-619.5135"/>
</g>
<!-- leaf_119 -->
<g id="node120" class="node">
<title>leaf_119</title>
<polygon fill="none" stroke="#c0c0c0" points="8433,-608.9009 8379,-608.9009 8379,-572.9009 8433,-572.9009 8433,-608.9009"/>
</g>
<!-- prespace_115&#45;&gt;leaf_119 -->
<g id="edge119" class="edge">
<title>prespace_115&#45;&gt;leaf_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8577.6111,-1251.6211C8572.8049,-1221.7551 8559.3238,-1162.2428 8525,-1126.4017 8497.189,-1097.3614 8465.2565,-1123.203 8442,-1090.4017 8336.3627,-941.4096 8379.8524,-700.598 8398.8589,-618.9812"/>
<polygon fill="#000000" stroke="#000000" points="8402.3303,-619.5135 8401.2552,-608.9734 8395.5227,-617.8835 8402.3303,-619.5135"/>
</g>
<!-- leaf_120 -->
<g id="node121" class="node">
<title>leaf_120</title>
<polygon fill="none" stroke="#c0c0c0" points="8509,-608.9009 8451,-608.9009 8451,-572.9009 8509,-572.9009 8509,-608.9009"/>
<text text-anchor="middle" x="8480" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">insert</text>
</g>
<!-- literal_116&#45;&gt;leaf_120 -->
<g id="edge120" class="edge">
<title>literal_116&#45;&gt;leaf_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8676.0611,-1251.7889C8675.1582,-1221.6255 8668.913,-1161.0067 8635,-1126.4017 8596.9197,-1087.5444 8551.9604,-1132.9069 8518,-1090.4017 8403.7279,-947.3778 8451.6854,-701.8444 8472.3441,-619.078"/>
<polygon fill="#000000" stroke="#000000" points="8475.7393,-619.928 8474.8302,-609.3723 8468.9582,-618.191 8475.7393,-619.928"/>
</g>
<!-- leaf_121 -->
<g id="node122" class="node">
<title>leaf_121</title>
<polygon fill="none" stroke="#c0c0c0" points="8977,-608.9009 8527,-608.9009 8527,-572.9009 8977,-572.9009 8977,-608.9009"/>
<text text-anchor="middle" x="8752" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> takes a fragment and carefully places it at the cursor point.</text>
</g>
<!-- raw_117&#45;&gt;leaf_121 -->
<g id="edge121" class="edge">
<title>raw_117&#45;&gt;leaf_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8752,-1251.7403C8752,-1158.4735 8752,-733.3071 8752,-619.1715"/>
<polygon fill="#000000" stroke="#000000" points="8755.5001,-619.1187 8752,-609.1187 8748.5001,-619.1188 8755.5001,-619.1187"/>
</g>
<!-- leaf_126 -->
<g id="node127" class="node">
<title>leaf_126</title>
<polygon fill="none" stroke="#c0c0c0" points="9049,-610.803 8995,-610.803 8995,-570.9988 9049,-570.9988 9049,-610.803"/>
<text text-anchor="middle" x="9022" y="-579.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">A</text>
</g>
<!-- raw_122&#45;&gt;leaf_126 -->
<g id="edge126" class="edge">
<title>raw_122&#45;&gt;leaf_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9003.5082,-1251.7403C9006.1037,-1158.9843 9017.8851,-737.9539 9021.1557,-621.0746"/>
<polygon fill="#000000" stroke="#000000" points="9024.6638,-620.8284 9021.445,-610.7344 9017.6666,-620.6326 9024.6638,-620.8284"/>
</g>
<!-- leaf_127 -->
<g id="node128" class="node">
<title>leaf_127</title>
<polygon fill="none" stroke="#c0c0c0" points="9121,-608.9009 9067,-608.9009 9067,-572.9009 9121,-572.9009 9121,-608.9009"/>
<text text-anchor="middle" x="9094" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_123&#45;&gt;leaf_127 -->
<g id="edge127" class="edge">
<title>prespace_123&#45;&gt;leaf_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9094,-1251.7403C9094,-1158.4735 9094,-733.3071 9094,-619.1715"/>
<polygon fill="#000000" stroke="#000000" points="9097.5001,-619.1187 9094,-609.1187 9090.5001,-619.1188 9097.5001,-619.1187"/>
</g>
<!-- leaf_128 -->
<g id="node129" class="node">
<title>leaf_128</title>
<polygon fill="none" stroke="#c0c0c0" points="9193,-608.9009 9139,-608.9009 9139,-572.9009 9193,-572.9009 9193,-608.9009"/>
<text text-anchor="middle" x="9166" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">frag</text>
</g>
<!-- literal_124&#45;&gt;leaf_128 -->
<g id="edge128" class="edge">
<title>literal_124&#45;&gt;leaf_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9189.3581,-1251.7403C9186.0614,-1158.4735 9171.0335,-733.3071 9166.9993,-619.1715"/>
<polygon fill="#000000" stroke="#000000" points="9170.4951,-618.9888 9166.6439,-609.1187 9163.4994,-619.2361 9170.4951,-618.9888"/>
</g>
<!-- leaf_129 -->
<g id="node130" class="node">
<title>leaf_129</title>
<polygon fill="none" stroke="#c0c0c0" points="9668.5,-608.9009 9211.5,-608.9009 9211.5,-572.9009 9668.5,-572.9009 9668.5,-608.9009"/>
<text text-anchor="middle" x="9440" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> is any kind of string that we won&#39;t want to break into pieces.</text>
</g>
<!-- raw_125&#45;&gt;leaf_129 -->
<g id="edge129" class="edge">
<title>raw_125&#45;&gt;leaf_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9355.327,-1251.7403C9367.2773,-1158.4735 9421.7536,-733.3071 9436.3777,-619.1715"/>
<polygon fill="#000000" stroke="#000000" points="9439.8664,-619.4825 9437.6658,-609.1187 9432.9232,-618.5928 9439.8664,-619.4825"/>
</g>
<!-- leaf_131 -->
<g id="node132" class="node">
<title>leaf_131</title>
<polygon fill="none" stroke="#c0c0c0" points="10221,-634.1012 9687,-634.1012 9687,-547.7006 10221,-547.7006 10221,-634.1012"/>
<text text-anchor="middle" x="9954" y="-602.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">At first that means pasting long strings will cause syntax highlighting to</text>
<text text-anchor="middle" x="9954" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">fall over. Harmlessly. &#160;Once lexing is working we can trip an interrupt on</text>
<text text-anchor="middle" x="9954" y="-572.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">long input.</text>
</g>
<!-- raw_130&#45;&gt;leaf_131 -->
<g id="edge131" class="edge">
<title>raw_130&#45;&gt;leaf_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9695.8169,-1252.4353C9729.474,-1166.1966 9878.5043,-784.3412 9933.5116,-643.3976"/>
<polygon fill="#000000" stroke="#000000" points="9936.7766,-644.6585 9937.1519,-634.0703 9930.2556,-642.1134 9936.7766,-644.6585"/>
</g>
<!-- leaf_139 -->
<g id="node140" class="node">
<title>leaf_139</title>
<polygon fill="none" stroke="#c0c0c0" points="10402.5,-608.9009 10239.5,-608.9009 10239.5,-572.9009 10402.5,-572.9009 10402.5,-608.9009"/>
<text text-anchor="middle" x="10321" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">*** join(token, frag)</text>
</g>
<!-- header_132&#45;&gt;leaf_139 -->
<g id="edge139" class="edge">
<title>header_132&#45;&gt;leaf_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10357.0103,-1251.7403C10351.9281,-1158.4735 10328.76,-733.3071 10322.5405,-619.1715"/>
<polygon fill="#000000" stroke="#000000" points="10326.0317,-618.9134 10321.9927,-609.1187 10319.0421,-619.2944 10326.0317,-618.9134"/>
</g>
<!-- raw_140 -->
<g id="node141" class="node">
<title>raw_140</title>
<ellipse fill="none" stroke="#000000" cx="10448" cy="-590.9009" rx="27" ry="18"/>
<text text-anchor="middle" x="10448" y="-586.7009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_133&#45;&gt;raw_140 -->
<g id="edge140" class="edge">
<title>prose_133&#45;&gt;raw_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10587.9222,-1253.6683C10561.3744,-1223.9471 10506.9317,-1157.6387 10484,-1090.4017 10425.6996,-919.4623 10438.3103,-697.0467 10445.1387,-619.2483"/>
<polygon fill="#000000" stroke="#000000" points="10448.6276,-619.5288 10446.0559,-609.2509 10441.6569,-618.8893 10448.6276,-619.5288"/>
</g>
<!-- leaf_142 -->
<g id="node143" class="node">
<title>leaf_142</title>
<polygon fill="none" stroke="#c0c0c0" points="10978.5,-1090.4026 10493.5,-1090.4026 10493.5,-91.3992 10978.5,-91.3992 10978.5,-1090.4026"/>
<text text-anchor="middle" x="10736" y="-1075.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">local function join(token, frag)</text>
<text text-anchor="middle" x="10736" y="-1059.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if sub(token, &#45;1) == &quot; &quot; and sub(frag, 1,1) ~= &quot; &quot; then</text>
<text text-anchor="middle" x="10736" y="-1044.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return token, frag</text>
<text text-anchor="middle" x="10736" y="-1029.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10736" y="-1013.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return token .. frag, nil</text>
<text text-anchor="middle" x="10736" y="-998.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10736" y="-982.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10736" y="-951.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">local t_insert, splice = assert(table.insert), assert(table.splice)</text>
<text text-anchor="middle" x="10736" y="-936.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">local utf8, codepoints = string.utf8, string.codepoints</text>
<text text-anchor="middle" x="10736" y="-904.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.insert(linebuf, frag)</text>
<text text-anchor="middle" x="10736" y="-889.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local line = linebuf.line</text>
<text text-anchor="middle" x="10736" y="-873.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local wide_frag = utf8(frag)</text>
<text text-anchor="middle" x="10736" y="-858.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if wide_frag &lt; #frag then &#45;&#45; a paste</text>
<text text-anchor="middle" x="10736" y="-843.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;wide_frag = codepoints(frag)</text>
<text text-anchor="middle" x="10736" y="-827.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10736" y="-812.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;wide_frag = false</text>
<text text-anchor="middle" x="10736" y="-796.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10736" y="-781.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not wide_frag then</text>
<text text-anchor="middle" x="10736" y="-766.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;t_insert(line, linebuf.cursor, frag)</text>
<text text-anchor="middle" x="10736" y="-750.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;linebuf.cursor = linebuf.cursor + 1</text>
<text text-anchor="middle" x="10736" y="-735.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="10736" y="-719.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10736" y="-704.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;splice(line, linebuf.cursor, wide_frag)</text>
<text text-anchor="middle" x="10736" y="-689.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;linebuf.cursor = linebuf.cursor + #wide_frag</text>
<text text-anchor="middle" x="10736" y="-673.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="10736" y="-658.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10736" y="-626.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return false</text>
<text text-anchor="middle" x="10736" y="-611.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10736" y="-580.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">local remove = table.remove</text>
<text text-anchor="middle" x="10736" y="-548.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.d_back(linebuf)</text>
<text text-anchor="middle" x="10736" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;remove(linebuf.line, linebuf.cursor &#45; 1)</text>
<text text-anchor="middle" x="10736" y="-517.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.cursor = linebuf.cursor &gt; 1 and linebuf.cursor &#45; 1 or 1</text>
<text text-anchor="middle" x="10736" y="-502.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10736" y="-455.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.d_fwd(linebuf)</text>
<text text-anchor="middle" x="10736" y="-439.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;remove(linebuf.line, linebuf.cursor)</text>
<text text-anchor="middle" x="10736" y="-424.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10736" y="-392.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.left(linebuf, disp)</text>
<text text-anchor="middle" x="10736" y="-377.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local disp = disp or 1</text>
<text text-anchor="middle" x="10736" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if linebuf.cursor &#45; disp &gt;= 1 then</text>
<text text-anchor="middle" x="10736" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;linebuf.cursor = linebuf.cursor &#45; disp</text>
<text text-anchor="middle" x="10736" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return linebuf.cursor</text>
<text text-anchor="middle" x="10736" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10736" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;linebuf.cursor = 1</text>
<text text-anchor="middle" x="10736" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return linebuf.cursor</text>
<text text-anchor="middle" x="10736" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10736" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10736" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.right(linebuf, disp)</text>
<text text-anchor="middle" x="10736" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;disp = disp or 1</text>
<text text-anchor="middle" x="10736" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if linebuf.cursor + disp &lt;= #linebuf.line + 1 then</text>
<text text-anchor="middle" x="10736" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;linebuf.cursor = linebuf.cursor + disp</text>
<text text-anchor="middle" x="10736" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10736" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;linebuf.cursor = #linebuf.line + 1</text>
<text text-anchor="middle" x="10736" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10736" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return linebuf.cursor</text>
<text text-anchor="middle" x="10736" y="-99.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_134&#45;&gt;leaf_142 -->
<g id="edge142" class="edge">
<title>codeblock_134&#45;&gt;leaf_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10808.0207,-1251.7403C10805.0468,-1224.4528 10798.9766,-1168.7546 10791.5649,-1100.7476"/>
<polygon fill="#000000" stroke="#000000" points="10795.0248,-1100.1883 10790.4619,-1090.6264 10788.066,-1100.9468 10795.0248,-1100.1883"/>
</g>
<!-- leaf_143 -->
<g id="node144" class="node">
<title>leaf_143</title>
<polygon fill="none" stroke="#c0c0c0" points="11447,-687.9012 10997,-687.9012 10997,-493.9006 11447,-493.9006 11447,-687.9012"/>
<text text-anchor="middle" x="11222" y="-672.701" font-family="Inconsolata" font-size="14.00" fill="#000000">local cl = assert(table.clone, &quot;table.clone must be provided&quot;)</text>
<text text-anchor="middle" x="11222" y="-641.301" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.suspend(linebuf)</text>
<text text-anchor="middle" x="11222" y="-625.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.line = tostring(linebuf)</text>
<text text-anchor="middle" x="11222" y="-610.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return linebuf</text>
<text text-anchor="middle" x="11222" y="-595.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="11222" y="-563.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.resume(linebuf)</text>
<text text-anchor="middle" x="11222" y="-548.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.line = codepoints(linebuf.line)</text>
<text text-anchor="middle" x="11222" y="-532.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.cursor = #linebuf.line + 1</text>
<text text-anchor="middle" x="11222" y="-517.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return linebuf</text>
<text text-anchor="middle" x="11222" y="-502.1008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_135&#45;&gt;leaf_143 -->
<g id="edge143" class="edge">
<title>codeblock_135&#45;&gt;leaf_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11149.0061,-1251.7403C11157.6082,-1173.862 11191.7714,-864.5713 11210.1503,-698.1801"/>
<polygon fill="#000000" stroke="#000000" points="11213.6645,-698.244 11211.2836,-687.9202 11206.7068,-697.4754 11213.6645,-698.244"/>
</g>
<!-- leaf_144 -->
<g id="node145" class="node">
<title>leaf_144</title>
<polygon fill="none" stroke="#c0c0c0" points="11761,-664.0017 11465,-664.0017 11465,-517.8001 11761,-517.8001 11761,-664.0017"/>
<text text-anchor="middle" x="11613" y="-649.001" font-family="Inconsolata" font-size="14.00" fill="#000000">function Linebuf.clone(linebuf)</text>
<text text-anchor="middle" x="11613" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local lb = cl(linebuf)</text>
<text text-anchor="middle" x="11613" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(lb.line) == &quot;table&quot; then</text>
<text text-anchor="middle" x="11613" y="-602.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;lb.line = cl(lb.line)</text>
<text text-anchor="middle" x="11613" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif type(lb.line) == &quot;string&quot; then</text>
<text text-anchor="middle" x="11613" y="-572.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;lb:resume()</text>
<text text-anchor="middle" x="11613" y="-556.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11613" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return lb</text>
<text text-anchor="middle" x="11613" y="-525.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_136&#45;&gt;leaf_144 -->
<g id="edge144" class="edge">
<title>codeblock_136&#45;&gt;leaf_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11480.6377,-1251.7403C11497.0164,-1169.967 11564.4979,-833.0553 11596.2888,-674.334"/>
<polygon fill="#000000" stroke="#000000" points="11599.7981,-674.6343 11598.3303,-664.1416 11592.9345,-673.2595 11599.7981,-674.6343"/>
</g>
<!-- leaf_145 -->
<g id="node146" class="node">
<title>leaf_145</title>
<polygon fill="none" stroke="#c0c0c0" points="12068.5,-641.3019 11779.5,-641.3019 11779.5,-540.4999 12068.5,-540.4999 12068.5,-641.3019"/>
<text text-anchor="middle" x="11924" y="-625.901" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(line)</text>
<text text-anchor="middle" x="11924" y="-610.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local linebuf = meta(Linebuf)</text>
<text text-anchor="middle" x="11924" y="-595.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.cursor = line and #line or 1</text>
<text text-anchor="middle" x="11924" y="-579.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;linebuf.line &#160;= line or {}</text>
<text text-anchor="middle" x="11924" y="-564.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return linebuf</text>
<text text-anchor="middle" x="11924" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_137&#45;&gt;leaf_145 -->
<g id="edge145" class="edge">
<title>codeblock_137&#45;&gt;leaf_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11800.3969,-1251.7403C11816.4798,-1165.7537 11885.328,-797.6594 11912.707,-651.2783"/>
<polygon fill="#000000" stroke="#000000" points="11916.2071,-651.602 11914.6054,-641.1289 11909.3264,-650.315 11916.2071,-651.602"/>
</g>
<!-- leaf_146 -->
<g id="node147" class="node">
<title>leaf_146</title>
<polygon fill="none" stroke="#c0c0c0" points="12173,-608.9009 12087,-608.9009 12087,-572.9009 12173,-572.9009 12173,-608.9009"/>
<text text-anchor="middle" x="12130" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">return new</text>
</g>
<!-- codeblock_138&#45;&gt;leaf_146 -->
<g id="edge146" class="edge">
<title>codeblock_138&#45;&gt;leaf_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12124.1605,-1251.7403C12124.9846,-1158.4735 12128.7416,-733.3071 12129.7502,-619.1715"/>
<polygon fill="#000000" stroke="#000000" points="12133.2504,-619.1493 12129.839,-609.1187 12126.2507,-619.0874 12133.2504,-619.1493"/>
</g>
<!-- leaf_141 -->
<g id="node142" class="node">
<title>leaf_141</title>
<polygon fill="none" stroke="#c0c0c0" points="10571.5,-55.6015 10324.5,-55.6015 10324.5,.2015 10571.5,.2015 10571.5,-55.6015"/>
<text text-anchor="middle" x="10448" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">Decides when to emit a new token.</text>
</g>
<!-- raw_140&#45;&gt;leaf_141 -->
<g id="edge141" class="edge">
<title>raw_140&#45;&gt;leaf_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10448,-572.8001C10448,-493.5369 10448,-176.0978 10448,-65.74"/>
<polygon fill="#000000" stroke="#000000" points="10451.5001,-65.4206 10448,-55.4207 10444.5001,-65.4207 10451.5001,-65.4206"/>
</g>
</g>
</svg>
