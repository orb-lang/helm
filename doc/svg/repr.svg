<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="17013pt" height="2676pt"
 viewBox="0.00 0.00 17013.30 2676.44" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2672.4404)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2672.4404 17009.2972,-2672.4404 17009.2972,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="3362" cy="-2650.4404" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="3362" y="-2646.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 546</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="3362" cy="-2578.4404" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3362" y="-2574.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;430</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3362,-2632.2718C3362,-2624.5714 3362,-2615.4147 3362,-2606.857"/>
<polygon fill="#000000" stroke="#000000" points="3365.5001,-2606.8536 3362,-2596.8537 3358.5001,-2606.8537 3365.5001,-2606.8536"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="114" cy="-2506.4404" rx="41.6284" ry="18"/>
<text text-anchor="middle" x="114" y="-2502.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Repr</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3296.2285,-2578.3328C2904.1739,-2577.5354 871.3942,-2571.1753 249,-2524.4404 220.4018,-2522.293 188.5986,-2518.1399 163.0469,-2514.3637"/>
<polygon fill="#000000" stroke="#000000" points="163.276,-2510.8588 152.8663,-2512.8305 162.2336,-2517.7807 163.276,-2510.8588"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="290" cy="-2506.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="290" y="-2502.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3296.4157,-2576.9033C2885.2357,-2567.2662 669.1697,-2515.3272 332.8015,-2507.4436"/>
<polygon fill="#000000" stroke="#000000" points="332.5928,-2503.9378 322.5135,-2507.2024 332.4287,-2510.9359 332.5928,-2503.9378"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="1277" cy="-2506.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1277" y="-2502.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3296.2021,-2576.9844C3064.5818,-2571.7383 2265.3535,-2552.6115 1606,-2524.4404 1503.0807,-2520.0431 1382.1568,-2512.9253 1319.4869,-2509.0904"/>
<polygon fill="#000000" stroke="#000000" points="1319.4058,-2505.5789 1309.2099,-2508.4589 1318.9764,-2512.5657 1319.4058,-2505.5789"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="1647" cy="-2506.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1647" y="-2502.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3296.1837,-2577.3794C3085.1561,-2573.7027 2406.5073,-2559.7462 1846,-2524.4404 1791.5388,-2521.0099 1728.8688,-2514.9988 1688.642,-2510.8739"/>
<polygon fill="#000000" stroke="#000000" points="1688.9743,-2507.3897 1678.6673,-2509.8425 1688.2543,-2514.3526 1688.9743,-2507.3897"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="1921" cy="-2506.4404" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1921" y="-2502.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 14&#45;26</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3297.2508,-2575.2647C3128.5788,-2566.9843 2661.7448,-2544.0182 2273,-2524.4404 2177.3263,-2519.6221 2067.0311,-2513.9655 1995.7758,-2510.2977"/>
<polygon fill="#000000" stroke="#000000" points="1995.7191,-2506.7903 1985.5524,-2509.7713 1995.3591,-2513.781 1995.7191,-2506.7903"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="2348" cy="-2506.4404" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2348" y="-2502.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 27&#45;38</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3298.1856,-2573.9092C3119.115,-2561.1941 2612.5889,-2525.2278 2421.8651,-2511.6853"/>
<polygon fill="#000000" stroke="#000000" points="2421.8853,-2508.178 2411.6625,-2510.9608 2421.3895,-2515.1604 2421.8853,-2508.178"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="3362" cy="-2506.4404" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3362" y="-2502.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 39&#45;51</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3362,-2560.2718C3362,-2552.5714 3362,-2543.4147 3362,-2534.857"/>
<polygon fill="#000000" stroke="#000000" points="3365.5001,-2534.8536 3362,-2524.8537 3358.5001,-2534.8537 3365.5001,-2534.8536"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="4258" cy="-2506.4404" rx="69.851" ry="18"/>
<text text-anchor="middle" x="4258" y="-2502.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 52&#45;118</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3425.362,-2573.3488C3585.6878,-2560.4655 4007.0613,-2526.6051 4181.1022,-2512.6197"/>
<polygon fill="#000000" stroke="#000000" points="4181.5171,-2516.0977 4191.2046,-2511.8079 4180.9563,-2509.1202 4181.5171,-2516.0977"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="7003" cy="-2506.4404" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7003" y="-2502.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 136&#45;171</text>
</g>
<!-- section_1&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3427.5209,-2577.1447C3869.7945,-2568.3989 6416.4589,-2518.0391 6917.4533,-2508.1321"/>
<polygon fill="#000000" stroke="#000000" points="6917.5774,-2511.6304 6927.5062,-2507.9333 6917.4389,-2504.6318 6917.5774,-2511.6304"/>
</g>
<!-- section_11 -->
<g id="node12" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="8629" cy="-2506.4404" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8629" y="-2502.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 172&#45;264</text>
</g>
<!-- section_1&#45;&gt;section_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;section_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3427.641,-2577.5431C3984.3491,-2569.9329 7909.7077,-2516.2731 8542.8683,-2507.6178"/>
<polygon fill="#000000" stroke="#000000" points="8543.3272,-2511.112 8553.2784,-2507.4755 8543.2314,-2504.1126 8543.3272,-2511.112"/>
</g>
<!-- section_12 -->
<g id="node13" class="node">
<title>section_12</title>
<ellipse fill="none" stroke="#000000" cx="12763" cy="-2506.4404" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="12763" y="-2502.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 265&#45;379</text>
</g>
<!-- section_1&#45;&gt;section_12 -->
<g id="edge12" class="edge">
<title>section_1&#45;&gt;section_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3427.6934,-2577.9373C4212.7016,-2571.9251 11784.8062,-2513.9321 12677.2329,-2507.0973"/>
<polygon fill="#000000" stroke="#000000" points="12677.4502,-2510.5958 12687.4231,-2507.0192 12677.3965,-2503.596 12677.4502,-2510.5958"/>
</g>
<!-- section_13 -->
<g id="node14" class="node">
<title>section_13</title>
<ellipse fill="none" stroke="#000000" cx="15217" cy="-2506.4404" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="15217" y="-2502.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 380&#45;430</text>
</g>
<!-- section_1&#45;&gt;section_13 -->
<g id="edge13" class="edge">
<title>section_1&#45;&gt;section_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3427.9053,-2578.1133C4047.0475,-2575.0305 8907.29,-2550.6161 12847,-2524.4404 13740.2686,-2518.5055 14822.9061,-2509.6917 15131.3254,-2507.1499"/>
<polygon fill="#000000" stroke="#000000" points="15131.5627,-2510.6482 15141.5335,-2507.0658 15131.5049,-2503.6484 15131.5627,-2510.6482"/>
</g>
<!-- section_14 -->
<g id="node15" class="node">
<title>section_14</title>
<ellipse fill="none" stroke="#000000" cx="16295" cy="-2506.4404" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="16295" y="-2502.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 431&#45;546</text>
</g>
<!-- section_1&#45;&gt;section_14 -->
<g id="edge14" class="edge">
<title>section_1&#45;&gt;section_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3427.8445,-2578.2676C4261.7751,-2576.0604 12778.8665,-2552.9791 15301,-2524.4404 15637.3165,-2520.6349 16037.5768,-2512.1931 16209.5601,-2508.3784"/>
<polygon fill="#000000" stroke="#000000" points="16209.6442,-2511.8775 16219.564,-2508.1561 16209.4886,-2504.8793 16209.6442,-2511.8775"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="58,-2452.4404 0,-2452.4404 0,-2416.4404 58,-2416.4404 58,-2452.4404"/>
<text text-anchor="middle" x="29" y="-2430.9404" font-family="Inconsolata" font-size="14.00" fill="#000000">* Repr</text>
</g>
<!-- header_2&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>header_2&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M94.7122,-2490.1025C83.8635,-2480.913 70.104,-2469.2579 57.9822,-2458.99"/>
<polygon fill="#000000" stroke="#000000" points="60.1927,-2456.2755 50.3,-2452.4827 55.6682,-2461.6169 60.1927,-2456.2755"/>
</g>
<!-- raw_16 -->
<g id="node17" class="node">
<title>raw_16</title>
<ellipse fill="none" stroke="#000000" cx="103" cy="-2434.4404" rx="27" ry="18"/>
<text text-anchor="middle" x="103" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_16 -->
<g id="edge16" class="edge">
<title>prose_3&#45;&gt;raw_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M261.7815,-2497.4775C231.1521,-2487.489 180.9919,-2470.3701 139,-2452.4404 137.2167,-2451.679 135.3969,-2450.8711 133.5697,-2450.0358"/>
<polygon fill="#000000" stroke="#000000" points="135.0375,-2446.8582 124.504,-2445.719 132.028,-2453.1783 135.0375,-2446.8582"/>
</g>
<!-- prespace_17 -->
<g id="node18" class="node">
<title>prespace_17</title>
<ellipse fill="none" stroke="#000000" cx="194" cy="-2434.4404" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="194" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_3&#45;&gt;prespace_17 -->
<g id="edge17" class="edge">
<title>prose_3&#45;&gt;prespace_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M270.573,-2491.8701C257.0746,-2481.7463 238.8362,-2468.0676 223.5453,-2456.5994"/>
<polygon fill="#000000" stroke="#000000" points="225.5024,-2453.6922 215.4024,-2450.4922 221.3024,-2459.2922 225.5024,-2453.6922"/>
</g>
<!-- literal_18 -->
<g id="node19" class="node">
<title>literal_18</title>
<ellipse fill="none" stroke="#000000" cx="290" cy="-2434.4404" rx="31.481" ry="18"/>
<text text-anchor="middle" x="290" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_3&#45;&gt;literal_18 -->
<g id="edge18" class="edge">
<title>prose_3&#45;&gt;literal_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M290,-2488.2718C290,-2480.5714 290,-2471.4147 290,-2462.857"/>
<polygon fill="#000000" stroke="#000000" points="293.5001,-2462.8536 290,-2452.8537 286.5001,-2462.8537 293.5001,-2462.8536"/>
</g>
<!-- raw_19 -->
<g id="node20" class="node">
<title>raw_19</title>
<ellipse fill="none" stroke="#000000" cx="401" cy="-2434.4404" rx="27" ry="18"/>
<text text-anchor="middle" x="401" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_19 -->
<g id="edge19" class="edge">
<title>prose_3&#45;&gt;raw_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M311.1395,-2492.7283C328.6247,-2481.3865 353.6114,-2465.1789 372.8001,-2452.7322"/>
<polygon fill="#000000" stroke="#000000" points="374.9429,-2455.5142 381.4279,-2447.1358 371.1336,-2449.6414 374.9429,-2455.5142"/>
</g>
<!-- raw_24 -->
<g id="node25" class="node">
<title>raw_24</title>
<ellipse fill="none" stroke="#000000" cx="1044" cy="-2434.4404" rx="27" ry="18"/>
<text text-anchor="middle" x="1044" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_24 -->
<g id="edge24" class="edge">
<title>prose_4&#45;&gt;raw_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1248.4296,-2497.6118C1205.4993,-2484.3457 1124.4834,-2459.3108 1078.3795,-2445.0641"/>
<polygon fill="#000000" stroke="#000000" points="1079.1372,-2441.635 1068.5496,-2442.0265 1077.0705,-2448.323 1079.1372,-2441.635"/>
</g>
<!-- raw_26 -->
<g id="node27" class="node">
<title>raw_26</title>
<ellipse fill="none" stroke="#000000" cx="1476" cy="-2434.4404" rx="27" ry="18"/>
<text text-anchor="middle" x="1476" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_26 -->
<g id="edge26" class="edge">
<title>prose_5&#45;&gt;raw_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1621.0288,-2495.5051C1590.8856,-2482.8133 1541.1453,-2461.87 1508.474,-2448.1136"/>
<polygon fill="#000000" stroke="#000000" points="1509.4977,-2444.7472 1498.9232,-2444.0922 1506.7813,-2451.1986 1509.4977,-2444.7472"/>
</g>
<!-- header_28 -->
<g id="node29" class="node">
<title>header_28</title>
<ellipse fill="none" stroke="#000000" cx="1734" cy="-2434.4404" rx="51.2759" ry="18"/>
<text text-anchor="middle" x="1734" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : imports</text>
</g>
<!-- section_6&#45;&gt;header_28 -->
<g id="edge28" class="edge">
<title>section_6&#45;&gt;header_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1882.7065,-2491.6964C1852.3967,-2480.0263 1810.0281,-2463.7132 1778.2653,-2451.4837"/>
<polygon fill="#000000" stroke="#000000" points="1779.3633,-2448.156 1768.7735,-2447.8291 1776.848,-2454.6886 1779.3633,-2448.156"/>
</g>
<!-- prose_29 -->
<g id="node30" class="node">
<title>prose_29</title>
<ellipse fill="none" stroke="#000000" cx="1853" cy="-2434.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1853" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_29 -->
<g id="edge29" class="edge">
<title>section_6&#45;&gt;prose_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1904.5391,-2489.0112C1895.7689,-2479.7251 1884.8547,-2468.1689 1875.3307,-2458.0846"/>
<polygon fill="#000000" stroke="#000000" points="1877.788,-2455.589 1868.3771,-2450.7221 1872.6989,-2460.3954 1877.788,-2455.589"/>
</g>
<!-- codeblock_30 -->
<g id="node31" class="node">
<title>codeblock_30</title>
<ellipse fill="none" stroke="#000000" cx="1986" cy="-2434.4404" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1986" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 16&#45;24</text>
</g>
<!-- section_6&#45;&gt;codeblock_30 -->
<g id="edge30" class="edge">
<title>section_6&#45;&gt;codeblock_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1937.0674,-2488.6426C1944.88,-2479.9887 1954.4118,-2469.4304 1962.9802,-2459.9392"/>
<polygon fill="#000000" stroke="#000000" points="1965.789,-2462.051 1969.8921,-2452.2829 1960.5931,-2457.3603 1965.789,-2462.051"/>
</g>
<!-- header_35 -->
<g id="node36" class="node">
<title>header_35</title>
<ellipse fill="none" stroke="#000000" cx="2181" cy="-2434.4404" rx="44.0596" ry="18"/>
<text text-anchor="middle" x="2181" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : setup</text>
</g>
<!-- section_7&#45;&gt;header_35 -->
<g id="edge35" class="edge">
<title>section_7&#45;&gt;header_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2312.5836,-2491.171C2285.6905,-2479.5764 2248.7029,-2463.6297 2220.7903,-2451.5955"/>
<polygon fill="#000000" stroke="#000000" points="2221.8958,-2448.2607 2211.3272,-2447.5156 2219.1244,-2454.6887 2221.8958,-2448.2607"/>
</g>
<!-- prose_36 -->
<g id="node37" class="node">
<title>prose_36</title>
<ellipse fill="none" stroke="#000000" cx="2282" cy="-2434.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2282" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_36 -->
<g id="edge36" class="edge">
<title>section_7&#45;&gt;prose_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2331.6854,-2488.6426C2323.2516,-2479.4421 2312.8446,-2468.0891 2303.7379,-2458.1544"/>
<polygon fill="#000000" stroke="#000000" points="2306.1131,-2455.5659 2296.7757,-2450.5594 2300.953,-2460.296 2306.1131,-2455.5659"/>
</g>
<!-- codeblock_37 -->
<g id="node38" class="node">
<title>codeblock_37</title>
<ellipse fill="none" stroke="#000000" cx="2412" cy="-2434.4404" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2412" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 29&#45;36</text>
</g>
<!-- section_7&#45;&gt;codeblock_37 -->
<g id="edge37" class="edge">
<title>section_7&#45;&gt;codeblock_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2363.8202,-2488.6426C2371.5126,-2479.9887 2380.8978,-2469.4304 2389.3344,-2459.9392"/>
<polygon fill="#000000" stroke="#000000" points="2392.1122,-2462.0823 2396.14,-2452.2829 2386.8803,-2457.4318 2392.1122,-2462.0823"/>
</g>
<!-- header_42 -->
<g id="node43" class="node">
<title>header_42</title>
<ellipse fill="none" stroke="#000000" cx="2798" cy="-2434.4404" rx="48.4031" ry="18"/>
<text text-anchor="middle" x="2798" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : anti_G</text>
</g>
<!-- section_8&#45;&gt;header_42 -->
<g id="edge42" class="edge">
<title>section_8&#45;&gt;header_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3302.4423,-2498.8373C3192.8542,-2484.8473 2960.7162,-2455.2127 2853.9121,-2441.5781"/>
<polygon fill="#000000" stroke="#000000" points="2854.3385,-2438.1042 2843.9758,-2440.3096 2853.452,-2445.0479 2854.3385,-2438.1042"/>
</g>
<!-- prose_43 -->
<g id="node44" class="node">
<title>prose_43</title>
<ellipse fill="none" stroke="#000000" cx="3117" cy="-2434.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3117" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_43 -->
<g id="edge43" class="edge">
<title>section_8&#45;&gt;prose_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3317.0632,-2493.2345C3270.6692,-2479.6003 3199.0604,-2458.5561 3155.2766,-2445.689"/>
<polygon fill="#000000" stroke="#000000" points="3156.1577,-2442.3 3145.5766,-2442.8384 3154.184,-2449.016 3156.1577,-2442.3"/>
</g>
<!-- codeblock_44 -->
<g id="node45" class="node">
<title>codeblock_44</title>
<ellipse fill="none" stroke="#000000" cx="3485" cy="-2434.4404" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3485" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 45&#45;47</text>
</g>
<!-- section_8&#45;&gt;codeblock_44 -->
<g id="edge44" class="edge">
<title>section_8&#45;&gt;codeblock_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3389.9106,-2490.1025C3406.9659,-2480.1189 3428.9929,-2467.2251 3447.5513,-2456.3616"/>
<polygon fill="#000000" stroke="#000000" points="3449.4843,-2459.2857 3456.3463,-2451.2133 3445.948,-2453.2446 3449.4843,-2459.2857"/>
</g>
<!-- prose_45 -->
<g id="node46" class="node">
<title>prose_45</title>
<ellipse fill="none" stroke="#000000" cx="3747" cy="-2434.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3747" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_45 -->
<g id="edge45" class="edge">
<title>section_8&#45;&gt;prose_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3416.3445,-2496.2773C3494.4181,-2481.6765 3636.5737,-2455.0915 3706.2702,-2442.0574"/>
<polygon fill="#000000" stroke="#000000" points="3707.2263,-2445.4394 3716.4124,-2440.1607 3705.9394,-2438.5587 3707.2263,-2445.4394"/>
</g>
<!-- header_70 -->
<g id="node71" class="node">
<title>header_70</title>
<ellipse fill="none" stroke="#000000" cx="3961" cy="-2434.4404" rx="73.9775" ry="18"/>
<text text-anchor="middle" x="3961" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : C.allNames()</text>
</g>
<!-- section_9&#45;&gt;header_70 -->
<g id="edge70" class="edge">
<title>section_9&#45;&gt;header_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4206.9439,-2494.0632C4156.122,-2481.7427 4078.0378,-2462.8132 4023.5279,-2449.5987"/>
<polygon fill="#000000" stroke="#000000" points="4024.1791,-2446.1552 4013.636,-2447.2006 4022.5298,-2452.9582 4024.1791,-2446.1552"/>
</g>
<!-- prose_71 -->
<g id="node72" class="node">
<title>prose_71</title>
<ellipse fill="none" stroke="#000000" cx="4163" cy="-2434.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4163" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_71 -->
<g id="edge71" class="edge">
<title>section_9&#45;&gt;prose_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4235.4863,-2489.3774C4221.9097,-2479.0878 4204.526,-2465.9128 4190.1859,-2455.0444"/>
<polygon fill="#000000" stroke="#000000" points="4192.2299,-2452.2019 4182.1461,-2448.9511 4188.0017,-2457.7807 4192.2299,-2452.2019"/>
</g>
<!-- prose_72 -->
<g id="node73" class="node">
<title>prose_72</title>
<ellipse fill="none" stroke="#000000" cx="4306" cy="-2434.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4306" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_72 -->
<g id="edge72" class="edge">
<title>section_9&#45;&gt;prose_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4269.8652,-2488.6426C4275.6466,-2479.9705 4282.703,-2469.3859 4289.0407,-2459.8793"/>
<polygon fill="#000000" stroke="#000000" points="4291.967,-2461.7996 4294.6019,-2451.5376 4286.1426,-2457.9167 4291.967,-2461.7996"/>
</g>
<!-- section_73 -->
<g id="node74" class="node">
<title>section_73</title>
<ellipse fill="none" stroke="#000000" cx="4900" cy="-2434.4404" rx="69.851" ry="18"/>
<text text-anchor="middle" x="4900" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 61&#45;118</text>
</g>
<!-- section_9&#45;&gt;section_73 -->
<g id="edge73" class="edge">
<title>section_9&#45;&gt;section_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4322.2004,-2499.2403C4441.8587,-2485.8207 4698.3286,-2457.0577 4825.4368,-2442.8026"/>
<polygon fill="#000000" stroke="#000000" points="4825.926,-2446.2698 4835.4736,-2441.677 4825.1458,-2439.3134 4825.926,-2446.2698"/>
</g>
<!-- section_74 -->
<g id="node75" class="node">
<title>section_74</title>
<ellipse fill="none" stroke="#000000" cx="6003" cy="-2434.4404" rx="74.6878" ry="18"/>
<text text-anchor="middle" x="6003" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 119&#45;135</text>
</g>
<!-- section_9&#45;&gt;section_74 -->
<g id="edge74" class="edge">
<title>section_9&#45;&gt;section_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4327.213,-2503.5846C4602.2898,-2492.2347 5617.7858,-2450.3346 5918.541,-2437.9252"/>
<polygon fill="#000000" stroke="#000000" points="5919.0887,-2441.4057 5928.9359,-2437.4963 5918.8001,-2434.4117 5919.0887,-2441.4057"/>
</g>
<!-- header_112 -->
<g id="node113" class="node">
<title>header_112</title>
<ellipse fill="none" stroke="#000000" cx="6896" cy="-2434.4404" rx="56.6234" ry="18"/>
<text text-anchor="middle" x="6896" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : tabulator</text>
</g>
<!-- section_10&#45;&gt;header_112 -->
<g id="edge112" class="edge">
<title>section_10&#45;&gt;header_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6977.6425,-2489.3774C6963.0424,-2479.553 6944.5332,-2467.0982 6928.831,-2456.5323"/>
<polygon fill="#000000" stroke="#000000" points="6930.6895,-2453.5643 6920.439,-2450.8853 6926.7816,-2459.3719 6930.6895,-2453.5643"/>
</g>
<!-- prose_113 -->
<g id="node114" class="node">
<title>prose_113</title>
<ellipse fill="none" stroke="#000000" cx="7003" cy="-2434.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7003" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_113 -->
<g id="edge113" class="edge">
<title>section_10&#45;&gt;prose_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7003,-2488.2718C7003,-2480.5714 7003,-2471.4147 7003,-2462.857"/>
<polygon fill="#000000" stroke="#000000" points="7006.5001,-2462.8536 7003,-2452.8537 6999.5001,-2462.8537 7006.5001,-2462.8536"/>
</g>
<!-- prose_114 -->
<g id="node115" class="node">
<title>prose_114</title>
<ellipse fill="none" stroke="#000000" cx="7085" cy="-2434.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7085" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_114 -->
<g id="edge114" class="edge">
<title>section_10&#45;&gt;prose_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7022.8499,-2489.0112C7033.9412,-2479.2725 7047.8761,-2467.037 7059.7387,-2456.6211"/>
<polygon fill="#000000" stroke="#000000" points="7062.3546,-2458.9819 7067.5597,-2449.7538 7057.736,-2453.7218 7062.3546,-2458.9819"/>
</g>
<!-- codeblock_115 -->
<g id="node116" class="node">
<title>codeblock_115</title>
<ellipse fill="none" stroke="#000000" cx="7291" cy="-2434.4404" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7291" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 144&#45;169</text>
</g>
<!-- section_10&#45;&gt;codeblock_115 -->
<g id="edge115" class="edge">
<title>section_10&#45;&gt;codeblock_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7055.1546,-2493.4017C7102.9714,-2481.4476 7173.9773,-2463.6961 7225.5789,-2450.7957"/>
<polygon fill="#000000" stroke="#000000" points="7226.4502,-2454.1856 7235.3027,-2448.3647 7224.7524,-2447.3946 7226.4502,-2454.1856"/>
</g>
<!-- header_122 -->
<g id="node123" class="node">
<title>header_122</title>
<ellipse fill="none" stroke="#000000" cx="7809" cy="-2434.4404" rx="129.1496" ry="18"/>
<text text-anchor="middle" x="7809" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : _tabulate(tab, depth, cycle)</text>
</g>
<!-- section_11&#45;&gt;header_122 -->
<g id="edge122" class="edge">
<title>section_11&#45;&gt;header_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8558.0216,-2500.2081C8417.3553,-2487.857 8101.8555,-2460.1545 7928.5814,-2444.9402"/>
<polygon fill="#000000" stroke="#000000" points="7928.6661,-2441.4343 7918.3982,-2444.0461 7928.0537,-2448.4075 7928.6661,-2441.4343"/>
</g>
<!-- prose_123 -->
<g id="node124" class="node">
<title>prose_123</title>
<ellipse fill="none" stroke="#000000" cx="8075" cy="-2434.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8075" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_123 -->
<g id="edge123" class="edge">
<title>section_11&#45;&gt;prose_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8562.45,-2497.7913C8446.7569,-2482.7554 8211.8069,-2452.2204 8116.5323,-2439.8381"/>
<polygon fill="#000000" stroke="#000000" points="8116.7877,-2436.3419 8106.42,-2438.5239 8115.8855,-2443.2836 8116.7877,-2436.3419"/>
</g>
<!-- prose_124 -->
<g id="node125" class="node">
<title>prose_124</title>
<ellipse fill="none" stroke="#000000" cx="8588" cy="-2434.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8588" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_124 -->
<g id="edge124" class="edge">
<title>section_11&#45;&gt;prose_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8618.654,-2488.2718C8613.8857,-2479.8983 8608.137,-2469.803 8602.9125,-2460.6282"/>
<polygon fill="#000000" stroke="#000000" points="8605.9083,-2458.816 8597.9184,-2451.8581 8599.8254,-2462.2799 8605.9083,-2458.816"/>
</g>
<!-- prose_125 -->
<g id="node126" class="node">
<title>prose_125</title>
<ellipse fill="none" stroke="#000000" cx="8670" cy="-2434.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8670" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_125 -->
<g id="edge125" class="edge">
<title>section_11&#45;&gt;prose_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8639.346,-2488.2718C8644.1143,-2479.8983 8649.863,-2469.803 8655.0875,-2460.6282"/>
<polygon fill="#000000" stroke="#000000" points="8658.1746,-2462.2799 8660.0816,-2451.8581 8652.0917,-2458.816 8658.1746,-2462.2799"/>
</g>
<!-- codeblock_126 -->
<g id="node127" class="node">
<title>codeblock_126</title>
<ellipse fill="none" stroke="#000000" cx="8888" cy="-2434.4404" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="8888" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 181&#45;254</text>
</g>
<!-- section_11&#45;&gt;codeblock_126 -->
<g id="edge126" class="edge">
<title>section_11&#45;&gt;codeblock_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8678.3256,-2492.7283C8720.3039,-2481.0586 8780.8127,-2464.2376 8826.0493,-2451.6622"/>
<polygon fill="#000000" stroke="#000000" points="8827.0498,-2455.0169 8835.747,-2448.9663 8825.1749,-2448.2726 8827.0498,-2455.0169"/>
</g>
<!-- prose_127 -->
<g id="node128" class="node">
<title>prose_127</title>
<ellipse fill="none" stroke="#000000" cx="9196" cy="-2434.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9196" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_127 -->
<g id="edge127" class="edge">
<title>section_11&#45;&gt;prose_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8695.7094,-2497.9694C8813.9133,-2482.9593 9056.8375,-2452.1118 9154.243,-2439.7429"/>
<polygon fill="#000000" stroke="#000000" points="9154.8185,-2443.198 9164.2979,-2438.4661 9153.9366,-2436.2538 9154.8185,-2443.198"/>
</g>
<!-- prose_128 -->
<g id="node129" class="node">
<title>prose_128</title>
<ellipse fill="none" stroke="#000000" cx="10619" cy="-2434.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10619" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_128 -->
<g id="edge128" class="edge">
<title>section_11&#45;&gt;prose_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8703.6781,-2503.7385C9029.8999,-2491.9355 10324.812,-2445.0844 10576.4905,-2435.9784"/>
<polygon fill="#000000" stroke="#000000" points="10576.817,-2439.469 10586.6839,-2435.6096 10576.5638,-2432.4736 10576.817,-2439.469"/>
</g>
<!-- header_171 -->
<g id="node172" class="node">
<title>header_171</title>
<ellipse fill="none" stroke="#000000" cx="12435" cy="-2434.4404" rx="67.2549" ry="18"/>
<text text-anchor="middle" x="12435" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : tabulate(...)</text>
</g>
<!-- section_12&#45;&gt;header_171 -->
<g id="edge171" class="edge">
<title>section_12&#45;&gt;header_171</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12707.3593,-2494.2266C12649.0129,-2481.4188 12557.5457,-2461.3407 12496.9407,-2448.0371"/>
<polygon fill="#000000" stroke="#000000" points="12497.6349,-2444.6063 12487.117,-2445.8807 12496.134,-2451.4435 12497.6349,-2444.6063"/>
</g>
<!-- prose_172 -->
<g id="node173" class="node">
<title>prose_172</title>
<ellipse fill="none" stroke="#000000" cx="12638" cy="-2434.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="12638" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_12&#45;&gt;prose_172 -->
<g id="edge172" class="edge">
<title>section_12&#45;&gt;prose_172</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12734.0083,-2489.7412C12714.62,-2478.5735 12689.1237,-2463.8876 12669.2785,-2452.4568"/>
<polygon fill="#000000" stroke="#000000" points="12671.0126,-2449.4166 12660.6004,-2447.4582 12667.5187,-2455.4823 12671.0126,-2449.4166"/>
</g>
<!-- prose_173 -->
<g id="node174" class="node">
<title>prose_173</title>
<ellipse fill="none" stroke="#000000" cx="12763" cy="-2434.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="12763" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_12&#45;&gt;prose_173 -->
<g id="edge173" class="edge">
<title>section_12&#45;&gt;prose_173</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12763,-2488.2718C12763,-2480.5714 12763,-2471.4147 12763,-2462.857"/>
<polygon fill="#000000" stroke="#000000" points="12766.5001,-2462.8536 12763,-2452.8537 12759.5001,-2462.8537 12766.5001,-2462.8536"/>
</g>
<!-- prose_174 -->
<g id="node175" class="node">
<title>prose_174</title>
<ellipse fill="none" stroke="#000000" cx="13135" cy="-2434.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="13135" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_12&#45;&gt;prose_174 -->
<g id="edge174" class="edge">
<title>section_12&#45;&gt;prose_174</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12821.9445,-2495.0318C12897.9812,-2480.315 13028.2818,-2455.0955 13094.2205,-2442.3332"/>
<polygon fill="#000000" stroke="#000000" points="13095.0798,-2445.7319 13104.2325,-2440.3954 13093.7496,-2438.8595 13095.0798,-2445.7319"/>
</g>
<!-- prose_175 -->
<g id="node176" class="node">
<title>prose_175</title>
<ellipse fill="none" stroke="#000000" cx="14136" cy="-2434.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="14136" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_12&#45;&gt;prose_175 -->
<g id="edge175" class="edge">
<title>section_12&#45;&gt;prose_175</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12836.8184,-2502.5694C13087.0441,-2489.4476 13898.3439,-2446.9031 14093.4958,-2436.6693"/>
<polygon fill="#000000" stroke="#000000" points="14093.8315,-2440.1566 14103.6344,-2436.1376 14093.4648,-2433.1662 14093.8315,-2440.1566"/>
</g>
<!-- codeblock_176 -->
<g id="node177" class="node">
<title>codeblock_176</title>
<ellipse fill="none" stroke="#000000" cx="14444" cy="-2434.4404" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="14444" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 281&#45;377</text>
</g>
<!-- section_12&#45;&gt;codeblock_176 -->
<g id="edge176" class="edge">
<title>section_12&#45;&gt;codeblock_176</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12838.1478,-2504.3419C13049.2316,-2498.281 13665.5006,-2479.4432 14177,-2452.4404 14235.1747,-2449.3693 14300.4169,-2444.9883 14351.8464,-2441.3174"/>
<polygon fill="#000000" stroke="#000000" points="14352.218,-2444.7998 14361.9419,-2440.5932 14351.7171,-2437.8177 14352.218,-2444.7998"/>
</g>
<!-- header_199 -->
<g id="node200" class="node">
<title>header_199</title>
<ellipse fill="none" stroke="#000000" cx="15025" cy="-2434.4404" rx="141.6956" ry="18"/>
<text text-anchor="middle" x="15025" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : string and cdata pretty&#45;printing</text>
</g>
<!-- section_13&#45;&gt;header_199 -->
<g id="edge199" class="edge">
<title>section_13&#45;&gt;header_199</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M15176.2817,-2491.171C15148.3706,-2480.7044 15111.0019,-2466.6911 15080.3883,-2455.211"/>
<polygon fill="#000000" stroke="#000000" points="15081.299,-2451.8146 15070.7068,-2451.5804 15078.8411,-2458.3689 15081.299,-2451.8146"/>
</g>
<!-- prose_200 -->
<g id="node201" class="node">
<title>prose_200</title>
<ellipse fill="none" stroke="#000000" cx="15217" cy="-2434.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="15217" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_13&#45;&gt;prose_200 -->
<g id="edge200" class="edge">
<title>section_13&#45;&gt;prose_200</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M15217,-2488.2718C15217,-2480.5714 15217,-2471.4147 15217,-2462.857"/>
<polygon fill="#000000" stroke="#000000" points="15220.5001,-2462.8536 15217,-2452.8537 15213.5001,-2462.8537 15220.5001,-2462.8536"/>
</g>
<!-- codeblock_201 -->
<g id="node202" class="node">
<title>codeblock_201</title>
<ellipse fill="none" stroke="#000000" cx="15401" cy="-2434.4404" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="15401" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 385&#45;416</text>
</g>
<!-- section_13&#45;&gt;codeblock_201 -->
<g id="edge201" class="edge">
<title>section_13&#45;&gt;codeblock_201</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M15256.4726,-2490.9946C15284.0097,-2480.2192 15320.9888,-2465.7491 15350.6481,-2454.1433"/>
<polygon fill="#000000" stroke="#000000" points="15351.9623,-2457.3876 15359.9993,-2450.4842 15349.4114,-2450.8689 15351.9623,-2457.3876"/>
</g>
<!-- codeblock_202 -->
<g id="node203" class="node">
<title>codeblock_202</title>
<ellipse fill="none" stroke="#000000" cx="15711" cy="-2434.4404" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="15711" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 418&#45;429</text>
</g>
<!-- section_13&#45;&gt;codeblock_202 -->
<g id="edge202" class="edge">
<title>section_13&#45;&gt;codeblock_202</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M15281.5819,-2497.0277C15370.8736,-2484.0135 15532.027,-2460.5255 15629.498,-2446.3192"/>
<polygon fill="#000000" stroke="#000000" points="15630.2104,-2449.7525 15639.601,-2444.8467 15629.2008,-2442.8256 15630.2104,-2449.7525"/>
</g>
<!-- header_208 -->
<g id="node209" class="node">
<title>header_208</title>
<ellipse fill="none" stroke="#000000" cx="16058" cy="-2434.4404" rx="29.0514" ry="18"/>
<text text-anchor="middle" x="16058" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : ts</text>
</g>
<!-- section_14&#45;&gt;header_208 -->
<g id="edge208" class="edge">
<title>section_14&#45;&gt;header_208</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M16248.1764,-2492.2155C16202.9376,-2478.4721 16135.3744,-2457.9465 16094.1383,-2445.4191"/>
<polygon fill="#000000" stroke="#000000" points="16095.088,-2442.0498 16084.5024,-2442.4918 16093.0532,-2448.7475 16095.088,-2442.0498"/>
</g>
<!-- prose_209 -->
<g id="node210" class="node">
<title>prose_209</title>
<ellipse fill="none" stroke="#000000" cx="16209" cy="-2434.4404" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="16209" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_14&#45;&gt;prose_209 -->
<g id="edge209" class="edge">
<title>section_14&#45;&gt;prose_209</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M16274.1818,-2489.0112C16262.3561,-2479.1106 16247.448,-2466.6294 16234.8748,-2456.103"/>
<polygon fill="#000000" stroke="#000000" points="16236.9199,-2453.2505 16227.0055,-2449.5148 16232.4263,-2458.6178 16236.9199,-2453.2505"/>
</g>
<!-- codeblock_210 -->
<g id="node211" class="node">
<title>codeblock_210</title>
<ellipse fill="none" stroke="#000000" cx="16382" cy="-2434.4404" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="16382" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 435&#45;530</text>
</g>
<!-- section_14&#45;&gt;codeblock_210 -->
<g id="edge210" class="edge">
<title>section_14&#45;&gt;codeblock_210</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M16316.0603,-2489.0112C16327.0924,-2479.8812 16340.7762,-2468.5567 16352.814,-2458.5943"/>
<polygon fill="#000000" stroke="#000000" points="16355.3597,-2461.0307 16360.8321,-2451.9586 16350.8967,-2455.638 16355.3597,-2461.0307"/>
</g>
<!-- codeblock_211 -->
<g id="node212" class="node">
<title>codeblock_211</title>
<ellipse fill="none" stroke="#000000" cx="16675" cy="-2434.4404" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="16675" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 532&#45;539</text>
</g>
<!-- section_14&#45;&gt;codeblock_211 -->
<g id="edge211" class="edge">
<title>section_14&#45;&gt;codeblock_211</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M16354.375,-2495.1904C16420.8626,-2482.5927 16528.7127,-2462.158 16600.7296,-2448.5127"/>
<polygon fill="#000000" stroke="#000000" points="16601.4721,-2451.9344 16610.6457,-2446.6338 16600.1689,-2445.0567 16601.4721,-2451.9344"/>
</g>
<!-- codeblock_212 -->
<g id="node213" class="node">
<title>codeblock_212</title>
<ellipse fill="none" stroke="#000000" cx="16918" cy="-2434.4404" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="16918" y="-2430.2404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 541&#45;543</text>
</g>
<!-- section_14&#45;&gt;codeblock_212 -->
<g id="edge212" class="edge">
<title>section_14&#45;&gt;codeblock_212</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M16363.6005,-2498.8515C16456.1279,-2488.5714 16626.0432,-2469.5373 16771,-2452.4404 16790.9872,-2450.083 16812.4949,-2447.4844 16832.7246,-2445.0124"/>
<polygon fill="#000000" stroke="#000000" points="16833.3546,-2448.4615 16842.8551,-2443.7722 16832.5039,-2441.5134 16833.3546,-2448.4615"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="112,-1679.9401 58,-1679.9401 58,-1608.1378 112,-1608.1378 112,-1679.9401"/>
<text text-anchor="middle" x="85" y="-1616.539" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- raw_16&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>raw_16&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M102.5816,-2416.0661C100.316,-2316.5831 89.494,-1841.3758 86.053,-1690.2764"/>
<polygon fill="#000000" stroke="#000000" points="89.5451,-1689.8846 85.8182,-1679.9669 82.5469,-1690.0441 89.5451,-1689.8846"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="184,-1662.039 130,-1662.039 130,-1626.039 184,-1626.039 184,-1662.039"/>
<text text-anchor="middle" x="157" y="-1640.539" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_17&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>prespace_17&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M193.1399,-2416.0661C188.2795,-2312.2382 164.261,-1799.1501 158.3272,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="161.8193,-1672.1379 157.8554,-1662.3125 154.8269,-1672.4653 161.8193,-1672.1379"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="256,-1662.039 202,-1662.039 202,-1626.039 256,-1626.039 256,-1662.039"/>
<text text-anchor="middle" x="229" y="-1640.539" font-family="Inconsolata" font-size="14.00" fill="#000000">repr</text>
</g>
<!-- literal_18&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>literal_18&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M279.8692,-2417.071C274.4089,-2406.7812 268.1589,-2393.2812 265,-2380.4404 198.8351,-2111.4821 218.803,-1771.066 226.5666,-1672.1579"/>
<polygon fill="#000000" stroke="#000000" points="230.0649,-1672.319 227.3831,-1662.0692 223.0877,-1671.7542 230.0649,-1672.319"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="563.5,-1662.039 274.5,-1662.039 274.5,-1626.039 563.5,-1626.039 563.5,-1662.039"/>
<text text-anchor="middle" x="419" y="-1640.539" font-family="Inconsolata" font-size="14.00" fill="#000000"> is our general&#45;purpose pretty&#45;printer.</text>
</g>
<!-- raw_19&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>raw_19&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M401.4184,-2416.0661C403.7829,-2312.2382 415.4676,-1799.1501 418.3543,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="421.8552,-1672.3897 418.5839,-1662.3125 414.857,-1672.2302 421.8552,-1672.3897"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="1102,-1671.3394 582,-1671.3394 582,-1616.7385 1102,-1616.7385 1102,-1671.3394"/>
<text text-anchor="middle" x="842" y="-1640.239" font-family="Inconsolata" font-size="14.00" fill="#000000">This is undergoing a huge refactor to make it iterable, so it yields one</text>
<text text-anchor="middle" x="842" y="-1624.839" font-family="Inconsolata" font-size="14.00" fill="#000000">line at a time and won&#39;t get hung up on enormous tables.</text>
</g>
<!-- raw_24&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>raw_24&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1039.4014,-2416.4467C1013.6771,-2315.7907 887.4806,-1821.9988 851.5574,-1681.436"/>
<polygon fill="#000000" stroke="#000000" points="854.9003,-1680.3806 849.0331,-1671.5586 848.1182,-1682.1139 854.9003,-1680.3806"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="1661.5,-1687.2393 1120.5,-1687.2393 1120.5,-1600.8386 1661.5,-1600.8386 1661.5,-1687.2393"/>
<text text-anchor="middle" x="1391" y="-1655.939" font-family="Inconsolata" font-size="14.00" fill="#000000">Currently we yield most things, and are working our way toward providing an</text>
<text text-anchor="middle" x="1391" y="-1640.539" font-family="Inconsolata" font-size="14.00" fill="#000000">iterator that itself returns one line at a time until it reaches the end of</text>
<text text-anchor="middle" x="1391" y="-1625.1389" font-family="Inconsolata" font-size="14.00" fill="#000000">the repr.</text>
</g>
<!-- raw_26&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>raw_26&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1474.065,-2416.4467C1463.6129,-2319.2547 1413.7427,-1855.5201 1396.714,-1697.1727"/>
<polygon fill="#000000" stroke="#000000" points="1400.1899,-1696.7598 1395.6406,-1687.1914 1393.23,-1697.5083 1400.1899,-1696.7598"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="1780,-1662.039 1680,-1662.039 1680,-1626.039 1780,-1626.039 1780,-1662.039"/>
<text text-anchor="middle" x="1730" y="-1640.539" font-family="Inconsolata" font-size="14.00" fill="#000000">**** imports</text>
</g>
<!-- header_28&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>header_28&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1733.907,-2416.0661C1733.3816,-2312.2382 1730.785,-1799.1501 1730.1435,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="1733.6431,-1672.2947 1730.0925,-1662.3125 1726.6432,-1672.3301 1733.6431,-1672.2947"/>
</g>
<!-- raw_32 -->
<g id="node33" class="node">
<title>raw_32</title>
<ellipse fill="none" stroke="#000000" cx="1825" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="1825" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_29&#45;&gt;raw_32 -->
<g id="edge32" class="edge">
<title>prose_29&#45;&gt;raw_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1852.3491,-2416.0661C1848.671,-2312.2382 1830.4948,-1799.1501 1826.0044,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="1829.4993,-1672.1823 1825.6473,-1662.3125 1822.5037,-1672.4302 1829.4993,-1672.1823"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2117.5,-1702.6398 1870.5,-1702.6398 1870.5,-1585.4382 2117.5,-1585.4382 2117.5,-1702.6398"/>
<text text-anchor="middle" x="1994" y="-1687.639" font-family="Inconsolata" font-size="14.00" fill="#000000">local a = require &quot;anterm&quot;</text>
<text text-anchor="middle" x="1994" y="-1656.239" font-family="Inconsolata" font-size="14.00" fill="#000000">local core = require &quot;core&quot;</text>
<text text-anchor="middle" x="1994" y="-1624.839" font-family="Inconsolata" font-size="14.00" fill="#000000">local reflect = require &quot;reflect&quot;</text>
<text text-anchor="middle" x="1994" y="-1593.4389" font-family="Inconsolata" font-size="14.00" fill="#000000">local C = require &quot;color&quot;</text>
</g>
<!-- codeblock_30&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>codeblock_30&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1986.186,-2416.0661C1987.147,-2321.1185 1991.572,-1883.9247 1993.3031,-1712.8971"/>
<polygon fill="#000000" stroke="#000000" points="1996.8042,-1712.7889 1993.4057,-1702.754 1989.8046,-1712.718 1996.8042,-1712.7889"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="1852,-499.5188 1798,-499.5188 1798,-463.5188 1852,-463.5188 1852,-499.5188"/>
</g>
<!-- raw_32&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>raw_32&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1825,-1625.7785C1825,-1492.7803 1825,-673.6559 1825,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="1828.5001,-509.739 1825,-499.739 1821.5001,-509.739 1828.5001,-509.739"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="2222,-1662.039 2136,-1662.039 2136,-1626.039 2222,-1626.039 2222,-1662.039"/>
<text text-anchor="middle" x="2179" y="-1640.539" font-family="Inconsolata" font-size="14.00" fill="#000000">**** setup</text>
</g>
<!-- header_35&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>header_35&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2180.9535,-2416.0661C2180.6908,-2312.2382 2179.3925,-1799.1501 2179.0717,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="2182.5716,-1672.3036 2179.0462,-1662.3125 2175.5717,-1672.3214 2182.5716,-1672.3036"/>
</g>
<!-- raw_39 -->
<g id="node40" class="node">
<title>raw_39</title>
<ellipse fill="none" stroke="#000000" cx="2267" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="2267" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_36&#45;&gt;raw_39 -->
<g id="edge39" class="edge">
<title>prose_36&#45;&gt;raw_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2281.6513,-2416.0661C2279.6809,-2312.2382 2269.9437,-1799.1501 2267.5381,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="2271.036,-1672.2443 2267.3468,-1662.3125 2264.0373,-1672.3772 2271.036,-1672.2443"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="2517.5,-1695.2392 2312.5,-1695.2392 2312.5,-1592.8387 2517.5,-1592.8387 2517.5,-1695.2392"/>
<text text-anchor="middle" x="2415" y="-1663.939" font-family="Inconsolata" font-size="14.00" fill="#000000">local repr = {}</text>
<text text-anchor="middle" x="2415" y="-1632.539" font-family="Inconsolata" font-size="14.00" fill="#000000">local hints = C.color.hints</text>
<text text-anchor="middle" x="2415" y="-1601.1389" font-family="Inconsolata" font-size="14.00" fill="#000000">local c = C.color</text>
</g>
<!-- codeblock_37&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>codeblock_37&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2412.0697,-2416.0661C2412.4355,-2319.6901 2414.1397,-1870.6928 2414.7673,-1705.3609"/>
<polygon fill="#000000" stroke="#000000" points="2418.2671,-1705.3683 2414.8052,-1695.3551 2411.2672,-1705.3417 2418.2671,-1705.3683"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="1960,-499.5188 1906,-499.5188 1906,-463.5188 1960,-463.5188 1960,-499.5188"/>
</g>
<!-- raw_39&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>raw_39&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2269.0748,-1625.8189C2280.3631,-1522.9987 2330.3153,-1016.0685 2231,-907.6375 2151.611,-820.9617 2050.2413,-956.5796 1969,-871.6375 1872.6351,-770.883 1907.5078,-581.3664 1925.2363,-509.8249"/>
<polygon fill="#000000" stroke="#000000" points="1928.7215,-510.3235 1927.811,-499.7679 1921.9402,-508.5874 1928.7215,-510.3235"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="2622,-1662.039 2536,-1662.039 2536,-1626.039 2622,-1626.039 2622,-1662.039"/>
<text text-anchor="middle" x="2579" y="-1640.539" font-family="Inconsolata" font-size="14.00" fill="#000000">*** anti_G</text>
</g>
<!-- header_42&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>header_42&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2754.7659,-2426.1531C2710.6083,-2416.7422 2646.4038,-2400.1137 2631,-2380.4404 2542.9891,-2268.0351 2568.7772,-1793.6001 2576.9531,-1672.3492"/>
<polygon fill="#000000" stroke="#000000" points="2580.4459,-1672.5725 2577.6416,-1662.3555 2573.4625,-1672.0913 2580.4459,-1672.5725"/>
</g>
<!-- raw_47 -->
<g id="node48" class="node">
<title>raw_47</title>
<ellipse fill="none" stroke="#000000" cx="2667" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="2667" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_43&#45;&gt;raw_47 -->
<g id="edge47" class="edge">
<title>prose_43&#45;&gt;raw_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3084.8654,-2432.5866C2992.1065,-2426.9184 2728.8602,-2408.4808 2703,-2380.4404 2606.2346,-2275.5167 2650.7454,-1794.5253 2663.8204,-1672.3328"/>
<polygon fill="#000000" stroke="#000000" points="2667.313,-1672.5893 2664.9135,-1662.2698 2660.3539,-1671.8333 2667.313,-1672.5893"/>
</g>
<!-- prespace_48 -->
<g id="node49" class="node">
<title>prespace_48</title>
<ellipse fill="none" stroke="#000000" cx="2758" cy="-1644.039" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2758" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_43&#45;&gt;prespace_48 -->
<g id="edge48" class="edge">
<title>prose_43&#45;&gt;prespace_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3084.7266,-2433.4979C3014.2039,-2430.7118 2849.7932,-2420.0232 2814,-2380.4404 2718.1062,-2274.3939 2746.7913,-1794.236 2755.7741,-1672.2769"/>
<polygon fill="#000000" stroke="#000000" points="2759.2695,-1672.4677 2756.5296,-1662.2333 2752.2892,-1671.9425 2759.2695,-1672.4677"/>
</g>
<!-- literal_49 -->
<g id="node50" class="node">
<title>literal_49</title>
<ellipse fill="none" stroke="#000000" cx="2854" cy="-1644.039" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2854" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_43&#45;&gt;literal_49 -->
<g id="edge49" class="edge">
<title>prose_43&#45;&gt;literal_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3085.001,-2431.3251C3029.3145,-2425.1883 2918.1972,-2409.5359 2894,-2380.4404 2802.7089,-2270.6686 2840.1202,-1793.2762 2851.275,-1672.0914"/>
<polygon fill="#000000" stroke="#000000" points="2854.7618,-1672.3949 2852.209,-1662.1122 2847.7923,-1671.7425 2854.7618,-1672.3949"/>
</g>
<!-- raw_50 -->
<g id="node51" class="node">
<title>raw_50</title>
<ellipse fill="none" stroke="#000000" cx="2930" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="2930" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_43&#45;&gt;raw_50 -->
<g id="edge50" class="edge">
<title>prose_43&#45;&gt;raw_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3086.9288,-2427.8411C3047.2429,-2418.4695 2980.677,-2400.2315 2966,-2380.4404 2881.1565,-2266.0336 2916.6221,-1794.0018 2927.338,-1672.6079"/>
<polygon fill="#000000" stroke="#000000" points="2930.8565,-1672.5584 2928.2648,-1662.2854 2923.8845,-1671.9323 2930.8565,-1672.5584"/>
</g>
<!-- prespace_51 -->
<g id="node52" class="node">
<title>prespace_51</title>
<ellipse fill="none" stroke="#000000" cx="3021" cy="-1644.039" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="3021" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_43&#45;&gt;prespace_51 -->
<g id="edge51" class="edge">
<title>prose_43&#45;&gt;prespace_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3101.3178,-2418.4017C3092.5286,-2408.3556 3082.2964,-2394.6525 3077,-2380.4404 2979.9081,-2119.908 3007.1214,-1772.3693 3017.7161,-1672.1612"/>
<polygon fill="#000000" stroke="#000000" points="3021.1966,-1672.529 3018.8012,-1662.2086 3014.2378,-1671.7703 3021.1966,-1672.529"/>
</g>
<!-- literal_52 -->
<g id="node53" class="node">
<title>literal_52</title>
<ellipse fill="none" stroke="#000000" cx="3117" cy="-1644.039" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3117" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_43&#45;&gt;literal_52 -->
<g id="edge52" class="edge">
<title>prose_43&#45;&gt;literal_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3117,-2416.0661C3117,-2312.2382 3117,-1799.1501 3117,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="3120.5001,-1672.3125 3117,-1662.3125 3113.5001,-1672.3126 3120.5001,-1672.3125"/>
</g>
<!-- raw_53 -->
<g id="node54" class="node">
<title>raw_53</title>
<ellipse fill="none" stroke="#000000" cx="3193" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="3193" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_43&#45;&gt;raw_53 -->
<g id="edge53" class="edge">
<title>prose_43&#45;&gt;raw_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3132.8222,-2418.4529C3141.6611,-2408.4249 3151.8963,-2394.7228 3157,-2380.4404 3250.4013,-2119.0606 3211.3993,-1772.1101 3197.2852,-1672.1017"/>
<polygon fill="#000000" stroke="#000000" points="3200.7442,-1671.5655 3195.8491,-1662.1693 3193.8162,-1672.5673 3200.7442,-1671.5655"/>
</g>
<!-- prespace_54 -->
<g id="node55" class="node">
<title>prespace_54</title>
<ellipse fill="none" stroke="#000000" cx="3284" cy="-1644.039" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="3284" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_43&#45;&gt;prespace_54 -->
<g id="edge54" class="edge">
<title>prose_43&#45;&gt;prespace_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3147.5146,-2428.5722C3173.7931,-2421.7839 3210.344,-2407.8247 3229,-2380.4404 3386.7147,-2148.9384 3315.2757,-1776.1694 3290.9593,-1671.9169"/>
<polygon fill="#000000" stroke="#000000" points="3294.3531,-1671.0597 3288.6319,-1662.1424 3287.5435,-1672.6812 3294.3531,-1671.0597"/>
</g>
<!-- literal_55 -->
<g id="node56" class="node">
<title>literal_55</title>
<ellipse fill="none" stroke="#000000" cx="3380" cy="-1644.039" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3380" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_43&#45;&gt;literal_55 -->
<g id="edge55" class="edge">
<title>prose_43&#45;&gt;literal_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3148.8533,-2431.2998C3204.2868,-2425.1227 3314.9006,-2409.4088 3339,-2380.4404 3430.3157,-2270.6752 3393.645,-1793.2779 3382.6807,-1672.0917"/>
<polygon fill="#000000" stroke="#000000" points="3386.1641,-1671.7496 3381.7624,-1662.1125 3379.1936,-1672.3911 3386.1641,-1671.7496"/>
</g>
<!-- raw_56 -->
<g id="node57" class="node">
<title>raw_56</title>
<ellipse fill="none" stroke="#000000" cx="3456" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="3456" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_43&#45;&gt;raw_56 -->
<g id="edge56" class="edge">
<title>prose_43&#45;&gt;raw_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3149.3514,-2433.5675C3220.0328,-2430.923 3384.7454,-2420.5037 3420,-2380.4404 3514.2913,-2273.2878 3471.6171,-1793.951 3459.0565,-1672.2218"/>
<polygon fill="#000000" stroke="#000000" points="3462.5292,-1671.7781 3458.0061,-1662.1973 3455.5673,-1672.5077 3462.5292,-1671.7781"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="3713,-1662.039 3501,-1662.039 3501,-1626.039 3713,-1626.039 3713,-1662.039"/>
<text text-anchor="middle" x="3607" y="-1640.539" font-family="Inconsolata" font-size="14.00" fill="#000000">local anti_G = { _G = &quot;_G&quot; }</text>
</g>
<!-- codeblock_44&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>codeblock_44&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3487.7774,-2416.4467C3503.6652,-2313.5144 3583.0099,-1799.4635 3602.6147,-1672.4501"/>
<polygon fill="#000000" stroke="#000000" points="3606.1071,-1672.7674 3604.1736,-1662.3505 3599.189,-1671.6996 3606.1071,-1672.7674"/>
</g>
<!-- raw_68 -->
<g id="node69" class="node">
<title>raw_68</title>
<ellipse fill="none" stroke="#000000" cx="3758" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="3758" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_45&#45;&gt;raw_68 -->
<g id="edge68" class="edge">
<title>prose_45&#45;&gt;raw_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3747.2557,-2416.0661C3748.7007,-2312.2382 3755.8413,-1799.1501 3757.6054,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="3761.1061,-1672.3603 3757.7457,-1662.3125 3754.1068,-1672.2628 3761.1061,-1672.3603"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="2428,-509.4203 1978,-509.4203 1978,-453.6173 2428,-453.6173 2428,-509.4203"/>
<text text-anchor="middle" x="2203" y="-462.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">In order to provide names for values, we want to trawl through</text>
</g>
<!-- raw_47&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>raw_47&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2668.9937,-1625.8915C2679.8357,-1523.4704 2727.7438,-1018.3689 2631,-907.6375 2573.3024,-841.5977 2509.029,-921.6585 2437,-871.6375 2308.6929,-782.5339 2238.9668,-598.2389 2213.8918,-519.0355"/>
<polygon fill="#000000" stroke="#000000" points="2217.2279,-517.9766 2210.9184,-509.4654 2210.5431,-520.0535 2217.2279,-517.9766"/>
</g>
<!-- leaf_58 -->
<g id="node59" class="node">
<title>leaf_58</title>
<polygon fill="none" stroke="#c0c0c0" points="2500,-499.5188 2446,-499.5188 2446,-463.5188 2500,-463.5188 2500,-499.5188"/>
<text text-anchor="middle" x="2473" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_48&#45;&gt;leaf_58 -->
<g id="edge58" class="edge">
<title>prespace_48&#45;&gt;leaf_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2759.4849,-1625.8574C2767.4612,-1523.2493 2801.3148,-1017.2906 2703,-907.6375 2644.4585,-842.3446 2568.1096,-936.4166 2509,-871.6375 2415.0257,-768.6498 2448.4607,-580.4762 2465.5212,-509.5588"/>
<polygon fill="#000000" stroke="#000000" points="2468.983,-510.1407 2467.9997,-499.5916 2462.1899,-508.4514 2468.983,-510.1407"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="2572,-499.5188 2518,-499.5188 2518,-463.5188 2572,-463.5188 2572,-499.5188"/>
<text text-anchor="middle" x="2545" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">_G</text>
</g>
<!-- literal_49&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>literal_49&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2855.9107,-1625.8367C2866.279,-1523.1145 2911.7729,-1016.6331 2813,-907.6375 2742.932,-830.3176 2652.4636,-947.6695 2581,-871.6375 2485.5151,-770.0487 2519.8585,-581.0338 2537.3412,-509.7255"/>
<polygon fill="#000000" stroke="#000000" points="2540.8175,-510.2553 2539.8805,-499.702 2534.0318,-508.5362 2540.8175,-510.2553"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="2970,-500.8194 2590,-500.8194 2590,-462.2182 2970,-462.2182 2970,-500.8194"/>
<text text-anchor="middle" x="2780" y="-485.7188" font-family="Inconsolata" font-size="14.00" fill="#000000"> and</text>
<text text-anchor="middle" x="2780" y="-470.3188" font-family="Inconsolata" font-size="14.00" fill="#000000">acquire them. &#160;This table is from value to key where</text>
</g>
<!-- raw_50&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>raw_50&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2930.5227,-1625.9536C2932.6249,-1543.0485 2938.3497,-1191.231 2894,-907.6375 2870.1967,-755.4281 2813.4056,-579.299 2790.1717,-510.838"/>
<polygon fill="#000000" stroke="#000000" points="2793.4119,-509.4959 2786.8679,-501.1637 2786.7876,-511.7582 2793.4119,-509.4959"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="3042,-499.5188 2988,-499.5188 2988,-463.5188 3042,-463.5188 3042,-499.5188"/>
<text text-anchor="middle" x="3015" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_51&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>prespace_51&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3020.9058,-1625.7785C3020.2193,-1492.7803 3015.9917,-673.6559 3015.1468,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="3018.6457,-509.7208 3015.094,-499.739 3011.6458,-509.757 3018.6457,-509.7208"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="3114,-499.5188 3060,-499.5188 3060,-463.5188 3114,-463.5188 3114,-499.5188"/>
<text text-anchor="middle" x="3087" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">_G</text>
</g>
<!-- literal_52&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>literal_52&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3116.5288,-1625.7785C3113.0966,-1492.7803 3091.9583,-673.6559 3087.7342,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="3091.2271,-509.6453 3087.4702,-499.739 3084.2294,-509.826 3091.2271,-509.6453"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="3267.5,-500.8194 3132.5,-500.8194 3132.5,-462.2182 3267.5,-462.2182 3267.5,-500.8194"/>
<text text-anchor="middle" x="3200" y="-485.7188" font-family="Inconsolata" font-size="14.00" fill="#000000"> is key to value,</text>
<text text-anchor="middle" x="3200" y="-470.3188" font-family="Inconsolata" font-size="14.00" fill="#000000">hence,</text>
</g>
<!-- raw_53&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>raw_53&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3193.11,-1625.7785C3193.9082,-1493.2038 3198.8117,-678.8663 3199.8192,-511.5516"/>
<polygon fill="#000000" stroke="#000000" points="3203.322,-511.0803 3199.8823,-501.0593 3196.3221,-511.038 3203.322,-511.0803"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="3340,-499.5188 3286,-499.5188 3286,-463.5188 3340,-463.5188 3340,-499.5188"/>
<text text-anchor="middle" x="3313" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_54&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>prespace_54&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3284.4555,-1625.7785C3287.7733,-1492.7803 3308.207,-673.6559 3312.2903,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="3315.7949,-509.8232 3312.5455,-499.739 3308.7971,-509.6486 3315.7949,-509.8232"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="3416,-499.5188 3358,-499.5188 3358,-463.5188 3416,-463.5188 3416,-499.5188"/>
<text text-anchor="middle" x="3387" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">anti_G</text>
</g>
<!-- literal_55&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>literal_55&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3380.11,-1625.7785C3380.9108,-1492.7803 3385.8431,-673.6559 3386.8287,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="3390.3299,-509.7599 3386.8903,-499.739 3383.33,-509.7177 3390.3299,-509.7599"/>
</g>
<!-- leaf_66 -->
<g id="node67" class="node">
<title>leaf_66</title>
<polygon fill="none" stroke="#c0c0c0" points="3488,-499.5188 3434,-499.5188 3434,-463.5188 3488,-463.5188 3488,-499.5188"/>
<text text-anchor="middle" x="3461" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_56&#45;&gt;leaf_66 -->
<g id="edge66" class="edge">
<title>raw_56&#45;&gt;leaf_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3456.0785,-1625.7785C3456.6506,-1492.7803 3460.1736,-673.6559 3460.8776,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="3464.3785,-509.754 3460.9216,-499.739 3457.3786,-509.7238 3464.3785,-509.754"/>
</g>
<!-- leaf_69 -->
<g id="node70" class="node">
<title>leaf_69</title>
<polygon fill="none" stroke="#c0c0c0" points="3655.5,-509.4203 3506.5,-509.4203 3506.5,-453.6173 3655.5,-453.6173 3655.5,-509.4203"/>
<text text-anchor="middle" x="3581" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">Now to populate it:</text>
</g>
<!-- raw_68&#45;&gt;leaf_69 -->
<g id="edge69" class="edge">
<title>raw_68&#45;&gt;leaf_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3759.3249,-1625.7489C3766.3218,-1524.6671 3795.9394,-1034.3647 3722,-907.6375 3706.9002,-881.7575 3682.1594,-896.2004 3665,-871.6375 3588.0431,-761.4776 3579.4804,-594.2981 3579.8499,-519.7391"/>
<polygon fill="#000000" stroke="#000000" points="3583.353,-519.4659 3579.9621,-509.4284 3576.3534,-519.3897 3583.353,-519.4659"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="3931,-1662.039 3803,-1662.039 3803,-1626.039 3931,-1626.039 3931,-1662.039"/>
<text text-anchor="middle" x="3867" y="-1640.539" font-family="Inconsolata" font-size="14.00" fill="#000000">*** C.allNames()</text>
</g>
<!-- header_70&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>header_70&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3952.5355,-2416.3436C3948.0826,-2406.0408 3942.9493,-2392.7668 3940,-2380.4404 3875.3817,-2110.37 3867.8405,-1771.3846 3867.0586,-1672.3866"/>
<polygon fill="#000000" stroke="#000000" points="3870.5579,-1672.2594 3866.9965,-1662.2812 3863.5581,-1672.3025 3870.5579,-1672.2594"/>
</g>
<!-- raw_76 -->
<g id="node77" class="node">
<title>raw_76</title>
<ellipse fill="none" stroke="#000000" cx="3976" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="3976" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_71&#45;&gt;raw_76 -->
<g id="edge76" class="edge">
<title>prose_71&#45;&gt;raw_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4132.9288,-2427.8411C4093.2429,-2418.4695 4026.677,-2400.2315 4012,-2380.4404 3927.1565,-2266.0336 3962.6221,-1794.0018 3973.338,-1672.6079"/>
<polygon fill="#000000" stroke="#000000" points="3976.8565,-1672.5584 3974.2648,-1662.2854 3969.8845,-1671.9323 3976.8565,-1672.5584"/>
</g>
<!-- prespace_77 -->
<g id="node78" class="node">
<title>prespace_77</title>
<ellipse fill="none" stroke="#000000" cx="4067" cy="-1644.039" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4067" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_71&#45;&gt;prespace_77 -->
<g id="edge77" class="edge">
<title>prose_71&#45;&gt;prespace_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4147.3178,-2418.4017C4138.5286,-2408.3556 4128.2964,-2394.6525 4123,-2380.4404 4025.9081,-2119.908 4053.1214,-1772.3693 4063.7161,-1672.1612"/>
<polygon fill="#000000" stroke="#000000" points="4067.1966,-1672.529 4064.8012,-1662.2086 4060.2378,-1671.7703 4067.1966,-1672.529"/>
</g>
<!-- literal_78 -->
<g id="node79" class="node">
<title>literal_78</title>
<ellipse fill="none" stroke="#000000" cx="4163" cy="-1644.039" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4163" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_71&#45;&gt;literal_78 -->
<g id="edge78" class="edge">
<title>prose_71&#45;&gt;literal_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4163,-2416.0661C4163,-2312.2382 4163,-1799.1501 4163,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="4166.5001,-1672.3125 4163,-1662.3125 4159.5001,-1672.3126 4166.5001,-1672.3125"/>
</g>
<!-- raw_79 -->
<g id="node80" class="node">
<title>raw_79</title>
<ellipse fill="none" stroke="#000000" cx="4239" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="4239" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_71&#45;&gt;raw_79 -->
<g id="edge79" class="edge">
<title>prose_71&#45;&gt;raw_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4178.8222,-2418.4529C4187.6611,-2408.4249 4197.8963,-2394.7228 4203,-2380.4404 4296.4013,-2119.0606 4257.3993,-1772.1101 4243.2852,-1672.1017"/>
<polygon fill="#000000" stroke="#000000" points="4246.7442,-1671.5655 4241.8491,-1662.1693 4239.8162,-1672.5673 4246.7442,-1671.5655"/>
</g>
<!-- raw_84 -->
<g id="node85" class="node">
<title>raw_84</title>
<ellipse fill="none" stroke="#000000" cx="4410" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="4410" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_72&#45;&gt;raw_84 -->
<g id="edge84" class="edge">
<title>prose_72&#45;&gt;raw_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4308.3676,-2416.4467C4321.926,-2313.4028 4389.6962,-1798.348 4406.3159,-1672.0382"/>
<polygon fill="#000000" stroke="#000000" points="4409.8016,-1672.3757 4407.6361,-1662.0046 4402.8614,-1671.4625 4409.8016,-1672.3757"/>
</g>
<!-- header_86 -->
<g id="node87" class="node">
<title>header_86</title>
<ellipse fill="none" stroke="#000000" cx="4826" cy="-1644.039" rx="97.709" ry="18"/>
<text text-anchor="middle" x="4826" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : tie_break(old, new)</text>
</g>
<!-- section_73&#45;&gt;header_86 -->
<g id="edge86" class="edge">
<title>section_73&#45;&gt;header_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4898.2797,-2416.0661C4888.559,-2312.2382 4840.522,-1799.1501 4828.6545,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="4832.1278,-1671.9427 4827.7108,-1662.3125 4825.1583,-1672.5953 4832.1278,-1671.9427"/>
</g>
<!-- prose_87 -->
<g id="node88" class="node">
<title>prose_87</title>
<ellipse fill="none" stroke="#000000" cx="4974" cy="-1644.039" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4974" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_73&#45;&gt;prose_87 -->
<g id="edge87" class="edge">
<title>section_73&#45;&gt;prose_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4914.0403,-2416.5496C4921.0777,-2406.5233 4928.9468,-2393.4474 4933,-2380.4404 5015.4328,-2115.9115 4987.8037,-1772.4368 4977.2798,-1672.4761"/>
<polygon fill="#000000" stroke="#000000" points="4980.7318,-1671.8428 4976.1751,-1662.2779 4973.7725,-1672.5967 4980.7318,-1671.8428"/>
</g>
<!-- codeblock_88 -->
<g id="node89" class="node">
<title>codeblock_88</title>
<ellipse fill="none" stroke="#000000" cx="5204" cy="-1644.039" rx="81.9542" ry="18"/>
<text text-anchor="middle" x="5204" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 65&#45;116</text>
</g>
<!-- section_73&#45;&gt;codeblock_88 -->
<g id="edge88" class="edge">
<title>section_73&#45;&gt;codeblock_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4949.7555,-2421.7601C4972.6725,-2413.5279 4998.4025,-2400.4886 5015,-2380.4404 5198.9277,-2158.2733 5206.5665,-1778.8386 5204.8603,-1672.4889"/>
<polygon fill="#000000" stroke="#000000" points="5208.3546,-1672.1697 5204.6515,-1662.2431 5201.3561,-1672.3124 5208.3546,-1672.1697"/>
</g>
<!-- header_93 -->
<g id="node94" class="node">
<title>header_93</title>
<ellipse fill="none" stroke="#000000" cx="5837" cy="-1644.039" rx="158.557" ry="18"/>
<text text-anchor="middle" x="5837" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : repr.allNames(), repr.clearNames()</text>
</g>
<!-- section_74&#45;&gt;header_93 -->
<g id="edge93" class="edge">
<title>section_74&#45;&gt;header_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5999.221,-2416.4467C5977.6031,-2313.5144 5869.6422,-1799.4635 5842.9669,-1672.4501"/>
<polygon fill="#000000" stroke="#000000" points="5846.3265,-1671.4176 5840.8458,-1662.3505 5839.476,-1672.8564 5846.3265,-1671.4176"/>
</g>
<!-- prose_94 -->
<g id="node95" class="node">
<title>prose_94</title>
<ellipse fill="none" stroke="#000000" cx="6168" cy="-1644.039" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6168" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_74&#45;&gt;prose_94 -->
<g id="edge94" class="edge">
<title>section_74&#45;&gt;prose_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6006.7563,-2416.4467C6028.2672,-2313.4028 6135.7873,-1798.348 6162.155,-1672.0382"/>
<polygon fill="#000000" stroke="#000000" points="6165.6322,-1672.5088 6164.2496,-1662.0046 6158.7799,-1671.0783 6165.6322,-1672.5088"/>
</g>
<!-- codeblock_95 -->
<g id="node96" class="node">
<title>codeblock_95</title>
<ellipse fill="none" stroke="#000000" cx="6497" cy="-1644.039" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6497" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 124&#45;134</text>
</g>
<!-- section_74&#45;&gt;codeblock_95 -->
<g id="edge95" class="edge">
<title>section_74&#45;&gt;codeblock_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6065.4327,-2424.4742C6117.9612,-2414.9607 6187.8015,-2399.3039 6209,-2380.4404 6434.0658,-2180.1649 6484.9022,-1782.0737 6494.8287,-1672.5196"/>
<polygon fill="#000000" stroke="#000000" points="6498.3401,-1672.5366 6495.7121,-1662.2729 6491.366,-1671.9353 6498.3401,-1672.5366"/>
</g>
<!-- leaf_80 -->
<g id="node81" class="node">
<title>leaf_80</title>
<polygon fill="none" stroke="#c0c0c0" points="3746,-509.4203 3674,-509.4203 3674,-453.6173 3746,-453.6173 3746,-509.4203"/>
<text text-anchor="middle" x="3710" y="-462.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">Ransacks</text>
</g>
<!-- raw_76&#45;&gt;leaf_80 -->
<g id="edge80" class="edge">
<title>raw_76&#45;&gt;leaf_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3977.9784,-1625.9047C3988.7366,-1523.5567 4036.2605,-1018.7893 3940,-907.6375 3885.1632,-844.3176 3811.896,-933.1139 3755,-871.6375 3664.2204,-773.5498 3686.082,-596.9318 3701.3063,-519.5659"/>
<polygon fill="#000000" stroke="#000000" points="3704.8256,-519.8247 3703.398,-509.3265 3697.9673,-518.4236 3704.8256,-519.8247"/>
</g>
<!-- leaf_81 -->
<g id="node82" class="node">
<title>leaf_81</title>
<polygon fill="none" stroke="#c0c0c0" points="3818,-499.5188 3764,-499.5188 3764,-463.5188 3818,-463.5188 3818,-499.5188"/>
<text text-anchor="middle" x="3791" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_77&#45;&gt;leaf_81 -->
<g id="edge81" class="edge">
<title>prespace_77&#45;&gt;leaf_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4068.4698,-1625.8709C4076.363,-1523.3369 4109.8361,-1017.7178 4012,-907.6375 3956.354,-845.0275 3883.1907,-933.7591 3827,-871.6375 3733.4752,-768.2413 3766.6398,-580.3134 3783.5748,-509.5101"/>
<polygon fill="#000000" stroke="#000000" points="3787.0325,-510.1071 3786.0352,-499.5593 3780.2371,-508.4269 3787.0325,-510.1071"/>
</g>
<!-- leaf_82 -->
<g id="node83" class="node">
<title>leaf_82</title>
<polygon fill="none" stroke="#c0c0c0" points="3890,-499.5188 3836,-499.5188 3836,-463.5188 3890,-463.5188 3890,-499.5188"/>
<text text-anchor="middle" x="3863" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">_G</text>
</g>
<!-- literal_78&#45;&gt;leaf_82 -->
<g id="edge82" class="edge">
<title>literal_78&#45;&gt;leaf_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4164.9002,-1625.8462C4175.2107,-1523.1762 4220.4395,-1016.9344 4122,-907.6375 4054.8125,-833.0396 3967.534,-945.0004 3899,-871.6375 3803.8259,-769.7575 3837.9824,-580.9178 3855.3782,-509.6908"/>
<polygon fill="#000000" stroke="#000000" points="3858.8515,-510.2315 3857.905,-499.679 3852.0643,-508.5185 3858.8515,-510.2315"/>
</g>
<!-- leaf_83 -->
<g id="node84" class="node">
<title>leaf_83</title>
<polygon fill="none" stroke="#c0c0c0" points="4176,-499.5188 3908,-499.5188 3908,-463.5188 4176,-463.5188 4176,-499.5188"/>
<text text-anchor="middle" x="4042" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000"> looking for names to put on things.</text>
</g>
<!-- raw_79&#45;&gt;leaf_83 -->
<g id="edge83" class="edge">
<title>raw_79&#45;&gt;leaf_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4240.8071,-1625.9604C4248.6092,-1542.3732 4275.8322,-1185.6149 4203,-907.6375 4198.4661,-890.3331 4192.0895,-888.0613 4185,-871.6375 4127.5889,-738.6364 4072.2529,-574.2351 4051.0653,-509.5423"/>
<polygon fill="#000000" stroke="#000000" points="4054.2792,-508.1086 4047.8498,-499.6876 4047.6245,-510.28 4054.2792,-508.1086"/>
</g>
<!-- leaf_85 -->
<g id="node86" class="node">
<title>leaf_85</title>
<polygon fill="none" stroke="#c0c0c0" points="4721.5,-524.7191 4194.5,-524.7191 4194.5,-438.3185 4721.5,-438.3185 4721.5,-524.7191"/>
<text text-anchor="middle" x="4458" y="-493.4188" font-family="Inconsolata" font-size="14.00" fill="#000000">To really dig out a good name for metatables we&#39;re going to need to write</text>
<text text-anchor="middle" x="4458" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">some kind of reflection function that will dig around in upvalues to find</text>
<text text-anchor="middle" x="4458" y="-462.6188" font-family="Inconsolata" font-size="14.00" fill="#000000">local names for things.</text>
</g>
<!-- raw_84&#45;&gt;leaf_85 -->
<g id="edge85" class="edge">
<title>raw_84&#45;&gt;leaf_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4410.754,-1625.7785C4416.0086,-1498.5166 4447.2019,-743.0388 4455.8042,-534.6981"/>
<polygon fill="#000000" stroke="#000000" points="4459.3047,-534.756 4456.2204,-524.6201 4452.3107,-534.4671 4459.3047,-534.756"/>
</g>
<!-- leaf_89 -->
<g id="node90" class="node">
<title>leaf_89</title>
<polygon fill="none" stroke="#c0c0c0" points="4924,-499.5188 4740,-499.5188 4740,-463.5188 4924,-463.5188 4924,-499.5188"/>
<text text-anchor="middle" x="4832" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">**** tie_break(old, new)</text>
</g>
<!-- header_86&#45;&gt;leaf_89 -->
<g id="edge89" class="edge">
<title>header_86&#45;&gt;leaf_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4826.0942,-1625.7785C4826.7807,-1492.7803 4831.0083,-673.6559 4831.8532,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="4835.3542,-509.757 4831.906,-499.739 4828.3543,-509.7208 4835.3542,-509.757"/>
</g>
<!-- raw_90 -->
<g id="node91" class="node">
<title>raw_90</title>
<ellipse fill="none" stroke="#000000" cx="4969" cy="-481.5188" rx="27" ry="18"/>
<text text-anchor="middle" x="4969" y="-477.3188" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_87&#45;&gt;raw_90 -->
<g id="edge90" class="edge">
<title>prose_87&#45;&gt;raw_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4973.9215,-1625.7785C4973.3494,-1492.7803 4969.8264,-673.6559 4969.1224,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="4972.6214,-509.7238 4969.0784,-499.739 4965.6215,-509.754 4972.6214,-509.7238"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="5590,-871.7563 5014,-871.7563 5014,-91.2812 5590,-91.2812 5590,-871.7563"/>
<text text-anchor="middle" x="5302" y="-856.4375" font-family="Inconsolata" font-size="14.00" fill="#000000">local function tie_break(old, new)</text>
<text text-anchor="middle" x="5302" y="-841.0375" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return #old &gt; #new</text>
<text text-anchor="middle" x="5302" y="-825.6375" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5302" y="-778.2374" font-family="Inconsolata" font-size="14.00" fill="#000000">local function addName(t, aG, pre)</text>
<text text-anchor="middle" x="5302" y="-762.8374" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;pre = pre or &quot;&quot;</text>
<text text-anchor="middle" x="5302" y="-747.4374" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;aG = aG or anti_G</text>
<text text-anchor="middle" x="5302" y="-732.0373" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if pre ~= &quot;&quot; then</text>
<text text-anchor="middle" x="5302" y="-716.6373" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;pre = pre .. &quot;.&quot;</text>
<text text-anchor="middle" x="5302" y="-701.2373" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="5302" y="-685.8372" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for k, v in pairs(t) do</text>
<text text-anchor="middle" x="5302" y="-670.4372" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local T = type(v)</text>
<text text-anchor="middle" x="5302" y="-655.0372" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if (T == &quot;table&quot;) then</text>
<text text-anchor="middle" x="5302" y="-639.6371" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local key = pre .. (type(k) == &quot;string&quot; and k or &quot;&lt;&quot; .. type(k) .. &quot;&gt;&quot;)</text>
<text text-anchor="middle" x="5302" y="-624.2371" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if not aG[v] then</text>
<text text-anchor="middle" x="5302" y="-608.8371" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aG[v] = key</text>
<text text-anchor="middle" x="5302" y="-593.4371" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if not (pre == &quot;&quot; and k == &quot;package&quot;) then</text>
<text text-anchor="middle" x="5302" y="-578.037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;addName(v, aG, key)</text>
<text text-anchor="middle" x="5302" y="-562.637" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5302" y="-547.237" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="5302" y="-531.8369" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local kv = aG[v]</text>
<text text-anchor="middle" x="5302" y="-516.4369" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if tie_break(kv, key) then</text>
<text text-anchor="middle" x="5302" y="-501.0369" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; quadradic lol</text>
<text text-anchor="middle" x="5302" y="-485.6368" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aG[v] = key</text>
<text text-anchor="middle" x="5302" y="-470.2368" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;addName(v, aG, key)</text>
<text text-anchor="middle" x="5302" y="-454.8368" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5302" y="-439.4367" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5302" y="-424.0367" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local _M = getmetatable(v)</text>
<text text-anchor="middle" x="5302" y="-408.6367" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local _M_id = _M and &quot;⟨&quot; .. key.. &quot;⟩&quot; or &quot;&quot;</text>
<text text-anchor="middle" x="5302" y="-392.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if _M then</text>
<text text-anchor="middle" x="5302" y="-376.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if not aG[_M] then</text>
<text text-anchor="middle" x="5302" y="-361.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;addName(_M, aG, _M_id)</text>
<text text-anchor="middle" x="5302" y="-346.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aG[_M] = _M_id</text>
<text text-anchor="middle" x="5302" y="-330.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="5302" y="-315.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local aG_M_id = aG[_M]</text>
<text text-anchor="middle" x="5302" y="-299.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if tie_break(aG_M_id, _M_id) then</text>
<text text-anchor="middle" x="5302" y="-284.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;addName(_M, aG, _M_id)</text>
<text text-anchor="middle" x="5302" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aG[_M] = _M_id</text>
<text text-anchor="middle" x="5302" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5302" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5302" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5302" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;elseif T == &quot;function&quot; or</text>
<text text-anchor="middle" x="5302" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;T == &quot;thread&quot; or</text>
<text text-anchor="middle" x="5302" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;T == &quot;userdata&quot; then</text>
<text text-anchor="middle" x="5302" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aG[v] = pre .. k</text>
<text text-anchor="middle" x="5302" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5302" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="5302" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return aG</text>
<text text-anchor="middle" x="5302" y="-99.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_88&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>codeblock_88&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5205.5393,-1625.7785C5212.6904,-1540.9499 5243.3714,-1176.9975 5268.2381,-882.0182"/>
<polygon fill="#000000" stroke="#000000" points="5271.7306,-882.2529 5269.0831,-871.9943 5264.7553,-881.6649 5271.7306,-882.2529"/>
</g>
<!-- leaf_91 -->
<g id="node92" class="node">
<title>leaf_91</title>
<polygon fill="none" stroke="#c0c0c0" points="5148.5,-55.6015 4789.5,-55.6015 4789.5,.2015 5148.5,.2015 5148.5,-55.6015"/>
<text text-anchor="middle" x="4969" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">A helper function to decide which name is better.</text>
</g>
<!-- raw_90&#45;&gt;leaf_91 -->
<g id="edge91" class="edge">
<title>raw_90&#45;&gt;leaf_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4969,-463.4485C4969,-396.1446 4969,-159.1112 4969,-65.8251"/>
<polygon fill="#000000" stroke="#000000" points="4972.5001,-65.6979 4969,-55.6979 4965.5001,-65.698 4972.5001,-65.6979"/>
</g>
<!-- leaf_96 -->
<g id="node97" class="node">
<title>leaf_96</title>
<polygon fill="none" stroke="#c0c0c0" points="5897.5,-499.5188 5608.5,-499.5188 5608.5,-463.5188 5897.5,-463.5188 5897.5,-499.5188"/>
<text text-anchor="middle" x="5753" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">**** repr.allNames(), repr.clearNames()</text>
</g>
<!-- header_93&#45;&gt;leaf_96 -->
<g id="edge96" class="edge">
<title>header_93&#45;&gt;leaf_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5835.6806,-1625.7785C5826.0705,-1492.7803 5766.8832,-673.6559 5755.0556,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="5758.5282,-509.4607 5754.3165,-499.739 5751.5464,-509.9653 5758.5282,-509.4607"/>
</g>
<!-- raw_97 -->
<g id="node98" class="node">
<title>raw_97</title>
<ellipse fill="none" stroke="#000000" cx="5943" cy="-481.5188" rx="27" ry="18"/>
<text text-anchor="middle" x="5943" y="-477.3188" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_94&#45;&gt;raw_97 -->
<g id="edge97" class="edge">
<title>prose_94&#45;&gt;raw_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6166.6907,-1625.8018C6160.0398,-1540.7822 6125.4465,-1176.1527 6005,-907.6375 5996.9223,-889.6297 5985.9296,-890.1175 5979,-871.6375 5930.9288,-743.4405 5936.1969,-575.6467 5940.6437,-509.7874"/>
<polygon fill="#000000" stroke="#000000" points="5944.1383,-509.9869 5941.3693,-499.7603 5937.1565,-509.4816 5944.1383,-509.9869"/>
</g>
<!-- prespace_98 -->
<g id="node99" class="node">
<title>prespace_98</title>
<ellipse fill="none" stroke="#000000" cx="6034" cy="-481.5188" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6034" y="-477.3188" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_94&#45;&gt;prespace_98 -->
<g id="edge98" class="edge">
<title>prose_94&#45;&gt;prespace_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6165.8952,-1625.7785C6150.5649,-1492.7803 6056.147,-673.6559 6037.2792,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="6040.7223,-509.2724 6036.1002,-499.739 6033.7684,-510.074 6040.7223,-509.2724"/>
</g>
<!-- literal_99 -->
<g id="node100" class="node">
<title>literal_99</title>
<ellipse fill="none" stroke="#000000" cx="6130" cy="-481.5188" rx="31.481" ry="18"/>
<text text-anchor="middle" x="6130" y="-477.3188" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_94&#45;&gt;literal_99 -->
<g id="edge99" class="edge">
<title>prose_94&#45;&gt;literal_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6167.4031,-1625.7785C6163.0557,-1492.7803 6136.2805,-673.6559 6130.9299,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="6134.4205,-509.6193 6130.5956,-499.739 6127.4242,-509.848 6134.4205,-509.6193"/>
</g>
<!-- raw_100 -->
<g id="node101" class="node">
<title>raw_100</title>
<ellipse fill="none" stroke="#000000" cx="6206" cy="-481.5188" rx="27" ry="18"/>
<text text-anchor="middle" x="6206" y="-477.3188" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_94&#45;&gt;raw_100 -->
<g id="edge100" class="edge">
<title>prose_94&#45;&gt;raw_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6168.5969,-1625.7785C6172.9443,-1492.7803 6199.7195,-673.6559 6205.0701,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="6208.5758,-509.848 6205.4044,-499.739 6201.5795,-509.6193 6208.5758,-509.848"/>
</g>
<!-- prespace_101 -->
<g id="node102" class="node">
<title>prespace_101</title>
<ellipse fill="none" stroke="#000000" cx="6297" cy="-481.5188" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6297" y="-477.3188" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_94&#45;&gt;prespace_101 -->
<g id="edge101" class="edge">
<title>prose_94&#45;&gt;prespace_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6170.0263,-1625.7785C6184.7845,-1492.7803 6275.6793,-673.6559 6293.8431,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="6297.3539,-510.064 6294.9782,-499.739 6290.3966,-509.2919 6297.3539,-510.064"/>
</g>
<!-- literal_102 -->
<g id="node103" class="node">
<title>literal_102</title>
<ellipse fill="none" stroke="#000000" cx="6393" cy="-481.5188" rx="31.481" ry="18"/>
<text text-anchor="middle" x="6393" y="-477.3188" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_94&#45;&gt;literal_102 -->
<g id="edge102" class="edge">
<title>prose_94&#45;&gt;literal_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6173.1421,-1626.2526C6197.2087,-1542.3429 6299.7444,-1177.366 6352,-871.6375 6374.994,-737.1079 6387.1131,-574.1299 6391.2923,-509.6887"/>
<polygon fill="#000000" stroke="#000000" points="6394.7973,-509.7204 6391.9385,-499.5186 6387.8114,-509.2765 6394.7973,-509.7204"/>
</g>
<!-- raw_103 -->
<g id="node104" class="node">
<title>raw_103</title>
<ellipse fill="none" stroke="#000000" cx="6469" cy="-481.5188" rx="27" ry="18"/>
<text text-anchor="middle" x="6469" y="-477.3188" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_94&#45;&gt;raw_103 -->
<g id="edge103" class="edge">
<title>prose_94&#45;&gt;raw_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6170.8208,-1626.085C6184.7763,-1540.8502 6251.8265,-1170.2779 6401,-907.6375 6411.5725,-889.0232 6424.48,-891.2763 6433,-871.6375 6487.6192,-745.7392 6478.5044,-575.9586 6472.1913,-509.6743"/>
<polygon fill="#000000" stroke="#000000" points="6475.6603,-509.1901 6471.1745,-499.5918 6468.6957,-509.8925 6475.6603,-509.1901"/>
</g>
<!-- leaf_111 -->
<g id="node112" class="node">
<title>leaf_111</title>
<polygon fill="none" stroke="#c0c0c0" points="6859.5,-555.2192 6514.5,-555.2192 6514.5,-407.8184 6859.5,-407.8184 6859.5,-555.2192"/>
<text text-anchor="middle" x="6687" y="-539.9189" font-family="Inconsolata" font-size="14.00" fill="#000000">function repr.allNames(tab)</text>
<text text-anchor="middle" x="6687" y="-524.5189" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;tab = tab or _G</text>
<text text-anchor="middle" x="6687" y="-509.1188" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return addName(package.loaded, addName(tab))</text>
<text text-anchor="middle" x="6687" y="-493.7188" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6687" y="-462.3188" font-family="Inconsolata" font-size="14.00" fill="#000000">function repr.clearNames()</text>
<text text-anchor="middle" x="6687" y="-446.9187" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;anti_G = {_G = &quot;_G&quot;}</text>
<text text-anchor="middle" x="6687" y="-431.5187" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return anti_G</text>
<text text-anchor="middle" x="6687" y="-416.1187" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_95&#45;&gt;leaf_111 -->
<g id="edge111" class="edge">
<title>codeblock_95&#45;&gt;leaf_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6499.9844,-1625.7785C6519.8581,-1504.1809 6633.4698,-809.045 6673.2473,-565.6651"/>
<polygon fill="#000000" stroke="#000000" points="6676.7562,-565.894 6674.9151,-555.4604 6669.8479,-564.7649 6676.7562,-565.894"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="5983,-55.6015 5757,-55.6015 5757,.2015 5983,.2015 5983,-55.6015"/>
<text text-anchor="middle" x="5870" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">The trick here is that we scan</text>
</g>
<!-- raw_97&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>raw_97&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5943.9124,-463.5013C5946.2235,-407.0747 5949.3416,-229.3201 5906,-91.4 5903.1473,-82.3224 5898.8819,-73.1033 5894.2747,-64.6027"/>
<polygon fill="#000000" stroke="#000000" points="5897.19,-62.6498 5889.1918,-55.7013 5891.1112,-66.1209 5897.19,-62.6498"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="6055,-45.7 6001,-45.7 6001,-9.7 6055,-9.7 6055,-45.7"/>
<text text-anchor="middle" x="6028" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_98&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>prespace_98&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6033.7611,-463.4485C6032.8382,-393.6432 6029.5014,-141.2573 6028.3746,-56.0355"/>
<polygon fill="#000000" stroke="#000000" points="6031.8716,-55.7748 6028.2396,-45.8219 6024.8722,-55.8674 6031.8716,-55.7748"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="6187,-45.7 6073,-45.7 6073,-9.7 6187,-9.7 6187,-45.7"/>
<text text-anchor="middle" x="6130" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">package.loaded</text>
</g>
<!-- literal_99&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>literal_99&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6130,-463.4485C6130,-393.6432 6130,-141.2573 6130,-56.0355"/>
<polygon fill="#000000" stroke="#000000" points="6133.5001,-55.8219 6130,-45.8219 6126.5001,-55.822 6133.5001,-55.8219"/>
</g>
<!-- leaf_107 -->
<g id="node108" class="node">
<title>leaf_107</title>
<polygon fill="none" stroke="#c0c0c0" points="6263,-45.7 6205,-45.7 6205,-9.7 6263,-9.7 6263,-45.7"/>
<text text-anchor="middle" x="6234" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> after</text>
</g>
<!-- raw_100&#45;&gt;leaf_107 -->
<g id="edge107" class="edge">
<title>raw_100&#45;&gt;leaf_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6207.1149,-463.4485C6211.4218,-393.6432 6226.9937,-141.2573 6232.2517,-56.0355"/>
<polygon fill="#000000" stroke="#000000" points="6235.7594,-56.0185 6232.8819,-45.8219 6228.7726,-55.5874 6235.7594,-56.0185"/>
</g>
<!-- leaf_108 -->
<g id="node109" class="node">
<title>leaf_108</title>
<polygon fill="none" stroke="#c0c0c0" points="6335,-45.7 6281,-45.7 6281,-9.7 6335,-9.7 6335,-45.7"/>
<text text-anchor="middle" x="6308" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_101&#45;&gt;leaf_108 -->
<g id="edge108" class="edge">
<title>prespace_101&#45;&gt;leaf_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6297.438,-463.4485C6299.13,-393.6432 6305.2475,-141.2573 6307.3132,-56.0355"/>
<polygon fill="#000000" stroke="#000000" points="6310.8173,-55.9038 6307.5607,-45.8219 6303.8194,-55.7341 6310.8173,-55.9038"/>
</g>
<!-- leaf_109 -->
<g id="node110" class="node">
<title>leaf_109</title>
<polygon fill="none" stroke="#c0c0c0" points="6413,-45.7 6359,-45.7 6359,-9.7 6413,-9.7 6413,-45.7"/>
<text text-anchor="middle" x="6386" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">_G</text>
</g>
<!-- literal_102&#45;&gt;leaf_109 -->
<g id="edge109" class="edge">
<title>literal_102&#45;&gt;leaf_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6392.7213,-463.4485C6391.6445,-393.6432 6387.7516,-141.2573 6386.4371,-56.0355"/>
<polygon fill="#000000" stroke="#000000" points="6389.9334,-55.7667 6386.2795,-45.8219 6382.9343,-55.8748 6389.9334,-55.7667"/>
</g>
<!-- leaf_110 -->
<g id="node111" class="node">
<title>leaf_110</title>
<polygon fill="none" stroke="#c0c0c0" points="6615,-47.0006 6431,-47.0006 6431,-8.3994 6615,-8.3994 6615,-47.0006"/>
<text text-anchor="middle" x="6523" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">, which gives</text>
<text text-anchor="middle" x="6523" y="-16.5" font-family="Inconsolata" font-size="14.00" fill="#000000">better names for things.</text>
</g>
<!-- raw_103&#45;&gt;leaf_110 -->
<g id="edge110" class="edge">
<title>raw_103&#45;&gt;leaf_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6469.4904,-463.4708C6471.2568,-407.6731 6478.6591,-233.1691 6505,-91.4 6507.1159,-80.0122 6510.3558,-67.7174 6513.5067,-56.9951"/>
<polygon fill="#000000" stroke="#000000" points="6516.9008,-57.8633 6516.4607,-47.2776 6510.2034,-55.8273 6516.9008,-57.8633"/>
</g>
<!-- leaf_116 -->
<g id="node117" class="node">
<title>leaf_116</title>
<polygon fill="none" stroke="#c0c0c0" points="6949.5,-1662.039 6842.5,-1662.039 6842.5,-1626.039 6949.5,-1626.039 6949.5,-1662.039"/>
<text text-anchor="middle" x="6896" y="-1640.539" font-family="Inconsolata" font-size="14.00" fill="#000000">*** tabulator</text>
</g>
<!-- header_112&#45;&gt;leaf_116 -->
<g id="edge116" class="edge">
<title>header_112&#45;&gt;leaf_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6896,-2416.0661C6896,-2312.2382 6896,-1799.1501 6896,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="6899.5001,-1672.3125 6896,-1662.3125 6892.5001,-1672.3126 6899.5001,-1672.3125"/>
</g>
<!-- raw_117 -->
<g id="node118" class="node">
<title>raw_117</title>
<ellipse fill="none" stroke="#000000" cx="7005" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="7005" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_113&#45;&gt;raw_117 -->
<g id="edge117" class="edge">
<title>prose_113&#45;&gt;raw_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7003.0465,-2416.0661C7003.3092,-2312.2382 7004.6075,-1799.1501 7004.9283,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="7008.4283,-1672.3214 7004.9538,-1662.3125 7001.4284,-1672.3036 7008.4283,-1672.3214"/>
</g>
<!-- raw_119 -->
<g id="node120" class="node">
<title>raw_119</title>
<ellipse fill="none" stroke="#000000" cx="7082" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="7082" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_114&#45;&gt;raw_119 -->
<g id="edge119" class="edge">
<title>prose_114&#45;&gt;raw_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7084.9303,-2416.0661C7084.5362,-2312.2382 7082.5887,-1799.1501 7082.1076,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="7085.6074,-1672.2991 7082.0694,-1662.3125 7078.6074,-1672.3258 7085.6074,-1672.2991"/>
</g>
<!-- leaf_121 -->
<g id="node122" class="node">
<title>leaf_121</title>
<polygon fill="none" stroke="#c0c0c0" points="7584.5,-1834.7396 7127.5,-1834.7396 7127.5,-1453.3383 7584.5,-1453.3383 7584.5,-1834.7396"/>
<text text-anchor="middle" x="7356" y="-1819.4392" font-family="Inconsolata" font-size="14.00" fill="#000000">local ts, ts_coro</text>
<text text-anchor="middle" x="7356" y="-1788.0392" font-family="Inconsolata" font-size="14.00" fill="#000000">local SORT_LIMIT = 500 &#160;&#45;&#45; This won&#39;t be necessary #todo remove</text>
<text text-anchor="middle" x="7356" y="-1756.6392" font-family="Inconsolata" font-size="14.00" fill="#000000">local coro = coro or coroutine</text>
<text text-anchor="middle" x="7356" y="-1725.2391" font-family="Inconsolata" font-size="14.00" fill="#000000">local yield, wrap = coro.yield, coro.wrap</text>
<text text-anchor="middle" x="7356" y="-1693.8391" font-family="Inconsolata" font-size="14.00" fill="#000000">local collect = assert(table.collect)</text>
<text text-anchor="middle" x="7356" y="-1662.4391" font-family="Inconsolata" font-size="14.00" fill="#000000">local concat = table.concat</text>
<text text-anchor="middle" x="7356" y="-1631.0391" font-family="Inconsolata" font-size="14.00" fill="#000000">local function _keysort(a, b)</text>
<text text-anchor="middle" x="7356" y="-1615.639" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(a) == &quot;number&quot; and type(b) == &quot;string&quot; then</text>
<text text-anchor="middle" x="7356" y="-1600.239" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="7356" y="-1584.839" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif type(a) == &quot;string&quot; and type(b) == &quot;number&quot; then</text>
<text text-anchor="middle" x="7356" y="-1569.4389" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="7356" y="-1554.0389" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif (type(a) == &quot;string&quot; and type(b) == &quot;string&quot;)</text>
<text text-anchor="middle" x="7356" y="-1538.6389" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;or (type(a) == &quot;number&quot; and type(b) == &quot;number&quot;) then</text>
<text text-anchor="middle" x="7356" y="-1523.2388" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return a &lt; b</text>
<text text-anchor="middle" x="7356" y="-1507.8388" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="7356" y="-1492.4388" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="7356" y="-1477.0387" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="7356" y="-1461.6387" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_115&#45;&gt;leaf_121 -->
<g id="edge121" class="edge">
<title>codeblock_115&#45;&gt;leaf_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7292.511,-2416.0661C7298.7344,-2340.3902 7322.8371,-2047.3008 7339.4862,-1844.8468"/>
<polygon fill="#000000" stroke="#000000" points="7342.9915,-1844.9257 7340.3229,-1834.6724 7336.015,-1844.3519 7342.9915,-1844.9257"/>
</g>
<!-- leaf_118 -->
<g id="node119" class="node">
<title>leaf_118</title>
<polygon fill="none" stroke="#c0c0c0" points="7426,-509.4203 6878,-509.4203 6878,-453.6173 7426,-453.6173 7426,-509.4203"/>
<text text-anchor="middle" x="7152" y="-462.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">This is fundamentally [[Tim Caswell&#39;s][https://github.com/creationix]] code.</text>
</g>
<!-- raw_117&#45;&gt;leaf_118 -->
<g id="edge118" class="edge">
<title>raw_117&#45;&gt;leaf_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7004.7592,-1625.9691C7003.9158,-1543.132 7003.1714,-1191.5675 7046,-907.6375 7067.9911,-761.8487 7117.2542,-593.133 7140.0309,-519.3415"/>
<polygon fill="#000000" stroke="#000000" points="7143.4416,-520.1596 7143.0634,-509.5715 7136.7563,-518.0845 7143.4416,-520.1596"/>
</g>
<!-- leaf_120 -->
<g id="node121" class="node">
<title>leaf_120</title>
<polygon fill="none" stroke="#c0c0c0" points="7726,-501.4209 7444,-501.4209 7444,-461.6167 7726,-461.6167 7726,-501.4209"/>
<text text-anchor="middle" x="7585" y="-470.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;ve dressed it up a bit. Okay, a lot.</text>
</g>
<!-- raw_119&#45;&gt;leaf_120 -->
<g id="edge120" class="edge">
<title>raw_119&#45;&gt;leaf_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7079.8853,-1625.7819C7068.3774,-1522.7581 7017.4192,-1014.8957 7118,-907.6375 7166.4963,-855.9217 7378.9223,-915.0163 7435,-871.6375 7552.3417,-780.8681 7577.9296,-586.2663 7583.4767,-511.5676"/>
<polygon fill="#000000" stroke="#000000" points="7586.9786,-511.6556 7584.1583,-501.4431 7579.9945,-511.1854 7586.9786,-511.6556"/>
</g>
<!-- leaf_129 -->
<g id="node130" class="node">
<title>leaf_129</title>
<polygon fill="none" stroke="#c0c0c0" points="7843,-1662.039 7603,-1662.039 7603,-1626.039 7843,-1626.039 7843,-1662.039"/>
<text text-anchor="middle" x="7723" y="-1640.539" font-family="Inconsolata" font-size="14.00" fill="#000000">*** _tabulate(tab, depth, cycle)</text>
</g>
<!-- header_122&#45;&gt;leaf_129 -->
<g id="edge129" class="edge">
<title>header_122&#45;&gt;leaf_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7807.0008,-2416.0661C7795.7037,-2312.2382 7739.8769,-1799.1501 7726.0849,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="7729.5495,-1671.8752 7724.9883,-1662.3125 7722.5906,-1672.6325 7729.5495,-1671.8752"/>
</g>
<!-- raw_130 -->
<g id="node131" class="node">
<title>raw_130</title>
<ellipse fill="none" stroke="#000000" cx="7888" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="7888" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_123&#45;&gt;raw_130 -->
<g id="edge130" class="edge">
<title>prose_123&#45;&gt;raw_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8044.9288,-2427.8411C8005.2429,-2418.4695 7938.677,-2400.2315 7924,-2380.4404 7839.1565,-2266.0336 7874.6221,-1794.0018 7885.338,-1672.6079"/>
<polygon fill="#000000" stroke="#000000" points="7888.8565,-1672.5584 7886.2648,-1662.2854 7881.8845,-1671.9323 7888.8565,-1672.5584"/>
</g>
<!-- prespace_131 -->
<g id="node132" class="node">
<title>prespace_131</title>
<ellipse fill="none" stroke="#000000" cx="7979" cy="-1644.039" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="7979" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_123&#45;&gt;prespace_131 -->
<g id="edge131" class="edge">
<title>prose_123&#45;&gt;prespace_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8059.3178,-2418.4017C8050.5286,-2408.3556 8040.2964,-2394.6525 8035,-2380.4404 7937.9081,-2119.908 7965.1214,-1772.3693 7975.7161,-1672.1612"/>
<polygon fill="#000000" stroke="#000000" points="7979.1966,-1672.529 7976.8012,-1662.2086 7972.2378,-1671.7703 7979.1966,-1672.529"/>
</g>
<!-- literal_132 -->
<g id="node133" class="node">
<title>literal_132</title>
<ellipse fill="none" stroke="#000000" cx="8075" cy="-1644.039" rx="31.481" ry="18"/>
<text text-anchor="middle" x="8075" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_123&#45;&gt;literal_132 -->
<g id="edge132" class="edge">
<title>prose_123&#45;&gt;literal_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8075,-2416.0661C8075,-2312.2382 8075,-1799.1501 8075,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="8078.5001,-1672.3125 8075,-1662.3125 8071.5001,-1672.3126 8078.5001,-1672.3125"/>
</g>
<!-- raw_133 -->
<g id="node134" class="node">
<title>raw_133</title>
<ellipse fill="none" stroke="#000000" cx="8151" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="8151" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_123&#45;&gt;raw_133 -->
<g id="edge133" class="edge">
<title>prose_123&#45;&gt;raw_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8090.8222,-2418.4529C8099.6611,-2408.4249 8109.8963,-2394.7228 8115,-2380.4404 8208.4013,-2119.0606 8169.3993,-1772.1101 8155.2852,-1672.1017"/>
<polygon fill="#000000" stroke="#000000" points="8158.7442,-1671.5655 8153.8491,-1662.1693 8151.8162,-1672.5673 8158.7442,-1671.5655"/>
</g>
<!-- raw_138 -->
<g id="node139" class="node">
<title>raw_138</title>
<ellipse fill="none" stroke="#000000" cx="8588" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="8588" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_124&#45;&gt;raw_138 -->
<g id="edge138" class="edge">
<title>prose_124&#45;&gt;raw_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8588,-2416.0661C8588,-2312.2382 8588,-1799.1501 8588,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="8591.5001,-1672.3125 8588,-1662.3125 8584.5001,-1672.3126 8591.5001,-1672.3125"/>
</g>
<!-- raw_140 -->
<g id="node141" class="node">
<title>raw_140</title>
<ellipse fill="none" stroke="#000000" cx="8670" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="8670" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_125&#45;&gt;raw_140 -->
<g id="edge140" class="edge">
<title>prose_125&#45;&gt;raw_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8670,-2416.0661C8670,-2312.2382 8670,-1799.1501 8670,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="8673.5001,-1672.3125 8670,-1662.3125 8666.5001,-1672.3126 8673.5001,-1672.3125"/>
</g>
<!-- leaf_142 -->
<g id="node143" class="node">
<title>leaf_142</title>
<polygon fill="none" stroke="#c0c0c0" points="9221,-2203.1412 8715,-2203.1412 8715,-1084.9367 9221,-1084.9367 9221,-2203.1412"/>
<text text-anchor="middle" x="8968" y="-2188.14" font-family="Inconsolata" font-size="14.00" fill="#000000">local O_BRACE = c.base &quot;{&quot;</text>
<text text-anchor="middle" x="8968" y="-2172.74" font-family="Inconsolata" font-size="14.00" fill="#000000">local C_BRACE = c.base &quot;}&quot;</text>
<text text-anchor="middle" x="8968" y="-2141.34" font-family="Inconsolata" font-size="14.00" fill="#000000">local function _tabulate(tab, depth, cycle)</text>
<text text-anchor="middle" x="8968" y="-2125.9399" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;cycle = cycle or {}</text>
<text text-anchor="middle" x="8968" y="-2110.5399" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;depth = depth or 0</text>
<text text-anchor="middle" x="8968" y="-2095.1399" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(tab) ~= &quot;table&quot; then</text>
<text text-anchor="middle" x="8968" y="-2079.7398" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;ts_coro(tab)</text>
<text text-anchor="middle" x="8968" y="-2064.3398" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return nil</text>
<text text-anchor="middle" x="8968" y="-2048.9398" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8968" y="-2033.5398" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if depth &gt; C.depth or cycle[tab] then</text>
<text text-anchor="middle" x="8968" y="-2018.1397" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;yield(ts(tab, &quot;tab_name&quot;))</text>
<text text-anchor="middle" x="8968" y="-2002.7397" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return nil</text>
<text text-anchor="middle" x="8968" y="-1987.3397" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8968" y="-1955.9396" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;cycle[tab] = true</text>
<text text-anchor="middle" x="8968" y="-1940.5396" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Check to see if this is an array</text>
<text text-anchor="middle" x="8968" y="-1925.1396" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local is_array = true</text>
<text text-anchor="middle" x="8968" y="-1909.7395" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local i = 1</text>
<text text-anchor="middle" x="8968" y="-1894.3395" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for k,_ in pairs(tab) do</text>
<text text-anchor="middle" x="8968" y="-1878.9395" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;is_array = is_array and (k == i)</text>
<text text-anchor="middle" x="8968" y="-1863.5394" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;i = i + 1</text>
<text text-anchor="middle" x="8968" y="-1848.1394" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8968" y="-1832.7394" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; if we have a metatable, get it first</text>
<text text-anchor="middle" x="8968" y="-1817.3393" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local mt = &quot;&quot;</text>
<text text-anchor="middle" x="8968" y="-1801.9393" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local _M = getmetatable(tab)</text>
<text text-anchor="middle" x="8968" y="-1786.5393" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if _M then</text>
<text text-anchor="middle" x="8968" y="-1771.1393" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; fix metatable stuff</text>
<text text-anchor="middle" x="8968" y="-1739.7392" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local mt_rep, mt_len = ts(tab, &quot;mt&quot;)</text>
<text text-anchor="middle" x="8968" y="-1724.3392" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;yield(mt_rep, mt_len)</text>
<text text-anchor="middle" x="8968" y="-1708.9392" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;yield(c.base(&quot; = &quot;), 3)</text>
<text text-anchor="middle" x="8968" y="-1693.5391" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;_tabulate(_M, depth + 1, cycle)</text>
<text text-anchor="middle" x="8968" y="-1678.1391" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8968" y="-1662.7391" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local estimated = 0</text>
<text text-anchor="middle" x="8968" y="-1647.339" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local keys</text>
<text text-anchor="middle" x="8968" y="-1631.939" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not is_array then</text>
<text text-anchor="middle" x="8968" y="-1616.539" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;keys = table.keys(tab)</text>
<text text-anchor="middle" x="8968" y="-1601.1389" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if #keys &lt;= SORT_LIMIT then</text>
<text text-anchor="middle" x="8968" y="-1585.7389" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;table.sort(keys, _keysort)</text>
<text text-anchor="middle" x="8968" y="-1570.3389" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="8968" y="-1554.9389" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; bail</text>
<text text-anchor="middle" x="8968" y="-1539.5388" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;yield(&quot;{ !!! }&quot;, 7, &quot;end&quot;); return nil</text>
<text text-anchor="middle" x="8968" y="-1524.1388" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="8968" y="-1508.7388" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8968" y="-1493.3387" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if #tab &gt; SORT_LIMIT then</text>
<text text-anchor="middle" x="8968" y="-1477.9387" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;yield(&quot;{ #!!! }&quot;, 8, &quot;end&quot;); return nil</text>
<text text-anchor="middle" x="8968" y="-1462.5387" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="8968" y="-1447.1386" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;keys = tab</text>
<text text-anchor="middle" x="8968" y="-1431.7386" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8968" y="-1416.3386" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;yield(O_BRACE, 1, (is_array and &quot;array&quot; or &quot;map&quot;))</text>
<text text-anchor="middle" x="8968" y="-1400.9385" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for j, key in ipairs(keys) do</text>
<text text-anchor="middle" x="8968" y="-1385.5385" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if is_array then</text>
<text text-anchor="middle" x="8968" y="-1370.1385" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_tabulate(key, depth + 1, cycle)</text>
<text text-anchor="middle" x="8968" y="-1354.7384" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="8968" y="-1339.3384" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;val = tab[key]</text>
<text text-anchor="middle" x="8968" y="-1323.9384" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if type(key) == &quot;string&quot; and key:find(&quot;^[%a_][%a%d_]*$&quot;) then</text>
<text text-anchor="middle" x="8968" y="-1308.5384" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ts_coro(key)</text>
<text text-anchor="middle" x="8968" y="-1293.1383" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;yield(c.base(&quot; = &quot;), 3)</text>
<text text-anchor="middle" x="8968" y="-1277.7383" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="8968" y="-1262.3383" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;yield(c.base(&quot;[&quot;), 1)</text>
<text text-anchor="middle" x="8968" y="-1246.9382" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; we want names or hashes for any lvalue table,</text>
<text text-anchor="middle" x="8968" y="-1231.5382" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; 100 triggers this</text>
<text text-anchor="middle" x="8968" y="-1216.1382" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_tabulate(key, 100, cycle)</text>
<text text-anchor="middle" x="8968" y="-1200.7381" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;yield(c.base(&quot;] = &quot;), 4)</text>
<text text-anchor="middle" x="8968" y="-1185.3381" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="8968" y="-1169.9381" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_tabulate(val, depth + 1, cycle)</text>
<text text-anchor="middle" x="8968" y="-1154.538" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="8968" y="-1139.138" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8968" y="-1123.738" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;yield(C_BRACE, 1, &quot;end&quot;)</text>
<text text-anchor="middle" x="8968" y="-1108.3379" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return nil</text>
<text text-anchor="middle" x="8968" y="-1092.9379" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_126&#45;&gt;leaf_142 -->
<g id="edge142" class="edge">
<title>codeblock_126&#45;&gt;leaf_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8889.8597,-2416.0661C8893.2607,-2382.4644 8901.0002,-2305.9985 8910.3486,-2213.6354"/>
<polygon fill="#000000" stroke="#000000" points="8913.8519,-2213.7787 8911.3768,-2203.477 8906.8875,-2213.0737 8913.8519,-2213.7787"/>
</g>
<!-- raw_143 -->
<g id="node144" class="node">
<title>raw_143</title>
<ellipse fill="none" stroke="#000000" cx="9365" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="9365" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_127&#45;&gt;raw_143 -->
<g id="edge143" class="edge">
<title>prose_127&#45;&gt;raw_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9208.8009,-2417.8254C9216.0843,-2407.5749 9224.7703,-2393.8594 9230,-2380.4404 9332.2443,-2118.0896 9358.1179,-1772.4323 9363.6579,-1672.3185"/>
<polygon fill="#000000" stroke="#000000" points="9367.1646,-1672.2831 9364.1982,-1662.112 9360.1744,-1671.913 9367.1646,-1672.2831"/>
</g>
<!-- raw_145 -->
<g id="node146" class="node">
<title>raw_145</title>
<ellipse fill="none" stroke="#000000" cx="9913" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="9913" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_128&#45;&gt;raw_145 -->
<g id="edge145" class="edge">
<title>prose_128&#45;&gt;raw_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10586.7868,-2433.2223C10478.9074,-2428.8569 10135.0263,-2412.5222 10098,-2380.4404 9878.6568,-2190.3881 9899.7619,-1782.554 9909.967,-1672.1106"/>
<polygon fill="#000000" stroke="#000000" points="9913.4575,-1672.3774 9910.941,-1662.0858 9906.4903,-1671.7004 9913.4575,-1672.3774"/>
</g>
<!-- prespace_146 -->
<g id="node147" class="node">
<title>prespace_146</title>
<ellipse fill="none" stroke="#000000" cx="10153" cy="-1644.039" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="10153" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_128&#45;&gt;prespace_146 -->
<g id="edge146" class="edge">
<title>prose_128&#45;&gt;prespace_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10587.0051,-2432.0253C10500.8575,-2425.2207 10268.8907,-2404.792 10245,-2380.4404 10046.7784,-2178.3949 10121.0121,-1780.8244 10146.0621,-1672.0939"/>
<polygon fill="#000000" stroke="#000000" points="10149.5041,-1672.7465 10148.3891,-1662.2105 10142.6904,-1671.1422 10149.5041,-1672.7465"/>
</g>
<!-- literal_147 -->
<g id="node148" class="node">
<title>literal_147</title>
<ellipse fill="none" stroke="#000000" cx="10285" cy="-1644.039" rx="31.481" ry="18"/>
<text text-anchor="middle" x="10285" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_128&#45;&gt;literal_147 -->
<g id="edge147" class="edge">
<title>prose_128&#45;&gt;literal_147</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10586.877,-2432.8781C10521.1927,-2428.9651 10375.0032,-2416.339 10343,-2380.4404 10155.5231,-2170.1436 10247.0984,-1778.4834 10276.8523,-1671.5957"/>
<polygon fill="#000000" stroke="#000000" points="10280.2458,-1672.4578 10279.6064,-1661.8823 10273.5112,-1670.5483 10280.2458,-1672.4578"/>
</g>
<!-- raw_148 -->
<g id="node149" class="node">
<title>raw_148</title>
<ellipse fill="none" stroke="#000000" cx="10379" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="10379" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_128&#45;&gt;raw_148 -->
<g id="edge148" class="edge">
<title>prose_128&#45;&gt;raw_148</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10587.445,-2430.1702C10537.682,-2422.7379 10444.5082,-2405.7577 10424,-2380.4404 10334.1882,-2269.5681 10366.618,-1793.9222 10376.5418,-1672.3971"/>
<polygon fill="#000000" stroke="#000000" points="10380.0595,-1672.3287 10377.401,-1662.0728 10373.0836,-1671.7481 10380.0595,-1672.3287"/>
</g>
<!-- prespace_149 -->
<g id="node150" class="node">
<title>prespace_149</title>
<ellipse fill="none" stroke="#000000" cx="10479" cy="-1644.039" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="10479" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_128&#45;&gt;prespace_149 -->
<g id="edge149" class="edge">
<title>prose_128&#45;&gt;prespace_149</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10592.6282,-2423.7971C10574.5488,-2415.0128 10551.7797,-2400.6877 10540,-2380.4404 10399.4984,-2138.9423 10453.9103,-1775.3624 10473.2817,-1672.2145"/>
<polygon fill="#000000" stroke="#000000" points="10476.7447,-1672.7401 10475.1965,-1662.259 10469.8707,-1671.4179 10476.7447,-1672.7401"/>
</g>
<!-- literal_150 -->
<g id="node151" class="node">
<title>literal_150</title>
<ellipse fill="none" stroke="#000000" cx="10580" cy="-1644.039" rx="31.481" ry="18"/>
<text text-anchor="middle" x="10580" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_128&#45;&gt;literal_150 -->
<g id="edge150" class="edge">
<title>prose_128&#45;&gt;literal_150</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10618.1122,-2416.4467C10613.0333,-2313.5144 10587.669,-1799.4635 10581.4019,-1672.4501"/>
<polygon fill="#000000" stroke="#000000" points="10584.8922,-1672.1659 10580.9035,-1662.3505 10577.9007,-1672.5109 10584.8922,-1672.1659"/>
</g>
<!-- raw_151 -->
<g id="node152" class="node">
<title>raw_151</title>
<ellipse fill="none" stroke="#000000" cx="10658" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="10658" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_128&#45;&gt;raw_151 -->
<g id="edge151" class="edge">
<title>prose_128&#45;&gt;raw_151</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10619.8878,-2416.4467C10624.9667,-2313.5144 10650.331,-1799.4635 10656.5981,-1672.4501"/>
<polygon fill="#000000" stroke="#000000" points="10660.0993,-1672.5109 10657.0965,-1662.3505 10653.1078,-1672.1659 10660.0993,-1672.5109"/>
</g>
<!-- prespace_152 -->
<g id="node153" class="node">
<title>prespace_152</title>
<ellipse fill="none" stroke="#000000" cx="10758" cy="-1644.039" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="10758" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_128&#45;&gt;prespace_152 -->
<g id="edge152" class="edge">
<title>prose_128&#45;&gt;prespace_152</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10644.4063,-2423.2559C10661.5125,-2414.2892 10682.9025,-2399.9702 10694,-2380.4404 10832.0806,-2137.4396 10781.5384,-1774.9138 10763.376,-1672.1141"/>
<polygon fill="#000000" stroke="#000000" points="10766.8053,-1671.4089 10761.5792,-1662.1928 10759.9173,-1672.6564 10766.8053,-1671.4089"/>
</g>
<!-- literal_153 -->
<g id="node154" class="node">
<title>literal_153</title>
<ellipse fill="none" stroke="#000000" cx="10870" cy="-1644.039" rx="31.481" ry="18"/>
<text text-anchor="middle" x="10870" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_128&#45;&gt;literal_153 -->
<g id="edge153" class="edge">
<title>prose_128&#45;&gt;literal_153</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10650.3489,-2430.108C10699.7938,-2422.5874 10792.4024,-2405.4845 10813,-2380.4404 10991.5627,-2163.3309 10906.1057,-1778.0499 10877.8653,-1671.8266"/>
<polygon fill="#000000" stroke="#000000" points="10881.1657,-1670.6238 10875.1712,-1661.8879 10874.4095,-1672.4553 10881.1657,-1670.6238"/>
</g>
<!-- raw_154 -->
<g id="node155" class="node">
<title>raw_154</title>
<ellipse fill="none" stroke="#000000" cx="11025" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="11025" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_128&#45;&gt;raw_154 -->
<g id="edge154" class="edge">
<title>prose_128&#45;&gt;raw_154</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10651.3255,-2433.0126C10719.4668,-2429.3048 10874.5025,-2416.9667 10910,-2380.4404 11108.1145,-2176.5841 11050.895,-1780.3107 11030.6742,-1671.9846"/>
<polygon fill="#000000" stroke="#000000" points="11034.1071,-1671.3014 11028.7881,-1662.1385 11027.2321,-1672.6184 11034.1071,-1671.3014"/>
</g>
<!-- prespace_155 -->
<g id="node156" class="node">
<title>prespace_155</title>
<ellipse fill="none" stroke="#000000" cx="11183" cy="-1644.039" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="11183" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_128&#45;&gt;prespace_155 -->
<g id="edge155" class="edge">
<title>prose_128&#45;&gt;prespace_155</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10651.404,-2432.6959C10748.3801,-2427.1743 11031.4523,-2408.7552 11061,-2380.4404 11266.775,-2183.2518 11209.0323,-1781.38 11188.6731,-1672.0383"/>
<polygon fill="#000000" stroke="#000000" points="11192.09,-1671.2716 11186.7747,-1662.1066 11185.2145,-1672.5859 11192.09,-1671.2716"/>
</g>
<!-- literal_156 -->
<g id="node157" class="node">
<title>literal_156</title>
<ellipse fill="none" stroke="#000000" cx="11334" cy="-1644.039" rx="31.481" ry="18"/>
<text text-anchor="middle" x="11334" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_128&#45;&gt;literal_156 -->
<g id="edge156" class="edge">
<title>prose_128&#45;&gt;literal_156</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10651.3814,-2433.9432C10772.6729,-2431.771 11195.3575,-2421.3033 11238,-2380.4404 11442.7262,-2184.2579 11366.5479,-1781.6635 11341.0139,-1672.0982"/>
<polygon fill="#000000" stroke="#000000" points="11344.3653,-1671.063 11338.6438,-1662.1459 11337.5558,-1672.6848 11344.3653,-1671.063"/>
</g>
<!-- raw_157 -->
<g id="node158" class="node">
<title>raw_157</title>
<ellipse fill="none" stroke="#000000" cx="11558" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="11558" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_128&#45;&gt;raw_157 -->
<g id="edge157" class="edge">
<title>prose_128&#45;&gt;raw_157</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10651.5289,-2433.1733C10792.6331,-2427.5428 11345.9204,-2404.0279 11374,-2380.4404 11596.154,-2193.8258 11572.2853,-1783.5163 11561.2515,-1672.3127"/>
<polygon fill="#000000" stroke="#000000" points="11564.7173,-1671.802 11560.2015,-1662.2178 11557.7549,-1672.5263 11564.7173,-1671.802"/>
</g>
<!-- leaf_134 -->
<g id="node135" class="node">
<title>leaf_134</title>
<polygon fill="none" stroke="#c0c0c0" points="7798,-509.4203 7744,-509.4203 7744,-453.6173 7798,-453.6173 7798,-509.4203"/>
<text text-anchor="middle" x="7771" y="-462.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">This</text>
</g>
<!-- raw_130&#45;&gt;leaf_134 -->
<g id="edge134" class="edge">
<title>raw_130&#45;&gt;leaf_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7889.09,-1625.8773C7894.8231,-1525.4864 7918.768,-1038.2853 7852,-907.6375 7840.3445,-884.8307 7819.145,-894.1874 7807,-871.6375 7744.7503,-756.0574 7755.9021,-593.0059 7765.1593,-519.762"/>
<polygon fill="#000000" stroke="#000000" points="7768.6587,-519.9966 7766.5024,-509.6235 7761.7193,-519.0773 7768.6587,-519.9966"/>
</g>
<!-- leaf_135 -->
<g id="node136" class="node">
<title>leaf_135</title>
<polygon fill="none" stroke="#c0c0c0" points="7870,-499.5188 7816,-499.5188 7816,-463.5188 7870,-463.5188 7870,-499.5188"/>
<text text-anchor="middle" x="7843" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_131&#45;&gt;leaf_135 -->
<g id="edge135" class="edge">
<title>prespace_131&#45;&gt;leaf_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7982.5866,-1626.0605C7998.8093,-1539.9539 8058.8577,-1163.3554 7924,-907.6375 7912.0524,-884.9824 7891.145,-894.1874 7879,-871.6375 7813.7723,-750.5281 7829.1371,-577.2967 7838.4666,-509.8818"/>
<polygon fill="#000000" stroke="#000000" points="7841.9813,-510.0329 7839.9537,-499.6339 7835.0538,-509.0276 7841.9813,-510.0329"/>
</g>
<!-- leaf_136 -->
<g id="node137" class="node">
<title>leaf_136</title>
<polygon fill="none" stroke="#c0c0c0" points="7960,-499.5188 7888,-499.5188 7888,-463.5188 7960,-463.5188 7960,-499.5188"/>
<text text-anchor="middle" x="7924" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">yield()s</text>
</g>
<!-- literal_132&#45;&gt;leaf_136 -->
<g id="edge136" class="edge">
<title>literal_132&#45;&gt;leaf_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8076.2832,-1626.001C8083.1175,-1525.2398 8112.0872,-1032.1022 8034,-907.6375 8016.4495,-879.6635 7987.371,-899.0797 7969,-871.6375 7891.9573,-756.553 7908.8464,-578.4772 7919.1077,-509.8355"/>
<polygon fill="#000000" stroke="#000000" points="7922.5923,-510.2062 7920.6823,-499.785 7915.6766,-509.1227 7922.5923,-510.2062"/>
</g>
<!-- leaf_137 -->
<g id="node138" class="node">
<title>leaf_137</title>
<polygon fill="none" stroke="#c0c0c0" points="8323.5,-499.5188 7978.5,-499.5188 7978.5,-463.5188 8323.5,-463.5188 8323.5,-499.5188"/>
<text text-anchor="middle" x="8151" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000"> pieces of a table, recursively, one at a time.</text>
</g>
<!-- raw_133&#45;&gt;leaf_137 -->
<g id="edge137" class="edge">
<title>raw_133&#45;&gt;leaf_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8151,-1625.7785C8151,-1492.7803 8151,-673.6559 8151,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="8154.5001,-509.739 8151,-499.739 8147.5001,-509.739 8154.5001,-509.739"/>
</g>
<!-- leaf_139 -->
<g id="node140" class="node">
<title>leaf_139</title>
<polygon fill="none" stroke="#c0c0c0" points="8834,-508.8192 8342,-508.8192 8342,-454.2184 8834,-454.2184 8834,-508.8192"/>
<text text-anchor="middle" x="8588" y="-477.7188" font-family="Inconsolata" font-size="14.00" fill="#000000">Second return value is the printed width, third, if any, is a string</text>
<text text-anchor="middle" x="8588" y="-462.3188" font-family="Inconsolata" font-size="14.00" fill="#000000">representing what we&#39;re opening and/or closing.</text>
</g>
<!-- raw_138&#45;&gt;leaf_139 -->
<g id="edge139" class="edge">
<title>raw_138&#45;&gt;leaf_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8588,-1625.7785C8588,-1495.0723 8588,-701.6846 8588,-519.0076"/>
<polygon fill="#000000" stroke="#000000" points="8591.5001,-518.8277 8588,-508.8277 8584.5001,-518.8277 8591.5001,-518.8277"/>
</g>
<!-- leaf_141 -->
<g id="node142" class="node">
<title>leaf_141</title>
<polygon fill="none" stroke="#c0c0c0" points="9365.5,-501.4209 8852.5,-501.4209 8852.5,-461.6167 9365.5,-461.6167 9365.5,-501.4209"/>
<text text-anchor="middle" x="9109" y="-470.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">At this point it works, time to start breaking it out into an iterator.</text>
</g>
<!-- raw_140&#45;&gt;leaf_141 -->
<g id="edge141" class="edge">
<title>raw_140&#45;&gt;leaf_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8668.1367,-1626.0012C8658.0118,-1524.1839 8613.3891,-1021.848 8706,-907.6375 8745.6518,-858.7377 8791.567,-907.9431 8843,-871.6375 8979.8793,-775.017 9067.7473,-584.008 9097.6143,-510.9152"/>
<polygon fill="#000000" stroke="#000000" points="9100.9546,-511.9897 9101.4427,-501.4061 9094.4611,-509.3753 9100.9546,-511.9897"/>
</g>
<!-- leaf_144 -->
<g id="node145" class="node">
<title>leaf_144</title>
<polygon fill="none" stroke="#c0c0c0" points="9546.5,-501.4209 9383.5,-501.4209 9383.5,-461.6167 9546.5,-461.6167 9546.5,-501.4209"/>
<text text-anchor="middle" x="9465" y="-470.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">line&#45;buffer goes here</text>
</g>
<!-- raw_143&#45;&gt;leaf_144 -->
<g id="edge144" class="edge">
<title>raw_143&#45;&gt;leaf_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9366.5708,-1625.7785C9377.9741,-1493.2127 9448.0148,-678.9755 9462.4137,-511.5853"/>
<polygon fill="#000000" stroke="#000000" points="9465.9104,-511.7723 9463.2804,-501.5091 9458.9362,-511.1723 9465.9104,-511.7723"/>
</g>
<!-- leaf_158 -->
<g id="node159" class="node">
<title>leaf_158</title>
<polygon fill="none" stroke="#c0c0c0" points="10105.5,-501.4209 9564.5,-501.4209 9564.5,-461.6167 10105.5,-461.6167 10105.5,-501.4209"/>
<text text-anchor="middle" x="9835" y="-470.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">needs to decide when things are &#39;wide enough&#39; so each yield needs to return</text>
</g>
<!-- raw_145&#45;&gt;leaf_158 -->
<g id="edge158" class="edge">
<title>raw_145&#45;&gt;leaf_158</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9911.7748,-1625.7785C9902.8802,-1493.2127 9848.2485,-678.9755 9837.0173,-511.5853"/>
<polygon fill="#000000" stroke="#000000" points="9840.503,-511.2523 9836.3413,-501.5091 9833.5187,-511.721 9840.503,-511.2523"/>
</g>
<!-- leaf_159 -->
<g id="node160" class="node">
<title>leaf_159</title>
<polygon fill="none" stroke="#c0c0c0" points="10178,-499.5188 10124,-499.5188 10124,-463.5188 10178,-463.5188 10178,-499.5188"/>
</g>
<!-- prespace_146&#45;&gt;leaf_159 -->
<g id="edge159" class="edge">
<title>prespace_146&#45;&gt;leaf_159</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10152.9686,-1625.7785C10152.7398,-1492.7803 10151.3306,-673.6559 10151.0489,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="10154.5486,-509.7329 10151.0313,-499.739 10147.5487,-509.745 10154.5486,-509.7329"/>
</g>
<!-- leaf_160 -->
<g id="node161" class="node">
<title>leaf_160</title>
<polygon fill="none" stroke="#c0c0c0" points="10310,-499.5188 10196,-499.5188 10196,-463.5188 10310,-463.5188 10310,-499.5188"/>
<text text-anchor="middle" x="10253" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">str, len, done</text>
</g>
<!-- literal_147&#45;&gt;leaf_160 -->
<g id="edge160" class="edge">
<title>literal_147&#45;&gt;leaf_160</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10284.4974,-1625.7785C10280.8364,-1492.7803 10258.2888,-673.6559 10253.7831,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="10257.2755,-509.6389 10253.5015,-499.739 10250.2781,-509.8315 10257.2755,-509.6389"/>
</g>
<!-- leaf_161 -->
<g id="node162" class="node">
<title>leaf_161</title>
<polygon fill="none" stroke="#c0c0c0" points="10393.5,-499.5188 10328.5,-499.5188 10328.5,-463.5188 10393.5,-463.5188 10393.5,-499.5188"/>
<text text-anchor="middle" x="10361" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">, where</text>
</g>
<!-- raw_148&#45;&gt;leaf_161 -->
<g id="edge161" class="edge">
<title>raw_148&#45;&gt;leaf_161</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10378.7173,-1625.7785C10376.658,-1492.7803 10363.975,-673.6559 10361.4405,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="10364.9366,-509.6836 10361.2821,-499.739 10357.9374,-509.792 10364.9366,-509.6836"/>
</g>
<!-- leaf_162 -->
<g id="node163" class="node">
<title>leaf_162</title>
<polygon fill="none" stroke="#c0c0c0" points="10466,-499.5188 10412,-499.5188 10412,-463.5188 10466,-463.5188 10466,-499.5188"/>
<text text-anchor="middle" x="10439" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_149&#45;&gt;leaf_162 -->
<g id="edge162" class="edge">
<title>prespace_149&#45;&gt;leaf_162</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10478.3717,-1625.7785C10473.7955,-1492.7803 10445.6111,-673.6559 10439.9789,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="10443.4688,-509.6127 10439.6269,-499.739 10436.473,-509.8535 10443.4688,-509.6127"/>
</g>
<!-- leaf_163 -->
<g id="node164" class="node">
<title>leaf_163</title>
<polygon fill="none" stroke="#c0c0c0" points="10538,-499.5188 10484,-499.5188 10484,-463.5188 10538,-463.5188 10538,-499.5188"/>
<text text-anchor="middle" x="10511" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">str</text>
</g>
<!-- literal_150&#45;&gt;leaf_163 -->
<g id="edge163" class="edge">
<title>literal_150&#45;&gt;leaf_163</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10578.9162,-1625.7785C10571.0222,-1492.7803 10522.4041,-673.6559 10512.6886,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="10516.1679,-509.514 10512.0814,-499.739 10509.1802,-509.9288 10516.1679,-509.514"/>
</g>
<!-- leaf_164 -->
<g id="node165" class="node">
<title>leaf_164</title>
<polygon fill="none" stroke="#c0c0c0" points="10761.5,-499.5188 10556.5,-499.5188 10556.5,-463.5188 10761.5,-463.5188 10761.5,-499.5188"/>
<text text-anchor="middle" x="10659" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000"> is the fragment of string,</text>
</g>
<!-- raw_151&#45;&gt;leaf_164 -->
<g id="edge164" class="edge">
<title>raw_151&#45;&gt;leaf_164</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10658.0157,-1625.7785C10658.1301,-1492.7803 10658.8347,-673.6559 10658.9755,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="10662.4756,-509.742 10658.9843,-499.739 10655.4756,-509.7359 10662.4756,-509.742"/>
</g>
<!-- leaf_165 -->
<g id="node166" class="node">
<title>leaf_165</title>
<polygon fill="none" stroke="#c0c0c0" points="10834,-499.5188 10780,-499.5188 10780,-463.5188 10834,-463.5188 10834,-499.5188"/>
<text text-anchor="middle" x="10807" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_152&#45;&gt;leaf_165 -->
<g id="edge165" class="edge">
<title>prespace_152&#45;&gt;leaf_165</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10758.7697,-1625.7785C10764.3755,-1492.7803 10798.9015,-673.6559 10805.8009,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="10809.3077,-509.8775 10806.232,-499.739 10802.3139,-509.5827 10809.3077,-509.8775"/>
</g>
<!-- leaf_166 -->
<g id="node167" class="node">
<title>leaf_166</title>
<polygon fill="none" stroke="#c0c0c0" points="10906,-499.5188 10852,-499.5188 10852,-463.5188 10906,-463.5188 10906,-499.5188"/>
<text text-anchor="middle" x="10879" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">len</text>
</g>
<!-- literal_153&#45;&gt;leaf_166 -->
<g id="edge166" class="edge">
<title>literal_153&#45;&gt;leaf_166</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10870.1414,-1625.7785C10871.171,-1492.7803 10877.5125,-673.6559 10878.7798,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="10882.2813,-509.7658 10878.8589,-499.739 10875.2815,-509.7116 10882.2813,-509.7658"/>
</g>
<!-- leaf_167 -->
<g id="node168" class="node">
<title>leaf_167</title>
<polygon fill="none" stroke="#c0c0c0" points="11283.5,-500.8194 10924.5,-500.8194 10924.5,-462.2182 11283.5,-462.2182 11283.5,-500.8194"/>
<text text-anchor="middle" x="11104" y="-485.7188" font-family="Inconsolata" font-size="14.00" fill="#000000"> is a number</text>
<text text-anchor="middle" x="11104" y="-470.3188" font-family="Inconsolata" font-size="14.00" fill="#000000">representing its printable width (don&#39;t @ me) and</text>
</g>
<!-- raw_154&#45;&gt;leaf_167 -->
<g id="edge167" class="edge">
<title>raw_154&#45;&gt;leaf_167</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11026.2409,-1625.7785C11035.2591,-1493.0714 11090.6997,-677.2386 11101.993,-511.0521"/>
<polygon fill="#000000" stroke="#000000" points="11105.486,-511.2736 11102.6721,-501.0593 11098.5021,-510.799 11105.486,-511.2736"/>
</g>
<!-- leaf_168 -->
<g id="node169" class="node">
<title>leaf_168</title>
<polygon fill="none" stroke="#c0c0c0" points="11356,-499.5188 11302,-499.5188 11302,-463.5188 11356,-463.5188 11356,-499.5188"/>
<text text-anchor="middle" x="11329" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_155&#45;&gt;leaf_168 -->
<g id="edge168" class="edge">
<title>prespace_155&#45;&gt;leaf_168</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11185.8827,-1625.8327C11199.285,-1540.7719 11256.3561,-1173.9135 11292,-871.6375 11307.929,-736.5529 11321.5452,-574.5164 11326.7453,-510.0207"/>
<polygon fill="#000000" stroke="#000000" points="11330.2518,-510.0784 11327.5622,-499.8307 11323.2742,-509.5191 11330.2518,-510.0784"/>
</g>
<!-- leaf_169 -->
<g id="node170" class="node">
<title>leaf_169</title>
<polygon fill="none" stroke="#c0c0c0" points="11428,-499.5188 11374,-499.5188 11374,-463.5188 11428,-463.5188 11428,-499.5188"/>
<text text-anchor="middle" x="11401" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">done</text>
</g>
<!-- literal_156&#45;&gt;leaf_169 -->
<g id="edge169" class="edge">
<title>literal_156&#45;&gt;leaf_169</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11335.0524,-1625.7785C11342.7176,-1492.7803 11389.9265,-673.6559 11399.3604,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="11402.8686,-509.9238 11399.9499,-499.739 11395.8802,-509.521 11402.8686,-509.9238"/>
</g>
<!-- leaf_170 -->
<g id="node171" class="node">
<title>leaf_170</title>
<polygon fill="none" stroke="#c0c0c0" points="11966,-516.7192 11446,-516.7192 11446,-446.3184 11966,-446.3184 11966,-516.7192"/>
<text text-anchor="middle" x="11706" y="-501.4188" font-family="Inconsolata" font-size="14.00" fill="#000000"> is a boolean for if</text>
<text text-anchor="middle" x="11706" y="-486.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">this is the last bit of the repr of a given thing. Table, userdata, what</text>
<text text-anchor="middle" x="11706" y="-470.6188" font-family="Inconsolata" font-size="14.00" fill="#000000">have you.</text>
</g>
<!-- raw_157&#45;&gt;leaf_170 -->
<g id="edge170" class="edge">
<title>raw_157&#45;&gt;leaf_170</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11560.3247,-1625.7785C11576.7361,-1496.8693 11675.2093,-723.3758 11700.2244,-526.8854"/>
<polygon fill="#000000" stroke="#000000" points="11703.7047,-527.2614 11701.4957,-516.8994 11696.7607,-526.3773 11703.7047,-527.2614"/>
</g>
<!-- leaf_177 -->
<g id="node178" class="node">
<title>leaf_177</title>
<polygon fill="none" stroke="#c0c0c0" points="12480.5,-1662.039 12345.5,-1662.039 12345.5,-1626.039 12480.5,-1626.039 12480.5,-1662.039"/>
<text text-anchor="middle" x="12413" y="-1640.539" font-family="Inconsolata" font-size="14.00" fill="#000000">*** tabulate(...)</text>
</g>
<!-- header_171&#45;&gt;leaf_177 -->
<g id="edge177" class="edge">
<title>header_171&#45;&gt;leaf_177</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12434.4886,-2416.0661C12431.5986,-2312.2382 12417.3174,-1799.1501 12413.7892,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="12417.2856,-1672.2112 12413.5086,-1662.3125 12410.2883,-1672.4061 12417.2856,-1672.2112"/>
</g>
<!-- raw_178 -->
<g id="node179" class="node">
<title>raw_178</title>
<ellipse fill="none" stroke="#000000" cx="12526" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="12526" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_172&#45;&gt;raw_178 -->
<g id="edge178" class="edge">
<title>prose_172&#45;&gt;raw_178</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12612.0315,-2423.4691C12594.5919,-2414.6029 12572.8827,-2400.3164 12562,-2380.4404 12493.6702,-2255.6438 12516.8672,-1792.2623 12524.1561,-1672.4595"/>
<polygon fill="#000000" stroke="#000000" points="12527.6626,-1672.4623 12524.789,-1662.2646 12520.676,-1672.0285 12527.6626,-1672.4623"/>
</g>
<!-- raw_180 -->
<g id="node181" class="node">
<title>raw_180</title>
<ellipse fill="none" stroke="#000000" cx="12598" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="12598" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_173&#45;&gt;raw_180 -->
<g id="edge180" class="edge">
<title>prose_173&#45;&gt;raw_180</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12731.3073,-2430.7213C12700.8393,-2425.3052 12656.235,-2412.1455 12634,-2380.4404 12552.2176,-2263.8258 12585.422,-1793.4248 12595.4948,-1672.4948"/>
<polygon fill="#000000" stroke="#000000" points="12599.0092,-1672.4721 12596.3663,-1662.2122 12592.0342,-1671.8809 12599.0092,-1672.4721"/>
</g>
<!-- prespace_181 -->
<g id="node182" class="node">
<title>prespace_181</title>
<ellipse fill="none" stroke="#000000" cx="12689" cy="-1644.039" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="12689" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_173&#45;&gt;prespace_181 -->
<g id="edge181" class="edge">
<title>prose_173&#45;&gt;prespace_181</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12755.8738,-2416.7403C12751.9984,-2406.3403 12747.4984,-2392.8403 12745,-2380.4404 12690.2606,-2108.7635 12688.0354,-1770.8844 12688.6691,-1672.2698"/>
<polygon fill="#000000" stroke="#000000" points="12692.1694,-1672.232 12688.7498,-1662.2042 12685.1697,-1672.1758 12692.1694,-1672.232"/>
</g>
<!-- literal_182 -->
<g id="node183" class="node">
<title>literal_182</title>
<ellipse fill="none" stroke="#000000" cx="12785" cy="-1644.039" rx="31.481" ry="18"/>
<text text-anchor="middle" x="12785" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_173&#45;&gt;literal_182 -->
<g id="edge182" class="edge">
<title>prose_173&#45;&gt;literal_182</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12763.5114,-2416.0661C12766.4014,-2312.2382 12780.6826,-1799.1501 12784.2108,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="12787.7117,-1672.4061 12784.4914,-1662.3125 12780.7144,-1672.2112 12787.7117,-1672.4061"/>
</g>
<!-- raw_183 -->
<g id="node184" class="node">
<title>raw_183</title>
<ellipse fill="none" stroke="#000000" cx="12984" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="12984" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_173&#45;&gt;raw_183 -->
<g id="edge183" class="edge">
<title>prose_173&#45;&gt;raw_183</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12784.5904,-2420.9869C12798.2473,-2411.3515 12815.1284,-2397.156 12825,-2380.4404 12969.7068,-2135.409 12983.2916,-1774.9635 12984.1094,-1672.2729"/>
<polygon fill="#000000" stroke="#000000" points="12987.61,-1672.1074 12984.1537,-1662.0923 12980.6101,-1672.0769 12987.61,-1672.1074"/>
</g>
<!-- raw_188 -->
<g id="node189" class="node">
<title>raw_188</title>
<ellipse fill="none" stroke="#000000" cx="13425" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="13425" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_174&#45;&gt;raw_188 -->
<g id="edge188" class="edge">
<title>prose_174&#45;&gt;raw_188</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13141.6019,-2416.4467C13179.488,-2313.1875 13369.1741,-1796.1937 13415.0156,-1671.2515"/>
<polygon fill="#000000" stroke="#000000" points="13418.3754,-1672.2553 13418.5342,-1661.6617 13411.8038,-1669.8441 13418.3754,-1672.2553"/>
</g>
<!-- raw_190 -->
<g id="node191" class="node">
<title>raw_190</title>
<ellipse fill="none" stroke="#000000" cx="14045" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="14045" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_175&#45;&gt;raw_190 -->
<g id="edge190" class="edge">
<title>prose_175&#45;&gt;raw_190</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14115.433,-2420.4843C14103.0649,-2410.8291 14088.3397,-2396.8008 14081,-2380.4404 13967.1334,-2126.6279 14020.655,-1773.0277 14039.422,-1671.9957"/>
<polygon fill="#000000" stroke="#000000" points="14042.8978,-1672.4522 14041.3252,-1661.9748 14036.0207,-1671.1461 14042.8978,-1672.4522"/>
</g>
<!-- prespace_191 -->
<g id="node192" class="node">
<title>prespace_191</title>
<ellipse fill="none" stroke="#000000" cx="14136" cy="-1644.039" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="14136" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_175&#45;&gt;prespace_191 -->
<g id="edge191" class="edge">
<title>prose_175&#45;&gt;prespace_191</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14136,-2416.0661C14136,-2312.2382 14136,-1799.1501 14136,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="14139.5001,-1672.3125 14136,-1662.3125 14132.5001,-1672.3126 14139.5001,-1672.3125"/>
</g>
<!-- literal_192 -->
<g id="node193" class="node">
<title>literal_192</title>
<ellipse fill="none" stroke="#000000" cx="14232" cy="-1644.039" rx="31.481" ry="18"/>
<text text-anchor="middle" x="14232" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_175&#45;&gt;literal_192 -->
<g id="edge192" class="edge">
<title>prose_175&#45;&gt;literal_192</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14156.5293,-2420.4673C14168.8824,-2410.8054 14183.605,-2396.7758 14191,-2380.4404 14305.7659,-2126.9251 14255.2202,-1773.1175 14237.3318,-1672.0161"/>
<polygon fill="#000000" stroke="#000000" points="14240.7418,-1671.2045 14235.516,-1661.9881 14233.8538,-1672.4517 14240.7418,-1671.2045"/>
</g>
<!-- raw_193 -->
<g id="node194" class="node">
<title>raw_193</title>
<ellipse fill="none" stroke="#000000" cx="14308" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="14308" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_175&#45;&gt;raw_193 -->
<g id="edge193" class="edge">
<title>prose_175&#45;&gt;raw_193</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14167.86,-2431.4852C14199.9573,-2426.648 14248.0595,-2413.9154 14272,-2380.4404 14354.856,-2264.5861 14320.8585,-1793.6235 14310.5602,-1672.5338"/>
<polygon fill="#000000" stroke="#000000" points="14314.0184,-1671.8984 14309.6693,-1662.2374 14307.0445,-1672.5019 14314.0184,-1671.8984"/>
</g>
<!-- leaf_198 -->
<g id="node199" class="node">
<title>leaf_198</title>
<polygon fill="none" stroke="#c0c0c0" points="14873,-2380.3418 14353,-2380.3418 14353,-907.7361 14873,-907.7361 14873,-2380.3418"/>
<text text-anchor="middle" x="14613" y="-2349.2404" font-family="Inconsolata" font-size="14.00" fill="#000000">local COMMA, COM_LEN = c.base &quot;, &quot;, 2</text>
<text text-anchor="middle" x="14613" y="-2317.8404" font-family="Inconsolata" font-size="14.00" fill="#000000">local function lineGen(...)</text>
<text text-anchor="middle" x="14613" y="-2302.4403" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local arg_v = {...}</text>
<text text-anchor="middle" x="14613" y="-2287.0403" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local phrase = {}</text>
<text text-anchor="middle" x="14613" y="-2271.6403" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local iter = wrap(_tabulate)</text>
<text text-anchor="middle" x="14613" y="-2256.2402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local stage = &quot;&quot;</text>
<text text-anchor="middle" x="14613" y="-2240.8402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local map_counter = 0 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; this counts where commas go</text>
<text text-anchor="middle" x="14613" y="-2225.4402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local skip_comma = false &#160;&#160;&#160;&#160;&#160;&#45;&#45; no comma at end of array/map</text>
<text text-anchor="middle" x="14613" y="-2210.0401" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local stack, old_stack = 0, 0 &#45;&#45; level of recursion</text>
<text text-anchor="middle" x="14613" y="-2194.6401" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local disp = 0 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; column displacement</text>
<text text-anchor="middle" x="14613" y="-2179.2401" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local yielding = true</text>
<text text-anchor="middle" x="14613" y="-2163.8401" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; return an iterator function that currently yields the entire</text>
<text text-anchor="middle" x="14613" y="-2148.44" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; line but will eventually yield one line at a time.</text>
<text text-anchor="middle" x="14613" y="-2133.04" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return function()</text>
<text text-anchor="middle" x="14613" y="-2117.64" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;while yielding do</text>
<text text-anchor="middle" x="14613" y="-2102.2399" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local line, len, event = iter(unpack(arg_v))</text>
<text text-anchor="middle" x="14613" y="-2086.8399" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if line == nil then</text>
<text text-anchor="middle" x="14613" y="-2071.4399" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break</text>
<text text-anchor="middle" x="14613" y="-2056.0398" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="14613" y="-2040.6398" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase[#phrase + 1] = line</text>
<text text-anchor="middle" x="14613" y="-2025.2398" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;disp = disp + len</text>
<text text-anchor="middle" x="14613" y="-2009.8397" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if event then</text>
<text text-anchor="middle" x="14613" y="-1994.4397" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if event == &quot;map&quot; then</text>
<text text-anchor="middle" x="14613" y="-1979.0397" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;map_counter = 0</text>
<text text-anchor="middle" x="14613" y="-1963.6396" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="14613" y="-1948.2396" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if event == &quot;array&quot; or event == &quot;map&quot; then</text>
<text text-anchor="middle" x="14613" y="-1932.8396" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;stack = stack + 1</text>
<text text-anchor="middle" x="14613" y="-1917.4396" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;skip_comma = true</text>
<text text-anchor="middle" x="14613" y="-1902.0395" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif event == &quot;end&quot; then</text>
<text text-anchor="middle" x="14613" y="-1886.6395" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;stack = stack &#45; 1</text>
<text text-anchor="middle" x="14613" y="-1871.2395" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;assert(stack &gt;= 0, &quot;(tabulate) stack underflow&quot;)</text>
<text text-anchor="middle" x="14613" y="-1855.8394" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="14613" y="-1840.4394" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; don&#39;t think I need the conditional below</text>
<text text-anchor="middle" x="14613" y="-1825.0394" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if stage ~= event then</text>
<text text-anchor="middle" x="14613" y="-1809.6393" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;skip_comma = true</text>
<text text-anchor="middle" x="14613" y="-1794.2393" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="14613" y="-1778.8393" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if (stage == &quot;array&quot; or stage == &quot;map&quot;)</text>
<text text-anchor="middle" x="14613" y="-1763.4392" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;and event == &quot;end&quot; then</text>
<text text-anchor="middle" x="14613" y="-1748.0392" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;skip_comma = true</text>
<text text-anchor="middle" x="14613" y="-1732.6392" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="14613" y="-1717.2391" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; this is seriously esoteric but fixes cases like {{},{}}</text>
<text text-anchor="middle" x="14613" y="-1701.8391" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if old_stack &lt; stack and phrase[#phrase &#45;1] == C_BRACE then</text>
<text text-anchor="middle" x="14613" y="-1686.4391" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;table.insert(phrase, #phrase, COMMA)</text>
<text text-anchor="middle" x="14613" y="-1671.0391" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;disp = disp + COM_LEN</text>
<text text-anchor="middle" x="14613" y="-1655.639" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="14613" y="-1640.239" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;stage = event</text>
<text text-anchor="middle" x="14613" y="-1624.839" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="14613" y="-1609.4389" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; special&#45;case for non&#45;string values, which</text>
<text text-anchor="middle" x="14613" y="-1594.0389" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; yield an extra piece</text>
<text text-anchor="middle" x="14613" y="-1578.6389" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if line == c.base(&quot;] = &quot;) then</text>
<text text-anchor="middle" x="14613" y="-1563.2388" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;map_counter = map_counter &#45; 1</text>
<text text-anchor="middle" x="14613" y="-1547.8388" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="14613" y="-1532.4388" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; insert commas</text>
<text text-anchor="middle" x="14613" y="-1517.0387" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if stage ==&quot;map&quot; &#160;then</text>
<text text-anchor="middle" x="14613" y="-1501.6387" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if map_counter == 3 then</text>
<text text-anchor="middle" x="14613" y="-1486.2387" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase[#phrase + 1] = COMMA</text>
<text text-anchor="middle" x="14613" y="-1470.8386" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;disp = disp + COM_LEN</text>
<text text-anchor="middle" x="14613" y="-1455.4386" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;map_counter = 1</text>
<text text-anchor="middle" x="14613" y="-1440.0386" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="14613" y="-1424.6386" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;map_counter = map_counter + 1</text>
<text text-anchor="middle" x="14613" y="-1409.2385" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="14613" y="-1393.8385" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif stage == &quot;array&quot; and not skip_comma then</text>
<text text-anchor="middle" x="14613" y="-1378.4385" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase[#phrase + 1] = COMMA</text>
<text text-anchor="middle" x="14613" y="-1363.0384" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;disp = disp + COM_LEN</text>
<text text-anchor="middle" x="14613" y="-1347.6384" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;map_counter = map_counter + 1</text>
<text text-anchor="middle" x="14613" y="-1332.2384" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="14613" y="-1316.8383" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;skip_comma = false</text>
<text text-anchor="middle" x="14613" y="-1301.4383" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; if we had a comma before ending a map/array (this is normal)</text>
<text text-anchor="middle" x="14613" y="-1286.0383" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; then remove it</text>
<text text-anchor="middle" x="14613" y="-1270.6382" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; #nb there may be a way to do this using skip_comma but this</text>
<text text-anchor="middle" x="14613" y="-1255.2382" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; works, dammit.</text>
<text text-anchor="middle" x="14613" y="-1239.8382" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if stage == &quot;end&quot; and phrase[#phrase &#45; 1] == COMMA then</text>
<text text-anchor="middle" x="14613" y="-1224.4381" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;table.remove(phrase, #phrase &#45; 1)</text>
<text text-anchor="middle" x="14613" y="-1209.0381" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;disp = disp &#45; COM_LEN</text>
<text text-anchor="middle" x="14613" y="-1193.6381" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="14613" y="-1178.2381" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;old_stack = stack</text>
<text text-anchor="middle" x="14613" y="-1162.838" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="14613" y="-1147.438" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if yielding then</text>
<text text-anchor="middle" x="14613" y="-1132.038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;yielding = false</text>
<text text-anchor="middle" x="14613" y="-1116.6379" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return table.concat(phrase)</text>
<text text-anchor="middle" x="14613" y="-1101.2379" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="14613" y="-1085.8379" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return nil</text>
<text text-anchor="middle" x="14613" y="-1070.4378" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="14613" y="-1055.0378" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="14613" y="-1039.6378" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="14613" y="-1008.2377" font-family="Inconsolata" font-size="14.00" fill="#000000">local function tabulate(...)</text>
<text text-anchor="middle" x="14613" y="-992.8377" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local phrase = {}</text>
<text text-anchor="middle" x="14613" y="-977.4377" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for line in lineGen(...) do</text>
<text text-anchor="middle" x="14613" y="-962.0376" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;phrase[#phrase + 1] = line</text>
<text text-anchor="middle" x="14613" y="-946.6376" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="14613" y="-931.2376" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return table.concat(phrase)</text>
<text text-anchor="middle" x="14613" y="-915.8376" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_176&#45;&gt;leaf_198 -->
<g id="edge198" class="edge">
<title>codeblock_176&#45;&gt;leaf_198</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14447.8473,-2416.4467C14449.3238,-2409.5414 14451.1959,-2400.7858 14453.412,-2390.421"/>
<polygon fill="#000000" stroke="#000000" points="14456.8742,-2390.9676 14455.5425,-2380.4568 14450.0289,-2389.5039 14456.8742,-2390.9676"/>
</g>
<!-- leaf_179 -->
<g id="node180" class="node">
<title>leaf_179</title>
<polygon fill="none" stroke="#c0c0c0" points="12469.5,-509.4203 11984.5,-509.4203 11984.5,-453.6173 12469.5,-453.6173 12469.5,-509.4203"/>
<text text-anchor="middle" x="12227" y="-462.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">This is going to undergo several metamorpheses as we make progress.</text>
</g>
<!-- raw_178&#45;&gt;leaf_179 -->
<g id="edge179" class="edge">
<title>raw_178&#45;&gt;leaf_179</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12528.2903,-1626.0822C12538.3246,-1542.3135 12574.2232,-1182.4249 12489,-907.6375 12439.4359,-747.8266 12316.0744,-587.2036 12258.0708,-517.511"/>
<polygon fill="#000000" stroke="#000000" points="12260.4365,-514.8848 12251.3306,-509.4689 12255.0716,-519.3813 12260.4365,-514.8848"/>
</g>
<!-- leaf_184 -->
<g id="node185" class="node">
<title>leaf_184</title>
<polygon fill="none" stroke="#c0c0c0" points="12644,-501.4209 12488,-501.4209 12488,-461.6167 12644,-461.6167 12644,-501.4209"/>
<text text-anchor="middle" x="12566" y="-470.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">For now, we have the</text>
</g>
<!-- raw_180&#45;&gt;leaf_184 -->
<g id="edge184" class="edge">
<title>raw_180&#45;&gt;leaf_184</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12597.4974,-1625.7785C12593.8483,-1493.2127 12571.4353,-678.9755 12566.8276,-511.5853"/>
<polygon fill="#000000" stroke="#000000" points="12570.3242,-511.409 12566.5503,-501.5091 12563.3268,-511.6017 12570.3242,-511.409"/>
</g>
<!-- leaf_185 -->
<g id="node186" class="node">
<title>leaf_185</title>
<polygon fill="none" stroke="#c0c0c0" points="12716,-499.5188 12662,-499.5188 12662,-463.5188 12716,-463.5188 12716,-499.5188"/>
<text text-anchor="middle" x="12689" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_181&#45;&gt;leaf_185 -->
<g id="edge185" class="edge">
<title>prespace_181&#45;&gt;leaf_185</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12689,-1625.7785C12689,-1492.7803 12689,-673.6559 12689,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="12692.5001,-509.739 12689,-499.739 12685.5001,-509.739 12692.5001,-509.739"/>
</g>
<!-- leaf_186 -->
<g id="node187" class="node">
<title>leaf_186</title>
<polygon fill="none" stroke="#c0c0c0" points="12813.5,-499.5188 12734.5,-499.5188 12734.5,-463.5188 12813.5,-463.5188 12813.5,-499.5188"/>
<text text-anchor="middle" x="12774" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">_tabulate</text>
</g>
<!-- literal_182&#45;&gt;leaf_186 -->
<g id="edge186" class="edge">
<title>literal_182&#45;&gt;leaf_186</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12784.8272,-1625.7785C12783.5688,-1492.7803 12775.818,-673.6559 12774.2692,-509.9678"/>
<polygon fill="#000000" stroke="#000000" points="12777.767,-509.7054 12774.1724,-499.739 12770.7673,-509.7717 12777.767,-509.7054"/>
</g>
<!-- leaf_187 -->
<g id="node188" class="node">
<title>leaf_187</title>
<polygon fill="none" stroke="#c0c0c0" points="13380,-508.7192 12832,-508.7192 12832,-454.3183 13380,-454.3183 13380,-508.7192"/>
<text text-anchor="middle" x="13106" y="-493.4188" font-family="Inconsolata" font-size="14.00" fill="#000000"> function yielding pieces of a table as it</text>
<text text-anchor="middle" x="13106" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">generates them, as well as the printed length (not valid across all Unicode,</text>
<text text-anchor="middle" x="13106" y="-462.6188" font-family="Inconsolata" font-size="14.00" fill="#000000">but let&#39;s shave one yak at a time, shall we?).</text>
</g>
<!-- raw_183&#45;&gt;leaf_187 -->
<g id="edge187" class="edge">
<title>raw_183&#45;&gt;leaf_187</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12985.9163,-1625.7785C12999.6332,-1495.0723 13082.8948,-701.6846 13102.0658,-519.0076"/>
<polygon fill="#000000" stroke="#000000" points="13105.5712,-519.1384 13103.1341,-508.8277 13098.6094,-518.4078 13105.5712,-519.1384"/>
</g>
<!-- leaf_189 -->
<g id="node190" class="node">
<title>leaf_189</title>
<polygon fill="none" stroke="#c0c0c0" points="13946,-508.8192 13398,-508.8192 13398,-454.2184 13946,-454.2184 13946,-508.8192"/>
<text text-anchor="middle" x="13672" y="-477.7188" font-family="Inconsolata" font-size="14.00" fill="#000000">Now for the real fun: we need to keep track of indentation levels, and break</text>
<text text-anchor="middle" x="13672" y="-462.3188" font-family="Inconsolata" font-size="14.00" fill="#000000">&#39;long&#39; maps and arrays up into chunks.</text>
</g>
<!-- raw_188&#45;&gt;leaf_189 -->
<g id="edge189" class="edge">
<title>raw_188&#45;&gt;leaf_189</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13428.8798,-1625.7785C13456.6647,-1495.0072 13625.3894,-700.8942 13664.0927,-518.7351"/>
<polygon fill="#000000" stroke="#000000" points="13667.5429,-519.3368 13666.1977,-508.8277 13660.6957,-517.8819 13667.5429,-519.3368"/>
</g>
<!-- leaf_194 -->
<g id="node195" class="node">
<title>leaf_194</title>
<polygon fill="none" stroke="#c0c0c0" points="14512,-524.1198 13964,-524.1198 13964,-438.9177 14512,-438.9177 14512,-524.1198"/>
<text text-anchor="middle" x="14238" y="-493.1188" font-family="Inconsolata" font-size="14.00" fill="#000000">We&#39;re yielding a &quot;map&quot; string for k/v type tables and an &quot;array&quot; string for</text>
<text text-anchor="middle" x="14238" y="-477.7188" font-family="Inconsolata" font-size="14.00" fill="#000000">array&#45;type, and just &quot;end&quot; for the end of either. &#160;What we need is a classic</text>
<text text-anchor="middle" x="14238" y="-462.3188" font-family="Inconsolata" font-size="14.00" fill="#000000">push&#45;down automaton, and some kind of buffer that&#39;s more sophisticated than</text>
<text text-anchor="middle" x="14238" y="-446.9187" font-family="Inconsolata" font-size="14.00" fill="#000000">just tossing everything into a</text>
</g>
<!-- raw_190&#45;&gt;leaf_194 -->
<g id="edge194" class="edge">
<title>raw_190&#45;&gt;leaf_194</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14043.8803,-1625.8462C14039.166,-1542.4711 14023.7128,-1188.9031 14081,-907.6375 14109.5017,-767.7015 14176.2716,-612.4574 14212.8859,-533.627"/>
<polygon fill="#000000" stroke="#000000" points="14216.1355,-534.94 14217.1969,-524.3985 14209.7934,-531.9773 14216.1355,-534.94"/>
</g>
<!-- leaf_195 -->
<g id="node196" class="node">
<title>leaf_195</title>
<polygon fill="none" stroke="#c0c0c0" points="14584,-499.5188 14530,-499.5188 14530,-463.5188 14584,-463.5188 14584,-499.5188"/>
<text text-anchor="middle" x="14557" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_191&#45;&gt;leaf_195 -->
<g id="edge195" class="edge">
<title>prespace_191&#45;&gt;leaf_195</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14134.4153,-1625.7377C14125.8932,-1522.471 14089.5884,-1013.4952 14192,-907.6375 14294.2769,-801.9191 14417.8744,-976.5282 14521,-871.6375 14618.7441,-772.2205 14583.042,-581.8995 14564.928,-509.9843"/>
<polygon fill="#000000" stroke="#000000" points="14568.2027,-508.6702 14562.2979,-499.8734 14561.4282,-510.4325 14568.2027,-508.6702"/>
</g>
<!-- leaf_196 -->
<g id="node197" class="node">
<title>leaf_196</title>
<polygon fill="none" stroke="#c0c0c0" points="14660,-499.5188 14602,-499.5188 14602,-463.5188 14660,-463.5188 14660,-499.5188"/>
<text text-anchor="middle" x="14631" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">phrase</text>
</g>
<!-- literal_192&#45;&gt;leaf_196 -->
<g id="edge196" class="edge">
<title>literal_192&#45;&gt;leaf_196</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14229.9905,-1625.772C14219.075,-1522.6939 14171.0261,-1014.5822 14272,-907.6375 14370.5572,-803.2524 14492.2299,-973.888 14593,-871.6375 14690.9098,-772.2894 14656.3903,-581.927 14638.7411,-509.9925"/>
<polygon fill="#000000" stroke="#000000" points="14642.0272,-508.7118 14636.1766,-499.8789 14635.242,-510.4324 14642.0272,-508.7118"/>
</g>
<!-- leaf_197 -->
<g id="node198" class="node">
<title>leaf_197</title>
<polygon fill="none" stroke="#c0c0c0" points="14743.5,-499.5188 14678.5,-499.5188 14678.5,-463.5188 14743.5,-463.5188 14743.5,-499.5188"/>
<text text-anchor="middle" x="14711" y="-478.0188" font-family="Inconsolata" font-size="14.00" fill="#000000"> table.</text>
</g>
<!-- raw_193&#45;&gt;leaf_197 -->
<g id="edge197" class="edge">
<title>raw_193&#45;&gt;leaf_197</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14305.8806,-1625.7775C14294.347,-1522.7297 14243.2712,-1014.7567 14344,-907.6375 14443.5558,-801.7657 14566.3957,-974.5576 14669,-871.6375 14767.5825,-772.7516 14735.2229,-582.1113 14718.4079,-510.0476"/>
<polygon fill="#000000" stroke="#000000" points="14721.7108,-508.8143 14715.9611,-499.9154 14714.9064,-510.4576 14721.7108,-508.8143"/>
</g>
<!-- leaf_203 -->
<g id="node204" class="node">
<title>leaf_203</title>
<polygon fill="none" stroke="#c0c0c0" points="15159,-1662.039 14891,-1662.039 14891,-1626.039 15159,-1626.039 15159,-1662.039"/>
<text text-anchor="middle" x="15025" y="-1640.539" font-family="Inconsolata" font-size="14.00" fill="#000000">*** string and cdata pretty&#45;printing</text>
</g>
<!-- header_199&#45;&gt;leaf_203 -->
<g id="edge203" class="edge">
<title>header_199&#45;&gt;leaf_203</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M15025,-2416.0661C15025,-2312.2382 15025,-1799.1501 15025,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="15028.5001,-1672.3125 15025,-1662.3125 15021.5001,-1672.3126 15028.5001,-1672.3125"/>
</g>
<!-- raw_204 -->
<g id="node205" class="node">
<title>raw_204</title>
<ellipse fill="none" stroke="#000000" cx="15204" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="15204" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_200&#45;&gt;raw_204 -->
<g id="edge204" class="edge">
<title>prose_200&#45;&gt;raw_204</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M15216.6978,-2416.0661C15214.9901,-2312.2382 15206.5512,-1799.1501 15204.4663,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="15207.9646,-1672.2536 15204.3006,-1662.3125 15200.9656,-1672.3688 15207.9646,-1672.2536"/>
</g>
<!-- leaf_206 -->
<g id="node207" class="node">
<title>leaf_206</title>
<polygon fill="none" stroke="#c0c0c0" points="15643,-1879.8398 15249,-1879.8398 15249,-1408.2381 15643,-1408.2381 15643,-1879.8398"/>
<text text-anchor="middle" x="15446" y="-1864.7394" font-family="Inconsolata" font-size="14.00" fill="#000000">local find, sub, gsub, byte = string.find, string.sub,</text>
<text text-anchor="middle" x="15446" y="-1849.3393" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;string.gsub, string.byte</text>
<text text-anchor="middle" x="15446" y="-1817.9393" font-family="Inconsolata" font-size="14.00" fill="#000000">local e = function(str)</text>
<text text-anchor="middle" x="15446" y="-1802.5393" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return c.stresc .. str .. c.string</text>
<text text-anchor="middle" x="15446" y="-1787.1393" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="15446" y="-1755.7392" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Turn control characters into their byte rep,</text>
<text text-anchor="middle" x="15446" y="-1740.3392" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; preserving escapes</text>
<text text-anchor="middle" x="15446" y="-1724.9392" font-family="Inconsolata" font-size="14.00" fill="#000000">local function ctrl_pr(str)</text>
<text text-anchor="middle" x="15446" y="-1709.5391" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if byte(str) ~= 27 then</text>
<text text-anchor="middle" x="15446" y="-1694.1391" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return e(&quot;\\&quot; .. byte(str))</text>
<text text-anchor="middle" x="15446" y="-1678.7391" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="15446" y="-1663.339" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return str</text>
<text text-anchor="middle" x="15446" y="-1647.939" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="15446" y="-1632.539" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="15446" y="-1601.1389" font-family="Inconsolata" font-size="14.00" fill="#000000">local function scrub (str)</text>
<text text-anchor="middle" x="15446" y="-1585.7389" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return str:gsub(&quot;\27&quot;, e &quot;\\x1b&quot;)</text>
<text text-anchor="middle" x="15446" y="-1570.3389" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;:gsub(&#39;&quot;&#39;, &#160;e &#39;\\&quot;&#39;)</text>
<text text-anchor="middle" x="15446" y="-1554.9389" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;:gsub(&quot;&#39;&quot;, &#160;e &quot;\\&#39;&quot;)</text>
<text text-anchor="middle" x="15446" y="-1539.5388" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;:gsub(&quot;\a&quot;, e &quot;\\a&quot;)</text>
<text text-anchor="middle" x="15446" y="-1524.1388" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;:gsub(&quot;\b&quot;, e &quot;\\b&quot;)</text>
<text text-anchor="middle" x="15446" y="-1508.7388" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;:gsub(&quot;\f&quot;, e &quot;\\f&quot;)</text>
<text text-anchor="middle" x="15446" y="-1493.3387" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;:gsub(&quot;\n&quot;, e &quot;\\n&quot;)</text>
<text text-anchor="middle" x="15446" y="-1477.9387" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;:gsub(&quot;\r&quot;, e &quot;\\r&quot;)</text>
<text text-anchor="middle" x="15446" y="-1462.5387" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;:gsub(&quot;\t&quot;, e &quot;\\t&quot;)</text>
<text text-anchor="middle" x="15446" y="-1447.1386" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;:gsub(&quot;\v&quot;, e &quot;\\v&quot;)</text>
<text text-anchor="middle" x="15446" y="-1431.7386" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;:gsub(&quot;%c&quot;, ctrl_pr)</text>
<text text-anchor="middle" x="15446" y="-1416.3386" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_201&#45;&gt;leaf_206 -->
<g id="edge206" class="edge">
<title>codeblock_201&#45;&gt;leaf_206</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M15402.0461,-2416.0661C15406.0431,-2345.8607 15420.6932,-2088.539 15431.9934,-1890.057"/>
<polygon fill="#000000" stroke="#000000" points="15435.4886,-1890.2391 15432.5628,-1880.0563 15428.5,-1889.8412 15435.4886,-1890.2391"/>
</g>
<!-- leaf_207 -->
<g id="node208" class="node">
<title>leaf_207</title>
<polygon fill="none" stroke="#c0c0c0" points="15992.5,-1725.0393 15661.5,-1725.0393 15661.5,-1563.0386 15992.5,-1563.0386 15992.5,-1725.0393"/>
<text text-anchor="middle" x="15827" y="-1709.8391" font-family="Inconsolata" font-size="14.00" fill="#000000">local function c_data(value, str)</text>
<text text-anchor="middle" x="15827" y="-1694.4391" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local meta = reflect.getmetatable(value)</text>
<text text-anchor="middle" x="15827" y="-1679.0391" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if meta then</text>
<text text-anchor="middle" x="15827" y="-1663.639" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local mt_str, meta_len = ts(meta)</text>
<text text-anchor="middle" x="15827" y="-1648.239" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;meta_len = meta_len or #mt_str</text>
<text text-anchor="middle" x="15827" y="-1632.839" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return str .. &quot; = &quot; .. mt_str, meta_len</text>
<text text-anchor="middle" x="15827" y="-1617.4389" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="15827" y="-1602.0389" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return str, #str</text>
<text text-anchor="middle" x="15827" y="-1586.6389" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="15827" y="-1571.2388" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_202&#45;&gt;leaf_207 -->
<g id="edge207" class="edge">
<title>codeblock_202&#45;&gt;leaf_207</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M15713.6408,-2416.4467C15726.8949,-2326.1356 15786.5959,-1919.3448 15813.6273,-1735.1577"/>
<polygon fill="#000000" stroke="#000000" points="15817.0965,-1735.6229 15815.0857,-1725.2207 15810.1707,-1734.6064 15817.0965,-1735.6229"/>
</g>
<!-- leaf_205 -->
<g id="node206" class="node">
<title>leaf_205</title>
<polygon fill="none" stroke="#c0c0c0" points="15453.5,-516.8191 14954.5,-516.8191 14954.5,-446.2184 15453.5,-446.2184 15453.5,-516.8191"/>
<text text-anchor="middle" x="15204" y="-469.7188" font-family="Inconsolata" font-size="14.00" fill="#000000">We make a small wrapper function which resets string color in between</text>
<text text-anchor="middle" x="15204" y="-454.3188" font-family="Inconsolata" font-size="14.00" fill="#000000">escapes, then gsub the daylights out of it.</text>
</g>
<!-- raw_204&#45;&gt;leaf_205 -->
<g id="edge205" class="edge">
<title>raw_204&#45;&gt;leaf_205</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M15204,-1625.7785C15204,-1496.9334 15204,-724.1445 15204,-527.1788"/>
<polygon fill="#000000" stroke="#000000" points="15207.5001,-526.8994 15204,-516.8994 15200.5001,-526.8994 15207.5001,-526.8994"/>
</g>
<!-- leaf_213 -->
<g id="node214" class="node">
<title>leaf_213</title>
<polygon fill="none" stroke="#c0c0c0" points="16069,-1662.039 16011,-1662.039 16011,-1626.039 16069,-1626.039 16069,-1662.039"/>
<text text-anchor="middle" x="16040" y="-1640.539" font-family="Inconsolata" font-size="14.00" fill="#000000">*** ts</text>
</g>
<!-- header_208&#45;&gt;leaf_213 -->
<g id="edge213" class="edge">
<title>header_208&#45;&gt;leaf_213</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M16057.5816,-2416.0661C16055.2171,-2312.2382 16043.5324,-1799.1501 16040.6457,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="16044.143,-1672.2302 16040.4161,-1662.3125 16037.1448,-1672.3897 16044.143,-1672.2302"/>
</g>
<!-- raw_214 -->
<g id="node215" class="node">
<title>raw_214</title>
<ellipse fill="none" stroke="#000000" cx="16114" cy="-1644.039" rx="27" ry="18"/>
<text text-anchor="middle" x="16114" y="-1639.839" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_209&#45;&gt;raw_214 -->
<g id="edge214" class="edge">
<title>prose_209&#45;&gt;raw_214</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M16187.2601,-2421.024C16173.9429,-2411.4957 16157.9715,-2397.4066 16150,-2380.4404 16089.4968,-2251.6672 16106.9272,-1791.2156 16112.5628,-1672.2529"/>
<polygon fill="#000000" stroke="#000000" points="16116.0651,-1672.2881 16113.0534,-1662.1303 16109.0733,-1671.9491 16116.0651,-1672.2881"/>
</g>
<!-- leaf_216 -->
<g id="node217" class="node">
<title>leaf_216</title>
<polygon fill="none" stroke="#c0c0c0" points="16640.7403,-2373.6778 16159.2597,-2373.6778 16159.2597,-914.4001 16640.7403,-914.4001 16640.7403,-2373.6778"/>
<text text-anchor="middle" x="16400" y="-2358.6583" font-family="Inconsolata" font-size="14.00" fill="#000000">ts_coro = function (value, hint)</text>
<text text-anchor="middle" x="16400" y="-2343.2583" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local strval = tostring(value) or &quot;&quot;</text>
<text text-anchor="middle" x="16400" y="-2327.8583" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local len = #strval</text>
<text text-anchor="middle" x="16400" y="-2312.4583" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local str = scrub(strval)</text>
<text text-anchor="middle" x="16400" y="-2281.0582" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; For cases more specific than mere type,</text>
<text text-anchor="middle" x="16400" y="-2265.6582" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; we have hints:</text>
<text text-anchor="middle" x="16400" y="-2250.2582" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if hint then</text>
<text text-anchor="middle" x="16400" y="-2234.8581" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if hint == &quot;tab_name&quot; then</text>
<text text-anchor="middle" x="16400" y="-2219.4581" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local tab_name = anti_G[value] or &quot;t:&quot; .. sub(str, &#45;6)</text>
<text text-anchor="middle" x="16400" y="-2204.0581" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;len = #tab_name</text>
<text text-anchor="middle" x="16400" y="-2188.658" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;yield(c.table(tab_name), len)</text>
<text text-anchor="middle" x="16400" y="-2173.258" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;elseif hint == &quot;mt&quot; then</text>
<text text-anchor="middle" x="16400" y="-2157.858" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local mt_name = anti_G[value] or &quot;mt:&quot; .. sub(str, &#45;6)</text>
<text text-anchor="middle" x="16400" y="-2142.4579" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;len = #mt_name + 2</text>
<text text-anchor="middle" x="16400" y="-2127.0579" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;yield(c.metatable(&quot;⟨&quot; .. mt_name .. &quot;⟩&quot;), len); return nil</text>
<text text-anchor="middle" x="16400" y="-2110.6219" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;elseif hints[hint] then</text>
<text text-anchor="middle" x="16400" y="-2095.2219" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;yield(hints[hint](str), len)</text>
<text text-anchor="middle" x="16400" y="-2079.8218" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;elseif c[hint] then</text>
<text text-anchor="middle" x="16400" y="-2064.4218" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;yield(c[hint](str), len)</text>
<text text-anchor="middle" x="16400" y="-2049.0218" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="16400" y="-2033.6217" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="16400" y="-2002.2217" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local typica = type(value)</text>
<text text-anchor="middle" x="16400" y="-1970.8217" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if typica == &quot;table&quot; then</text>
<text text-anchor="middle" x="16400" y="-1955.4216" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; check for a __repr metamethod</text>
<text text-anchor="middle" x="16400" y="-1940.0216" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local _M = getmetatable(value)</text>
<text text-anchor="middle" x="16400" y="-1924.6216" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if _M and _M.__repr and not (hint == &quot;raw&quot;) then</text>
<text text-anchor="middle" x="16400" y="-1909.2215" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local repr_len</text>
<text text-anchor="middle" x="16400" y="-1893.8215" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;str, repr_len &#160;= _M.__repr(value, c)</text>
<text text-anchor="middle" x="16400" y="-1878.4215" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;len = repr_len or len</text>
<text text-anchor="middle" x="16400" y="-1863.0214" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;assert(type(str) == &quot;string&quot;)</text>
<text text-anchor="middle" x="16400" y="-1847.6214" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="16400" y="-1832.2214" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;str = tabulate(value)</text>
<text text-anchor="middle" x="16400" y="-1816.8214" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="16400" y="-1801.4213" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif typica == &quot;function&quot; then</text>
<text text-anchor="middle" x="16400" y="-1786.0213" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local f_label = sub(str,11)</text>
<text text-anchor="middle" x="16400" y="-1770.6213" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;f_label = sub(f_label,1,5) == &quot;built&quot;</text>
<text text-anchor="middle" x="16400" y="-1755.2212" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;and f_label</text>
<text text-anchor="middle" x="16400" y="-1739.8212" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;or &quot;f:&quot; .. sub(str, &#45;6)</text>
<text text-anchor="middle" x="16400" y="-1724.4212" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local func_name = anti_G[value] or f_label</text>
<text text-anchor="middle" x="16400" y="-1709.0211" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;len = #func_name</text>
<text text-anchor="middle" x="16400" y="-1693.6211" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;str = c.func(func_name)</text>
<text text-anchor="middle" x="16400" y="-1678.2211" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif typica == &quot;boolean&quot; then</text>
<text text-anchor="middle" x="16400" y="-1662.821" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;str = value and c.truth(str) or c.falsehood(str)</text>
<text text-anchor="middle" x="16400" y="-1647.421" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif typica == &quot;string&quot; then</text>
<text text-anchor="middle" x="16400" y="-1632.021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if value == &quot;&quot; then</text>
<text text-anchor="middle" x="16400" y="-1616.6209" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;str = c.string(&#39;&quot;&quot;&#39;)</text>
<text text-anchor="middle" x="16400" y="-1601.2209" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;len = 2</text>
<text text-anchor="middle" x="16400" y="-1585.8209" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="16400" y="-1570.4209" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;str = c.string(str)</text>
<text text-anchor="middle" x="16400" y="-1555.0208" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="16400" y="-1539.6208" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif typica == &quot;number&quot; then</text>
<text text-anchor="middle" x="16400" y="-1524.2208" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;str = c.number(str)</text>
<text text-anchor="middle" x="16400" y="-1508.8207" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif typica == &quot;nil&quot; then</text>
<text text-anchor="middle" x="16400" y="-1493.4207" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;str = c.nilness(str)</text>
<text text-anchor="middle" x="16400" y="-1478.0207" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif typica == &quot;thread&quot; then</text>
<text text-anchor="middle" x="16400" y="-1462.6206" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local coro_name = anti_G[value] and &quot;coro:&quot; .. anti_G[value]</text>
<text text-anchor="middle" x="16400" y="-1447.2206" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;or &#160;&quot;coro:&quot; .. sub(str, &#45;6)</text>
<text text-anchor="middle" x="16400" y="-1431.8206" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;len = #coro_name</text>
<text text-anchor="middle" x="16400" y="-1416.4205" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;str = c.thread(coro_name)</text>
<text text-anchor="middle" x="16400" y="-1401.0205" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif typica == &quot;userdata&quot; then</text>
<text text-anchor="middle" x="16400" y="-1385.6205" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if anti_G[value] then</text>
<text text-anchor="middle" x="16400" y="-1370.2204" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;str = c.userdata(anti_G[value])</text>
<text text-anchor="middle" x="16400" y="-1354.8204" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;len = #anti_G[value]</text>
<text text-anchor="middle" x="16400" y="-1339.4204" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="16400" y="-1324.0204" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local name = find(str, &quot;:&quot;)</text>
<text text-anchor="middle" x="16400" y="-1308.6203" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if name then</text>
<text text-anchor="middle" x="16400" y="-1293.2203" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;name = sub(str, 1, name &#45; 1)</text>
<text text-anchor="middle" x="16400" y="-1277.8203" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;len = #name</text>
<text text-anchor="middle" x="16400" y="-1262.4202" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;str = c.userdata(name)</text>
<text text-anchor="middle" x="16400" y="-1247.0202" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="16400" y="-1231.6202" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;str = c.userdata(str)</text>
<text text-anchor="middle" x="16400" y="-1216.2201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="16400" y="-1200.8201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="16400" y="-1185.4201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif typica == &quot;cdata&quot; then</text>
<text text-anchor="middle" x="16400" y="-1170.02" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if anti_G[value] then</text>
<text text-anchor="middle" x="16400" y="-1154.62" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;str = c.cdata(anti_G[value])</text>
<text text-anchor="middle" x="16400" y="-1139.22" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;len = anti_G[value]</text>
<text text-anchor="middle" x="16400" y="-1123.8199" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="16400" y="-1108.4199" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;str = c.cdata(str)</text>
<text text-anchor="middle" x="16400" y="-1093.0199" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="16400" y="-1077.6199" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;str, len = c_data(value, str)</text>
<text text-anchor="middle" x="16400" y="-1062.2198" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="16400" y="-1046.8198" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;yield(str, len)</text>
<text text-anchor="middle" x="16400" y="-1031.4198" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="16400" y="-1000.0197" font-family="Inconsolata" font-size="14.00" fill="#000000">ts = function(...)</text>
<text text-anchor="middle" x="16400" y="-984.6197" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local rep, len, done = wrap(ts_coro)(...)</text>
<text text-anchor="middle" x="16400" y="-969.2197" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return rep, len, done</text>
<text text-anchor="middle" x="16400" y="-953.8196" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="16400" y="-922.4196" font-family="Inconsolata" font-size="14.00" fill="#000000">repr.ts = ts</text>
</g>
<!-- codeblock_210&#45;&gt;leaf_216 -->
<g id="edge216" class="edge">
<title>codeblock_210&#45;&gt;leaf_216</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M16382.4184,-2416.0661C16382.6056,-2407.8467 16382.8512,-2397.0625 16383.1462,-2384.1082"/>
<polygon fill="#000000" stroke="#000000" points="16386.6526,-2383.8627 16383.3813,-2373.7856 16379.6544,-2383.7032 16386.6526,-2383.8627"/>
</g>
<!-- leaf_217 -->
<g id="node218" class="node">
<title>leaf_217</title>
<polygon fill="none" stroke="#c0c0c0" points="16885,-1694.4399 16659,-1694.4399 16659,-1593.638 16885,-1593.638 16885,-1694.4399"/>
<text text-anchor="middle" x="16772" y="-1679.0391" font-family="Inconsolata" font-size="14.00" fill="#000000">function repr.ts_bw(value)</text>
<text text-anchor="middle" x="16772" y="-1663.639" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;c = C.no_color</text>
<text text-anchor="middle" x="16772" y="-1648.239" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local to_string = ts(value)</text>
<text text-anchor="middle" x="16772" y="-1632.839" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;c = C.color</text>
<text text-anchor="middle" x="16772" y="-1617.4389" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return to_string</text>
<text text-anchor="middle" x="16772" y="-1602.0389" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_211&#45;&gt;leaf_217 -->
<g id="edge217" class="edge">
<title>codeblock_211&#45;&gt;leaf_217</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M16677.2549,-2416.0661C16689.1103,-2319.4631 16744.4443,-1868.5754 16764.6172,-1704.1972"/>
<polygon fill="#000000" stroke="#000000" points="16768.0931,-1704.607 16765.8374,-1694.2551 16761.1452,-1703.7542 16768.0931,-1704.607"/>
</g>
<!-- leaf_218 -->
<g id="node219" class="node">
<title>leaf_218</title>
<polygon fill="none" stroke="#c0c0c0" points="16996.5,-1662.039 16903.5,-1662.039 16903.5,-1626.039 16996.5,-1626.039 16996.5,-1662.039"/>
<text text-anchor="middle" x="16950" y="-1640.539" font-family="Inconsolata" font-size="14.00" fill="#000000">return repr</text>
</g>
<!-- codeblock_212&#45;&gt;leaf_218 -->
<g id="edge218" class="edge">
<title>codeblock_212&#45;&gt;leaf_218</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M16918.7439,-2416.0661C16922.9474,-2312.2382 16943.7202,-1799.1501 16948.8521,-1672.3917"/>
<polygon fill="#000000" stroke="#000000" points="16952.3527,-1672.446 16949.2602,-1662.3125 16945.3584,-1672.1627 16952.3527,-1672.446"/>
</g>
<!-- leaf_215 -->
<g id="node216" class="node">
<title>leaf_215</title>
<polygon fill="none" stroke="#c0c0c0" points="16258.5,-509.4203 15969.5,-509.4203 15969.5,-453.6173 16258.5,-453.6173 16258.5,-509.4203"/>
<text text-anchor="middle" x="16114" y="-462.0188" font-family="Inconsolata" font-size="14.00" fill="#000000">Lots of small, nice things in this one.</text>
</g>
<!-- raw_214&#45;&gt;leaf_215 -->
<g id="edge215" class="edge">
<title>raw_214&#45;&gt;leaf_215</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M16114,-1625.7785C16114,-1495.2139 16114,-703.403 16114,-519.6035"/>
<polygon fill="#000000" stroke="#000000" points="16117.5001,-519.3533 16114,-509.3533 16110.5001,-519.3533 16117.5001,-519.3533"/>
</g>
</g>
</svg>
