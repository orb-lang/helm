<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="4477pt" height="5588pt"
 viewBox="0.00 0.00 4476.50 5587.81" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 5583.8096)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-5583.8096 4472.5,-5583.8096 4472.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1943.5" cy="-5561.8096" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="1943.5" y="-5557.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 373</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1943.5" cy="-5489.8096" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="1943.5" y="-5485.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;39</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1943.5,-5543.6409C1943.5,-5535.9405 1943.5,-5526.7839 1943.5,-5518.2262"/>
<polygon fill="#000000" stroke="#000000" points="1947.0001,-5518.2228 1943.5,-5508.2228 1940.0001,-5518.2229 1947.0001,-5518.2228"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="380.5" cy="-5417.8096" rx="49.8395" ry="18"/>
<text text-anchor="middle" x="380.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Reflect</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1882.7429,-5488.406C1645.0365,-5482.7788 777.7004,-5460.9405 503.5,-5435.8096 481.2445,-5433.7698 456.8678,-5430.435 435.7277,-5427.1865"/>
<polygon fill="#000000" stroke="#000000" points="436.0546,-5423.6951 425.6333,-5425.6048 434.9709,-5430.6107 436.0546,-5423.6951"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="544.5" cy="-5417.8096" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="544.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1883.3867,-5486.7158C1647.5483,-5474.5783 788.5828,-5430.3714 587.0332,-5419.9986"/>
<polygon fill="#000000" stroke="#000000" points="587.0199,-5416.4933 576.8532,-5419.4746 586.6601,-5423.4841 587.0199,-5416.4933"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="1521.5" cy="-5417.8096" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1521.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1890.4807,-5480.7636C1805.2769,-5466.2265 1639.6553,-5437.9688 1562.6754,-5424.8348"/>
<polygon fill="#000000" stroke="#000000" points="1562.8653,-5421.3167 1552.4191,-5423.0849 1561.688,-5428.217 1562.8653,-5421.3167"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="2067.5" cy="-5417.8096" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2067.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1971.328,-5473.6514C1990.6475,-5462.4336 2016.4047,-5447.4778 2036.4007,-5435.8673"/>
<polygon fill="#000000" stroke="#000000" points="2038.2484,-5438.8417 2045.1388,-5430.7935 2034.7334,-5432.7882 2038.2484,-5438.8417"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="2626.5" cy="-5417.8096" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2626.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 16&#45;39</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2000.8502,-5483.7639C2124.937,-5470.683 2418.1155,-5439.7769 2554.4554,-5425.4043"/>
<polygon fill="#000000" stroke="#000000" points="2555.2082,-5428.8445 2564.7861,-5424.3153 2554.4743,-5421.883 2555.2082,-5428.8445"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="3392.5" cy="-5417.8096" rx="70.655" ry="18"/>
<text text-anchor="middle" x="3392.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 40&#45;373</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2003.4596,-5486.8302C2232.5909,-5475.4448 3053.0063,-5434.6788 3312.9224,-5421.7637"/>
<polygon fill="#000000" stroke="#000000" points="3313.2229,-5425.2532 3323.0368,-5421.2612 3312.8754,-5418.2619 3313.2229,-5425.2532"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="327,-5363.8096 248,-5363.8096 248,-5327.8096 327,-5327.8096 327,-5363.8096"/>
<text text-anchor="middle" x="287.5" y="-5342.3096" font-family="Inconsolata" font-size="14.00" fill="#000000">* Reflect</text>
</g>
<!-- header_2&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>header_2&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M359.3969,-5401.4717C347.4141,-5392.1947 332.1856,-5380.4049 318.8315,-5370.0662"/>
<polygon fill="#000000" stroke="#000000" points="320.8546,-5367.2062 310.8047,-5363.8519 316.5693,-5372.7412 320.8546,-5367.2062"/>
</g>
<!-- raw_9 -->
<g id="node10" class="node">
<title>raw_9</title>
<ellipse fill="none" stroke="#000000" cx="372.5" cy="-5345.8096" rx="27" ry="18"/>
<text text-anchor="middle" x="372.5" y="-5341.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_9 -->
<g id="edge9" class="edge">
<title>prose_3&#45;&gt;raw_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M517.3795,-5407.8256C489.7247,-5397.4623 445.7167,-5380.4656 408.5,-5363.8096 406.7301,-5363.0175 404.9209,-5362.1856 403.1017,-5361.3318"/>
<polygon fill="#000000" stroke="#000000" points="404.5852,-5358.1616 394.0583,-5356.9641 401.5408,-5364.4649 404.5852,-5358.1616"/>
</g>
<!-- link_10 -->
<g id="node11" class="node">
<title>link_10</title>
<ellipse fill="none" stroke="#000000" cx="444.5" cy="-5345.8096" rx="27" ry="18"/>
<text text-anchor="middle" x="444.5" y="-5341.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">link</text>
</g>
<!-- prose_3&#45;&gt;link_10 -->
<g id="edge10" class="edge">
<title>prose_3&#45;&gt;link_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M524.7432,-5403.5847C509.4264,-5392.5566 488.0444,-5377.1616 471.2036,-5365.0362"/>
<polygon fill="#000000" stroke="#000000" points="473.0275,-5362.0365 462.867,-5359.0338 468.9373,-5367.7173 473.0275,-5362.0365"/>
</g>
<!-- raw_11 -->
<g id="node12" class="node">
<title>raw_11</title>
<ellipse fill="none" stroke="#000000" cx="636.5" cy="-5345.8096" rx="27" ry="18"/>
<text text-anchor="middle" x="636.5" y="-5341.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_11 -->
<g id="edge11" class="edge">
<title>prose_3&#45;&gt;raw_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M563.5625,-5402.8911C577.2401,-5392.1869 595.8236,-5377.6433 610.8092,-5365.9154"/>
<polygon fill="#000000" stroke="#000000" points="612.9924,-5368.6513 618.7104,-5359.7319 608.6782,-5363.1387 612.9924,-5368.6513"/>
</g>
<!-- raw_18 -->
<g id="node19" class="node">
<title>raw_18</title>
<ellipse fill="none" stroke="#000000" cx="1378.5" cy="-5345.8096" rx="27" ry="18"/>
<text text-anchor="middle" x="1378.5" y="-5341.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_18 -->
<g id="edge18" class="edge">
<title>prose_4&#45;&gt;raw_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1497.242,-5405.5958C1472.9706,-5393.3752 1435.5529,-5374.5355 1409.2207,-5361.2773"/>
<polygon fill="#000000" stroke="#000000" points="1410.5716,-5358.0389 1400.0658,-5356.6679 1407.4235,-5364.2912 1410.5716,-5358.0389"/>
</g>
<!-- raw_20 -->
<g id="node21" class="node">
<title>raw_20</title>
<ellipse fill="none" stroke="#000000" cx="1963.5" cy="-5345.8096" rx="27" ry="18"/>
<text text-anchor="middle" x="1963.5" y="-5341.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_20 -->
<g id="edge20" class="edge">
<title>prose_5&#45;&gt;raw_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2046.9529,-5403.5847C2030.9226,-5392.4868 2008.5044,-5376.9665 1990.9397,-5364.8063"/>
<polygon fill="#000000" stroke="#000000" points="1992.4706,-5361.6093 1982.2565,-5358.7948 1988.4862,-5367.3646 1992.4706,-5361.6093"/>
</g>
<!-- link_21 -->
<g id="node22" class="node">
<title>link_21</title>
<ellipse fill="none" stroke="#000000" cx="2172.5" cy="-5345.8096" rx="27" ry="18"/>
<text text-anchor="middle" x="2172.5" y="-5341.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">link</text>
</g>
<!-- prose_5&#45;&gt;link_21 -->
<g id="edge21" class="edge">
<title>prose_5&#45;&gt;link_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2087.9943,-5403.7563C2104.3041,-5392.5725 2127.2781,-5376.8189 2145.1557,-5364.56"/>
<polygon fill="#000000" stroke="#000000" points="2147.2031,-5367.3999 2153.471,-5358.858 2143.2444,-5361.6268 2147.2031,-5367.3999"/>
</g>
<!-- raw_22 -->
<g id="node23" class="node">
<title>raw_22</title>
<ellipse fill="none" stroke="#000000" cx="2291.5" cy="-5345.8096" rx="27" ry="18"/>
<text text-anchor="middle" x="2291.5" y="-5341.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_22 -->
<g id="edge22" class="edge">
<title>prose_5&#45;&gt;raw_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2095.8698,-5408.6907C2137.0448,-5395.4559 2213.2557,-5370.9595 2257.421,-5356.7635"/>
<polygon fill="#000000" stroke="#000000" points="2258.6775,-5360.0361 2267.1267,-5353.6438 2256.5354,-5353.3719 2258.6775,-5360.0361"/>
</g>
<!-- header_29 -->
<g id="node30" class="node">
<title>header_29</title>
<ellipse fill="none" stroke="#000000" cx="2458.5" cy="-5345.8096" rx="76.4002" ry="18"/>
<text text-anchor="middle" x="2458.5" y="-5341.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : License (MIT)</text>
</g>
<!-- section_6&#45;&gt;header_29 -->
<g id="edge29" class="edge">
<title>section_6&#45;&gt;header_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2590.8715,-5402.5402C2565.7991,-5391.7949 2532.0049,-5377.3117 2504.8383,-5365.6689"/>
<polygon fill="#000000" stroke="#000000" points="2506.101,-5362.4022 2495.5308,-5361.6799 2503.3435,-5368.8362 2506.101,-5362.4022"/>
</g>
<!-- prose_30 -->
<g id="node31" class="node">
<title>prose_30</title>
<ellipse fill="none" stroke="#000000" cx="2585.5" cy="-5345.8096" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2585.5" y="-5341.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_30 -->
<g id="edge30" class="edge">
<title>section_6&#45;&gt;prose_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2616.3652,-5400.0118C2611.5632,-5391.5791 2605.7315,-5381.3381 2600.4358,-5372.0384"/>
<polygon fill="#000000" stroke="#000000" points="2603.3667,-5370.1121 2595.3768,-5363.1542 2597.2838,-5373.576 2603.3667,-5370.1121"/>
</g>
<!-- prose_31 -->
<g id="node32" class="node">
<title>prose_31</title>
<ellipse fill="none" stroke="#000000" cx="2667.5" cy="-5345.8096" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2667.5" y="-5341.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_31 -->
<g id="edge31" class="edge">
<title>section_6&#45;&gt;prose_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2636.6348,-5400.0118C2641.4368,-5391.5791 2647.2685,-5381.3381 2652.5642,-5372.0384"/>
<polygon fill="#000000" stroke="#000000" points="2655.7162,-5373.576 2657.6232,-5363.1542 2649.6333,-5370.1121 2655.7162,-5373.576"/>
</g>
<!-- prose_32 -->
<g id="node33" class="node">
<title>prose_32</title>
<ellipse fill="none" stroke="#000000" cx="2809.5" cy="-5345.8096" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2809.5" y="-5341.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_32 -->
<g id="edge32" class="edge">
<title>section_6&#45;&gt;prose_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2664.4177,-5402.8911C2696.3477,-5390.3285 2741.7186,-5372.4777 2773.1872,-5360.0966"/>
<polygon fill="#000000" stroke="#000000" points="2774.8568,-5363.2009 2782.8811,-5356.2826 2772.2939,-5356.6869 2774.8568,-5363.2009"/>
</g>
<!-- prose_33 -->
<g id="node34" class="node">
<title>prose_33</title>
<ellipse fill="none" stroke="#000000" cx="3128.5" cy="-5345.8096" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3128.5" y="-5341.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_33 -->
<g id="edge33" class="edge">
<title>section_6&#45;&gt;prose_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2685.0682,-5409.4094C2787.8171,-5394.6725 2998.0846,-5364.5146 3087.1592,-5351.7389"/>
<polygon fill="#000000" stroke="#000000" points="3087.7537,-5355.1896 3097.1555,-5350.3052 3086.7599,-5348.2605 3087.7537,-5355.1896"/>
</g>
<!-- header_43 -->
<g id="node44" class="node">
<title>header_43</title>
<ellipse fill="none" stroke="#000000" cx="3344.5" cy="-5345.8096" rx="46.4563" ry="18"/>
<text text-anchor="middle" x="3344.5" y="-5341.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : reflect</text>
</g>
<!-- section_7&#45;&gt;header_43 -->
<g id="edge43" class="edge">
<title>section_7&#45;&gt;header_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3380.6348,-5400.0118C3374.9965,-5391.5544 3368.1457,-5381.2781 3361.9313,-5371.9566"/>
<polygon fill="#000000" stroke="#000000" points="3364.6879,-5369.7817 3356.2287,-5363.4026 3358.8635,-5373.6646 3364.6879,-5369.7817"/>
</g>
<!-- prose_44 -->
<g id="node45" class="node">
<title>prose_44</title>
<ellipse fill="none" stroke="#000000" cx="3441.5" cy="-5345.8096" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3441.5" y="-5341.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_44 -->
<g id="edge44" class="edge">
<title>section_7&#45;&gt;prose_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3404.6124,-5400.0118C3410.5143,-5391.3397 3417.7176,-5380.7551 3424.1874,-5371.2485"/>
<polygon fill="#000000" stroke="#000000" points="3427.1316,-5373.1432 3429.8644,-5362.9068 3421.3446,-5369.2048 3427.1316,-5373.1432"/>
</g>
<!-- codeblock_45 -->
<g id="node46" class="node">
<title>codeblock_45</title>
<ellipse fill="none" stroke="#000000" cx="3775.5" cy="-5345.8096" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="3775.5" y="-5341.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 42&#45;373</text>
</g>
<!-- section_7&#45;&gt;codeblock_45 -->
<g id="edge45" class="edge">
<title>section_7&#45;&gt;codeblock_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3449.4254,-5407.1082C3516.7943,-5394.4436 3629.0939,-5373.3324 3702.7221,-5359.4911"/>
<polygon fill="#000000" stroke="#000000" points="3703.6648,-5362.8752 3712.846,-5357.5879 3702.3715,-5355.9957 3703.6648,-5362.8752"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="219,-2773.7061 0,-2773.7061 0,-2701.9037 219,-2701.9037 219,-2773.7061"/>
<text text-anchor="middle" x="109.5" y="-2710.3049" font-family="Inconsolata" font-size="14.00" fill="#000000">This lovely library has been </text>
</g>
<!-- raw_9&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>raw_9&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M350.7982,-5334.6783C345.8261,-5332.2891 340.5241,-5329.8669 335.5,-5327.8096 289.0673,-5308.7956 258.7213,-5331.8621 228.5,-5291.8096 -83.7721,-4877.9537 74.7612,-3092.8247 104.9,-2783.552"/>
<polygon fill="#000000" stroke="#000000" points="108.3843,-2783.8829 105.8764,-2773.5892 101.4176,-2783.2001 108.3843,-2783.8829"/>
</g>
<!-- anchortext_13 -->
<g id="node14" class="node">
<title>anchortext_13</title>
<ellipse fill="none" stroke="#000000" cx="288.5" cy="-2737.8049" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="288.5" y="-2733.6049" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">anchortext</text>
</g>
<!-- link_10&#45;&gt;anchortext_13 -->
<g id="edge13" class="edge">
<title>link_10&#45;&gt;anchortext_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M422.5795,-5334.9325C395.5937,-5321.3243 352.7835,-5298.9402 348.5,-5291.8096 211.927,-5064.4602 278.1847,-3032.3582 287.4755,-2766.4567"/>
<polygon fill="#000000" stroke="#000000" points="290.9859,-2766.2195 287.8398,-2756.1026 283.9902,-2765.9733 290.9859,-2766.2195"/>
</g>
<!-- url_14 -->
<g id="node15" class="node">
<title>url_14</title>
<ellipse fill="none" stroke="#000000" cx="384.5" cy="-2737.8049" rx="27" ry="18"/>
<text text-anchor="middle" x="384.5" y="-2733.6049" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">url</text>
</g>
<!-- link_10&#45;&gt;url_14 -->
<g id="edge14" class="edge">
<title>link_10&#45;&gt;url_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M434.8601,-5328.9094C429.5048,-5318.5578 423.3605,-5304.8362 420.5,-5291.8096 307.3337,-4776.4576 373.4503,-3012.3345 383.3262,-2766.365"/>
<polygon fill="#000000" stroke="#000000" points="386.8339,-2766.243 383.7409,-2756.1097 379.8396,-2765.9601 386.8339,-2766.243"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="963.5,-2765.1053 429.5,-2765.1053 429.5,-2710.5045 963.5,-2710.5045 963.5,-2765.1053"/>
<text text-anchor="middle" x="696.5" y="-2734.0049" font-family="Inconsolata" font-size="14.00" fill="#000000">so we can find names for struct fields and otherwise iterate over compound</text>
<text text-anchor="middle" x="696.5" y="-2718.6049" font-family="Inconsolata" font-size="14.00" fill="#000000">data in C.</text>
</g>
<!-- raw_11&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>raw_11&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M636.9152,-5327.7629C641.8216,-5114.4949 688.6885,-3077.3447 695.6399,-2775.1893"/>
<polygon fill="#000000" stroke="#000000" points="699.1392,-2775.2564 695.8702,-2765.1785 692.1411,-2775.0953 699.1392,-2775.2564"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="282,-91.9001 189,-91.9001 189,-55.9001 282,-55.9001 282,-91.9001"/>
<text text-anchor="middle" x="235.5" y="-70.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">borrowed in</text>
</g>
<!-- anchortext_13&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>anchortext_13&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M288.1404,-2719.7322C283.7957,-2501.3559 241.4446,-372.6879 236.0617,-102.1328"/>
<polygon fill="#000000" stroke="#000000" points="239.5577,-101.8914 235.8594,-91.963 232.5591,-102.0307 239.5577,-101.8914"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="575,-91.9001 300,-91.9001 300,-55.9001 575,-55.9001 575,-91.9001"/>
<text text-anchor="middle" x="437.5" y="-70.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">https://github.com/corsix/ffi&#45;reflect</text>
</g>
<!-- url_14&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>url_14&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M383.7919,-2719.7495C377.3908,-2551.5006 331.7619,-1240.4749 420.5,-183.8002 422.8465,-155.8585 428.0021,-124.2489 432.0242,-102.1263"/>
<polygon fill="#000000" stroke="#000000" points="435.504,-102.557 433.8904,-92.0858 428.6219,-101.2778 435.504,-102.557"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="1529.5,-2773.0053 981.5,-2773.0053 981.5,-2702.6045 1529.5,-2702.6045 1529.5,-2773.0053"/>
<text text-anchor="middle" x="1255.5" y="-2741.7049" font-family="Inconsolata" font-size="14.00" fill="#000000">This is going to take awhile: I want to be able to derive both the C type</text>
<text text-anchor="middle" x="1255.5" y="-2726.3049" font-family="Inconsolata" font-size="14.00" fill="#000000">signature and the Lua type signature of a function, and likewise for all the</text>
<text text-anchor="middle" x="1255.5" y="-2710.9049" font-family="Inconsolata" font-size="14.00" fill="#000000">other primitive and compound C types.</text>
</g>
<!-- raw_18&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>raw_18&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1377.6489,-5327.7629C1367.6752,-5116.2877 1273.1227,-3111.4641 1257.6398,-2783.1747"/>
<polygon fill="#000000" stroke="#000000" points="1261.1309,-2782.9016 1257.1636,-2773.0777 1254.1386,-2783.2315 1261.1309,-2782.9016"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="2103,-2757.1055 1548,-2757.1055 1548,-2718.5043 2103,-2718.5043 2103,-2757.1055"/>
<text text-anchor="middle" x="1825.5" y="-2742.0049" font-family="Inconsolata" font-size="14.00" fill="#000000">&quot;Note that typedefs are resolved by the parser, and are therefore not visible</text>
<text text-anchor="middle" x="1825.5" y="-2726.6049" font-family="Inconsolata" font-size="14.00" fill="#000000">when reflected&quot;. &#160;</text>
</g>
<!-- raw_20&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>raw_20&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1962.5451,-5327.7629C1951.1592,-5112.586 1841.529,-3040.7296 1827.071,-2767.4951"/>
<polygon fill="#000000" stroke="#000000" points="1830.5488,-2766.9805 1826.5252,-2757.1794 1823.5586,-2767.3504 1830.5488,-2766.9805"/>
</g>
<!-- anchortext_24 -->
<g id="node25" class="node">
<title>anchortext_24</title>
<ellipse fill="none" stroke="#000000" cx="2172.5" cy="-2737.8049" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="2172.5" y="-2733.6049" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">anchortext</text>
</g>
<!-- link_21&#45;&gt;anchortext_24 -->
<g id="edge24" class="edge">
<title>link_21&#45;&gt;anchortext_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2172.5,-5327.7629C2172.5,-5112.1421 2172.5,-3032.1736 2172.5,-2765.8272"/>
<polygon fill="#000000" stroke="#000000" points="2176.0001,-2765.8065 2172.5,-2755.8066 2169.0001,-2765.8066 2176.0001,-2765.8065"/>
</g>
<!-- url_25 -->
<g id="node26" class="node">
<title>url_25</title>
<ellipse fill="none" stroke="#000000" cx="2268.5" cy="-2737.8049" rx="27" ry="18"/>
<text text-anchor="middle" x="2268.5" y="-2733.6049" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">url</text>
</g>
<!-- link_21&#45;&gt;url_25 -->
<g id="edge25" class="edge">
<title>link_21&#45;&gt;url_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2193.0017,-5333.802C2206.9616,-5324.3572 2224.3339,-5309.8032 2232.5,-5291.8096 2342.0857,-5050.3431 2278.3195,-3030.5041 2269.4723,-2766.2741"/>
<polygon fill="#000000" stroke="#000000" points="2272.9605,-2765.8618 2269.1257,-2755.9853 2265.9645,-2766.0975 2272.9605,-2765.8618"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="2367.5,-2757.707 2313.5,-2757.707 2313.5,-2717.9028 2367.5,-2717.9028 2367.5,-2757.707"/>
<text text-anchor="middle" x="2340.5" y="-2742.3049" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_22&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>raw_22&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2296.8443,-5327.9943C2299.7091,-5317.5559 2302.9591,-5304.0559 2304.5,-5291.8096 2434.2126,-4260.9351 2356.645,-2977.6597 2342.5637,-2767.5227"/>
<polygon fill="#000000" stroke="#000000" points="2346.0555,-2767.2828 2341.8882,-2757.542 2339.0715,-2767.7555 2346.0555,-2767.2828"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="1498.5,-91.9001 1440.5,-91.9001 1440.5,-55.9001 1498.5,-55.9001 1498.5,-91.9001"/>
<text text-anchor="middle" x="1469.5" y="-70.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">Indeed</text>
</g>
<!-- anchortext_24&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>anchortext_24&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2173.5288,-2719.5442C2185.6968,-2500.3176 2298.4071,-377.4927 2111.5,-183.8002 2064.816,-135.4214 1563.8205,-184.514 1507.5,-147.8002 1491.4866,-137.3615 1481.8698,-117.9316 1476.318,-101.6142"/>
<polygon fill="#000000" stroke="#000000" points="1479.6383,-100.5031 1473.3656,-91.9647 1472.9446,-102.5512 1479.6383,-100.5031"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="1784.5,-91.9001 1516.5,-91.9001 1516.5,-55.9001 1784.5,-55.9001 1784.5,-91.9001"/>
<text text-anchor="middle" x="1650.5" y="-70.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">http://corsix.github.io/ffi&#45;reflect/</text>
</g>
<!-- url_25&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>url_25&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2268.9424,-2719.4769C2274.2769,-2494.9952 2324.466,-282.2156 2232.5,-183.8002 2165.6693,-112.2828 1887.5871,-174.7946 1793.5,-147.8002 1754.597,-136.6386 1713.9442,-114.4543 1685.9722,-97.2913"/>
<polygon fill="#000000" stroke="#000000" points="1687.6914,-94.2385 1677.3543,-91.9156 1683.9866,-100.1778 1687.6914,-94.2385"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2529.5,-2755.8049 2387.5,-2755.8049 2387.5,-2719.8049 2529.5,-2719.8049 2529.5,-2755.8049"/>
<text text-anchor="middle" x="2458.5" y="-2734.3049" font-family="Inconsolata" font-size="14.00" fill="#000000">**** License (MIT)</text>
</g>
<!-- header_29&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>header_29&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2458.5,-5327.7629C2458.5,-5112.1421 2458.5,-3032.1736 2458.5,-2765.8272"/>
<polygon fill="#000000" stroke="#000000" points="2462.0001,-2765.8065 2458.5,-2755.8066 2455.0001,-2765.8066 2462.0001,-2765.8065"/>
</g>
<!-- raw_35 -->
<g id="node36" class="node">
<title>raw_35</title>
<ellipse fill="none" stroke="#000000" cx="2580.5" cy="-2737.8049" rx="27" ry="18"/>
<text text-anchor="middle" x="2580.5" y="-2733.6049" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_30&#45;&gt;raw_35 -->
<g id="edge35" class="edge">
<title>prose_30&#45;&gt;raw_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2585.4654,-5327.7629C2585.052,-5112.1421 2581.0644,-3032.1736 2580.5537,-2765.8272"/>
<polygon fill="#000000" stroke="#000000" points="2584.0538,-2765.7998 2580.5345,-2755.8066 2577.0538,-2765.8133 2584.0538,-2765.7998"/>
</g>
<!-- raw_37 -->
<g id="node38" class="node">
<title>raw_37</title>
<ellipse fill="none" stroke="#000000" cx="2667.5" cy="-2737.8049" rx="27" ry="18"/>
<text text-anchor="middle" x="2667.5" y="-2733.6049" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_31&#45;&gt;raw_37 -->
<g id="edge37" class="edge">
<title>prose_31&#45;&gt;raw_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2667.5,-5327.7629C2667.5,-5112.1421 2667.5,-3032.1736 2667.5,-2765.8272"/>
<polygon fill="#000000" stroke="#000000" points="2671.0001,-2765.8065 2667.5,-2755.8066 2664.0001,-2765.8066 2671.0001,-2765.8065"/>
</g>
<!-- raw_39 -->
<g id="node40" class="node">
<title>raw_39</title>
<ellipse fill="none" stroke="#000000" cx="3171.5" cy="-2737.8049" rx="27" ry="18"/>
<text text-anchor="middle" x="3171.5" y="-2733.6049" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_32&#45;&gt;raw_39 -->
<g id="edge39" class="edge">
<title>prose_32&#45;&gt;raw_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2812.0049,-5327.7629C2841.9338,-5112.1421 3130.6406,-3032.1736 3167.6104,-2765.8272"/>
<polygon fill="#000000" stroke="#000000" points="3171.0931,-2766.1928 3169.0013,-2755.8066 3164.1596,-2765.2304 3171.0931,-2766.1928"/>
</g>
<!-- raw_41 -->
<g id="node42" class="node">
<title>raw_41</title>
<ellipse fill="none" stroke="#000000" cx="3250.5" cy="-2737.8049" rx="27" ry="18"/>
<text text-anchor="middle" x="3250.5" y="-2733.6049" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_33&#45;&gt;raw_41 -->
<g id="edge41" class="edge">
<title>prose_33&#45;&gt;raw_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3155.2789,-5335.3943C3173.5554,-5326.7203 3196.3928,-5312.4335 3207.5,-5291.8096 3333.2401,-5058.3348 3261.5519,-3031.5537 3251.5947,-2766.3775"/>
<polygon fill="#000000" stroke="#000000" points="3255.0797,-2765.9124 3251.2046,-2756.0517 3248.0847,-2766.1767 3255.0797,-2765.9124"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="2372,-109.2005 1803,-109.2005 1803,-38.5998 2372,-38.5998 2372,-109.2005"/>
<text text-anchor="middle" x="2087.5" y="-62.1001" font-family="Inconsolata" font-size="14.00" fill="#000000">LuaJIT FFI reflection Library</text>
<text text-anchor="middle" x="2087.5" y="-46.7001" font-family="Inconsolata" font-size="14.00" fill="#000000">Copyright (C) 2014 Peter Cawley [[mailto:lua@corsix.org]]. All rights reserved.</text>
</g>
<!-- raw_35&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>raw_35&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2581.5368,-2719.6672C2593.8171,-2501.9014 2708.0614,-392.7936 2538.5,-183.8002 2493.1231,-127.8708 2450.5332,-164.6082 2380.5,-147.8002 2332.9941,-136.3988 2281.278,-123.5132 2234.7013,-111.7319"/>
<polygon fill="#000000" stroke="#000000" points="2235.3969,-108.2977 2224.8437,-109.2356 2233.6784,-115.0835 2235.3969,-108.2977"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="2945,-132.301 2390,-132.301 2390,-15.4992 2945,-15.4992 2945,-132.301"/>
<text text-anchor="middle" x="2667.5" y="-100.9002" font-family="Inconsolata" font-size="14.00" fill="#000000">Permission is hereby granted, free of charge, to any person obtaining a copy</text>
<text text-anchor="middle" x="2667.5" y="-85.5002" font-family="Inconsolata" font-size="14.00" fill="#000000">of this software and associated documentation files (the &quot;Software&quot;), to deal</text>
<text text-anchor="middle" x="2667.5" y="-70.1001" font-family="Inconsolata" font-size="14.00" fill="#000000">in the Software without restriction, including without limitation the rights</text>
<text text-anchor="middle" x="2667.5" y="-54.7001" font-family="Inconsolata" font-size="14.00" fill="#000000">to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</text>
<text text-anchor="middle" x="2667.5" y="-39.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">copies of the Software, and to permit persons to whom the Software is</text>
<text text-anchor="middle" x="2667.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">furnished to do so, subject to the following conditions:</text>
</g>
<!-- raw_37&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>raw_37&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2667.5,-2719.7322C2667.5,-2509.9269 2667.5,-536.8401 2667.5,-142.3488"/>
<polygon fill="#000000" stroke="#000000" points="2671.0001,-142.2296 2667.5,-132.2296 2664.0001,-142.2297 2671.0001,-142.2296"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="3497.5,-101.2005 2963.5,-101.2005 2963.5,-46.5997 3497.5,-46.5997 3497.5,-101.2005"/>
<text text-anchor="middle" x="3230.5" y="-70.1001" font-family="Inconsolata" font-size="14.00" fill="#000000">The above copyright notice and this permission notice shall be included in</text>
<text text-anchor="middle" x="3230.5" y="-54.7001" font-family="Inconsolata" font-size="14.00" fill="#000000">all copies or substantial portions of the Software.</text>
</g>
<!-- raw_39&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>raw_39&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3170.9215,-2719.7535C3165.7118,-2551.5419 3129.0124,-1240.7879 3214.5,-183.8002 3216.4636,-159.5221 3220.3854,-132.443 3223.8547,-111.2394"/>
<polygon fill="#000000" stroke="#000000" points="3227.3127,-111.7808 3225.5108,-101.3403 3220.4086,-110.6256 3227.3127,-111.7808"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="4071,-147.7005 3516,-147.7005 3516,-.0998 4071,-.0998 4071,-147.7005"/>
<text text-anchor="middle" x="3793.5" y="-116.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</text>
<text text-anchor="middle" x="3793.5" y="-101.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</text>
<text text-anchor="middle" x="3793.5" y="-85.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. &#160;IN NO EVENT SHALL THE</text>
<text text-anchor="middle" x="3793.5" y="-70.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</text>
<text text-anchor="middle" x="3793.5" y="-55.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</text>
<text text-anchor="middle" x="3793.5" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN</text>
<text text-anchor="middle" x="3793.5" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">THE SOFTWARE.</text>
</g>
<!-- raw_41&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>raw_41&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3250.104,-2719.5051C3245.3336,-2495.3656 3200.596,-285.8622 3288.5,-183.8002 3318.7905,-148.631 3443.6885,-156.8373 3505.8594,-147.571"/>
<polygon fill="#000000" stroke="#000000" points="3506.7534,-150.9672 3515.9891,-145.7756 3505.5317,-144.0746 3506.7534,-150.9672"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="3391,-2755.8049 3298,-2755.8049 3298,-2719.8049 3391,-2719.8049 3391,-2755.8049"/>
<text text-anchor="middle" x="3344.5" y="-2734.3049" font-family="Inconsolata" font-size="14.00" fill="#000000">*** reflect</text>
</g>
<!-- header_43&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>header_43&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3344.5,-5327.7629C3344.5,-5112.1421 3344.5,-3032.1736 3344.5,-2765.8272"/>
<polygon fill="#000000" stroke="#000000" points="3348.0001,-2765.8065 3344.5,-2755.8066 3341.0001,-2765.8066 3348.0001,-2765.8065"/>
</g>
<!-- raw_47 -->
<g id="node48" class="node">
<title>raw_47</title>
<ellipse fill="none" stroke="#000000" cx="3441.5" cy="-2737.8049" rx="27" ry="18"/>
<text text-anchor="middle" x="3441.5" y="-2733.6049" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_44&#45;&gt;raw_47 -->
<g id="edge47" class="edge">
<title>prose_44&#45;&gt;raw_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3441.5,-5327.7629C3441.5,-5112.1421 3441.5,-3032.1736 3441.5,-2765.8272"/>
<polygon fill="#000000" stroke="#000000" points="3445.0001,-2765.8065 3441.5,-2755.8066 3438.0001,-2765.8066 3445.0001,-2765.8065"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="4468.5,-5291.8143 3486.5,-5291.8143 3486.5,-183.7955 4468.5,-183.7955 4468.5,-5291.8143"/>
<text text-anchor="middle" x="3977.5" y="-5276.6096" font-family="Inconsolata" font-size="14.00" fill="#000000">local ffi = require &quot;ffi&quot;</text>
<text text-anchor="middle" x="3977.5" y="-5261.2095" font-family="Inconsolata" font-size="14.00" fill="#000000">local bit = require &quot;bit&quot;</text>
<text text-anchor="middle" x="3977.5" y="-5245.8095" font-family="Inconsolata" font-size="14.00" fill="#000000">local reflect = {}</text>
<text text-anchor="middle" x="3977.5" y="-5214.4095" font-family="Inconsolata" font-size="14.00" fill="#000000">local CTState, init_CTState</text>
<text text-anchor="middle" x="3977.5" y="-5199.0095" font-family="Inconsolata" font-size="14.00" fill="#000000">local miscmap, init_miscmap</text>
<text text-anchor="middle" x="3977.5" y="-5167.6094" font-family="Inconsolata" font-size="14.00" fill="#000000">local function gc_str(gcref) &#45;&#45; Convert a GCref (to a GCstr) into a string</text>
<text text-anchor="middle" x="3977.5" y="-5152.2094" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if gcref ~= 0 then</text>
<text text-anchor="middle" x="3977.5" y="-5136.8094" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local ts = ffi.cast(&quot;uint32_t*&quot;, gcref)</text>
<text text-anchor="middle" x="3977.5" y="-5121.4093" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return ffi.string(ts + 4, ts[3])</text>
<text text-anchor="middle" x="3977.5" y="-5106.0093" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3977.5" y="-5090.6093" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3977.5" y="-5059.2092" font-family="Inconsolata" font-size="14.00" fill="#000000">local typeinfo = ffi.typeinfo</text>
<text text-anchor="middle" x="3977.5" y="-5027.8092" font-family="Inconsolata" font-size="14.00" fill="#000000">local function memptr(gcobj)</text>
<text text-anchor="middle" x="3977.5" y="-5012.4092" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return tonumber(tostring(gcobj):match&quot;%x*$&quot;, 16)</text>
<text text-anchor="middle" x="3977.5" y="-4997.0091" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3977.5" y="-4965.6091" font-family="Inconsolata" font-size="14.00" fill="#000000">init_CTState = function()</text>
<text text-anchor="middle" x="3977.5" y="-4950.2091" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; Relevant minimal definitions from lj_ctype.h</text>
<text text-anchor="middle" x="3977.5" y="-4934.8091" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;ffi.cdef [[</text>
<text text-anchor="middle" x="3977.5" y="-4919.409" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;typedef struct CType {</text>
<text text-anchor="middle" x="3977.5" y="-4904.009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uint32_t info;</text>
<text text-anchor="middle" x="3977.5" y="-4888.609" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uint32_t size;</text>
<text text-anchor="middle" x="3977.5" y="-4873.2089" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uint16_t sib;</text>
<text text-anchor="middle" x="3977.5" y="-4857.8089" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uint16_t next;</text>
<text text-anchor="middle" x="3977.5" y="-4842.4089" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uint32_t name;</text>
<text text-anchor="middle" x="3977.5" y="-4827.0088" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;} CType;</text>
<text text-anchor="middle" x="3977.5" y="-4795.6088" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;typedef struct CTState {</text>
<text text-anchor="middle" x="3977.5" y="-4780.2088" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;CType *tab;</text>
<text text-anchor="middle" x="3977.5" y="-4764.8087" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uint32_t top;</text>
<text text-anchor="middle" x="3977.5" y="-4749.4087" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uint32_t sizetab;</text>
<text text-anchor="middle" x="3977.5" y="-4734.0087" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;void *L;</text>
<text text-anchor="middle" x="3977.5" y="-4718.6086" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;void *g;</text>
<text text-anchor="middle" x="3977.5" y="-4703.2086" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;void *finalizer;</text>
<text text-anchor="middle" x="3977.5" y="-4687.8086" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;void *miscmap;</text>
<text text-anchor="middle" x="3977.5" y="-4672.4086" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;} CTState;</text>
<text text-anchor="middle" x="3977.5" y="-4657.0085" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;]]</text>
<text text-anchor="middle" x="3977.5" y="-4625.6085" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; Acquire a pointer to this Lua universe&#39;s CTState</text>
<text text-anchor="middle" x="3977.5" y="-4610.2085" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local co = coroutine.create(function()end) &#45;&#45; Any live coroutine will do.</text>
<text text-anchor="middle" x="3977.5" y="-4594.8084" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local uint32_ptr = ffi.typeof(&quot;uint32_t*&quot;)</text>
<text text-anchor="middle" x="3977.5" y="-4579.4084" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local G = ffi.cast(uint32_ptr, ffi.cast(uint32_ptr, memptr(co))[2])</text>
<text text-anchor="middle" x="3977.5" y="-4564.0084" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; In global_State, `MRef ctype_state` is immediately before `GCRef gcroot[GCROOT_MAX]`.</text>
<text text-anchor="middle" x="3977.5" y="-4548.6083" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; We first find (an entry in) gcroot by looking for a metamethod name string.</text>
<text text-anchor="middle" x="3977.5" y="-4533.2083" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local anchor = ffi.cast(&quot;uint32_t&quot;, ffi.cast(&quot;const char*&quot;, &quot;__index&quot;))</text>
<text text-anchor="middle" x="3977.5" y="-4517.8083" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local i = 0</text>
<text text-anchor="middle" x="3977.5" y="-4502.4082" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;while math.abs(tonumber(G[i] &#45; anchor)) &gt; 64 do</text>
<text text-anchor="middle" x="3977.5" y="-4487.0082" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;i = i + 1</text>
<text text-anchor="middle" x="3977.5" y="-4471.6082" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3977.5" y="-4456.2081" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; We then work backwards looking for something resembling ctype_state.</text>
<text text-anchor="middle" x="3977.5" y="-4440.8081" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;repeat</text>
<text text-anchor="middle" x="3977.5" y="-4425.4081" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;i = i &#45; 1</text>
<text text-anchor="middle" x="3977.5" y="-4410.0081" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;CTState = ffi.cast(&quot;CTState*&quot;, G[i])</text>
<text text-anchor="middle" x="3977.5" y="-4394.608" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;until ffi.cast(uint32_ptr, CTState.g) == G</text>
<text text-anchor="middle" x="3977.5" y="-4363.208" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return CTState</text>
<text text-anchor="middle" x="3977.5" y="-4347.808" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3977.5" y="-4316.4079" font-family="Inconsolata" font-size="14.00" fill="#000000">init_miscmap = function()</text>
<text text-anchor="middle" x="3977.5" y="-4301.0079" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; Acquire the CTState&#39;s miscmap table as a Lua variable</text>
<text text-anchor="middle" x="3977.5" y="-4285.6079" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local t = {}; t[0] = t</text>
<text text-anchor="middle" x="3977.5" y="-4270.2078" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local tvalue = ffi.cast(&quot;uint32_t*&quot;, memptr(t))[2]</text>
<text text-anchor="middle" x="3977.5" y="-4254.8078" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;ffi.cast(&quot;uint32_t*&quot;, tvalue)[ffi.abi&quot;le&quot; and 0 or 1] = ffi.cast(&quot;uint32_t&quot;, ffi.cast(&quot;uintptr_t&quot;, (CTState or init_CTState()).miscmap))</text>
<text text-anchor="middle" x="3977.5" y="-4239.4078" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;miscmap = t[0]</text>
<text text-anchor="middle" x="3977.5" y="-4224.0077" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return miscmap</text>
<text text-anchor="middle" x="3977.5" y="-4208.6077" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3977.5" y="-4177.2077" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Information for unpacking a `struct CType`.</text>
<text text-anchor="middle" x="3977.5" y="-4161.8076" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; One table per CT_* constant, containing:</text>
<text text-anchor="middle" x="3977.5" y="-4146.4076" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; * A name for that CT_</text>
<text text-anchor="middle" x="3977.5" y="-4131.0076" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; * Roles of the cid and size fields.</text>
<text text-anchor="middle" x="3977.5" y="-4115.6076" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; * Whether the sib field is meaningful.</text>
<text text-anchor="middle" x="3977.5" y="-4100.2075" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; * Zero or more applicable boolean flags.</text>
<text text-anchor="middle" x="3977.5" y="-4084.8075" font-family="Inconsolata" font-size="14.00" fill="#000000">local CTs = {[0] =</text>
<text text-anchor="middle" x="3977.5" y="-4069.4075" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;int&quot;,</text>
<text text-anchor="middle" x="3977.5" y="-4054.0074" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;&quot;, &quot;size&quot;, false,</text>
<text text-anchor="middle" x="3977.5" y="-4038.6074" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x08000000, &quot;bool&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-4023.2074" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x04000000, &quot;float&quot;, &quot;subwhat&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-4007.8073" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x02000000, &quot;const&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3992.4073" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x01000000, &quot;volatile&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3977.0073" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x00800000, &quot;unsigned&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3961.6072" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x00400000, &quot;long&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3946.2072" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="3977.5" y="-3930.8072" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;struct&quot;,</text>
<text text-anchor="middle" x="3977.5" y="-3915.4071" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;&quot;, &quot;size&quot;, true,</text>
<text text-anchor="middle" x="3977.5" y="-3900.0071" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x02000000, &quot;const&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3884.6071" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x01000000, &quot;volatile&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3869.2071" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x00800000, &quot;union&quot;, &quot;subwhat&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3853.807" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x00100000, &quot;vla&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3838.407" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="3977.5" y="-3823.007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;ptr&quot;,</text>
<text text-anchor="middle" x="3977.5" y="-3807.6069" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;element_type&quot;, &quot;size&quot;, false,</text>
<text text-anchor="middle" x="3977.5" y="-3792.2069" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x02000000, &quot;const&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3776.8069" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x01000000, &quot;volatile&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3761.4068" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x00800000, &quot;ref&quot;, &quot;subwhat&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3746.0068" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="3977.5" y="-3730.6068" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;array&quot;,</text>
<text text-anchor="middle" x="3977.5" y="-3715.2067" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;element_type&quot;, &quot;size&quot;, false,</text>
<text text-anchor="middle" x="3977.5" y="-3699.8067" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x08000000, &quot;vector&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3684.4067" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x04000000, &quot;complex&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3669.0066" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x02000000, &quot;const&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3653.6066" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x01000000, &quot;volatile&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3638.2066" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x00100000, &quot;vla&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3622.8066" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="3977.5" y="-3607.4065" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;void&quot;,</text>
<text text-anchor="middle" x="3977.5" y="-3592.0065" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;&quot;, &quot;size&quot;, false,</text>
<text text-anchor="middle" x="3977.5" y="-3576.6065" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x02000000, &quot;const&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3561.2064" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x01000000, &quot;volatile&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3545.8064" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="3977.5" y="-3530.4064" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;enum&quot;,</text>
<text text-anchor="middle" x="3977.5" y="-3515.0063" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;type&quot;, &quot;size&quot;, true,</text>
<text text-anchor="middle" x="3977.5" y="-3499.6063" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="3977.5" y="-3484.2063" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;func&quot;,</text>
<text text-anchor="middle" x="3977.5" y="-3468.8062" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;return_type&quot;, &quot;nargs&quot;, true,</text>
<text text-anchor="middle" x="3977.5" y="-3453.4062" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x00800000, &quot;vararg&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3438.0062" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x00400000, &quot;sse_reg_params&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3422.6061" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="3977.5" y="-3407.2061" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;typedef&quot;, &#45;&#45; Not seen</text>
<text text-anchor="middle" x="3977.5" y="-3391.8061" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;element_type&quot;, &quot;&quot;, false,</text>
<text text-anchor="middle" x="3977.5" y="-3376.4061" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="3977.5" y="-3361.006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;attrib&quot;, &#45;&#45; Only seen internally</text>
<text text-anchor="middle" x="3977.5" y="-3345.606" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;type&quot;, &quot;value&quot;, true,</text>
<text text-anchor="middle" x="3977.5" y="-3330.206" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="3977.5" y="-3314.8059" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;field&quot;,</text>
<text text-anchor="middle" x="3977.5" y="-3299.4059" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;type&quot;, &quot;offset&quot;, true,</text>
<text text-anchor="middle" x="3977.5" y="-3284.0059" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="3977.5" y="-3268.6058" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;bitfield&quot;,</text>
<text text-anchor="middle" x="3977.5" y="-3253.2058" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;&quot;, &quot;offset&quot;, true,</text>
<text text-anchor="middle" x="3977.5" y="-3237.8058" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x08000000, &quot;bool&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3222.4057" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x02000000, &quot;const&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3207.0057" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x01000000, &quot;volatile&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3191.6057" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x00800000, &quot;unsigned&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3176.2056" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="3977.5" y="-3160.8056" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;constant&quot;,</text>
<text text-anchor="middle" x="3977.5" y="-3145.4056" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;type&quot;, &quot;value&quot;, true,</text>
<text text-anchor="middle" x="3977.5" y="-3130.0056" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x02000000, &quot;const&quot;},</text>
<text text-anchor="middle" x="3977.5" y="-3114.6055" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="3977.5" y="-3099.2055" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;extern&quot;, &#45;&#45; Not seen</text>
<text text-anchor="middle" x="3977.5" y="-3083.8055" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;CID&quot;, &quot;&quot;, true,</text>
<text text-anchor="middle" x="3977.5" y="-3068.4054" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="3977.5" y="-3053.0054" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;kw&quot;, &#45;&#45; Not seen</text>
<text text-anchor="middle" x="3977.5" y="-3037.6054" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;TOK&quot;, &quot;size&quot;,</text>
<text text-anchor="middle" x="3977.5" y="-3022.2053" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="3977.5" y="-3006.8053" font-family="Inconsolata" font-size="14.00" fill="#000000">}</text>
<text text-anchor="middle" x="3977.5" y="-2975.4053" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Set of CType::cid roles which are a CTypeID.</text>
<text text-anchor="middle" x="3977.5" y="-2960.0052" font-family="Inconsolata" font-size="14.00" fill="#000000">local type_keys = {</text>
<text text-anchor="middle" x="3977.5" y="-2944.6052" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;element_type = true,</text>
<text text-anchor="middle" x="3977.5" y="-2929.2052" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return_type = true,</text>
<text text-anchor="middle" x="3977.5" y="-2913.8051" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;value_type = true,</text>
<text text-anchor="middle" x="3977.5" y="-2898.4051" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;type = true,</text>
<text text-anchor="middle" x="3977.5" y="-2883.0051" font-family="Inconsolata" font-size="14.00" fill="#000000">}</text>
<text text-anchor="middle" x="3977.5" y="-2851.6051" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Create a metatable for each CT.</text>
<text text-anchor="middle" x="3977.5" y="-2836.205" font-family="Inconsolata" font-size="14.00" fill="#000000">local metatables = {</text>
<text text-anchor="middle" x="3977.5" y="-2820.805" font-family="Inconsolata" font-size="14.00" fill="#000000">}</text>
<text text-anchor="middle" x="3977.5" y="-2805.405" font-family="Inconsolata" font-size="14.00" fill="#000000">for _, CT in ipairs(CTs) do</text>
<text text-anchor="middle" x="3977.5" y="-2790.0049" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local what = CT[1]</text>
<text text-anchor="middle" x="3977.5" y="-2774.6049" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local mt = {__index = {}}</text>
<text text-anchor="middle" x="3977.5" y="-2759.2049" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;metatables[what] = mt</text>
<text text-anchor="middle" x="3977.5" y="-2743.8048" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3977.5" y="-2712.4048" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Logic for merging an attribute CType onto the annotated CType.</text>
<text text-anchor="middle" x="3977.5" y="-2697.0048" font-family="Inconsolata" font-size="14.00" fill="#000000">local CTAs = {[0] =</text>
<text text-anchor="middle" x="3977.5" y="-2681.6047" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;function(a, refct) error(&quot;TODO: CTA_NONE&quot;) end,</text>
<text text-anchor="middle" x="3977.5" y="-2666.2047" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;function(a, refct) error(&quot;TODO: CTA_QUAL&quot;) end,</text>
<text text-anchor="middle" x="3977.5" y="-2650.8047" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;function(a, refct)</text>
<text text-anchor="middle" x="3977.5" y="-2635.4047" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;a = 2^a.value</text>
<text text-anchor="middle" x="3977.5" y="-2620.0046" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct.alignment = a</text>
<text text-anchor="middle" x="3977.5" y="-2604.6046" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct.attributes.align = a</text>
<text text-anchor="middle" x="3977.5" y="-2589.2046" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end,</text>
<text text-anchor="middle" x="3977.5" y="-2573.8045" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;function(a, refct)</text>
<text text-anchor="middle" x="3977.5" y="-2558.4045" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct.transparent = true</text>
<text text-anchor="middle" x="3977.5" y="-2543.0045" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct.attributes.subtype = refct.typeid</text>
<text text-anchor="middle" x="3977.5" y="-2527.6044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end,</text>
<text text-anchor="middle" x="3977.5" y="-2512.2044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;function(a, refct) refct.sym_name = a.name end,</text>
<text text-anchor="middle" x="3977.5" y="-2496.8044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;function(a, refct) error(&quot;TODO: CTA_BAD&quot;) end,</text>
<text text-anchor="middle" x="3977.5" y="-2481.4043" font-family="Inconsolata" font-size="14.00" fill="#000000">}</text>
<text text-anchor="middle" x="3977.5" y="-2450.0043" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; C function calling conventions (CTCC_* constants in lj_refct.h)</text>
<text text-anchor="middle" x="3977.5" y="-2434.6043" font-family="Inconsolata" font-size="14.00" fill="#000000">local CTCCs = {[0] =</text>
<text text-anchor="middle" x="3977.5" y="-2419.2042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&quot;cdecl&quot;,</text>
<text text-anchor="middle" x="3977.5" y="-2403.8042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&quot;thiscall&quot;,</text>
<text text-anchor="middle" x="3977.5" y="-2388.4042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&quot;fastcall&quot;,</text>
<text text-anchor="middle" x="3977.5" y="-2373.0042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&quot;stdcall&quot;,</text>
<text text-anchor="middle" x="3977.5" y="-2357.6041" font-family="Inconsolata" font-size="14.00" fill="#000000">}</text>
<text text-anchor="middle" x="3977.5" y="-2326.2041" font-family="Inconsolata" font-size="14.00" fill="#000000">local function refct_from_id(id) &#45;&#45; refct = refct_from_id(CTypeID)</text>
<text text-anchor="middle" x="3977.5" y="-2310.8041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local ctype = typeinfo(id)</text>
<text text-anchor="middle" x="3977.5" y="-2295.404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local CT_code = bit.rshift(ctype.info, 28)</text>
<text text-anchor="middle" x="3977.5" y="-2280.004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local CT = CTs[CT_code]</text>
<text text-anchor="middle" x="3977.5" y="-2264.604" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local what = CT[1]</text>
<text text-anchor="middle" x="3977.5" y="-2249.2039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local refct = setmetatable({</text>
<text text-anchor="middle" x="3977.5" y="-2233.8039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;what = what,</text>
<text text-anchor="middle" x="3977.5" y="-2218.4039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;typeid = id,</text>
<text text-anchor="middle" x="3977.5" y="-2203.0038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;name = ctype.name,</text>
<text text-anchor="middle" x="3977.5" y="-2187.6038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;}, metatables[what])</text>
<text text-anchor="middle" x="3977.5" y="-2156.2038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; Interpret (most of) the CType::info field</text>
<text text-anchor="middle" x="3977.5" y="-2140.8037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 5, #CT do</text>
<text text-anchor="middle" x="3977.5" y="-2125.4037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if bit.band(ctype.info, CT[i][1]) ~= 0 then</text>
<text text-anchor="middle" x="3977.5" y="-2110.0037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if CT[i][3] == &quot;subwhat&quot; then</text>
<text text-anchor="middle" x="3977.5" y="-2094.6037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;refct.what = CT[i][2]</text>
<text text-anchor="middle" x="3977.5" y="-2079.2036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3977.5" y="-2063.8036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;refct[CT[i][2]] = true</text>
<text text-anchor="middle" x="3977.5" y="-2048.4036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3977.5" y="-2033.0035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3977.5" y="-2017.6035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3977.5" y="-2002.2035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if CT_code &lt;= 5 then</text>
<text text-anchor="middle" x="3977.5" y="-1986.8034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct.alignment = bit.lshift(1, bit.band(bit.rshift(ctype.info, 16), 15))</text>
<text text-anchor="middle" x="3977.5" y="-1971.4034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;elseif what == &quot;func&quot; then</text>
<text text-anchor="middle" x="3977.5" y="-1956.0034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct.convention = CTCCs[bit.band(bit.rshift(ctype.info, 16), 3)]</text>
<text text-anchor="middle" x="3977.5" y="-1940.6033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3977.5" y="-1909.2033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if CT[2] ~= &quot;&quot; then &#45;&#45; Interpret the CType::cid field</text>
<text text-anchor="middle" x="3977.5" y="-1893.8033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local k = CT[2]</text>
<text text-anchor="middle" x="3977.5" y="-1878.4032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local cid = bit.band(ctype.info, 0xffff)</text>
<text text-anchor="middle" x="3977.5" y="-1863.0032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if type_keys[k] then</text>
<text text-anchor="middle" x="3977.5" y="-1847.6032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if cid == 0 then</text>
<text text-anchor="middle" x="3977.5" y="-1832.2032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;cid = nil</text>
<text text-anchor="middle" x="3977.5" y="-1816.8031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3977.5" y="-1801.4031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;cid = refct_from_id(cid)</text>
<text text-anchor="middle" x="3977.5" y="-1786.0031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3977.5" y="-1770.603" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3977.5" y="-1755.203" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct[k] = cid</text>
<text text-anchor="middle" x="3977.5" y="-1739.803" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3977.5" y="-1708.4029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if CT[3] ~= &quot;&quot; then &#45;&#45; Interpret the CType::size field</text>
<text text-anchor="middle" x="3977.5" y="-1693.0029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local k = CT[3]</text>
<text text-anchor="middle" x="3977.5" y="-1677.6029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct[k] = ctype.size or (k == &quot;size&quot; and &quot;none&quot;)</text>
<text text-anchor="middle" x="3977.5" y="-1662.2028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3977.5" y="-1630.8028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if what == &quot;attrib&quot; then</text>
<text text-anchor="middle" x="3977.5" y="-1615.4028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Merge leading attributes onto the type being decorated.</text>
<text text-anchor="middle" x="3977.5" y="-1600.0027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local CTA = CTAs[bit.band(bit.rshift(ctype.info, 16), 0xff)]</text>
<text text-anchor="middle" x="3977.5" y="-1584.6027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if refct.type then</text>
<text text-anchor="middle" x="3977.5" y="-1569.2027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local ct = refct.type</text>
<text text-anchor="middle" x="3977.5" y="-1553.8027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;ct.attributes = {}</text>
<text text-anchor="middle" x="3977.5" y="-1538.4026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;CTA(refct, ct)</text>
<text text-anchor="middle" x="3977.5" y="-1523.0026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;ct.typeid = refct.typeid</text>
<text text-anchor="middle" x="3977.5" y="-1507.6026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;refct = ct</text>
<text text-anchor="middle" x="3977.5" y="-1492.2025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3977.5" y="-1476.8025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;refct.CTA = CTA</text>
<text text-anchor="middle" x="3977.5" y="-1461.4025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3977.5" y="-1446.0024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;elseif what == &quot;bitfield&quot; then</text>
<text text-anchor="middle" x="3977.5" y="-1430.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Decode extra bitfield fields, and make it look like a normal field.</text>
<text text-anchor="middle" x="3977.5" y="-1415.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct.offset = refct.offset + bit.band(ctype.info, 127) / 8</text>
<text text-anchor="middle" x="3977.5" y="-1399.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct.size = bit.band(bit.rshift(ctype.info, 8), 127) / 8</text>
<text text-anchor="middle" x="3977.5" y="-1384.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct.type = {</text>
<text text-anchor="middle" x="3977.5" y="-1369.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;what = &quot;int&quot;,</text>
<text text-anchor="middle" x="3977.5" y="-1353.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;bool = refct.bool,</text>
<text text-anchor="middle" x="3977.5" y="-1338.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;const = refct.const,</text>
<text text-anchor="middle" x="3977.5" y="-1322.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;volatile = refct.volatile,</text>
<text text-anchor="middle" x="3977.5" y="-1307.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;unsigned = refct.unsigned,</text>
<text text-anchor="middle" x="3977.5" y="-1292.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;size = bit.band(bit.rshift(ctype.info, 16), 127),</text>
<text text-anchor="middle" x="3977.5" y="-1276.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;}</text>
<text text-anchor="middle" x="3977.5" y="-1261.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct.bool, refct.const, refct.volatile, refct.unsigned = nil</text>
<text text-anchor="middle" x="3977.5" y="-1245.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3977.5" y="-1214.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if CT[4] then &#45;&#45; Merge sibling attributes onto this type.</text>
<text text-anchor="middle" x="3977.5" y="-1199.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;while ctype.sib do</text>
<text text-anchor="middle" x="3977.5" y="-1183.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local entry = typeinfo(ctype.sib)</text>
<text text-anchor="middle" x="3977.5" y="-1168.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if CTs[bit.rshift(entry.info, 28)][1] ~= &quot;attrib&quot; then break end</text>
<text text-anchor="middle" x="3977.5" y="-1152.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if bit.band(entry.info, 0xffff) ~= 0 then break end</text>
<text text-anchor="middle" x="3977.5" y="-1137.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local sib = refct_from_id(ctype.sib)</text>
<text text-anchor="middle" x="3977.5" y="-1122.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;sib:CTA(refct)</text>
<text text-anchor="middle" x="3977.5" y="-1106.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;ctype = entry</text>
<text text-anchor="middle" x="3977.5" y="-1091.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3977.5" y="-1075.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3977.5" y="-1044.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return refct</text>
<text text-anchor="middle" x="3977.5" y="-1029.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3977.5" y="-997.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">local function sib_iter(s, refct)</text>
<text text-anchor="middle" x="3977.5" y="-982.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;repeat</text>
<text text-anchor="middle" x="3977.5" y="-966.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local ctype = typeinfo(refct.typeid)</text>
<text text-anchor="middle" x="3977.5" y="-951.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if not ctype.sib then return end</text>
<text text-anchor="middle" x="3977.5" y="-936.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct = refct_from_id(ctype.sib)</text>
<text text-anchor="middle" x="3977.5" y="-920.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;until refct.what ~= &quot;attrib&quot; &#45;&#45; Pure attribs are skipped.</text>
<text text-anchor="middle" x="3977.5" y="-905.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return refct</text>
<text text-anchor="middle" x="3977.5" y="-889.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3977.5" y="-858.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">local function siblings(refct)</text>
<text text-anchor="middle" x="3977.5" y="-843.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; Follow to the end of the attrib chain, if any.</text>
<text text-anchor="middle" x="3977.5" y="-827.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;while refct.attributes do</text>
<text text-anchor="middle" x="3977.5" y="-812.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct = refct_from_id(refct.attributes.subtype or typeinfo(refct.typeid).sib)</text>
<text text-anchor="middle" x="3977.5" y="-796.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3977.5" y="-765.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return sib_iter, nil, refct</text>
<text text-anchor="middle" x="3977.5" y="-750.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3977.5" y="-718.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">metatables.struct.__index.members = siblings</text>
<text text-anchor="middle" x="3977.5" y="-703.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">metatables.func.__index.arguments = siblings</text>
<text text-anchor="middle" x="3977.5" y="-687.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">metatables.enum.__index.values = siblings</text>
<text text-anchor="middle" x="3977.5" y="-656.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">local function find_sibling(refct, name)</text>
<text text-anchor="middle" x="3977.5" y="-641.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local num = tonumber(name)</text>
<text text-anchor="middle" x="3977.5" y="-625.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if num then</text>
<text text-anchor="middle" x="3977.5" y="-610.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for sib in siblings(refct) do</text>
<text text-anchor="middle" x="3977.5" y="-594.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if num == 1 then</text>
<text text-anchor="middle" x="3977.5" y="-579.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return sib</text>
<text text-anchor="middle" x="3977.5" y="-564.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3977.5" y="-548.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;num = num &#45; 1</text>
<text text-anchor="middle" x="3977.5" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3977.5" y="-517.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="3977.5" y="-502.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for sib in siblings(refct) do</text>
<text text-anchor="middle" x="3977.5" y="-487.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if sib.name == name then</text>
<text text-anchor="middle" x="3977.5" y="-471.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return sib</text>
<text text-anchor="middle" x="3977.5" y="-456.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3977.5" y="-440.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3977.5" y="-425.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3977.5" y="-410.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3977.5" y="-378.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">metatables.struct.__index.member = find_sibling</text>
<text text-anchor="middle" x="3977.5" y="-363.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">metatables.func.__index.argument = find_sibling</text>
<text text-anchor="middle" x="3977.5" y="-347.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">metatables.enum.__index.value = find_sibling</text>
<text text-anchor="middle" x="3977.5" y="-316.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">function reflect.typeof(x) &#45;&#45; refct = reflect.typeof(ct)</text>
<text text-anchor="middle" x="3977.5" y="-301.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return refct_from_id(tonumber(ffi.typeof(x)))</text>
<text text-anchor="middle" x="3977.5" y="-285.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3977.5" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">function reflect.getmetatable(x) &#45;&#45; mt = reflect.getmetatable(ct)</text>
<text text-anchor="middle" x="3977.5" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return (miscmap or init_miscmap())[&#45;tonumber(ffi.typeof(x))]</text>
<text text-anchor="middle" x="3977.5" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3977.5" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">return reflect</text>
</g>
<!-- codeblock_45&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>codeblock_45&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3776.8978,-5327.7629C3777.4249,-5320.9577 3778.0958,-5312.2955 3778.9016,-5301.8918"/>
<polygon fill="#000000" stroke="#000000" points="3782.3965,-5302.0916 3779.6793,-5291.8512 3775.4174,-5301.551 3782.3965,-5302.0916"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="4143.5,-91.9001 4089.5,-91.9001 4089.5,-55.9001 4143.5,-55.9001 4143.5,-91.9001"/>
</g>
<!-- raw_47&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>raw_47&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3441.0492,-2719.469C3435.6133,-2494.8914 3384.4525,-281.1938 3477.5,-183.8002 3523.7887,-135.3494 4023.5666,-184.6998 4079.5,-147.8002 4095.3691,-137.3313 4104.723,-117.9024 4110.0549,-101.5931"/>
<polygon fill="#000000" stroke="#000000" points="4113.4275,-102.5299 4112.8772,-91.9493 4106.7093,-100.5637 4113.4275,-102.5299"/>
</g>
</g>
</svg>
