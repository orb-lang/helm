<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="4829pt" height="5660pt"
 viewBox="0.00 0.00 4828.50 5659.81" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 5655.8096)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-5655.8096 4824.5,-5655.8096 4824.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1943.5" cy="-5633.8096" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="1943.5" y="-5629.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 376</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1943.5" cy="-5561.8096" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="1943.5" y="-5557.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;42</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1943.5,-5615.6409C1943.5,-5607.9405 1943.5,-5598.7839 1943.5,-5590.2262"/>
<polygon fill="#000000" stroke="#000000" points="1947.0001,-5590.2228 1943.5,-5580.2228 1940.0001,-5590.2229 1947.0001,-5590.2228"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="380.5" cy="-5489.8096" rx="49.8395" ry="18"/>
<text text-anchor="middle" x="380.5" y="-5485.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Reflect</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1882.7429,-5560.406C1645.0365,-5554.7788 777.7004,-5532.9405 503.5,-5507.8096 481.2445,-5505.7698 456.8678,-5502.435 435.7277,-5499.1865"/>
<polygon fill="#000000" stroke="#000000" points="436.0546,-5495.6951 425.6333,-5497.6048 434.9709,-5502.6107 436.0546,-5495.6951"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="544.5" cy="-5489.8096" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="544.5" y="-5485.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1883.3867,-5558.7158C1647.5483,-5546.5783 788.5828,-5502.3714 587.0332,-5491.9986"/>
<polygon fill="#000000" stroke="#000000" points="587.0199,-5488.4933 576.8532,-5491.4746 586.6601,-5495.4841 587.0199,-5488.4933"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="1521.5" cy="-5489.8096" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1521.5" y="-5485.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1890.4807,-5552.7636C1805.2769,-5538.2265 1639.6553,-5509.9688 1562.6754,-5496.8348"/>
<polygon fill="#000000" stroke="#000000" points="1562.8653,-5493.3167 1552.4191,-5495.0849 1561.688,-5500.217 1562.8653,-5493.3167"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="2067.5" cy="-5489.8096" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2067.5" y="-5485.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1971.328,-5545.6514C1990.6475,-5534.4336 2016.4047,-5519.4778 2036.4007,-5507.8673"/>
<polygon fill="#000000" stroke="#000000" points="2038.2484,-5510.8417 2045.1388,-5502.7935 2034.7334,-5504.7882 2038.2484,-5510.8417"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="2667.5" cy="-5489.8096" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2667.5" y="-5485.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 16&#45;42</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2001.2198,-5556.0695C2132.2447,-5543.0394 2451.8878,-5511.2517 2595.5236,-5496.9675"/>
<polygon fill="#000000" stroke="#000000" points="2595.9516,-5500.4422 2605.5561,-5495.9697 2595.2588,-5493.4766 2595.9516,-5500.4422"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="3744.5" cy="-5489.8096" rx="70.655" ry="18"/>
<text text-anchor="middle" x="3744.5" y="-5485.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 43&#45;376</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2003.9375,-5559.3934C2272.6409,-5548.6513 3359.0574,-5505.2187 3664.3495,-5493.0138"/>
<polygon fill="#000000" stroke="#000000" points="3664.5952,-5496.5069 3674.4474,-5492.6101 3664.3155,-5489.5125 3664.5952,-5496.5069"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="327,-5435.8096 248,-5435.8096 248,-5399.8096 327,-5399.8096 327,-5435.8096"/>
<text text-anchor="middle" x="287.5" y="-5414.3096" font-family="Inconsolata" font-size="14.00" fill="#000000">* Reflect</text>
</g>
<!-- header_2&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>header_2&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M359.3969,-5473.4717C347.4141,-5464.1947 332.1856,-5452.4049 318.8315,-5442.0662"/>
<polygon fill="#000000" stroke="#000000" points="320.8546,-5439.2062 310.8047,-5435.8519 316.5693,-5444.7412 320.8546,-5439.2062"/>
</g>
<!-- raw_9 -->
<g id="node10" class="node">
<title>raw_9</title>
<ellipse fill="none" stroke="#000000" cx="372.5" cy="-5417.8096" rx="27" ry="18"/>
<text text-anchor="middle" x="372.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_9 -->
<g id="edge9" class="edge">
<title>prose_3&#45;&gt;raw_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M517.3795,-5479.8256C489.7247,-5469.4623 445.7167,-5452.4656 408.5,-5435.8096 406.7301,-5435.0175 404.9209,-5434.1856 403.1017,-5433.3318"/>
<polygon fill="#000000" stroke="#000000" points="404.5852,-5430.1616 394.0583,-5428.9641 401.5408,-5436.4649 404.5852,-5430.1616"/>
</g>
<!-- link_10 -->
<g id="node11" class="node">
<title>link_10</title>
<ellipse fill="none" stroke="#000000" cx="444.5" cy="-5417.8096" rx="27" ry="18"/>
<text text-anchor="middle" x="444.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">link</text>
</g>
<!-- prose_3&#45;&gt;link_10 -->
<g id="edge10" class="edge">
<title>prose_3&#45;&gt;link_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M524.7432,-5475.5847C509.4264,-5464.5566 488.0444,-5449.1616 471.2036,-5437.0362"/>
<polygon fill="#000000" stroke="#000000" points="473.0275,-5434.0365 462.867,-5431.0338 468.9373,-5439.7173 473.0275,-5434.0365"/>
</g>
<!-- raw_11 -->
<g id="node12" class="node">
<title>raw_11</title>
<ellipse fill="none" stroke="#000000" cx="636.5" cy="-5417.8096" rx="27" ry="18"/>
<text text-anchor="middle" x="636.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_11 -->
<g id="edge11" class="edge">
<title>prose_3&#45;&gt;raw_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M563.5625,-5474.8911C577.2401,-5464.1869 595.8236,-5449.6433 610.8092,-5437.9154"/>
<polygon fill="#000000" stroke="#000000" points="612.9924,-5440.6513 618.7104,-5431.7319 608.6782,-5435.1387 612.9924,-5440.6513"/>
</g>
<!-- raw_18 -->
<g id="node19" class="node">
<title>raw_18</title>
<ellipse fill="none" stroke="#000000" cx="1378.5" cy="-5417.8096" rx="27" ry="18"/>
<text text-anchor="middle" x="1378.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_18 -->
<g id="edge18" class="edge">
<title>prose_4&#45;&gt;raw_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1497.242,-5477.5958C1472.9706,-5465.3752 1435.5529,-5446.5355 1409.2207,-5433.2773"/>
<polygon fill="#000000" stroke="#000000" points="1410.5716,-5430.0389 1400.0658,-5428.6679 1407.4235,-5436.2912 1410.5716,-5430.0389"/>
</g>
<!-- raw_20 -->
<g id="node21" class="node">
<title>raw_20</title>
<ellipse fill="none" stroke="#000000" cx="1963.5" cy="-5417.8096" rx="27" ry="18"/>
<text text-anchor="middle" x="1963.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_20 -->
<g id="edge20" class="edge">
<title>prose_5&#45;&gt;raw_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2046.9529,-5475.5847C2030.9226,-5464.4868 2008.5044,-5448.9665 1990.9397,-5436.8063"/>
<polygon fill="#000000" stroke="#000000" points="1992.4706,-5433.6093 1982.2565,-5430.7948 1988.4862,-5439.3646 1992.4706,-5433.6093"/>
</g>
<!-- link_21 -->
<g id="node22" class="node">
<title>link_21</title>
<ellipse fill="none" stroke="#000000" cx="2172.5" cy="-5417.8096" rx="27" ry="18"/>
<text text-anchor="middle" x="2172.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">link</text>
</g>
<!-- prose_5&#45;&gt;link_21 -->
<g id="edge21" class="edge">
<title>prose_5&#45;&gt;link_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2087.9943,-5475.7563C2104.3041,-5464.5725 2127.2781,-5448.8189 2145.1557,-5436.56"/>
<polygon fill="#000000" stroke="#000000" points="2147.2031,-5439.3999 2153.471,-5430.858 2143.2444,-5433.6268 2147.2031,-5439.3999"/>
</g>
<!-- raw_22 -->
<g id="node23" class="node">
<title>raw_22</title>
<ellipse fill="none" stroke="#000000" cx="2291.5" cy="-5417.8096" rx="27" ry="18"/>
<text text-anchor="middle" x="2291.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_22 -->
<g id="edge22" class="edge">
<title>prose_5&#45;&gt;raw_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2095.8698,-5480.6907C2137.0448,-5467.4559 2213.2557,-5442.9595 2257.421,-5428.7635"/>
<polygon fill="#000000" stroke="#000000" points="2258.6775,-5432.0361 2267.1267,-5425.6438 2256.5354,-5425.3719 2258.6775,-5432.0361"/>
</g>
<!-- header_29 -->
<g id="node30" class="node">
<title>header_29</title>
<ellipse fill="none" stroke="#000000" cx="2458.5" cy="-5417.8096" rx="76.4002" ry="18"/>
<text text-anchor="middle" x="2458.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : License (MIT)</text>
</g>
<!-- section_6&#45;&gt;header_29 -->
<g id="edge29" class="edge">
<title>section_6&#45;&gt;header_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2626.2083,-5475.5847C2593.369,-5464.2716 2547.1899,-5448.3631 2511.6015,-5436.1029"/>
<polygon fill="#000000" stroke="#000000" points="2512.4591,-5432.6966 2501.8644,-5432.7485 2510.1791,-5439.3148 2512.4591,-5432.6966"/>
</g>
<!-- prose_30 -->
<g id="node31" class="node">
<title>prose_30</title>
<ellipse fill="none" stroke="#000000" cx="2585.5" cy="-5417.8096" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2585.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_30 -->
<g id="edge30" class="edge">
<title>section_6&#45;&gt;prose_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2647.6501,-5472.3804C2636.5588,-5462.6417 2622.6239,-5450.4062 2610.7613,-5439.9902"/>
<polygon fill="#000000" stroke="#000000" points="2612.764,-5437.091 2602.9403,-5433.123 2608.1454,-5442.3511 2612.764,-5437.091"/>
</g>
<!-- prose_31 -->
<g id="node32" class="node">
<title>prose_31</title>
<ellipse fill="none" stroke="#000000" cx="2667.5" cy="-5417.8096" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2667.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_31 -->
<g id="edge31" class="edge">
<title>section_6&#45;&gt;prose_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2667.5,-5471.6409C2667.5,-5463.9405 2667.5,-5454.7839 2667.5,-5446.2262"/>
<polygon fill="#000000" stroke="#000000" points="2671.0001,-5446.2228 2667.5,-5436.2228 2664.0001,-5446.2229 2671.0001,-5446.2228"/>
</g>
<!-- prose_32 -->
<g id="node33" class="node">
<title>prose_32</title>
<ellipse fill="none" stroke="#000000" cx="2985.5" cy="-5417.8096" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2985.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_32 -->
<g id="edge32" class="edge">
<title>section_6&#45;&gt;prose_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2718.2397,-5478.3214C2781.43,-5464.0141 2888.0655,-5439.8702 2945.6863,-5426.824"/>
<polygon fill="#000000" stroke="#000000" points="2946.5349,-5430.2205 2955.5151,-5424.5986 2944.9891,-5423.3933 2946.5349,-5430.2205"/>
</g>
<!-- prose_33 -->
<g id="node34" class="node">
<title>prose_33</title>
<ellipse fill="none" stroke="#000000" cx="3310.5" cy="-5417.8096" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3310.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_33 -->
<g id="edge33" class="edge">
<title>section_6&#45;&gt;prose_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2728.5716,-5482.9711C2858.246,-5468.4508 3158.2338,-5434.8596 3268.6915,-5422.4911"/>
<polygon fill="#000000" stroke="#000000" points="3269.2288,-5425.9529 3278.7772,-5421.3617 3268.4498,-5418.9964 3269.2288,-5425.9529"/>
</g>
<!-- structure_34 -->
<g id="node35" class="node">
<title>structure_34</title>
<ellipse fill="none" stroke="#000000" cx="3526.5" cy="-5417.8096" rx="44.5182" ry="18"/>
<text text-anchor="middle" x="3526.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">structure</text>
</g>
<!-- section_6&#45;&gt;structure_34 -->
<g id="edge34" class="edge">
<title>section_6&#45;&gt;structure_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2731.1954,-5485.2877C2852.1593,-5476.5877 3123.4329,-5456.5385 3351.5,-5435.8096 3392.2966,-5432.1016 3438.3816,-5427.3381 3473.015,-5423.6429"/>
<polygon fill="#000000" stroke="#000000" points="3473.8068,-5427.0782 3483.3771,-5422.5327 3473.0611,-5420.118 3473.8068,-5427.0782"/>
</g>
<!-- header_47 -->
<g id="node48" class="node">
<title>header_47</title>
<ellipse fill="none" stroke="#000000" cx="3696.5" cy="-5417.8096" rx="46.4563" ry="18"/>
<text text-anchor="middle" x="3696.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : reflect</text>
</g>
<!-- section_7&#45;&gt;header_47 -->
<g id="edge47" class="edge">
<title>section_7&#45;&gt;header_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3732.6348,-5472.0118C3726.9965,-5463.5544 3720.1457,-5453.2781 3713.9313,-5443.9566"/>
<polygon fill="#000000" stroke="#000000" points="3716.6879,-5441.7817 3708.2287,-5435.4026 3710.8635,-5445.6646 3716.6879,-5441.7817"/>
</g>
<!-- prose_48 -->
<g id="node49" class="node">
<title>prose_48</title>
<ellipse fill="none" stroke="#000000" cx="3793.5" cy="-5417.8096" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3793.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_48 -->
<g id="edge48" class="edge">
<title>section_7&#45;&gt;prose_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3756.6124,-5472.0118C3762.5143,-5463.3397 3769.7176,-5452.7551 3776.1874,-5443.2485"/>
<polygon fill="#000000" stroke="#000000" points="3779.1316,-5445.1432 3781.8644,-5434.9068 3773.3446,-5441.2048 3779.1316,-5445.1432"/>
</g>
<!-- codeblock_49 -->
<g id="node50" class="node">
<title>codeblock_49</title>
<ellipse fill="none" stroke="#000000" cx="4127.5" cy="-5417.8096" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="4127.5" y="-5413.6096" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 45&#45;376</text>
</g>
<!-- section_7&#45;&gt;codeblock_49 -->
<g id="edge49" class="edge">
<title>section_7&#45;&gt;codeblock_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3801.4254,-5479.1082C3868.7943,-5466.4436 3981.0939,-5445.3324 4054.7221,-5431.4911"/>
<polygon fill="#000000" stroke="#000000" points="4055.6648,-5434.8752 4064.846,-5429.5879 4054.3715,-5427.9957 4055.6648,-5434.8752"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="219,-2845.7061 0,-2845.7061 0,-2773.9037 219,-2773.9037 219,-2845.7061"/>
<text text-anchor="middle" x="109.5" y="-2782.3049" font-family="Inconsolata" font-size="14.00" fill="#000000">This lovely library has been </text>
</g>
<!-- raw_9&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>raw_9&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M350.7982,-5406.6783C345.8261,-5404.2891 340.5241,-5401.8669 335.5,-5399.8096 289.0673,-5380.7956 258.7213,-5403.8621 228.5,-5363.8096 -83.7721,-4949.9537 74.7612,-3164.8247 104.9,-2855.552"/>
<polygon fill="#000000" stroke="#000000" points="108.3843,-2855.8829 105.8764,-2845.5892 101.4176,-2855.2001 108.3843,-2855.8829"/>
</g>
<!-- anchortext_13 -->
<g id="node14" class="node">
<title>anchortext_13</title>
<ellipse fill="none" stroke="#000000" cx="288.5" cy="-2809.8049" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="288.5" y="-2805.6049" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">anchortext</text>
</g>
<!-- link_10&#45;&gt;anchortext_13 -->
<g id="edge13" class="edge">
<title>link_10&#45;&gt;anchortext_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M422.5795,-5406.9325C395.5937,-5393.3243 352.7835,-5370.9402 348.5,-5363.8096 211.927,-5136.4602 278.1847,-3104.3582 287.4755,-2838.4567"/>
<polygon fill="#000000" stroke="#000000" points="290.9859,-2838.2195 287.8398,-2828.1026 283.9902,-2837.9733 290.9859,-2838.2195"/>
</g>
<!-- url_14 -->
<g id="node15" class="node">
<title>url_14</title>
<ellipse fill="none" stroke="#000000" cx="384.5" cy="-2809.8049" rx="27" ry="18"/>
<text text-anchor="middle" x="384.5" y="-2805.6049" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">url</text>
</g>
<!-- link_10&#45;&gt;url_14 -->
<g id="edge14" class="edge">
<title>link_10&#45;&gt;url_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M434.8601,-5400.9094C429.5048,-5390.5578 423.3605,-5376.8362 420.5,-5363.8096 307.3337,-4848.4576 373.4503,-3084.3345 383.3262,-2838.365"/>
<polygon fill="#000000" stroke="#000000" points="386.8339,-2838.243 383.7409,-2828.1097 379.8396,-2837.9601 386.8339,-2838.243"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="963.5,-2837.1053 429.5,-2837.1053 429.5,-2782.5045 963.5,-2782.5045 963.5,-2837.1053"/>
<text text-anchor="middle" x="696.5" y="-2806.0049" font-family="Inconsolata" font-size="14.00" fill="#000000">so we can find names for struct fields and otherwise iterate over compound</text>
<text text-anchor="middle" x="696.5" y="-2790.6049" font-family="Inconsolata" font-size="14.00" fill="#000000">data in C.</text>
</g>
<!-- raw_11&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>raw_11&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M636.9152,-5399.7629C641.8216,-5186.4949 688.6885,-3149.3447 695.6399,-2847.1893"/>
<polygon fill="#000000" stroke="#000000" points="699.1392,-2847.2564 695.8702,-2837.1785 692.1411,-2847.0953 699.1392,-2847.2564"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="282,-163.9001 189,-163.9001 189,-127.9001 282,-127.9001 282,-163.9001"/>
<text text-anchor="middle" x="235.5" y="-142.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">borrowed in</text>
</g>
<!-- anchortext_13&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>anchortext_13&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M288.1404,-2791.7322C283.7957,-2573.3559 241.4446,-444.6879 236.0617,-174.1328"/>
<polygon fill="#000000" stroke="#000000" points="239.5577,-173.8914 235.8594,-163.963 232.5591,-174.0307 239.5577,-173.8914"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="575,-163.9001 300,-163.9001 300,-127.9001 575,-127.9001 575,-163.9001"/>
<text text-anchor="middle" x="437.5" y="-142.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">https://github.com/corsix/ffi&#45;reflect</text>
</g>
<!-- url_14&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>url_14&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M383.7919,-2791.7495C377.3908,-2623.5006 331.7619,-1312.4749 420.5,-255.8002 422.8465,-227.8585 428.0021,-196.2489 432.0242,-174.1263"/>
<polygon fill="#000000" stroke="#000000" points="435.504,-174.557 433.8904,-164.0858 428.6219,-173.2778 435.504,-174.557"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="1529.5,-2845.0053 981.5,-2845.0053 981.5,-2774.6045 1529.5,-2774.6045 1529.5,-2845.0053"/>
<text text-anchor="middle" x="1255.5" y="-2813.7049" font-family="Inconsolata" font-size="14.00" fill="#000000">This is going to take awhile: I want to be able to derive both the C type</text>
<text text-anchor="middle" x="1255.5" y="-2798.3049" font-family="Inconsolata" font-size="14.00" fill="#000000">signature and the Lua type signature of a function, and likewise for all the</text>
<text text-anchor="middle" x="1255.5" y="-2782.9049" font-family="Inconsolata" font-size="14.00" fill="#000000">other primitive and compound C types.</text>
</g>
<!-- raw_18&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>raw_18&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1377.6489,-5399.7629C1367.6752,-5188.2877 1273.1227,-3183.4641 1257.6398,-2855.1747"/>
<polygon fill="#000000" stroke="#000000" points="1261.1309,-2854.9016 1257.1636,-2845.0777 1254.1386,-2855.2315 1261.1309,-2854.9016"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="2103,-2829.1055 1548,-2829.1055 1548,-2790.5043 2103,-2790.5043 2103,-2829.1055"/>
<text text-anchor="middle" x="1825.5" y="-2814.0049" font-family="Inconsolata" font-size="14.00" fill="#000000">&quot;Note that typedefs are resolved by the parser, and are therefore not visible</text>
<text text-anchor="middle" x="1825.5" y="-2798.6049" font-family="Inconsolata" font-size="14.00" fill="#000000">when reflected&quot;. &#160;</text>
</g>
<!-- raw_20&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>raw_20&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1962.5451,-5399.7629C1951.1592,-5184.586 1841.529,-3112.7296 1827.071,-2839.4951"/>
<polygon fill="#000000" stroke="#000000" points="1830.5488,-2838.9805 1826.5252,-2829.1794 1823.5586,-2839.3504 1830.5488,-2838.9805"/>
</g>
<!-- anchortext_24 -->
<g id="node25" class="node">
<title>anchortext_24</title>
<ellipse fill="none" stroke="#000000" cx="2172.5" cy="-2809.8049" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="2172.5" y="-2805.6049" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">anchortext</text>
</g>
<!-- link_21&#45;&gt;anchortext_24 -->
<g id="edge24" class="edge">
<title>link_21&#45;&gt;anchortext_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2172.5,-5399.7629C2172.5,-5184.1421 2172.5,-3104.1736 2172.5,-2837.8272"/>
<polygon fill="#000000" stroke="#000000" points="2176.0001,-2837.8065 2172.5,-2827.8066 2169.0001,-2837.8066 2176.0001,-2837.8065"/>
</g>
<!-- url_25 -->
<g id="node26" class="node">
<title>url_25</title>
<ellipse fill="none" stroke="#000000" cx="2268.5" cy="-2809.8049" rx="27" ry="18"/>
<text text-anchor="middle" x="2268.5" y="-2805.6049" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">url</text>
</g>
<!-- link_21&#45;&gt;url_25 -->
<g id="edge25" class="edge">
<title>link_21&#45;&gt;url_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2193.0017,-5405.802C2206.9616,-5396.3572 2224.3339,-5381.8032 2232.5,-5363.8096 2342.0857,-5122.3431 2278.3195,-3102.5041 2269.4723,-2838.2741"/>
<polygon fill="#000000" stroke="#000000" points="2272.9605,-2837.8618 2269.1257,-2827.9853 2265.9645,-2838.0975 2272.9605,-2837.8618"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="2367.5,-2829.707 2313.5,-2829.707 2313.5,-2789.9028 2367.5,-2789.9028 2367.5,-2829.707"/>
<text text-anchor="middle" x="2340.5" y="-2814.3049" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_22&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>raw_22&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2296.8443,-5399.9943C2299.7091,-5389.5559 2302.9591,-5376.0559 2304.5,-5363.8096 2434.2126,-4332.9351 2356.645,-3049.6597 2342.5637,-2839.5227"/>
<polygon fill="#000000" stroke="#000000" points="2346.0555,-2839.2828 2341.8882,-2829.542 2339.0715,-2839.7555 2346.0555,-2839.2828"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="1376.5,-163.9001 1318.5,-163.9001 1318.5,-127.9001 1376.5,-127.9001 1376.5,-163.9001"/>
<text text-anchor="middle" x="1347.5" y="-142.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">Indeed</text>
</g>
<!-- anchortext_24&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>anchortext_24&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2173.5365,-2791.5367C2185.7966,-2572.2207 2299.3718,-448.5571 2111.5,-255.8002 2055.1276,-197.962 1453.379,-263.5672 1385.5,-219.8002 1369.4346,-209.4416 1359.8197,-190.0089 1354.2817,-173.6701"/>
<polygon fill="#000000" stroke="#000000" points="1357.6002,-172.5525 1351.3392,-164.0055 1350.9037,-174.5914 1357.6002,-172.5525"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="1662.5,-163.9001 1394.5,-163.9001 1394.5,-127.9001 1662.5,-127.9001 1662.5,-163.9001"/>
<text text-anchor="middle" x="1528.5" y="-142.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">http://corsix.github.io/ffi&#45;reflect/</text>
</g>
<!-- url_25&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>url_25&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2268.9491,-2791.4705C2274.3652,-2566.912 2325.3352,-353.3961 2232.5,-255.8002 2189.4506,-210.5432 1731.6897,-236.4928 1671.5,-219.8002 1632.378,-208.9504 1591.6063,-186.6158 1563.6563,-169.3255"/>
<polygon fill="#000000" stroke="#000000" points="1565.3783,-166.2738 1555.0505,-163.91 1561.65,-172.1984 1565.3783,-166.2738"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="2529.5,-2827.8049 2387.5,-2827.8049 2387.5,-2791.8049 2529.5,-2791.8049 2529.5,-2827.8049"/>
<text text-anchor="middle" x="2458.5" y="-2806.3049" font-family="Inconsolata" font-size="14.00" fill="#000000">**** License (MIT)</text>
</g>
<!-- header_29&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>header_29&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2458.5,-5399.7629C2458.5,-5184.1421 2458.5,-3104.1736 2458.5,-2837.8272"/>
<polygon fill="#000000" stroke="#000000" points="2462.0001,-2837.8065 2458.5,-2827.8066 2455.0001,-2837.8066 2462.0001,-2837.8065"/>
</g>
<!-- raw_36 -->
<g id="node37" class="node">
<title>raw_36</title>
<ellipse fill="none" stroke="#000000" cx="2580.5" cy="-2809.8049" rx="27" ry="18"/>
<text text-anchor="middle" x="2580.5" y="-2805.6049" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_30&#45;&gt;raw_36 -->
<g id="edge36" class="edge">
<title>prose_30&#45;&gt;raw_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2585.4654,-5399.7629C2585.052,-5184.1421 2581.0644,-3104.1736 2580.5537,-2837.8272"/>
<polygon fill="#000000" stroke="#000000" points="2584.0538,-2837.7998 2580.5345,-2827.8066 2577.0538,-2837.8133 2584.0538,-2837.7998"/>
</g>
<!-- raw_38 -->
<g id="node39" class="node">
<title>raw_38</title>
<ellipse fill="none" stroke="#000000" cx="2660.5" cy="-2809.8049" rx="27" ry="18"/>
<text text-anchor="middle" x="2660.5" y="-2805.6049" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_31&#45;&gt;raw_38 -->
<g id="edge38" class="edge">
<title>prose_31&#45;&gt;raw_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2667.4516,-5399.7629C2666.8728,-5184.1421 2661.2901,-3104.1736 2660.5752,-2837.8272"/>
<polygon fill="#000000" stroke="#000000" points="2664.0752,-2837.7971 2660.5483,-2827.8066 2657.0753,-2837.8159 2664.0752,-2837.7971"/>
</g>
<!-- raw_40 -->
<g id="node41" class="node">
<title>raw_40</title>
<ellipse fill="none" stroke="#000000" cx="2994.5" cy="-2809.8049" rx="27" ry="18"/>
<text text-anchor="middle" x="2994.5" y="-2805.6049" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_32&#45;&gt;raw_40 -->
<g id="edge40" class="edge">
<title>prose_32&#45;&gt;raw_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2985.5623,-5399.7629C2986.3064,-5184.1421 2993.4842,-3104.1736 2994.4033,-2837.8272"/>
<polygon fill="#000000" stroke="#000000" points="2997.9032,-2837.8186 2994.4379,-2827.8066 2990.9033,-2837.7944 2997.9032,-2837.8186"/>
</g>
<!-- raw_42 -->
<g id="node43" class="node">
<title>raw_42</title>
<ellipse fill="none" stroke="#000000" cx="3496.5" cy="-2809.8049" rx="27" ry="18"/>
<text text-anchor="middle" x="3496.5" y="-2805.6049" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_33&#45;&gt;raw_42 -->
<g id="edge42" class="edge">
<title>prose_33&#45;&gt;raw_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3311.7871,-5399.7629C3327.1649,-5184.1421 3475.506,-3104.1736 3494.5015,-2837.8272"/>
<polygon fill="#000000" stroke="#000000" points="3497.9958,-2838.0302 3495.2161,-2827.8066 3491.0135,-2837.5322 3497.9958,-2838.0302"/>
</g>
<!-- hashline_44 -->
<g id="node45" class="node">
<title>hashline_44</title>
<ellipse fill="none" stroke="#000000" cx="3588.5" cy="-2809.8049" rx="43.0992" ry="18"/>
<text text-anchor="middle" x="3588.5" y="-2805.6049" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">hashline</text>
</g>
<!-- structure_34&#45;&gt;hashline_44 -->
<g id="edge44" class="edge">
<title>structure_34&#45;&gt;hashline_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3528.9612,-5399.3513C3530.2469,-5388.9354 3531.7127,-5375.6687 3532.5,-5363.8096 3601.4828,-4324.7134 3591.0336,-3043.1469 3588.8305,-2838.059"/>
<polygon fill="#000000" stroke="#000000" points="3592.328,-2837.801 3588.7179,-2827.8403 3585.3284,-2837.8783 3592.328,-2837.801"/>
</g>
<!-- leaf_37 -->
<g id="node38" class="node">
<title>leaf_37</title>
<polygon fill="none" stroke="#c0c0c0" points="2250,-181.2005 1681,-181.2005 1681,-110.5998 2250,-110.5998 2250,-181.2005"/>
<text text-anchor="middle" x="1965.5" y="-134.1001" font-family="Inconsolata" font-size="14.00" fill="#000000">LuaJIT FFI reflection Library</text>
<text text-anchor="middle" x="1965.5" y="-118.7001" font-family="Inconsolata" font-size="14.00" fill="#000000">Copyright (C) 2014 Peter Cawley [[mailto:lua@corsix.org]]. All rights reserved.</text>
</g>
<!-- raw_36&#45;&gt;leaf_37 -->
<g id="edge37" class="edge">
<title>raw_36&#45;&gt;leaf_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2580.8808,-2791.4922C2585.4627,-2567.1973 2628.2971,-356.205 2538.5,-255.8002 2496.6791,-209.039 2320.1352,-231.4921 2258.5,-219.8002 2206.797,-209.9924 2150.6251,-196.524 2101.4251,-183.7698"/>
<polygon fill="#000000" stroke="#000000" points="2102.241,-180.3656 2091.6815,-181.2298 2100.4752,-187.1392 2102.241,-180.3656"/>
</g>
<!-- leaf_39 -->
<g id="node40" class="node">
<title>leaf_39</title>
<polygon fill="none" stroke="#c0c0c0" points="2823,-204.301 2268,-204.301 2268,-87.4992 2823,-87.4992 2823,-204.301"/>
<text text-anchor="middle" x="2545.5" y="-172.9002" font-family="Inconsolata" font-size="14.00" fill="#000000">Permission is hereby granted, free of charge, to any person obtaining a copy</text>
<text text-anchor="middle" x="2545.5" y="-157.5002" font-family="Inconsolata" font-size="14.00" fill="#000000">of this software and associated documentation files (the &quot;Software&quot;), to deal</text>
<text text-anchor="middle" x="2545.5" y="-142.1001" font-family="Inconsolata" font-size="14.00" fill="#000000">in the Software without restriction, including without limitation the rights</text>
<text text-anchor="middle" x="2545.5" y="-126.7001" font-family="Inconsolata" font-size="14.00" fill="#000000">to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</text>
<text text-anchor="middle" x="2545.5" y="-111.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">copies of the Software, and to permit persons to whom the Software is</text>
<text text-anchor="middle" x="2545.5" y="-95.9" font-family="Inconsolata" font-size="14.00" fill="#000000">furnished to do so, subject to the following conditions:</text>
</g>
<!-- raw_38&#45;&gt;leaf_39 -->
<g id="edge39" class="edge">
<title>raw_38&#45;&gt;leaf_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2663.8775,-2791.7394C2695.1109,-2620.7602 2925.5493,-1271.3726 2616.5,-255.8002 2612.0246,-241.0934 2604.9535,-226.4819 2596.9719,-212.9431"/>
<polygon fill="#000000" stroke="#000000" points="2599.8269,-210.9036 2591.6135,-204.2109 2593.8606,-214.5647 2599.8269,-210.9036"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="3375.5,-173.2005 2841.5,-173.2005 2841.5,-118.5997 3375.5,-118.5997 3375.5,-173.2005"/>
<text text-anchor="middle" x="3108.5" y="-142.1001" font-family="Inconsolata" font-size="14.00" fill="#000000">The above copyright notice and this permission notice shall be included in</text>
<text text-anchor="middle" x="3108.5" y="-126.7001" font-family="Inconsolata" font-size="14.00" fill="#000000">all copies or substantial portions of the Software.</text>
</g>
<!-- raw_40&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>raw_40&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2995.2734,-2791.7322C3004.5168,-2575.7374 3093.7365,-490.8884 3106.8848,-183.6423"/>
<polygon fill="#000000" stroke="#000000" points="3110.3894,-183.609 3107.3202,-173.4685 3103.3958,-183.3097 3110.3894,-183.609"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="3949,-219.7005 3394,-219.7005 3394,-72.0998 3949,-72.0998 3949,-219.7005"/>
<text text-anchor="middle" x="3671.5" y="-188.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</text>
<text text-anchor="middle" x="3671.5" y="-173.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</text>
<text text-anchor="middle" x="3671.5" y="-157.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. &#160;IN NO EVENT SHALL THE</text>
<text text-anchor="middle" x="3671.5" y="-142.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</text>
<text text-anchor="middle" x="3671.5" y="-127.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</text>
<text text-anchor="middle" x="3671.5" y="-111.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN</text>
<text text-anchor="middle" x="3671.5" y="-96.2" font-family="Inconsolata" font-size="14.00" fill="#000000">THE SOFTWARE.</text>
</g>
<!-- raw_42&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>raw_42&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3491.4307,-2792.0742C3442.8994,-2618.7662 3072.2794,-1212.9064 3536.5,-255.8002 3541.3964,-245.7051 3547.7117,-236.2268 3554.9316,-227.3985"/>
<polygon fill="#000000" stroke="#000000" points="3557.6017,-229.6617 3561.4962,-219.8086 3552.3072,-225.0824 3557.6017,-229.6617"/>
</g>
<!-- hashtag_45 -->
<g id="node46" class="node">
<title>hashtag_45</title>
<ellipse fill="none" stroke="#000000" cx="4008.5" cy="-145.9001" rx="41.6544" ry="18"/>
<text text-anchor="middle" x="4008.5" y="-141.7001" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">hashtag</text>
</g>
<!-- hashline_44&#45;&gt;hashtag_45 -->
<g id="edge45" class="edge">
<title>hashline_44&#45;&gt;hashtag_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3587.4465,-2791.5863C3574.9771,-2572.8598 3459.2094,-454.731 3640.5,-255.8002 3688.2547,-203.3988 3896.6874,-256.2453 3957.5,-219.8002 3975.3839,-209.0823 3988.5018,-189.3916 3996.9521,-173.0296"/>
<polygon fill="#000000" stroke="#000000" points="4000.1777,-174.3989 4001.3888,-163.8735 3993.8784,-171.3464 4000.1777,-174.3989"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="4035.5,-36 3981.5,-36 3981.5,0 4035.5,0 4035.5,-36"/>
<text text-anchor="middle" x="4008.5" y="-14.5" font-family="Inconsolata" font-size="14.00" fill="#000000">NB</text>
</g>
<!-- hashtag_45&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>hashtag_45&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4008.5,-127.8464C4008.5,-106.7326 4008.5,-71.5111 4008.5,-46.652"/>
<polygon fill="#000000" stroke="#000000" points="4012.0001,-46.376 4008.5,-36.376 4005.0001,-46.376 4012.0001,-46.376"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="3743,-2827.8049 3650,-2827.8049 3650,-2791.8049 3743,-2791.8049 3743,-2827.8049"/>
<text text-anchor="middle" x="3696.5" y="-2806.3049" font-family="Inconsolata" font-size="14.00" fill="#000000">*** reflect</text>
</g>
<!-- header_47&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>header_47&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3696.5,-5399.7629C3696.5,-5184.1421 3696.5,-3104.1736 3696.5,-2837.8272"/>
<polygon fill="#000000" stroke="#000000" points="3700.0001,-2837.8065 3696.5,-2827.8066 3693.0001,-2837.8066 3700.0001,-2837.8065"/>
</g>
<!-- raw_51 -->
<g id="node52" class="node">
<title>raw_51</title>
<ellipse fill="none" stroke="#000000" cx="3793.5" cy="-2809.8049" rx="27" ry="18"/>
<text text-anchor="middle" x="3793.5" y="-2805.6049" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_48&#45;&gt;raw_51 -->
<g id="edge51" class="edge">
<title>prose_48&#45;&gt;raw_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3793.5,-5399.7629C3793.5,-5184.1421 3793.5,-3104.1736 3793.5,-2837.8272"/>
<polygon fill="#000000" stroke="#000000" points="3797.0001,-2837.8065 3793.5,-2827.8066 3790.0001,-2837.8066 3797.0001,-2837.8065"/>
</g>
<!-- leaf_53 -->
<g id="node54" class="node">
<title>leaf_53</title>
<polygon fill="none" stroke="#c0c0c0" points="4820.5,-5363.8143 3838.5,-5363.8143 3838.5,-255.7955 4820.5,-255.7955 4820.5,-5363.8143"/>
<text text-anchor="middle" x="4329.5" y="-5348.6096" font-family="Inconsolata" font-size="14.00" fill="#000000">local ffi = require &quot;ffi&quot;</text>
<text text-anchor="middle" x="4329.5" y="-5333.2095" font-family="Inconsolata" font-size="14.00" fill="#000000">local bit = require &quot;bit&quot;</text>
<text text-anchor="middle" x="4329.5" y="-5317.8095" font-family="Inconsolata" font-size="14.00" fill="#000000">local reflect = {}</text>
<text text-anchor="middle" x="4329.5" y="-5286.4095" font-family="Inconsolata" font-size="14.00" fill="#000000">local CTState, init_CTState</text>
<text text-anchor="middle" x="4329.5" y="-5271.0095" font-family="Inconsolata" font-size="14.00" fill="#000000">local miscmap, init_miscmap</text>
<text text-anchor="middle" x="4329.5" y="-5239.6094" font-family="Inconsolata" font-size="14.00" fill="#000000">local function gc_str(gcref) &#45;&#45; Convert a GCref (to a GCstr) into a string</text>
<text text-anchor="middle" x="4329.5" y="-5224.2094" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if gcref ~= 0 then</text>
<text text-anchor="middle" x="4329.5" y="-5208.8094" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local ts = ffi.cast(&quot;uint32_t*&quot;, gcref)</text>
<text text-anchor="middle" x="4329.5" y="-5193.4093" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return ffi.string(ts + 4, ts[3])</text>
<text text-anchor="middle" x="4329.5" y="-5178.0093" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="4329.5" y="-5162.6093" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4329.5" y="-5131.2092" font-family="Inconsolata" font-size="14.00" fill="#000000">local typeinfo = ffi.typeinfo</text>
<text text-anchor="middle" x="4329.5" y="-5099.8092" font-family="Inconsolata" font-size="14.00" fill="#000000">local function memptr(gcobj)</text>
<text text-anchor="middle" x="4329.5" y="-5084.4092" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return tonumber(tostring(gcobj):match&quot;%x*$&quot;, 16)</text>
<text text-anchor="middle" x="4329.5" y="-5069.0091" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4329.5" y="-5037.6091" font-family="Inconsolata" font-size="14.00" fill="#000000">init_CTState = function()</text>
<text text-anchor="middle" x="4329.5" y="-5022.2091" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; Relevant minimal definitions from lj_ctype.h</text>
<text text-anchor="middle" x="4329.5" y="-5006.8091" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;ffi.cdef [[</text>
<text text-anchor="middle" x="4329.5" y="-4991.409" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;typedef struct CType {</text>
<text text-anchor="middle" x="4329.5" y="-4976.009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uint32_t info;</text>
<text text-anchor="middle" x="4329.5" y="-4960.609" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uint32_t size;</text>
<text text-anchor="middle" x="4329.5" y="-4945.2089" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uint16_t sib;</text>
<text text-anchor="middle" x="4329.5" y="-4929.8089" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uint16_t next;</text>
<text text-anchor="middle" x="4329.5" y="-4914.4089" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uint32_t name;</text>
<text text-anchor="middle" x="4329.5" y="-4899.0088" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;} CType;</text>
<text text-anchor="middle" x="4329.5" y="-4867.6088" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;typedef struct CTState {</text>
<text text-anchor="middle" x="4329.5" y="-4852.2088" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;CType *tab;</text>
<text text-anchor="middle" x="4329.5" y="-4836.8087" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uint32_t top;</text>
<text text-anchor="middle" x="4329.5" y="-4821.4087" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uint32_t sizetab;</text>
<text text-anchor="middle" x="4329.5" y="-4806.0087" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;void *L;</text>
<text text-anchor="middle" x="4329.5" y="-4790.6086" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;void *g;</text>
<text text-anchor="middle" x="4329.5" y="-4775.2086" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;void *finalizer;</text>
<text text-anchor="middle" x="4329.5" y="-4759.8086" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;void *miscmap;</text>
<text text-anchor="middle" x="4329.5" y="-4744.4086" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;} CTState;</text>
<text text-anchor="middle" x="4329.5" y="-4729.0085" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;]]</text>
<text text-anchor="middle" x="4329.5" y="-4697.6085" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; Acquire a pointer to this Lua universe&#39;s CTState</text>
<text text-anchor="middle" x="4329.5" y="-4682.2085" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local co = coroutine.create(function()end) &#45;&#45; Any live coroutine will do.</text>
<text text-anchor="middle" x="4329.5" y="-4666.8084" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local uint32_ptr = ffi.typeof(&quot;uint32_t*&quot;)</text>
<text text-anchor="middle" x="4329.5" y="-4651.4084" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local G = ffi.cast(uint32_ptr, ffi.cast(uint32_ptr, memptr(co))[2])</text>
<text text-anchor="middle" x="4329.5" y="-4636.0084" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; In global_State, `MRef ctype_state` is immediately before `GCRef gcroot[GCROOT_MAX]`.</text>
<text text-anchor="middle" x="4329.5" y="-4620.6083" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; We first find (an entry in) gcroot by looking for a metamethod name string.</text>
<text text-anchor="middle" x="4329.5" y="-4605.2083" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local anchor = ffi.cast(&quot;uint32_t&quot;, ffi.cast(&quot;const char*&quot;, &quot;__index&quot;))</text>
<text text-anchor="middle" x="4329.5" y="-4589.8083" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local i = 0</text>
<text text-anchor="middle" x="4329.5" y="-4574.4082" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;while math.abs(tonumber(G[i] &#45; anchor)) &gt; 64 do</text>
<text text-anchor="middle" x="4329.5" y="-4559.0082" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;i = i + 1</text>
<text text-anchor="middle" x="4329.5" y="-4543.6082" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="4329.5" y="-4528.2081" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; We then work backwards looking for something resembling ctype_state.</text>
<text text-anchor="middle" x="4329.5" y="-4512.8081" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;repeat</text>
<text text-anchor="middle" x="4329.5" y="-4497.4081" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;i = i &#45; 1</text>
<text text-anchor="middle" x="4329.5" y="-4482.0081" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;CTState = ffi.cast(&quot;CTState*&quot;, G[i])</text>
<text text-anchor="middle" x="4329.5" y="-4466.608" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;until ffi.cast(uint32_ptr, CTState.g) == G</text>
<text text-anchor="middle" x="4329.5" y="-4435.208" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return CTState</text>
<text text-anchor="middle" x="4329.5" y="-4419.808" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4329.5" y="-4388.4079" font-family="Inconsolata" font-size="14.00" fill="#000000">init_miscmap = function()</text>
<text text-anchor="middle" x="4329.5" y="-4373.0079" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; Acquire the CTState&#39;s miscmap table as a Lua variable</text>
<text text-anchor="middle" x="4329.5" y="-4357.6079" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local t = {}; t[0] = t</text>
<text text-anchor="middle" x="4329.5" y="-4342.2078" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local tvalue = ffi.cast(&quot;uint32_t*&quot;, memptr(t))[2]</text>
<text text-anchor="middle" x="4329.5" y="-4326.8078" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;ffi.cast(&quot;uint32_t*&quot;, tvalue)[ffi.abi&quot;le&quot; and 0 or 1] = ffi.cast(&quot;uint32_t&quot;, ffi.cast(&quot;uintptr_t&quot;, (CTState or init_CTState()).miscmap))</text>
<text text-anchor="middle" x="4329.5" y="-4311.4078" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;miscmap = t[0]</text>
<text text-anchor="middle" x="4329.5" y="-4296.0077" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return miscmap</text>
<text text-anchor="middle" x="4329.5" y="-4280.6077" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4329.5" y="-4249.2077" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Information for unpacking a `struct CType`.</text>
<text text-anchor="middle" x="4329.5" y="-4233.8076" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; One table per CT_* constant, containing:</text>
<text text-anchor="middle" x="4329.5" y="-4218.4076" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; * A name for that CT_</text>
<text text-anchor="middle" x="4329.5" y="-4203.0076" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; * Roles of the cid and size fields.</text>
<text text-anchor="middle" x="4329.5" y="-4187.6076" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; * Whether the sib field is meaningful.</text>
<text text-anchor="middle" x="4329.5" y="-4172.2075" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; * Zero or more applicable boolean flags.</text>
<text text-anchor="middle" x="4329.5" y="-4156.8075" font-family="Inconsolata" font-size="14.00" fill="#000000">local CTs = {[0] =</text>
<text text-anchor="middle" x="4329.5" y="-4141.4075" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;int&quot;,</text>
<text text-anchor="middle" x="4329.5" y="-4126.0074" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;&quot;, &quot;size&quot;, false,</text>
<text text-anchor="middle" x="4329.5" y="-4110.6074" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x08000000, &quot;bool&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-4095.2074" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x04000000, &quot;float&quot;, &quot;subwhat&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-4079.8073" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x02000000, &quot;const&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-4064.4073" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x01000000, &quot;volatile&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-4049.0073" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x00800000, &quot;unsigned&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-4033.6072" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x00400000, &quot;long&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-4018.2072" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="4329.5" y="-4002.8072" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;struct&quot;,</text>
<text text-anchor="middle" x="4329.5" y="-3987.4071" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;&quot;, &quot;size&quot;, true,</text>
<text text-anchor="middle" x="4329.5" y="-3972.0071" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x02000000, &quot;const&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-3956.6071" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x01000000, &quot;volatile&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-3941.2071" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x00800000, &quot;union&quot;, &quot;subwhat&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-3925.807" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x00100000, &quot;vla&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-3910.407" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="4329.5" y="-3895.007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;ptr&quot;,</text>
<text text-anchor="middle" x="4329.5" y="-3879.6069" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;element_type&quot;, &quot;size&quot;, false,</text>
<text text-anchor="middle" x="4329.5" y="-3864.2069" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x02000000, &quot;const&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-3848.8069" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x01000000, &quot;volatile&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-3833.4068" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x00800000, &quot;ref&quot;, &quot;subwhat&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-3818.0068" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="4329.5" y="-3802.6068" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;array&quot;,</text>
<text text-anchor="middle" x="4329.5" y="-3787.2067" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;element_type&quot;, &quot;size&quot;, false,</text>
<text text-anchor="middle" x="4329.5" y="-3771.8067" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x08000000, &quot;vector&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-3756.4067" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x04000000, &quot;complex&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-3741.0066" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x02000000, &quot;const&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-3725.6066" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x01000000, &quot;volatile&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-3710.2066" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x00100000, &quot;vla&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-3694.8066" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="4329.5" y="-3679.4065" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;void&quot;,</text>
<text text-anchor="middle" x="4329.5" y="-3664.0065" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;&quot;, &quot;size&quot;, false,</text>
<text text-anchor="middle" x="4329.5" y="-3648.6065" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x02000000, &quot;const&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-3633.2064" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x01000000, &quot;volatile&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-3617.8064" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="4329.5" y="-3602.4064" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;enum&quot;,</text>
<text text-anchor="middle" x="4329.5" y="-3587.0063" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;type&quot;, &quot;size&quot;, true,</text>
<text text-anchor="middle" x="4329.5" y="-3571.6063" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="4329.5" y="-3556.2063" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;func&quot;,</text>
<text text-anchor="middle" x="4329.5" y="-3540.8062" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;return_type&quot;, &quot;nargs&quot;, true,</text>
<text text-anchor="middle" x="4329.5" y="-3525.4062" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x00800000, &quot;vararg&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-3510.0062" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x00400000, &quot;sse_reg_params&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-3494.6061" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="4329.5" y="-3479.2061" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;typedef&quot;, &#45;&#45; Not seen</text>
<text text-anchor="middle" x="4329.5" y="-3463.8061" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;element_type&quot;, &quot;&quot;, false,</text>
<text text-anchor="middle" x="4329.5" y="-3448.4061" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="4329.5" y="-3433.006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;attrib&quot;, &#45;&#45; Only seen internally</text>
<text text-anchor="middle" x="4329.5" y="-3417.606" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;type&quot;, &quot;value&quot;, true,</text>
<text text-anchor="middle" x="4329.5" y="-3402.206" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="4329.5" y="-3386.8059" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;field&quot;,</text>
<text text-anchor="middle" x="4329.5" y="-3371.4059" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;type&quot;, &quot;offset&quot;, true,</text>
<text text-anchor="middle" x="4329.5" y="-3356.0059" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="4329.5" y="-3340.6058" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;bitfield&quot;,</text>
<text text-anchor="middle" x="4329.5" y="-3325.2058" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;&quot;, &quot;offset&quot;, true,</text>
<text text-anchor="middle" x="4329.5" y="-3309.8058" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x08000000, &quot;bool&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-3294.4057" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x02000000, &quot;const&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-3279.0057" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x01000000, &quot;volatile&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-3263.6057" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x00800000, &quot;unsigned&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-3248.2056" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="4329.5" y="-3232.8056" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;constant&quot;,</text>
<text text-anchor="middle" x="4329.5" y="-3217.4056" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;type&quot;, &quot;value&quot;, true,</text>
<text text-anchor="middle" x="4329.5" y="-3202.0056" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;{0x02000000, &quot;const&quot;},</text>
<text text-anchor="middle" x="4329.5" y="-3186.6055" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="4329.5" y="-3171.2055" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;extern&quot;, &#45;&#45; Not seen</text>
<text text-anchor="middle" x="4329.5" y="-3155.8055" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;CID&quot;, &quot;&quot;, true,</text>
<text text-anchor="middle" x="4329.5" y="-3140.4054" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="4329.5" y="-3125.0054" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;{&quot;kw&quot;, &#45;&#45; Not seen</text>
<text text-anchor="middle" x="4329.5" y="-3109.6054" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&quot;TOK&quot;, &quot;size&quot;,</text>
<text text-anchor="middle" x="4329.5" y="-3094.2053" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;},</text>
<text text-anchor="middle" x="4329.5" y="-3078.8053" font-family="Inconsolata" font-size="14.00" fill="#000000">}</text>
<text text-anchor="middle" x="4329.5" y="-3047.4053" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Set of CType::cid roles which are a CTypeID.</text>
<text text-anchor="middle" x="4329.5" y="-3032.0052" font-family="Inconsolata" font-size="14.00" fill="#000000">local type_keys = {</text>
<text text-anchor="middle" x="4329.5" y="-3016.6052" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;element_type = true,</text>
<text text-anchor="middle" x="4329.5" y="-3001.2052" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return_type = true,</text>
<text text-anchor="middle" x="4329.5" y="-2985.8051" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;value_type = true,</text>
<text text-anchor="middle" x="4329.5" y="-2970.4051" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;type = true,</text>
<text text-anchor="middle" x="4329.5" y="-2955.0051" font-family="Inconsolata" font-size="14.00" fill="#000000">}</text>
<text text-anchor="middle" x="4329.5" y="-2923.6051" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Create a metatable for each CT.</text>
<text text-anchor="middle" x="4329.5" y="-2908.205" font-family="Inconsolata" font-size="14.00" fill="#000000">local metatables = {</text>
<text text-anchor="middle" x="4329.5" y="-2892.805" font-family="Inconsolata" font-size="14.00" fill="#000000">}</text>
<text text-anchor="middle" x="4329.5" y="-2877.405" font-family="Inconsolata" font-size="14.00" fill="#000000">for _, CT in ipairs(CTs) do</text>
<text text-anchor="middle" x="4329.5" y="-2862.0049" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local what = CT[1]</text>
<text text-anchor="middle" x="4329.5" y="-2846.6049" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local mt = {__index = {}}</text>
<text text-anchor="middle" x="4329.5" y="-2831.2049" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;metatables[what] = mt</text>
<text text-anchor="middle" x="4329.5" y="-2815.8048" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4329.5" y="-2784.4048" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Logic for merging an attribute CType onto the annotated CType.</text>
<text text-anchor="middle" x="4329.5" y="-2769.0048" font-family="Inconsolata" font-size="14.00" fill="#000000">local CTAs = {[0] =</text>
<text text-anchor="middle" x="4329.5" y="-2753.6047" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;function(a, refct) error(&quot;TODO: CTA_NONE&quot;) end,</text>
<text text-anchor="middle" x="4329.5" y="-2738.2047" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;function(a, refct) error(&quot;TODO: CTA_QUAL&quot;) end,</text>
<text text-anchor="middle" x="4329.5" y="-2722.8047" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;function(a, refct)</text>
<text text-anchor="middle" x="4329.5" y="-2707.4047" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;a = 2^a.value</text>
<text text-anchor="middle" x="4329.5" y="-2692.0046" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct.alignment = a</text>
<text text-anchor="middle" x="4329.5" y="-2676.6046" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct.attributes.align = a</text>
<text text-anchor="middle" x="4329.5" y="-2661.2046" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end,</text>
<text text-anchor="middle" x="4329.5" y="-2645.8045" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;function(a, refct)</text>
<text text-anchor="middle" x="4329.5" y="-2630.4045" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct.transparent = true</text>
<text text-anchor="middle" x="4329.5" y="-2615.0045" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct.attributes.subtype = refct.typeid</text>
<text text-anchor="middle" x="4329.5" y="-2599.6044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end,</text>
<text text-anchor="middle" x="4329.5" y="-2584.2044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;function(a, refct) refct.sym_name = a.name end,</text>
<text text-anchor="middle" x="4329.5" y="-2568.8044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;function(a, refct) error(&quot;TODO: CTA_BAD&quot;) end,</text>
<text text-anchor="middle" x="4329.5" y="-2553.4043" font-family="Inconsolata" font-size="14.00" fill="#000000">}</text>
<text text-anchor="middle" x="4329.5" y="-2522.0043" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; C function calling conventions (CTCC_* constants in lj_refct.h)</text>
<text text-anchor="middle" x="4329.5" y="-2506.6043" font-family="Inconsolata" font-size="14.00" fill="#000000">local CTCCs = {[0] =</text>
<text text-anchor="middle" x="4329.5" y="-2491.2042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&quot;cdecl&quot;,</text>
<text text-anchor="middle" x="4329.5" y="-2475.8042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&quot;thiscall&quot;,</text>
<text text-anchor="middle" x="4329.5" y="-2460.4042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&quot;fastcall&quot;,</text>
<text text-anchor="middle" x="4329.5" y="-2445.0042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&quot;stdcall&quot;,</text>
<text text-anchor="middle" x="4329.5" y="-2429.6041" font-family="Inconsolata" font-size="14.00" fill="#000000">}</text>
<text text-anchor="middle" x="4329.5" y="-2398.2041" font-family="Inconsolata" font-size="14.00" fill="#000000">local function refct_from_id(id) &#45;&#45; refct = refct_from_id(CTypeID)</text>
<text text-anchor="middle" x="4329.5" y="-2382.8041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local ctype = typeinfo(id)</text>
<text text-anchor="middle" x="4329.5" y="-2367.404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local CT_code = bit.rshift(ctype.info, 28)</text>
<text text-anchor="middle" x="4329.5" y="-2352.004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local CT = CTs[CT_code]</text>
<text text-anchor="middle" x="4329.5" y="-2336.604" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local what = CT[1]</text>
<text text-anchor="middle" x="4329.5" y="-2321.2039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local refct = setmetatable({</text>
<text text-anchor="middle" x="4329.5" y="-2305.8039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;what = what,</text>
<text text-anchor="middle" x="4329.5" y="-2290.4039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;typeid = id,</text>
<text text-anchor="middle" x="4329.5" y="-2275.0038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;name = ctype.name,</text>
<text text-anchor="middle" x="4329.5" y="-2259.6038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;}, metatables[what])</text>
<text text-anchor="middle" x="4329.5" y="-2228.2038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; Interpret (most of) the CType::info field</text>
<text text-anchor="middle" x="4329.5" y="-2212.8037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 5, #CT do</text>
<text text-anchor="middle" x="4329.5" y="-2197.4037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if bit.band(ctype.info, CT[i][1]) ~= 0 then</text>
<text text-anchor="middle" x="4329.5" y="-2182.0037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if CT[i][3] == &quot;subwhat&quot; then</text>
<text text-anchor="middle" x="4329.5" y="-2166.6037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;refct.what = CT[i][2]</text>
<text text-anchor="middle" x="4329.5" y="-2151.2036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4329.5" y="-2135.8036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;refct[CT[i][2]] = true</text>
<text text-anchor="middle" x="4329.5" y="-2120.4036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4329.5" y="-2105.0035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4329.5" y="-2089.6035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="4329.5" y="-2074.2035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if CT_code &lt;= 5 then</text>
<text text-anchor="middle" x="4329.5" y="-2058.8034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct.alignment = bit.lshift(1, bit.band(bit.rshift(ctype.info, 16), 15))</text>
<text text-anchor="middle" x="4329.5" y="-2043.4034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;elseif what == &quot;func&quot; then</text>
<text text-anchor="middle" x="4329.5" y="-2028.0034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct.convention = CTCCs[bit.band(bit.rshift(ctype.info, 16), 3)]</text>
<text text-anchor="middle" x="4329.5" y="-2012.6033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="4329.5" y="-1981.2033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if CT[2] ~= &quot;&quot; then &#45;&#45; Interpret the CType::cid field</text>
<text text-anchor="middle" x="4329.5" y="-1965.8033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local k = CT[2]</text>
<text text-anchor="middle" x="4329.5" y="-1950.4032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local cid = bit.band(ctype.info, 0xffff)</text>
<text text-anchor="middle" x="4329.5" y="-1935.0032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if type_keys[k] then</text>
<text text-anchor="middle" x="4329.5" y="-1919.6032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if cid == 0 then</text>
<text text-anchor="middle" x="4329.5" y="-1904.2032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;cid = nil</text>
<text text-anchor="middle" x="4329.5" y="-1888.8031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4329.5" y="-1873.4031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;cid = refct_from_id(cid)</text>
<text text-anchor="middle" x="4329.5" y="-1858.0031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4329.5" y="-1842.603" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4329.5" y="-1827.203" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct[k] = cid</text>
<text text-anchor="middle" x="4329.5" y="-1811.803" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="4329.5" y="-1780.4029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if CT[3] ~= &quot;&quot; then &#45;&#45; Interpret the CType::size field</text>
<text text-anchor="middle" x="4329.5" y="-1765.0029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local k = CT[3]</text>
<text text-anchor="middle" x="4329.5" y="-1749.6029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct[k] = ctype.size or (k == &quot;size&quot; and &quot;none&quot;)</text>
<text text-anchor="middle" x="4329.5" y="-1734.2028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="4329.5" y="-1702.8028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if what == &quot;attrib&quot; then</text>
<text text-anchor="middle" x="4329.5" y="-1687.4028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Merge leading attributes onto the type being decorated.</text>
<text text-anchor="middle" x="4329.5" y="-1672.0027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local CTA = CTAs[bit.band(bit.rshift(ctype.info, 16), 0xff)]</text>
<text text-anchor="middle" x="4329.5" y="-1656.6027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if refct.type then</text>
<text text-anchor="middle" x="4329.5" y="-1641.2027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local ct = refct.type</text>
<text text-anchor="middle" x="4329.5" y="-1625.8027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;ct.attributes = {}</text>
<text text-anchor="middle" x="4329.5" y="-1610.4026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;CTA(refct, ct)</text>
<text text-anchor="middle" x="4329.5" y="-1595.0026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;ct.typeid = refct.typeid</text>
<text text-anchor="middle" x="4329.5" y="-1579.6026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;refct = ct</text>
<text text-anchor="middle" x="4329.5" y="-1564.2025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4329.5" y="-1548.8025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;refct.CTA = CTA</text>
<text text-anchor="middle" x="4329.5" y="-1533.4025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4329.5" y="-1518.0024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;elseif what == &quot;bitfield&quot; then</text>
<text text-anchor="middle" x="4329.5" y="-1502.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Decode extra bitfield fields, and make it look like a normal field.</text>
<text text-anchor="middle" x="4329.5" y="-1487.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct.offset = refct.offset + bit.band(ctype.info, 127) / 8</text>
<text text-anchor="middle" x="4329.5" y="-1471.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct.size = bit.band(bit.rshift(ctype.info, 8), 127) / 8</text>
<text text-anchor="middle" x="4329.5" y="-1456.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct.type = {</text>
<text text-anchor="middle" x="4329.5" y="-1441.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;what = &quot;int&quot;,</text>
<text text-anchor="middle" x="4329.5" y="-1425.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;bool = refct.bool,</text>
<text text-anchor="middle" x="4329.5" y="-1410.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;const = refct.const,</text>
<text text-anchor="middle" x="4329.5" y="-1394.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;volatile = refct.volatile,</text>
<text text-anchor="middle" x="4329.5" y="-1379.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;unsigned = refct.unsigned,</text>
<text text-anchor="middle" x="4329.5" y="-1364.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;size = bit.band(bit.rshift(ctype.info, 16), 127),</text>
<text text-anchor="middle" x="4329.5" y="-1348.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;}</text>
<text text-anchor="middle" x="4329.5" y="-1333.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct.bool, refct.const, refct.volatile, refct.unsigned = nil</text>
<text text-anchor="middle" x="4329.5" y="-1317.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="4329.5" y="-1286.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if CT[4] then &#45;&#45; Merge sibling attributes onto this type.</text>
<text text-anchor="middle" x="4329.5" y="-1271.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;while ctype.sib do</text>
<text text-anchor="middle" x="4329.5" y="-1255.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local entry = typeinfo(ctype.sib)</text>
<text text-anchor="middle" x="4329.5" y="-1240.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if CTs[bit.rshift(entry.info, 28)][1] ~= &quot;attrib&quot; then break end</text>
<text text-anchor="middle" x="4329.5" y="-1224.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if bit.band(entry.info, 0xffff) ~= 0 then break end</text>
<text text-anchor="middle" x="4329.5" y="-1209.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local sib = refct_from_id(ctype.sib)</text>
<text text-anchor="middle" x="4329.5" y="-1194.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;sib:CTA(refct)</text>
<text text-anchor="middle" x="4329.5" y="-1178.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;ctype = entry</text>
<text text-anchor="middle" x="4329.5" y="-1163.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4329.5" y="-1147.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="4329.5" y="-1116.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return refct</text>
<text text-anchor="middle" x="4329.5" y="-1101.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4329.5" y="-1069.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">local function sib_iter(s, refct)</text>
<text text-anchor="middle" x="4329.5" y="-1054.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;repeat</text>
<text text-anchor="middle" x="4329.5" y="-1038.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local ctype = typeinfo(refct.typeid)</text>
<text text-anchor="middle" x="4329.5" y="-1023.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if not ctype.sib then return end</text>
<text text-anchor="middle" x="4329.5" y="-1008.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct = refct_from_id(ctype.sib)</text>
<text text-anchor="middle" x="4329.5" y="-992.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;until refct.what ~= &quot;attrib&quot; &#45;&#45; Pure attribs are skipped.</text>
<text text-anchor="middle" x="4329.5" y="-977.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return refct</text>
<text text-anchor="middle" x="4329.5" y="-961.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4329.5" y="-930.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">local function siblings(refct)</text>
<text text-anchor="middle" x="4329.5" y="-915.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; Follow to the end of the attrib chain, if any.</text>
<text text-anchor="middle" x="4329.5" y="-899.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;while refct.attributes do</text>
<text text-anchor="middle" x="4329.5" y="-884.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refct = refct_from_id(refct.attributes.subtype or typeinfo(refct.typeid).sib)</text>
<text text-anchor="middle" x="4329.5" y="-868.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="4329.5" y="-837.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return sib_iter, nil, refct</text>
<text text-anchor="middle" x="4329.5" y="-822.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4329.5" y="-790.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">metatables.struct.__index.members = siblings</text>
<text text-anchor="middle" x="4329.5" y="-775.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">metatables.func.__index.arguments = siblings</text>
<text text-anchor="middle" x="4329.5" y="-759.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">metatables.enum.__index.values = siblings</text>
<text text-anchor="middle" x="4329.5" y="-728.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">local function find_sibling(refct, name)</text>
<text text-anchor="middle" x="4329.5" y="-713.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local num = tonumber(name)</text>
<text text-anchor="middle" x="4329.5" y="-697.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if num then</text>
<text text-anchor="middle" x="4329.5" y="-682.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for sib in siblings(refct) do</text>
<text text-anchor="middle" x="4329.5" y="-666.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if num == 1 then</text>
<text text-anchor="middle" x="4329.5" y="-651.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return sib</text>
<text text-anchor="middle" x="4329.5" y="-636.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4329.5" y="-620.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;num = num &#45; 1</text>
<text text-anchor="middle" x="4329.5" y="-605.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4329.5" y="-589.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="4329.5" y="-574.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for sib in siblings(refct) do</text>
<text text-anchor="middle" x="4329.5" y="-559.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if sib.name == name then</text>
<text text-anchor="middle" x="4329.5" y="-543.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return sib</text>
<text text-anchor="middle" x="4329.5" y="-528.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4329.5" y="-512.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4329.5" y="-497.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="4329.5" y="-482.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4329.5" y="-450.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">metatables.struct.__index.member = find_sibling</text>
<text text-anchor="middle" x="4329.5" y="-435.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">metatables.func.__index.argument = find_sibling</text>
<text text-anchor="middle" x="4329.5" y="-419.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">metatables.enum.__index.value = find_sibling</text>
<text text-anchor="middle" x="4329.5" y="-388.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">function reflect.typeof(x) &#45;&#45; refct = reflect.typeof(ct)</text>
<text text-anchor="middle" x="4329.5" y="-373.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return refct_from_id(tonumber(ffi.typeof(x)))</text>
<text text-anchor="middle" x="4329.5" y="-357.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4329.5" y="-326.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">function reflect.getmetatable(x) &#45;&#45; mt = reflect.getmetatable(ct)</text>
<text text-anchor="middle" x="4329.5" y="-310.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return (miscmap or init_miscmap())[&#45;tonumber(ffi.typeof(x))]</text>
<text text-anchor="middle" x="4329.5" y="-295.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4329.5" y="-264.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">return reflect</text>
</g>
<!-- codeblock_49&#45;&gt;leaf_53 -->
<g id="edge53" class="edge">
<title>codeblock_49&#45;&gt;leaf_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4128.8978,-5399.7629C4129.4249,-5392.9577 4130.0958,-5384.2955 4130.9016,-5373.8918"/>
<polygon fill="#000000" stroke="#000000" points="4134.3965,-5374.0916 4131.6793,-5363.8512 4127.4174,-5373.551 4134.3965,-5374.0916"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="4122.5,-163.9001 4068.5,-163.9001 4068.5,-127.9001 4122.5,-127.9001 4122.5,-163.9001"/>
</g>
<!-- raw_51&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>raw_51&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3793.086,-2791.5025C3788.0964,-2567.3314 3741.209,-357.5256 3829.5,-255.8002 3897.3202,-177.6605 3976.2862,-281.2888 4059.5,-219.8002 4074.3762,-208.8078 4083.4169,-190.0035 4088.7178,-174.1151"/>
<polygon fill="#000000" stroke="#000000" points="4092.1691,-174.7903 4091.685,-164.2065 4085.4633,-172.7822 4092.1691,-174.7903"/>
</g>
</g>
</svg>
