<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="13230pt" height="950pt"
 viewBox="0.00 0.00 13230.00 950.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 946.0009)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-946.0009 13226,-946.0009 13226,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1715" cy="-924.0009" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="1715" y="-919.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 264</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1715" cy="-852.0009" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="1715" y="-847.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;33</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1715,-905.8323C1715,-898.1319 1715,-888.9753 1715,-880.4176"/>
<polygon fill="#000000" stroke="#000000" points="1718.5001,-880.4142 1715,-870.4142 1711.5001,-880.4142 1718.5001,-880.4142"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="1413" cy="-780.0009" rx="46.6307" ry="18"/>
<text text-anchor="middle" x="1413" y="-775.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Txtbuf</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1663.7744,-842.2314C1613.774,-832.3496 1535.7005,-815.9979 1469,-798.0009 1465.4382,-797.0399 1461.7666,-795.9917 1458.087,-794.9"/>
<polygon fill="#000000" stroke="#000000" points="1458.9846,-791.5146 1448.3982,-791.9388 1456.9385,-798.2089 1458.9846,-791.5146"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="1510" cy="-780.0009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1510" y="-775.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1672.132,-839.1191C1638.8113,-828.8106 1591.588,-813.5519 1551,-798.0009 1548.795,-797.1561 1546.5361,-796.2584 1544.267,-795.3321"/>
<polygon fill="#000000" stroke="#000000" points="1545.569,-792.0828 1534.9945,-791.4268 1542.8519,-798.534 1545.569,-792.0828"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="1592" cy="-780.0009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1592" y="-775.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1687.3964,-835.8427C1668.3555,-824.6969 1643.0105,-809.8608 1623.2307,-798.2823"/>
<polygon fill="#000000" stroke="#000000" points="1624.9752,-795.248 1614.5769,-793.2167 1621.4389,-801.2891 1624.9752,-795.248"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="1674" cy="-780.0009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1674" y="-775.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1704.8652,-834.2032C1700.0632,-825.7705 1694.2315,-815.5295 1688.9358,-806.2297"/>
<polygon fill="#000000" stroke="#000000" points="1691.8667,-804.3034 1683.8768,-797.3455 1685.7838,-807.7673 1691.8667,-804.3034"/>
</g>
<!-- prose_6 -->
<g id="node7" class="node">
<title>prose_6</title>
<ellipse fill="none" stroke="#000000" cx="1756" cy="-780.0009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1756" y="-775.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;prose_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1725.1348,-834.2032C1729.9368,-825.7705 1735.7685,-815.5295 1741.0642,-806.2297"/>
<polygon fill="#000000" stroke="#000000" points="1744.2162,-807.7673 1746.1232,-797.3455 1738.1333,-804.3034 1744.2162,-807.7673"/>
</g>
<!-- prose_7 -->
<g id="node8" class="node">
<title>prose_7</title>
<ellipse fill="none" stroke="#000000" cx="1922" cy="-780.0009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1922" y="-775.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;prose_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1754.4224,-838.2888C1791.9502,-825.2357 1848.0077,-805.7374 1884.7864,-792.9448"/>
<polygon fill="#000000" stroke="#000000" points="1886.322,-796.1164 1894.6172,-789.5254 1884.0223,-789.5049 1886.322,-796.1164"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="2405" cy="-780.0009" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2405" y="-775.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 17&#45;21</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1772.3471,-846.0169C1897.756,-832.9307 2196.129,-801.7962 2333.5117,-787.4606"/>
<polygon fill="#000000" stroke="#000000" points="2333.9353,-790.9355 2343.518,-786.4164 2333.2088,-783.9733 2333.9353,-790.9355"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="6815" cy="-780.0009" rx="70.655" ry="18"/>
<text text-anchor="middle" x="6815" y="-775.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 34&#45;233</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1775.8283,-851.1422C2305.2685,-843.6677 6126.6304,-789.7191 6733.7979,-781.1473"/>
<polygon fill="#000000" stroke="#000000" points="6734.2478,-784.6414 6744.1974,-781.0005 6734.1489,-777.6421 6734.2478,-784.6414"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="1449,-726.0009 1377,-726.0009 1377,-690.0009 1449,-690.0009 1449,-726.0009"/>
<text text-anchor="middle" x="1413" y="-704.501" font-family="Inconsolata" font-size="14.00" fill="#000000">* Txtbuf</text>
</g>
<!-- header_2&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>header_2&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1413,-761.8323C1413,-754.1319 1413,-744.9753 1413,-736.4176"/>
<polygon fill="#000000" stroke="#000000" points="1416.5001,-736.4142 1413,-726.4142 1409.5001,-736.4142 1416.5001,-736.4142"/>
</g>
<!-- raw_11 -->
<g id="node12" class="node">
<title>raw_11</title>
<ellipse fill="none" stroke="#000000" cx="1502" cy="-708.0009" rx="27" ry="18"/>
<text text-anchor="middle" x="1502" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_11 -->
<g id="edge11" class="edge">
<title>prose_3&#45;&gt;raw_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1507.9813,-761.8323C1507.1257,-754.1319 1506.1083,-744.9753 1505.1574,-736.4176"/>
<polygon fill="#000000" stroke="#000000" points="1508.6289,-735.9665 1504.0459,-726.4142 1501.6717,-736.7396 1508.6289,-735.9665"/>
</g>
<!-- raw_13 -->
<g id="node14" class="node">
<title>raw_13</title>
<ellipse fill="none" stroke="#000000" cx="1583" cy="-708.0009" rx="27" ry="18"/>
<text text-anchor="middle" x="1583" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_13 -->
<g id="edge13" class="edge">
<title>prose_4&#45;&gt;raw_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1589.7289,-761.8323C1588.7664,-754.1319 1587.6218,-744.9753 1586.5521,-736.4176"/>
<polygon fill="#000000" stroke="#000000" points="1590.0151,-735.9028 1585.3017,-726.4142 1583.0691,-736.7711 1590.0151,-735.9028"/>
</g>
<!-- raw_15 -->
<g id="node16" class="node">
<title>raw_15</title>
<ellipse fill="none" stroke="#000000" cx="1665" cy="-708.0009" rx="27" ry="18"/>
<text text-anchor="middle" x="1665" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_15 -->
<g id="edge15" class="edge">
<title>prose_5&#45;&gt;raw_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1671.7289,-761.8323C1670.7664,-754.1319 1669.6218,-744.9753 1668.5521,-736.4176"/>
<polygon fill="#000000" stroke="#000000" points="1672.0151,-735.9028 1667.3017,-726.4142 1665.0691,-736.7711 1672.0151,-735.9028"/>
</g>
<!-- raw_17 -->
<g id="node18" class="node">
<title>raw_17</title>
<ellipse fill="none" stroke="#000000" cx="1756" cy="-708.0009" rx="27" ry="18"/>
<text text-anchor="middle" x="1756" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_17 -->
<g id="edge17" class="edge">
<title>prose_6&#45;&gt;raw_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1756,-761.8323C1756,-754.1319 1756,-744.9753 1756,-736.4176"/>
<polygon fill="#000000" stroke="#000000" points="1759.5001,-736.4142 1756,-726.4142 1752.5001,-736.4142 1759.5001,-736.4142"/>
</g>
<!-- raw_19 -->
<g id="node20" class="node">
<title>raw_19</title>
<ellipse fill="none" stroke="#000000" cx="2005" cy="-708.0009" rx="27" ry="18"/>
<text text-anchor="middle" x="2005" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_7&#45;&gt;raw_19 -->
<g id="edge19" class="edge">
<title>prose_7&#45;&gt;raw_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1939.6022,-764.7316C1951.5031,-754.4079 1967.3814,-740.634 1980.512,-729.2436"/>
<polygon fill="#000000" stroke="#000000" points="1983.0119,-731.7083 1988.2724,-722.5116 1978.425,-726.4206 1983.0119,-731.7083"/>
</g>
<!-- header_21 -->
<g id="node22" class="node">
<title>header_21</title>
<ellipse fill="none" stroke="#000000" cx="2351" cy="-708.0009" rx="56.6148" ry="18"/>
<text text-anchor="middle" x="2351" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Interface</text>
</g>
<!-- section_8&#45;&gt;header_21 -->
<g id="edge21" class="edge">
<title>section_8&#45;&gt;header_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2391.6517,-762.2032C2385.2432,-753.6585 2377.4423,-743.2573 2370.3943,-733.86"/>
<polygon fill="#000000" stroke="#000000" points="2372.9948,-731.494 2364.1948,-725.594 2367.3948,-735.694 2372.9948,-731.494"/>
</g>
<!-- prose_22 -->
<g id="node23" class="node">
<title>prose_22</title>
<ellipse fill="none" stroke="#000000" cx="2458" cy="-708.0009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2458" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_22 -->
<g id="edge22" class="edge">
<title>section_8&#45;&gt;prose_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2418.1011,-762.2032C2424.4848,-753.531 2432.2762,-742.9464 2439.2741,-733.4399"/>
<polygon fill="#000000" stroke="#000000" points="2442.305,-735.2264 2445.4145,-725.0982 2436.6676,-731.0767 2442.305,-735.2264"/>
</g>
<!-- section_23 -->
<g id="node24" class="node">
<title>section_23</title>
<ellipse fill="none" stroke="#000000" cx="2746" cy="-708.0009" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2746" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 22&#45;33</text>
</g>
<!-- section_8&#45;&gt;section_23 -->
<g id="edge23" class="edge">
<title>section_8&#45;&gt;section_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2457.1618,-768.9873C2518.083,-756.1242 2618.7785,-734.863 2683.737,-721.1474"/>
<polygon fill="#000000" stroke="#000000" points="2684.7829,-724.5038 2693.8441,-719.0133 2683.3367,-717.6548 2684.7829,-724.5038"/>
</g>
<!-- header_41 -->
<g id="node42" class="node">
<title>header_41</title>
<ellipse fill="none" stroke="#000000" cx="4071" cy="-708.0009" rx="56.1302" ry="18"/>
<text text-anchor="middle" x="4071" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Methods</text>
</g>
<!-- section_9&#45;&gt;header_41 -->
<g id="edge41" class="edge">
<title>section_9&#45;&gt;header_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6744.4086,-779.571C6381.5152,-777.2031 4723.1158,-764.4295 4210,-726.0009 4184.3089,-724.0769 4156.0931,-720.6655 4131.8352,-717.3262"/>
<polygon fill="#000000" stroke="#000000" points="4132.0895,-713.8276 4121.7002,-715.904 4131.1167,-720.7597 4132.0895,-713.8276"/>
</g>
<!-- prose_42 -->
<g id="node43" class="node">
<title>prose_42</title>
<ellipse fill="none" stroke="#000000" cx="4251" cy="-708.0009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4251" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_42 -->
<g id="edge42" class="edge">
<title>section_9&#45;&gt;prose_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6744.4501,-779.1377C6366.7196,-774.4246 4591.5018,-751.0926 4348,-726.0009 4329.0577,-724.049 4308.2731,-720.3975 4290.8191,-716.8908"/>
<polygon fill="#000000" stroke="#000000" points="4291.4676,-713.4509 4280.9665,-714.8568 4290.0523,-720.3064 4291.4676,-713.4509"/>
</g>
<!-- prose_43 -->
<g id="node44" class="node">
<title>prose_43</title>
<ellipse fill="none" stroke="#000000" cx="4389" cy="-708.0009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4389" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_43 -->
<g id="edge43" class="edge">
<title>section_9&#45;&gt;prose_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6744.2454,-779.2114C6409.8567,-775.3432 4985.7079,-757.3034 4542,-726.0009 4504.0079,-723.3207 4460.9408,-718.0526 4430.2004,-713.9051"/>
<polygon fill="#000000" stroke="#000000" points="4430.6553,-710.4348 4420.2731,-712.5468 4429.7063,-717.3702 4430.6553,-710.4348"/>
</g>
<!-- prose_44 -->
<g id="node45" class="node">
<title>prose_44</title>
<ellipse fill="none" stroke="#000000" cx="4583" cy="-708.0009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4583" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_44 -->
<g id="edge44" class="edge">
<title>section_9&#45;&gt;prose_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6744.8249,-777.7372C6400.831,-766.6406 4898.2899,-718.1716 4625.5454,-709.3734"/>
<polygon fill="#000000" stroke="#000000" points="4625.3859,-705.8665 4615.2782,-709.0422 4625.1601,-712.8629 4625.3859,-705.8665"/>
</g>
<!-- prose_45 -->
<g id="node46" class="node">
<title>prose_45</title>
<ellipse fill="none" stroke="#000000" cx="5255" cy="-708.0009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5255" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_45 -->
<g id="edge45" class="edge">
<title>section_9&#45;&gt;prose_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6745.4485,-776.7909C6476.963,-764.3992 5512.3781,-719.8799 5297.592,-709.9667"/>
<polygon fill="#000000" stroke="#000000" points="5297.5129,-706.4594 5287.3621,-709.4946 5297.1901,-713.452 5297.5129,-706.4594"/>
</g>
<!-- section_46 -->
<g id="node47" class="node">
<title>section_46</title>
<ellipse fill="none" stroke="#000000" cx="6017" cy="-708.0009" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="6017" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 49&#45;61</text>
</g>
<!-- section_9&#45;&gt;section_46 -->
<g id="edge46" class="edge">
<title>section_9&#45;&gt;section_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6748.3355,-773.9861C6600.0333,-760.6054 6243.8047,-728.4645 6089.8792,-714.5765"/>
<polygon fill="#000000" stroke="#000000" points="6089.8684,-711.0614 6079.5943,-713.6485 6089.2393,-718.0331 6089.8684,-711.0614"/>
</g>
<!-- section_47 -->
<g id="node48" class="node">
<title>section_47</title>
<ellipse fill="none" stroke="#000000" cx="6815" cy="-708.0009" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="6815" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 62&#45;93</text>
</g>
<!-- section_9&#45;&gt;section_47 -->
<g id="edge47" class="edge">
<title>section_9&#45;&gt;section_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6815,-761.8323C6815,-754.1319 6815,-744.9753 6815,-736.4176"/>
<polygon fill="#000000" stroke="#000000" points="6818.5001,-736.4142 6815,-726.4142 6811.5001,-736.4142 6818.5001,-736.4142"/>
</g>
<!-- section_48 -->
<g id="node49" class="node">
<title>section_48</title>
<ellipse fill="none" stroke="#000000" cx="7668" cy="-708.0009" rx="70.655" ry="18"/>
<text text-anchor="middle" x="7668" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 94&#45;127</text>
</g>
<!-- section_9&#45;&gt;section_48 -->
<g id="edge48" class="edge">
<title>section_9&#45;&gt;section_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6882.2896,-774.3212C7038.5414,-761.1323 7425.1998,-728.4952 7590.7584,-714.5207"/>
<polygon fill="#000000" stroke="#000000" points="7591.1923,-717.9967 7600.8625,-713.6679 7590.6035,-711.0215 7591.1923,-717.9967"/>
</g>
<!-- section_49 -->
<g id="node50" class="node">
<title>section_49</title>
<ellipse fill="none" stroke="#000000" cx="8457" cy="-708.0009" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8457" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 128&#45;140</text>
</g>
<!-- section_9&#45;&gt;section_49 -->
<g id="edge49" class="edge">
<title>section_9&#45;&gt;section_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6884.7674,-776.9417C7148.4812,-765.3781 8084.0605,-724.3539 8372.0217,-711.7271"/>
<polygon fill="#000000" stroke="#000000" points="8372.5612,-715.2069 8382.3983,-711.2721 8372.2545,-708.2137 8372.5612,-715.2069"/>
</g>
<!-- section_50 -->
<g id="node51" class="node">
<title>section_50</title>
<ellipse fill="none" stroke="#000000" cx="9006" cy="-708.0009" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9006" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 141&#45;152</text>
</g>
<!-- section_9&#45;&gt;section_50 -->
<g id="edge50" class="edge">
<title>section_9&#45;&gt;section_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6885.2908,-777.9888C7119.9694,-771.231 7897.9492,-748.5061 8541,-726.0009 8673.8825,-721.3504 8828.096,-715.2399 8921.2917,-711.4687"/>
<polygon fill="#000000" stroke="#000000" points="8921.6611,-714.9567 8931.5111,-711.0546 8921.3776,-707.9624 8921.6611,-714.9567"/>
</g>
<!-- section_51 -->
<g id="node52" class="node">
<title>section_51</title>
<ellipse fill="none" stroke="#000000" cx="9715" cy="-708.0009" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9715" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 153&#45;161</text>
</g>
<!-- section_9&#45;&gt;section_51 -->
<g id="edge51" class="edge">
<title>section_9&#45;&gt;section_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6885.7672,-778.4517C7165.4854,-772.3004 8221.1314,-748.8243 9090,-726.0009 9282.9577,-720.9323 9509.4013,-714.2206 9629.7164,-710.5938"/>
<polygon fill="#000000" stroke="#000000" points="9630.0727,-714.0848 9639.9625,-710.2847 9629.8615,-707.0879 9630.0727,-714.0848"/>
</g>
<!-- section_52 -->
<g id="node53" class="node">
<title>section_52</title>
<ellipse fill="none" stroke="#000000" cx="10377" cy="-708.0009" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="10377" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 162&#45;177</text>
</g>
<!-- section_9&#45;&gt;section_52 -->
<g id="edge52" class="edge">
<title>section_9&#45;&gt;section_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6885.4971,-779.0646C7214.8299,-774.619 8634.8322,-754.6606 9799,-726.0009 9974.1887,-721.6881 10179.1912,-714.8883 10291.905,-710.998"/>
<polygon fill="#000000" stroke="#000000" points="10292.3148,-714.486 10302.1878,-710.6423 10292.0727,-707.4902 10292.3148,-714.486"/>
</g>
<!-- section_53 -->
<g id="node54" class="node">
<title>section_53</title>
<ellipse fill="none" stroke="#000000" cx="11235" cy="-708.0009" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="11235" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 178&#45;233</text>
</g>
<!-- section_9&#45;&gt;section_53 -->
<g id="edge53" class="edge">
<title>section_9&#45;&gt;section_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6885.7358,-779.1756C7257.1359,-774.7959 9019.4771,-753.4374 10461,-726.0009 10711.3351,-721.2363 11007.173,-713.8751 11149.7458,-710.2188"/>
<polygon fill="#000000" stroke="#000000" points="11149.8367,-713.7177 11159.7435,-709.9621 11149.6569,-706.72 11149.8367,-713.7177"/>
</g>
<!-- section_54 -->
<g id="node55" class="node">
<title>section_54</title>
<ellipse fill="none" stroke="#000000" cx="12690" cy="-708.0009" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="12690" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 234&#45;264</text>
</g>
<!-- section_9&#45;&gt;section_54 -->
<g id="edge54" class="edge">
<title>section_9&#45;&gt;section_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6885.8291,-779.182C7306.1316,-774.3163 9515.6532,-748.6496 11319,-726.0009 11805.2313,-719.8943 12388.4553,-712.0719 12604.2699,-709.1604"/>
<polygon fill="#000000" stroke="#000000" points="12604.6237,-712.6561 12614.5755,-709.0214 12604.5291,-705.6567 12604.6237,-712.6561"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="352,-654.2024 0,-654.2024 0,-598.3994 352,-598.3994 352,-654.2024"/>
<text text-anchor="middle" x="176" y="-606.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">We&#39;re not going to have one of these right away.</text>
</g>
<!-- raw_11&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>raw_11&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1480.1056,-697.2581C1473.1964,-694.359 1465.4254,-691.588 1458,-690.0009 1222.6226,-639.6938 620.0715,-675.1346 362.344,-654.0373"/>
<polygon fill="#000000" stroke="#000000" points="362.465,-650.5348 352.2008,-653.1612 361.8625,-657.5089 362.465,-650.5348"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="883.5,-653.6013 370.5,-653.6013 370.5,-599.0005 883.5,-599.0005 883.5,-653.6013"/>
<text text-anchor="middle" x="627" y="-622.501" font-family="Inconsolata" font-size="14.00" fill="#000000">This is not much more than an ordinary array of lines that has a bit of</text>
<text text-anchor="middle" x="627" y="-607.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">awareness, mostly about which lines have cursors and which don&#39;t.</text>
</g>
<!-- raw_13&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>raw_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1560.5633,-697.3663C1553.4952,-694.4716 1545.5578,-691.6758 1538,-690.0009 1260.5448,-628.5133 1180.5093,-675.818 893.9369,-654.1233"/>
<polygon fill="#000000" stroke="#000000" points="893.8965,-650.6096 883.6548,-653.3221 893.3527,-657.5885 893.8965,-650.6096"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1456.5,-653.6013 901.5,-653.6013 901.5,-599.0005 1456.5,-599.0005 1456.5,-653.6013"/>
<text text-anchor="middle" x="1179" y="-622.501" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;ll circle back for quipu but I want a basic editor as soon as possible. The</text>
<text text-anchor="middle" x="1179" y="-607.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">interaction dynamics need to be worked out right away, plus I want to use it!</text>
</g>
<!-- raw_15&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>raw_15&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1642.4144,-697.9738C1635.0658,-695.0347 1626.7936,-692.0607 1619,-690.0009 1564.1535,-675.5056 1504.532,-664.083 1447.3981,-655.1634"/>
<polygon fill="#000000" stroke="#000000" points="1447.925,-651.7034 1437.5087,-653.6404 1446.8594,-658.6218 1447.925,-651.7034"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="2037,-653.6013 1475,-653.6013 1475,-599.0005 2037,-599.0005 2037,-653.6013"/>
<text text-anchor="middle" x="1756" y="-622.501" font-family="Inconsolata" font-size="14.00" fill="#000000">Plan: A line that has a cursor on it, and there can be many, gets &#39;opened&#39;</text>
<text text-anchor="middle" x="1756" y="-607.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">into a grid of characters. &#160;These in turn get &#39;closed&#39; when the cursor leaves.</text>
</g>
<!-- raw_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>raw_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1756,-689.8691C1756,-682.1497 1756,-672.8435 1756,-663.7621"/>
<polygon fill="#000000" stroke="#000000" points="1759.5001,-663.7011 1756,-653.7011 1752.5001,-663.7012 1759.5001,-663.7011"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="2288.5,-654.2024 2055.5,-654.2024 2055.5,-598.3994 2288.5,-598.3994 2288.5,-654.2024"/>
<text text-anchor="middle" x="2172" y="-622.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">A closed line is just a string.</text>
</g>
<!-- raw_19&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>raw_19&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2026.8323,-697.3201C2047.0163,-687.4456 2078.0621,-672.2574 2106.2706,-658.4572"/>
<polygon fill="#000000" stroke="#000000" points="2107.8676,-661.5723 2115.3122,-654.0338 2104.7914,-655.2845 2107.8676,-661.5723"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="2407,-644.3009 2307,-644.3009 2307,-608.3009 2407,-608.3009 2407,-644.3009"/>
<text text-anchor="middle" x="2357" y="-622.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">** Interface</text>
</g>
<!-- header_21&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>header_21&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2352.3316,-689.8691C2353.0929,-679.5032 2354.0643,-666.2757 2354.9237,-654.5739"/>
<polygon fill="#000000" stroke="#000000" points="2358.4302,-654.6116 2355.6721,-644.3821 2351.449,-654.0989 2358.4302,-654.6116"/>
</g>
<!-- raw_25 -->
<g id="node26" class="node">
<title>raw_25</title>
<ellipse fill="none" stroke="#000000" cx="2452" cy="-626.3009" rx="27" ry="18"/>
<text text-anchor="middle" x="2452" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_22&#45;&gt;raw_25 -->
<g id="edge25" class="edge">
<title>prose_22&#45;&gt;raw_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2456.6684,-689.8691C2455.9071,-679.5032 2454.9357,-666.2757 2454.0763,-654.5739"/>
<polygon fill="#000000" stroke="#000000" points="2457.551,-654.0989 2453.3279,-644.3821 2450.5698,-654.6116 2457.551,-654.0989"/>
</g>
<!-- header_27 -->
<g id="node28" class="node">
<title>header_27</title>
<ellipse fill="none" stroke="#000000" cx="2576" cy="-626.3009" rx="78.8574" ry="18"/>
<text text-anchor="middle" x="2576" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Instance fields</text>
</g>
<!-- section_23&#45;&gt;header_27 -->
<g id="edge27" class="edge">
<title>section_23&#45;&gt;header_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2713.2223,-692.2484C2686.4072,-679.3613 2648.2709,-661.0335 2619.0052,-646.9687"/>
<polygon fill="#000000" stroke="#000000" points="2620.3699,-643.7414 2609.8407,-642.5643 2617.3377,-650.0506 2620.3699,-643.7414"/>
</g>
<!-- prose_28 -->
<g id="node29" class="node">
<title>prose_28</title>
<ellipse fill="none" stroke="#000000" cx="2705" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2705" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_23&#45;&gt;prose_28 -->
<g id="edge28" class="edge">
<title>section_23&#45;&gt;prose_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2736.9008,-689.8691C2731.4651,-679.0375 2724.4614,-665.0814 2718.4017,-653.0063"/>
<polygon fill="#000000" stroke="#000000" points="2721.4059,-651.1892 2713.7924,-643.8214 2715.1495,-654.3289 2721.4059,-651.1892"/>
</g>
<!-- prose_29 -->
<g id="node30" class="node">
<title>prose_29</title>
<ellipse fill="none" stroke="#000000" cx="2787" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2787" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_23&#45;&gt;prose_29 -->
<g id="edge29" class="edge">
<title>section_23&#45;&gt;prose_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2755.0992,-689.8691C2760.5349,-679.0375 2767.5386,-665.0814 2773.5983,-653.0063"/>
<polygon fill="#000000" stroke="#000000" points="2776.8505,-654.3289 2778.2076,-643.8214 2770.5941,-651.1892 2776.8505,-654.3289"/>
</g>
<!-- prose_30 -->
<g id="node31" class="node">
<title>prose_30</title>
<ellipse fill="none" stroke="#000000" cx="2869" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2869" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_23&#45;&gt;prose_30 -->
<g id="edge30" class="edge">
<title>section_23&#45;&gt;prose_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2771.5373,-691.2947C2787.7438,-680.6652 2809.14,-666.5813 2828,-654.0009 2831.801,-651.4655 2835.7923,-648.788 2839.7309,-646.1368"/>
<polygon fill="#000000" stroke="#000000" points="2841.842,-648.9346 2848.1743,-640.4404 2837.927,-643.1317 2841.842,-648.9346"/>
</g>
<!-- prose_31 -->
<g id="node32" class="node">
<title>prose_31</title>
<ellipse fill="none" stroke="#000000" cx="2951" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2951" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_23&#45;&gt;prose_31 -->
<g id="edge31" class="edge">
<title>section_23&#45;&gt;prose_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2794.739,-695.7725C2828.1072,-686.4903 2872.8623,-672.222 2910,-654.0009 2914.3959,-651.8442 2918.8668,-649.2746 2923.1615,-646.5829"/>
<polygon fill="#000000" stroke="#000000" points="2925.2317,-649.4102 2931.6487,-640.9797 2921.375,-643.5684 2925.2317,-649.4102"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="2485.5,-370.0008 1930.5,-370.0008 1930.5,-299.4001 2485.5,-299.4001 2485.5,-370.0008"/>
<text text-anchor="middle" x="2208" y="-322.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;A txtbuf is a drop&#45;in replacement for a txtbuf, used when there&#39;s more than</text>
<text text-anchor="middle" x="2208" y="-307.5005" font-family="Inconsolata" font-size="14.00" fill="#000000">one line to buffer.</text>
</g>
<!-- raw_25&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>raw_25&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2438.5339,-610.2079C2401.8606,-566.3801 2299.2749,-443.7816 2244.1392,-377.8898"/>
<polygon fill="#000000" stroke="#000000" points="2246.7598,-375.5676 2237.6581,-370.1444 2241.3913,-380.0598 2246.7598,-375.5676"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="2652.5,-352.7005 2503.5,-352.7005 2503.5,-316.7005 2652.5,-316.7005 2652.5,-352.7005"/>
<text text-anchor="middle" x="2578" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Instance fields</text>
</g>
<!-- header_27&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>header_27&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2576.1251,-608.06C2576.4632,-558.7609 2577.3972,-422.5817 2577.8052,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="2581.3062,-362.9583 2577.8749,-352.9345 2574.3063,-362.9102 2581.3062,-362.9583"/>
</g>
<!-- raw_33 -->
<g id="node34" class="node">
<title>raw_33</title>
<ellipse fill="none" stroke="#000000" cx="2702" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="2702" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_28&#45;&gt;raw_33 -->
<g id="edge33" class="edge">
<title>prose_28&#45;&gt;raw_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2704.8123,-608.06C2704.3051,-558.7609 2702.9041,-422.5817 2702.2923,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="2705.7904,-362.8979 2702.1876,-352.9345 2698.7908,-362.97 2705.7904,-362.8979"/>
</g>
<!-- raw_35 -->
<g id="node36" class="node">
<title>raw_35</title>
<ellipse fill="none" stroke="#000000" cx="2780" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="2780" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_29&#45;&gt;raw_35 -->
<g id="edge35" class="edge">
<title>prose_29&#45;&gt;raw_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2786.5621,-608.06C2785.3787,-558.7609 2782.1096,-422.5817 2780.6819,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="2784.1768,-362.8476 2780.4377,-352.9345 2777.1788,-363.0157 2784.1768,-362.8476"/>
</g>
<!-- raw_37 -->
<g id="node38" class="node">
<title>raw_37</title>
<ellipse fill="none" stroke="#000000" cx="2874" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="2874" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_30&#45;&gt;raw_37 -->
<g id="edge37" class="edge">
<title>prose_30&#45;&gt;raw_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2869.3128,-608.06C2870.1581,-558.7609 2872.4931,-422.5817 2873.5129,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="2877.0153,-362.9931 2873.6873,-352.9345 2870.0163,-362.873 2877.0153,-362.9931"/>
</g>
<!-- raw_39 -->
<g id="node40" class="node">
<title>raw_39</title>
<ellipse fill="none" stroke="#000000" cx="2951" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="2951" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_31&#45;&gt;raw_39 -->
<g id="edge39" class="edge">
<title>prose_31&#45;&gt;raw_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2951,-608.06C2951,-558.7609 2951,-422.5817 2951,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="2954.5001,-362.9345 2951,-352.9345 2947.5001,-362.9345 2954.5001,-362.9345"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2400.5,-63.3015 1887.5,-63.3015 1887.5,-7.4985 2400.5,-7.4985 2400.5,-63.3015"/>
<text text-anchor="middle" x="2144" y="-15.9" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; lines : &#160;An array of arrays containing codepoints (string fragments).</text>
</g>
<!-- raw_33&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>raw_33&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2705.0255,-316.7078C2711.1566,-273.5057 2719.87,-163.318 2661,-106.8001 2659.5513,-105.4093 2500.9839,-83.6392 2359.8567,-64.5005"/>
<polygon fill="#000000" stroke="#000000" points="2360.1076,-61.0026 2349.7281,-63.1274 2359.1672,-67.9392 2360.1076,-61.0026"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="2855,-55.3021 2419,-55.3021 2419,-15.4979 2855,-15.4979 2855,-55.3021"/>
<text text-anchor="middle" x="2637" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; cursor : &#160;Number of fragments to skip before an insertion.</text>
</g>
<!-- raw_35&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>raw_35&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2781.072,-316.4875C2782.5972,-275.5591 2781.3427,-174.5937 2738,-106.8001 2725.7178,-87.5891 2706.2481,-72.0309 2687.6665,-60.4005"/>
<polygon fill="#000000" stroke="#000000" points="2689.3143,-57.3076 2678.937,-55.1713 2685.7171,-63.3127 2689.3143,-57.3076"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="3162.5,-55.3021 2873.5,-55.3021 2873.5,-15.4979 3162.5,-15.4979 3162.5,-55.3021"/>
<text text-anchor="middle" x="3018" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; cur_row : &#160;Row containing the cursor.</text>
</g>
<!-- raw_37&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>raw_37&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2872.786,-316.4645C2870.9543,-275.4891 2871.5228,-174.4335 2915,-106.8001 2927.4424,-87.4446 2947.1816,-71.8962 2966.0659,-60.3125"/>
<polygon fill="#000000" stroke="#000000" points="2968.0856,-63.1855 2974.9413,-55.1078 2964.5446,-57.1472 2968.0856,-63.1855"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="3701,-70.7004 3181,-70.7004 3181,-.0997 3701,-.0997 3701,-70.7004"/>
<text text-anchor="middle" x="3441" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; disp : &#160;Array of numbers, representing the furthest&#45;right column which</text>
<text text-anchor="middle" x="3441" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;may be reached by printing the corresponding row.</text>
</g>
<!-- raw_39&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>raw_39&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2947.5942,-316.8314C2940.5472,-273.9036 2929.4821,-164.2789 2987,-106.8001 2994.6738,-99.1314 3077.7932,-85.0888 3170.8584,-71.4735"/>
<polygon fill="#000000" stroke="#000000" points="3171.382,-74.9342 3180.7734,-70.0299 3170.3734,-68.0073 3171.382,-74.9342"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="4086,-644.3009 4000,-644.3009 4000,-608.3009 4086,-608.3009 4086,-644.3009"/>
<text text-anchor="middle" x="4043" y="-622.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">** Methods</text>
</g>
<!-- header_41&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>header_41&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4064.7859,-689.8691C4061.1608,-679.2916 4056.5146,-665.7346 4052.4448,-653.8594"/>
<polygon fill="#000000" stroke="#000000" points="4055.7498,-652.7072 4049.1967,-644.3821 4049.1279,-654.9767 4055.7498,-652.7072"/>
</g>
<!-- raw_56 -->
<g id="node57" class="node">
<title>raw_56</title>
<ellipse fill="none" stroke="#000000" cx="4131" cy="-626.3009" rx="27" ry="18"/>
<text text-anchor="middle" x="4131" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_42&#45;&gt;raw_56 -->
<g id="edge56" class="edge">
<title>prose_42&#45;&gt;raw_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4228.91,-694.5121C4211.7717,-683.8773 4187.5529,-668.4756 4167,-654.0009 4163.5183,-651.5489 4159.9037,-648.8988 4156.3671,-646.2434"/>
<polygon fill="#000000" stroke="#000000" points="4158.4284,-643.4137 4148.3559,-640.1281 4154.181,-648.9779 4158.4284,-643.4137"/>
</g>
<!-- raw_58 -->
<g id="node59" class="node">
<title>raw_58</title>
<ellipse fill="none" stroke="#000000" cx="4203" cy="-626.3009" rx="27" ry="18"/>
<text text-anchor="middle" x="4203" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_43&#45;&gt;raw_58 -->
<g id="edge58" class="edge">
<title>prose_43&#45;&gt;raw_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4359.6643,-700.3734C4328.5667,-691.628 4278.5769,-675.6575 4239,-654.0009 4235.1864,-651.9142 4231.346,-649.4417 4227.6671,-646.8464"/>
<polygon fill="#000000" stroke="#000000" points="4229.564,-643.894 4219.4647,-640.6915 4225.3626,-649.4929 4229.564,-643.894"/>
</g>
<!-- raw_60 -->
<g id="node61" class="node">
<title>raw_60</title>
<ellipse fill="none" stroke="#000000" cx="4275" cy="-626.3009" rx="27" ry="18"/>
<text text-anchor="middle" x="4275" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_44&#45;&gt;raw_60 -->
<g id="edge60" class="edge">
<title>prose_44&#45;&gt;raw_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4551.3103,-703.5674C4489.1901,-694.5746 4353.7468,-673.3941 4311,-654.0009 4306.8482,-652.1174 4302.7356,-649.6718 4298.8563,-647.0143"/>
<polygon fill="#000000" stroke="#000000" points="4300.915,-644.1833 4290.8117,-640.9934 4296.7206,-649.7876 4300.915,-644.1833"/>
</g>
<!-- prespace_61 -->
<g id="node62" class="node">
<title>prespace_61</title>
<ellipse fill="none" stroke="#000000" cx="4366" cy="-626.3009" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4366" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_44&#45;&gt;prespace_61 -->
<g id="edge61" class="edge">
<title>prose_44&#45;&gt;prespace_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4554.3616,-699.683C4521.8302,-689.9395 4467.3733,-672.7306 4422,-654.0009 4415.668,-651.3871 4409.0519,-648.3771 4402.6773,-645.3254"/>
<polygon fill="#000000" stroke="#000000" points="4404.092,-642.1211 4393.5718,-640.8659 4401.0131,-648.4076 4404.092,-642.1211"/>
</g>
<!-- literal_62 -->
<g id="node63" class="node">
<title>literal_62</title>
<ellipse fill="none" stroke="#000000" cx="4462" cy="-626.3009" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4462" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_44&#45;&gt;literal_62 -->
<g id="edge62" class="edge">
<title>prose_44&#45;&gt;literal_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4561.9533,-694.1166C4545.5637,-683.2691 4522.2697,-667.7743 4502,-654.0009 4498.284,-651.4759 4494.3854,-648.8043 4490.5406,-646.1562"/>
<polygon fill="#000000" stroke="#000000" points="4492.5178,-643.2681 4482.3012,-640.4623 4488.5381,-649.0269 4492.5178,-643.2681"/>
</g>
<!-- raw_63 -->
<g id="node64" class="node">
<title>raw_63</title>
<ellipse fill="none" stroke="#000000" cx="4538" cy="-626.3009" rx="27" ry="18"/>
<text text-anchor="middle" x="4538" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_44&#45;&gt;raw_63 -->
<g id="edge63" class="edge">
<title>prose_44&#45;&gt;raw_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4573.4567,-690.6745C4567.3301,-679.5513 4559.2593,-664.8984 4552.3657,-652.3826"/>
<polygon fill="#000000" stroke="#000000" points="4555.2656,-650.3929 4547.3753,-643.3223 4549.1341,-653.7701 4555.2656,-650.3929"/>
</g>
<!-- prespace_64 -->
<g id="node65" class="node">
<title>prespace_64</title>
<ellipse fill="none" stroke="#000000" cx="4629" cy="-626.3009" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4629" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_44&#45;&gt;prespace_64 -->
<g id="edge64" class="edge">
<title>prose_44&#45;&gt;prespace_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4592.7554,-690.6745C4598.892,-679.7753 4606.9369,-665.487 4613.888,-653.1412"/>
<polygon fill="#000000" stroke="#000000" points="4617.0843,-654.5982 4618.9406,-644.1672 4610.9846,-651.1638 4617.0843,-654.5982"/>
</g>
<!-- literal_65 -->
<g id="node66" class="node">
<title>literal_65</title>
<ellipse fill="none" stroke="#000000" cx="4725" cy="-626.3009" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4725" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_44&#45;&gt;literal_65 -->
<g id="edge65" class="edge">
<title>prose_44&#45;&gt;literal_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4607.0586,-696.024C4627.7685,-685.5055 4658.2878,-669.5038 4684,-654.0009 4687.9978,-651.5905 4692.1459,-648.9552 4696.2003,-646.2991"/>
<polygon fill="#000000" stroke="#000000" points="4698.4624,-648.9971 4704.8317,-640.5305 4694.5728,-643.1772 4698.4624,-648.9971"/>
</g>
<!-- raw_66 -->
<g id="node67" class="node">
<title>raw_66</title>
<ellipse fill="none" stroke="#000000" cx="4801" cy="-626.3009" rx="27" ry="18"/>
<text text-anchor="middle" x="4801" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_44&#45;&gt;raw_66 -->
<g id="edge66" class="edge">
<title>prose_44&#45;&gt;raw_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4613.924,-702.4401C4651.2151,-694.9342 4715.0998,-679.4824 4765,-654.0009 4768.8716,-652.0239 4772.7451,-649.6139 4776.4401,-647.0491"/>
<polygon fill="#000000" stroke="#000000" points="4778.7359,-649.7029 4784.6532,-640.9144 4774.5469,-644.0947 4778.7359,-649.7029"/>
</g>
<!-- raw_74 -->
<g id="node75" class="node">
<title>raw_74</title>
<ellipse fill="none" stroke="#000000" cx="5024" cy="-626.3009" rx="27" ry="18"/>
<text text-anchor="middle" x="5024" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_45&#45;&gt;raw_74 -->
<g id="edge74" class="edge">
<title>prose_45&#45;&gt;raw_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5227.5941,-698.308C5185.0619,-683.2652 5103.2903,-654.3443 5057.3788,-638.1063"/>
<polygon fill="#000000" stroke="#000000" points="5058.4762,-634.782 5047.8814,-634.7473 5056.142,-641.3814 5058.4762,-634.782"/>
</g>
<!-- prespace_75 -->
<g id="node76" class="node">
<title>prespace_75</title>
<ellipse fill="none" stroke="#000000" cx="5159" cy="-626.3009" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5159" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_45&#45;&gt;prespace_75 -->
<g id="edge75" class="edge">
<title>prose_45&#45;&gt;prespace_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5236.9431,-692.6338C5222.5669,-680.399 5202.224,-663.0863 5185.9257,-649.2158"/>
<polygon fill="#000000" stroke="#000000" points="5188.1774,-646.5362 5178.2935,-642.7205 5183.6406,-651.8671 5188.1774,-646.5362"/>
</g>
<!-- literal_76 -->
<g id="node77" class="node">
<title>literal_76</title>
<ellipse fill="none" stroke="#000000" cx="5255" cy="-626.3009" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5255" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_45&#45;&gt;literal_76 -->
<g id="edge76" class="edge">
<title>prose_45&#45;&gt;literal_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5255,-689.8691C5255,-679.5032 5255,-666.2757 5255,-654.5739"/>
<polygon fill="#000000" stroke="#000000" points="5258.5001,-654.3821 5255,-644.3821 5251.5001,-654.3822 5258.5001,-654.3821"/>
</g>
<!-- raw_77 -->
<g id="node78" class="node">
<title>raw_77</title>
<ellipse fill="none" stroke="#000000" cx="5389" cy="-626.3009" rx="27" ry="18"/>
<text text-anchor="middle" x="5389" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_45&#45;&gt;raw_77 -->
<g id="edge77" class="edge">
<title>prose_45&#45;&gt;raw_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5276.8276,-694.6926C5299.5488,-680.8395 5335.2432,-659.0765 5360.2491,-643.8304"/>
<polygon fill="#000000" stroke="#000000" points="5362.2182,-646.7291 5368.9343,-638.535 5358.5741,-640.7524 5362.2182,-646.7291"/>
</g>
<!-- header_82 -->
<g id="node83" class="node">
<title>header_82</title>
<ellipse fill="none" stroke="#000000" cx="5713" cy="-626.3009" rx="77.4383" ry="18"/>
<text text-anchor="middle" x="5713" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : dependencies</text>
</g>
<!-- section_46&#45;&gt;header_82 -->
<g id="edge82" class="edge">
<title>section_46&#45;&gt;header_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5969.8335,-695.325C5917.0198,-681.1313 5831.2838,-658.0897 5773.5558,-642.5753"/>
<polygon fill="#000000" stroke="#000000" points="5774.3957,-639.1769 5763.8299,-639.9615 5772.5788,-645.937 5774.3957,-639.1769"/>
</g>
<!-- prose_83 -->
<g id="node84" class="node">
<title>prose_83</title>
<ellipse fill="none" stroke="#000000" cx="5873" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5873" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_46&#45;&gt;prose_83 -->
<g id="edge83" class="edge">
<title>section_46&#45;&gt;prose_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5988.2055,-691.6641C5964.0829,-677.9778 5929.6926,-658.4661 5904.7715,-644.3268"/>
<polygon fill="#000000" stroke="#000000" points="5906.4798,-641.272 5896.055,-639.3814 5903.0255,-647.3603 5906.4798,-641.272"/>
</g>
<!-- codeblock_84 -->
<g id="node85" class="node">
<title>codeblock_84</title>
<ellipse fill="none" stroke="#000000" cx="6017" cy="-626.3009" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="6017" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 51&#45;56</text>
</g>
<!-- section_46&#45;&gt;codeblock_84 -->
<g id="edge84" class="edge">
<title>section_46&#45;&gt;codeblock_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6017,-689.8691C6017,-679.5032 6017,-666.2757 6017,-654.5739"/>
<polygon fill="#000000" stroke="#000000" points="6020.5001,-654.3821 6017,-644.3821 6013.5001,-654.3822 6020.5001,-654.3821"/>
</g>
<!-- codeblock_85 -->
<g id="node86" class="node">
<title>codeblock_85</title>
<ellipse fill="none" stroke="#000000" cx="6236" cy="-626.3009" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="6236" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 58&#45;60</text>
</g>
<!-- section_46&#45;&gt;codeblock_85 -->
<g id="edge85" class="edge">
<title>section_46&#45;&gt;codeblock_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6055.9005,-693.4888C6091.9334,-680.0463 6145.7469,-659.9707 6185.1667,-645.2648"/>
<polygon fill="#000000" stroke="#000000" points="6186.7131,-648.4236 6194.859,-641.649 6184.2664,-641.8651 6186.7131,-648.4236"/>
</g>
<!-- header_91 -->
<g id="node92" class="node">
<title>header_91</title>
<ellipse fill="none" stroke="#000000" cx="6521" cy="-626.3009" rx="115.7565" ry="18"/>
<text text-anchor="middle" x="6521" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf.__tostring(txtbuf)</text>
</g>
<!-- section_47&#45;&gt;header_91 -->
<g id="edge91" class="edge">
<title>section_47&#45;&gt;header_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6768.7391,-695.1454C6719.9235,-681.58 6642.5502,-660.0787 6587.2642,-644.7151"/>
<polygon fill="#000000" stroke="#000000" points="6588.1277,-641.3225 6577.5556,-642.0172 6586.2534,-648.067 6588.1277,-641.3225"/>
</g>
<!-- prose_92 -->
<g id="node93" class="node">
<title>prose_92</title>
<ellipse fill="none" stroke="#000000" cx="6738" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6738" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_47&#45;&gt;prose_92 -->
<g id="edge92" class="edge">
<title>section_47&#45;&gt;prose_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6798.2921,-690.2732C6787.157,-678.4584 6772.3954,-662.7958 6760.2657,-649.9257"/>
<polygon fill="#000000" stroke="#000000" points="6762.5151,-647.2093 6753.1094,-642.3326 6757.421,-652.0104 6762.5151,-647.2093"/>
</g>
<!-- codeblock_93 -->
<g id="node94" class="node">
<title>codeblock_93</title>
<ellipse fill="none" stroke="#000000" cx="6879" cy="-626.3009" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="6879" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 64&#45;80</text>
</g>
<!-- section_47&#45;&gt;codeblock_93 -->
<g id="edge93" class="edge">
<title>section_47&#45;&gt;codeblock_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6828.887,-690.2732C6837.5494,-679.2152 6848.8522,-664.7864 6858.5306,-652.4314"/>
<polygon fill="#000000" stroke="#000000" points="6861.5076,-654.3067 6864.919,-644.2761 6855.997,-649.99 6861.5076,-654.3067"/>
</g>
<!-- codeblock_94 -->
<g id="node95" class="node">
<title>codeblock_94</title>
<ellipse fill="none" stroke="#000000" cx="7170" cy="-626.3009" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="7170" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 82&#45;91</text>
</g>
<!-- section_47&#45;&gt;codeblock_94 -->
<g id="edge94" class="edge">
<title>section_47&#45;&gt;codeblock_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6865.4858,-696.3821C6928.3403,-681.9167 7035.8169,-657.1819 7104.8315,-641.2989"/>
<polygon fill="#000000" stroke="#000000" points="7105.7647,-644.6757 7114.725,-639.022 7104.1947,-637.854 7105.7647,-644.6757"/>
</g>
<!-- header_100 -->
<g id="node101" class="node">
<title>header_100</title>
<ellipse fill="none" stroke="#000000" cx="7597" cy="-626.3009" rx="92.0509" ry="18"/>
<text text-anchor="middle" x="7597" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:insert(frag)</text>
</g>
<!-- section_48&#45;&gt;header_100 -->
<g id="edge100" class="edge">
<title>section_48&#45;&gt;header_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7652.5941,-690.2732C7642.8918,-679.1088 7630.2038,-664.5086 7619.399,-652.0756"/>
<polygon fill="#000000" stroke="#000000" points="7621.8224,-649.5284 7612.6211,-644.2761 7616.5388,-654.12 7621.8224,-649.5284"/>
</g>
<!-- prose_101 -->
<g id="node102" class="node">
<title>prose_101</title>
<ellipse fill="none" stroke="#000000" cx="7739" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7739" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_48&#45;&gt;prose_101 -->
<g id="edge101" class="edge">
<title>section_48&#45;&gt;prose_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7683.4059,-690.2732C7693.6059,-678.5361 7707.1058,-663.0017 7718.2482,-650.1801"/>
<polygon fill="#000000" stroke="#000000" points="7720.913,-652.4495 7724.8307,-642.6056 7715.6293,-647.8579 7720.913,-652.4495"/>
</g>
<!-- codeblock_102 -->
<g id="node103" class="node">
<title>codeblock_102</title>
<ellipse fill="none" stroke="#000000" cx="7954" cy="-626.3009" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="7954" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 96&#45;126</text>
</g>
<!-- section_48&#45;&gt;codeblock_102 -->
<g id="edge102" class="edge">
<title>section_48&#45;&gt;codeblock_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7715.2271,-694.5098C7764.2172,-680.5151 7840.962,-658.5919 7894.166,-643.3934"/>
<polygon fill="#000000" stroke="#000000" points="7895.1604,-646.7494 7903.8144,-640.6372 7893.2376,-640.0186 7895.1604,-646.7494"/>
</g>
<!-- header_107 -->
<g id="node108" class="node">
<title>header_107</title>
<ellipse fill="none" stroke="#000000" cx="8388" cy="-626.3009" rx="88.6939" ry="18"/>
<text text-anchor="middle" x="8388" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:advance()</text>
</g>
<!-- section_49&#45;&gt;header_107 -->
<g id="edge107" class="edge">
<title>section_49&#45;&gt;header_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8442.028,-690.2732C8432.5991,-679.1088 8420.2684,-664.5086 8409.7681,-652.0756"/>
<polygon fill="#000000" stroke="#000000" points="8412.3073,-649.6577 8403.181,-644.2761 8406.9594,-654.1744 8412.3073,-649.6577"/>
</g>
<!-- prose_108 -->
<g id="node109" class="node">
<title>prose_108</title>
<ellipse fill="none" stroke="#000000" cx="8527" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8527" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_49&#45;&gt;prose_108 -->
<g id="edge108" class="edge">
<title>section_49&#45;&gt;prose_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8472.189,-690.2732C8482.1504,-678.6468 8495.3042,-663.2945 8506.229,-650.5437"/>
<polygon fill="#000000" stroke="#000000" points="8509.1817,-652.4768 8513.0302,-642.6056 8503.866,-647.9223 8509.1817,-652.4768"/>
</g>
<!-- codeblock_109 -->
<g id="node110" class="node">
<title>codeblock_109</title>
<ellipse fill="none" stroke="#000000" cx="8687" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="8687" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 130&#45;139</text>
</g>
<!-- section_49&#45;&gt;codeblock_109 -->
<g id="edge109" class="edge">
<title>section_49&#45;&gt;codeblock_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8499.1855,-693.0159C8537.0046,-679.5819 8592.6717,-659.808 8633.5863,-645.2744"/>
<polygon fill="#000000" stroke="#000000" points="8634.8737,-648.5314 8643.1253,-641.886 8632.5306,-641.9352 8634.8737,-648.5314"/>
</g>
<!-- header_114 -->
<g id="node115" class="node">
<title>header_114</title>
<ellipse fill="none" stroke="#000000" cx="8939" cy="-626.3009" rx="83.8576" ry="18"/>
<text text-anchor="middle" x="8939" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:d_back()</text>
</g>
<!-- section_50&#45;&gt;header_114 -->
<g id="edge114" class="edge">
<title>section_50&#45;&gt;header_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8991.462,-690.2732C8982.3064,-679.1088 8970.3331,-664.5086 8960.1371,-652.0756"/>
<polygon fill="#000000" stroke="#000000" points="8962.7885,-649.7892 8953.741,-644.2761 8957.3758,-654.228 8962.7885,-649.7892"/>
</g>
<!-- prose_115 -->
<g id="node116" class="node">
<title>prose_115</title>
<ellipse fill="none" stroke="#000000" cx="9073" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9073" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_50&#45;&gt;prose_115 -->
<g id="edge115" class="edge">
<title>section_50&#45;&gt;prose_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9020.538,-690.2732C9030.0094,-678.7238 9042.496,-663.4976 9052.9111,-650.7974"/>
<polygon fill="#000000" stroke="#000000" points="9055.7689,-652.8321 9059.4037,-642.8803 9050.3562,-648.3933 9055.7689,-652.8321"/>
</g>
<!-- codeblock_116 -->
<g id="node117" class="node">
<title>codeblock_116</title>
<ellipse fill="none" stroke="#000000" cx="9279" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9279" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 143&#45;150</text>
</g>
<!-- section_50&#45;&gt;codeblock_116 -->
<g id="edge116" class="edge">
<title>section_50&#45;&gt;codeblock_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9053.2413,-693.8632C9099.3103,-680.0762 9169.5348,-659.0603 9219.4157,-644.1326"/>
<polygon fill="#000000" stroke="#000000" points="9220.5308,-647.4523 9229.1075,-641.2321 9218.5238,-640.7462 9220.5308,-647.4523"/>
</g>
<!-- header_121 -->
<g id="node122" class="node">
<title>header_121</title>
<ellipse fill="none" stroke="#000000" cx="9651" cy="-626.3009" rx="78.5213" ry="18"/>
<text text-anchor="middle" x="9651" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:d_fwd()</text>
</g>
<!-- section_51&#45;&gt;header_121 -->
<g id="edge121" class="edge">
<title>section_51&#45;&gt;header_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9701.113,-690.2732C9692.4506,-679.2152 9681.1478,-664.7864 9671.4694,-652.4314"/>
<polygon fill="#000000" stroke="#000000" points="9674.003,-649.99 9665.081,-644.2761 9668.4924,-654.3067 9674.003,-649.99"/>
</g>
<!-- prose_122 -->
<g id="node123" class="node">
<title>prose_122</title>
<ellipse fill="none" stroke="#000000" cx="9780" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9780" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_51&#45;&gt;prose_122 -->
<g id="edge122" class="edge">
<title>section_51&#45;&gt;prose_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9729.104,-690.2732C9738.2927,-678.7238 9750.4065,-663.4976 9760.5108,-650.7974"/>
<polygon fill="#000000" stroke="#000000" points="9763.3226,-652.8849 9766.8096,-642.8803 9757.8447,-648.5267 9763.3226,-652.8849"/>
</g>
<!-- codeblock_123 -->
<g id="node124" class="node">
<title>codeblock_123</title>
<ellipse fill="none" stroke="#000000" cx="9964" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9964" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 155&#45;159</text>
</g>
<!-- section_51&#45;&gt;codeblock_123 -->
<g id="edge123" class="edge">
<title>section_51&#45;&gt;codeblock_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9759.5162,-693.3946C9800.9588,-679.7968 9862.9063,-659.471 9907.7531,-644.7562"/>
<polygon fill="#000000" stroke="#000000" points="9908.9235,-648.0559 9917.334,-641.6126 9906.7412,-641.4047 9908.9235,-648.0559"/>
</g>
<!-- header_128 -->
<g id="node129" class="node">
<title>header_128</title>
<ellipse fill="none" stroke="#000000" cx="10310" cy="-626.3009" rx="83.3644" ry="18"/>
<text text-anchor="middle" x="10310" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:left(disp)</text>
</g>
<!-- section_52&#45;&gt;header_128 -->
<g id="edge128" class="edge">
<title>section_52&#45;&gt;header_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10362.462,-690.2732C10353.3064,-679.1088 10341.3331,-664.5086 10331.1371,-652.0756"/>
<polygon fill="#000000" stroke="#000000" points="10333.7885,-649.7892 10324.741,-644.2761 10328.3758,-654.228 10333.7885,-649.7892"/>
</g>
<!-- prose_129 -->
<g id="node130" class="node">
<title>prose_129</title>
<ellipse fill="none" stroke="#000000" cx="10443" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10443" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_52&#45;&gt;prose_129 -->
<g id="edge129" class="edge">
<title>section_52&#45;&gt;prose_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10391.321,-690.2732C10400.651,-678.7238 10412.9512,-663.4976 10423.2109,-650.7974"/>
<polygon fill="#000000" stroke="#000000" points="10426.0452,-652.8586 10429.6066,-642.8803 10420.6,-648.4597 10426.0452,-652.8586"/>
</g>
<!-- codeblock_130 -->
<g id="node131" class="node">
<title>codeblock_130</title>
<ellipse fill="none" stroke="#000000" cx="10609" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="10609" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 164&#45;175</text>
</g>
<!-- section_52&#45;&gt;codeblock_130 -->
<g id="edge130" class="edge">
<title>section_52&#45;&gt;codeblock_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10419.5524,-693.0159C10457.7003,-679.5819 10513.8514,-659.808 10555.1219,-645.2744"/>
<polygon fill="#000000" stroke="#000000" points="10556.4741,-648.5089 10564.7438,-641.886 10554.149,-641.9064 10556.4741,-648.5089"/>
</g>
<!-- header_135 -->
<g id="node136" class="node">
<title>header_135</title>
<ellipse fill="none" stroke="#000000" cx="10913" cy="-626.3009" rx="88.6766" ry="18"/>
<text text-anchor="middle" x="10913" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:right(disp)</text>
</g>
<!-- section_53&#45;&gt;header_135 -->
<g id="edge135" class="edge">
<title>section_53&#45;&gt;header_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11183.2651,-694.8744C11127.524,-680.7314 11038.6977,-658.1938 10978.2128,-642.8471"/>
<polygon fill="#000000" stroke="#000000" points="10978.9389,-639.4206 10968.3853,-640.3536 10977.2173,-646.2056 10978.9389,-639.4206"/>
</g>
<!-- prose_136 -->
<g id="node137" class="node">
<title>prose_136</title>
<ellipse fill="none" stroke="#000000" cx="11067" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11067" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_53&#45;&gt;prose_136 -->
<g id="edge136" class="edge">
<title>section_53&#45;&gt;prose_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11201.4065,-691.6641C11172.1155,-677.4196 11129.8483,-656.8647 11100.5656,-642.6242"/>
<polygon fill="#000000" stroke="#000000" points="11102.071,-639.4644 11091.5474,-638.2385 11099.0096,-645.7595 11102.071,-639.4644"/>
</g>
<!-- codeblock_137 -->
<g id="node138" class="node">
<title>codeblock_137</title>
<ellipse fill="none" stroke="#000000" cx="11235" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11235" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 180&#45;192</text>
</g>
<!-- section_53&#45;&gt;codeblock_137 -->
<g id="edge137" class="edge">
<title>section_53&#45;&gt;codeblock_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11235,-689.8691C11235,-679.5032 11235,-666.2757 11235,-654.5739"/>
<polygon fill="#000000" stroke="#000000" points="11238.5001,-654.3821 11235,-644.3821 11231.5001,-654.3822 11238.5001,-654.3821"/>
</g>
<!-- codeblock_138 -->
<g id="node139" class="node">
<title>codeblock_138</title>
<ellipse fill="none" stroke="#000000" cx="11491" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11491" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 195&#45;203</text>
</g>
<!-- section_53&#45;&gt;codeblock_138 -->
<g id="edge138" class="edge">
<title>section_53&#45;&gt;codeblock_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11280.4727,-693.4888C11323.263,-679.8326 11387.5038,-659.3308 11433.7631,-644.5676"/>
<polygon fill="#000000" stroke="#000000" points="11434.8847,-647.8836 11443.3471,-641.5089 11432.7564,-641.215 11434.8847,-647.8836"/>
</g>
<!-- codeblock_139 -->
<g id="node140" class="node">
<title>codeblock_139</title>
<ellipse fill="none" stroke="#000000" cx="11790" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11790" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 205&#45;215</text>
</g>
<!-- section_53&#45;&gt;codeblock_139 -->
<g id="edge139" class="edge">
<title>section_53&#45;&gt;codeblock_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11299.4795,-698.5091C11400.8593,-683.5852 11597.3956,-654.6537 11708.4467,-638.3062"/>
<polygon fill="#000000" stroke="#000000" points="11709.2082,-641.7319 11718.5918,-636.8127 11708.1887,-634.8065 11709.2082,-641.7319"/>
</g>
<!-- codeblock_140 -->
<g id="node141" class="node">
<title>codeblock_140</title>
<ellipse fill="none" stroke="#000000" cx="12154" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="12154" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 217&#45;231</text>
</g>
<!-- section_53&#45;&gt;codeblock_140 -->
<g id="edge140" class="edge">
<title>section_53&#45;&gt;codeblock_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11307.2925,-702.4846C11427.4806,-693.2058 11675.9684,-673.5642 11886,-654.0009 11946.2552,-648.3885 12014.0551,-641.3742 12066.3848,-635.8084"/>
<polygon fill="#000000" stroke="#000000" points="12067.065,-639.2558 12076.6376,-634.7154 12066.3229,-632.2952 12067.065,-639.2558"/>
</g>
<!-- header_148 -->
<g id="node149" class="node">
<title>header_148</title>
<ellipse fill="none" stroke="#000000" cx="12601" cy="-626.3009" rx="38.7388" ry="18"/>
<text text-anchor="middle" x="12601" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : new</text>
</g>
<!-- section_54&#45;&gt;header_148 -->
<g id="edge148" class="edge">
<title>section_54&#45;&gt;header_148</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12670.6883,-690.2732C12657.6612,-678.3147 12640.34,-662.4141 12626.2254,-649.4573"/>
<polygon fill="#000000" stroke="#000000" points="12628.4952,-646.7898 12618.7616,-642.6056 12623.7614,-651.9465 12628.4952,-646.7898"/>
</g>
<!-- prose_149 -->
<g id="node150" class="node">
<title>prose_149</title>
<ellipse fill="none" stroke="#000000" cx="12690" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="12690" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_54&#45;&gt;prose_149 -->
<g id="edge149" class="edge">
<title>section_54&#45;&gt;prose_149</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12690,-689.8691C12690,-679.5032 12690,-666.2757 12690,-654.5739"/>
<polygon fill="#000000" stroke="#000000" points="12693.5001,-654.3821 12690,-644.3821 12686.5001,-654.3822 12693.5001,-654.3821"/>
</g>
<!-- codeblock_150 -->
<g id="node151" class="node">
<title>codeblock_150</title>
<ellipse fill="none" stroke="#000000" cx="12874" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="12874" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 236&#45;260</text>
</g>
<!-- section_54&#45;&gt;codeblock_150 -->
<g id="edge150" class="edge">
<title>section_54&#45;&gt;codeblock_150</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12725.9139,-692.0544C12755.0113,-679.1345 12796.2126,-660.8402 12827.7716,-646.8274"/>
<polygon fill="#000000" stroke="#000000" points="12829.5129,-649.8837 12837.2321,-642.6267 12826.6721,-643.4861 12829.5129,-649.8837"/>
</g>
<!-- codeblock_151 -->
<g id="node152" class="node">
<title>codeblock_151</title>
<ellipse fill="none" stroke="#000000" cx="13123" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="13123" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 262&#45;264</text>
</g>
<!-- section_54&#45;&gt;codeblock_151 -->
<g id="edge151" class="edge">
<title>section_54&#45;&gt;codeblock_151</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12749.2989,-696.8122C12827.0869,-682.1349 12963.6181,-656.3737 13048.357,-640.3848"/>
<polygon fill="#000000" stroke="#000000" points="13049.2492,-643.7783 13058.4268,-638.4848 13047.9512,-636.8997 13049.2492,-643.7783"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="3341.5,-362.602 2996.5,-362.602 2996.5,-306.799 3341.5,-306.799 3341.5,-362.602"/>
<text text-anchor="middle" x="3169" y="-315.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">Initially these are only the methods of txtbuf.</text>
</g>
<!-- raw_56&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>raw_56&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4115.7879,-611.3005C4109.799,-606.3358 4102.5503,-601.3749 4095,-598.6009 3939.6276,-541.5173 3498.3807,-637.9538 3351,-562.6009 3269.5549,-520.9596 3212.4253,-424.5991 3185.8515,-371.484"/>
<polygon fill="#000000" stroke="#000000" points="3188.9441,-369.8412 3181.3967,-362.4056 3182.6599,-372.9249 3188.9441,-369.8412"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="3894,-369.9009 3360,-369.9009 3360,-299.5001 3894,-299.5001 3894,-369.9009"/>
<text text-anchor="middle" x="3627" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">I think the way forward is to treat txtbuf as a special case until it&#39;s at</text>
<text text-anchor="middle" x="3627" y="-323.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">feature parity, and we have the other aspects such as resizing the result</text>
<text text-anchor="middle" x="3627" y="-307.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">field working correctly.</text>
</g>
<!-- raw_58&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>raw_58&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4187.2943,-611.365C4181.3616,-606.532 4174.2767,-601.6405 4167,-598.6009 4057.7304,-552.958 4011.4683,-610.1165 3903,-562.6009 3804.5345,-519.4672 3713.1129,-430.5605 3664.1785,-377.4396"/>
<polygon fill="#000000" stroke="#000000" points="3666.5977,-374.8983 3657.2712,-369.8715 3661.4273,-379.6172 3666.5977,-374.8983"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="4173.5,-354.6026 3912.5,-354.6026 3912.5,-314.7984 4173.5,-314.7984 4173.5,-354.6026"/>
<text text-anchor="middle" x="4043" y="-323.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">Then we will simply switch to using</text>
</g>
<!-- raw_60&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>raw_60&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4257.6441,-612.4737C4251.7995,-607.9452 4245.1896,-602.9601 4239,-598.6009 4214.8091,-581.564 4203.7068,-583.7359 4183,-562.6009 4123.0806,-501.4424 4076.8484,-410.1565 4055.671,-363.8687"/>
<polygon fill="#000000" stroke="#000000" points="4058.8383,-362.3781 4051.5364,-354.7014 4052.4573,-365.2562 4058.8383,-362.3781"/>
</g>
<!-- leaf_68 -->
<g id="node69" class="node">
<title>leaf_68</title>
<polygon fill="none" stroke="#c0c0c0" points="4246,-352.7005 4192,-352.7005 4192,-316.7005 4246,-316.7005 4246,-352.7005"/>
<text text-anchor="middle" x="4219" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_61&#45;&gt;leaf_68 -->
<g id="edge68" class="edge">
<title>prespace_61&#45;&gt;leaf_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4337.8228,-611.7641C4306.7184,-595.4666 4260.3098,-570.3086 4255,-562.6009 4212.8187,-501.3712 4212.8802,-409.1189 4216.1022,-363.0218"/>
<polygon fill="#000000" stroke="#000000" points="4219.6061,-363.113 4216.918,-352.8649 4212.6286,-362.5526 4219.6061,-363.113"/>
</g>
<!-- leaf_69 -->
<g id="node70" class="node">
<title>leaf_69</title>
<polygon fill="none" stroke="#c0c0c0" points="4322,-352.7005 4264,-352.7005 4264,-316.7005 4322,-316.7005 4322,-352.7005"/>
<text text-anchor="middle" x="4293" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">txtbuf</text>
</g>
<!-- literal_62&#45;&gt;leaf_69 -->
<g id="edge69" class="edge">
<title>literal_62&#45;&gt;leaf_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4442.5117,-611.8908C4435.8739,-607.3234 4428.2866,-602.4626 4421,-598.6009 4382.9341,-578.427 4358.014,-596.1605 4331,-562.6009 4283.9808,-504.1887 4285.3682,-409.5608 4289.5387,-362.7561"/>
<polygon fill="#000000" stroke="#000000" points="4293.0289,-363.0277 4290.5424,-352.7288 4286.0637,-362.3304 4293.0289,-363.0277"/>
</g>
<!-- leaf_70 -->
<g id="node71" class="node">
<title>leaf_70</title>
<polygon fill="none" stroke="#c0c0c0" points="4608,-354.0011 4340,-354.0011 4340,-315.3999 4608,-315.3999 4608,-354.0011"/>
<text text-anchor="middle" x="4474" y="-338.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">s of a single line instead of the</text>
<text text-anchor="middle" x="4474" y="-323.5005" font-family="Inconsolata" font-size="14.00" fill="#000000">two separate classes, and factor out</text>
</g>
<!-- raw_63&#45;&gt;leaf_70 -->
<g id="edge70" class="edge">
<title>raw_63&#45;&gt;leaf_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4533.9965,-608.06C4523.2314,-559.0115 4493.5914,-423.9639 4480.4353,-364.0214"/>
<polygon fill="#000000" stroke="#000000" points="4483.814,-363.0886 4478.2515,-354.0714 4476.9767,-364.5893 4483.814,-363.0886"/>
</g>
<!-- leaf_71 -->
<g id="node72" class="node">
<title>leaf_71</title>
<polygon fill="none" stroke="#c0c0c0" points="4680,-352.7005 4626,-352.7005 4626,-316.7005 4680,-316.7005 4680,-352.7005"/>
<text text-anchor="middle" x="4653" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_64&#45;&gt;leaf_71 -->
<g id="edge71" class="edge">
<title>prespace_64&#45;&gt;leaf_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4630.5013,-608.06C4634.5588,-558.7609 4645.767,-422.5817 4650.6619,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="4654.1671,-363.1879 4651.4993,-352.9345 4647.1907,-362.6137 4654.1671,-363.1879"/>
</g>
<!-- leaf_72 -->
<g id="node73" class="node">
<title>leaf_72</title>
<polygon fill="none" stroke="#c0c0c0" points="4756,-352.7005 4698,-352.7005 4698,-316.7005 4756,-316.7005 4756,-352.7005"/>
<text text-anchor="middle" x="4727" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">txtbuf</text>
</g>
<!-- literal_65&#45;&gt;leaf_72 -->
<g id="edge72" class="edge">
<title>literal_65&#45;&gt;leaf_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4725.1251,-608.06C4725.4632,-558.7609 4726.3972,-422.5817 4726.8052,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="4730.3062,-362.9583 4726.8749,-352.9345 4723.3063,-362.9102 4730.3062,-362.9583"/>
</g>
<!-- leaf_73 -->
<g id="node74" class="node">
<title>leaf_73</title>
<polygon fill="none" stroke="#c0c0c0" points="4828,-352.7005 4774,-352.7005 4774,-316.7005 4828,-316.7005 4828,-352.7005"/>
<text text-anchor="middle" x="4801" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_66&#45;&gt;leaf_73 -->
<g id="edge73" class="edge">
<title>raw_66&#45;&gt;leaf_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4801,-608.06C4801,-558.7609 4801,-422.5817 4801,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="4804.5001,-362.9345 4801,-352.9345 4797.5001,-362.9345 4804.5001,-362.9345"/>
</g>
<!-- leaf_78 -->
<g id="node79" class="node">
<title>leaf_78</title>
<polygon fill="none" stroke="#c0c0c0" points="5114,-354.6026 4846,-354.6026 4846,-314.7984 5114,-314.7984 5114,-354.6026"/>
<text text-anchor="middle" x="4980" y="-323.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">This amounts to porting the existing</text>
</g>
<!-- raw_74&#45;&gt;leaf_78 -->
<g id="edge78" class="edge">
<title>raw_74&#45;&gt;leaf_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5021.2476,-608.06C5013.8644,-559.1291 4993.5667,-424.6111 4984.4895,-364.4539"/>
<polygon fill="#000000" stroke="#000000" points="4987.934,-363.8228 4982.9811,-354.457 4981.0124,-364.8673 4987.934,-363.8228"/>
</g>
<!-- leaf_79 -->
<g id="node80" class="node">
<title>leaf_79</title>
<polygon fill="none" stroke="#c0c0c0" points="5186,-352.7005 5132,-352.7005 5132,-316.7005 5186,-316.7005 5186,-352.7005"/>
<text text-anchor="middle" x="5159" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_75&#45;&gt;leaf_79 -->
<g id="edge79" class="edge">
<title>prespace_75&#45;&gt;leaf_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5159,-608.06C5159,-558.7609 5159,-422.5817 5159,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="5162.5001,-362.9345 5159,-352.9345 5155.5001,-362.9345 5162.5001,-362.9345"/>
</g>
<!-- leaf_80 -->
<g id="node81" class="node">
<title>leaf_80</title>
<polygon fill="none" stroke="#c0c0c0" points="5262,-352.7005 5204,-352.7005 5204,-316.7005 5262,-316.7005 5262,-352.7005"/>
<text text-anchor="middle" x="5233" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">txtbuf</text>
</g>
<!-- literal_76&#45;&gt;leaf_80 -->
<g id="edge80" class="edge">
<title>literal_76&#45;&gt;leaf_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5253.6238,-608.06C5249.9044,-558.7609 5239.6303,-422.5817 5235.1433,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="5238.6182,-362.6428 5234.3757,-352.9345 5231.638,-363.1695 5238.6182,-362.6428"/>
</g>
<!-- leaf_81 -->
<g id="node82" class="node">
<title>leaf_81</title>
<polygon fill="none" stroke="#c0c0c0" points="5611.5,-362.0009 5280.5,-362.0009 5280.5,-307.4001 5611.5,-307.4001 5611.5,-362.0009"/>
<text text-anchor="middle" x="5446" y="-346.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">, as I think about it. A single</text>
<text text-anchor="middle" x="5446" y="-331.5005" font-family="Inconsolata" font-size="14.00" fill="#000000">line isn&#39;t even a special case for the logic.</text>
</g>
<!-- raw_77&#45;&gt;leaf_81 -->
<g id="edge81" class="edge">
<title>raw_77&#45;&gt;leaf_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5392.5656,-608.06C5401.7312,-561.1706 5426.2599,-435.6867 5438.6386,-372.3601"/>
<polygon fill="#000000" stroke="#000000" points="5442.1047,-372.8719 5440.5882,-362.3861 5435.2347,-371.5289 5442.1047,-372.8719"/>
</g>
<!-- leaf_86 -->
<g id="node87" class="node">
<title>leaf_86</title>
<polygon fill="none" stroke="#c0c0c0" points="5764.5,-352.7005 5629.5,-352.7005 5629.5,-316.7005 5764.5,-316.7005 5764.5,-352.7005"/>
<text text-anchor="middle" x="5697" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">**** dependencies</text>
</g>
<!-- header_82&#45;&gt;leaf_86 -->
<g id="edge86" class="edge">
<title>header_82&#45;&gt;leaf_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5711.9991,-608.06C5709.2941,-558.7609 5701.822,-422.5817 5698.5587,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="5702.0432,-362.7277 5698.0005,-352.9345 5695.0537,-363.1113 5702.0432,-362.7277"/>
</g>
<!-- raw_87 -->
<g id="node88" class="node">
<title>raw_87</title>
<ellipse fill="none" stroke="#000000" cx="5810" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="5810" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_83&#45;&gt;raw_87 -->
<g id="edge87" class="edge">
<title>prose_83&#45;&gt;raw_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5864.2433,-608.8749C5858.2687,-596.3029 5850.6276,-578.7677 5846,-562.6009 5825.8792,-492.308 5816.1492,-406.393 5812.2217,-362.8693"/>
<polygon fill="#000000" stroke="#000000" points="5815.6954,-362.4133 5811.3454,-352.7526 5808.7215,-363.0174 5815.6954,-362.4133"/>
</g>
<!-- leaf_89 -->
<g id="node90" class="node">
<title>leaf_89</title>
<polygon fill="none" stroke="#c0c0c0" points="6179,-369.3018 5855,-369.3018 5855,-300.0992 6179,-300.0992 6179,-369.3018"/>
<text text-anchor="middle" x="6017" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">assert(meta)</text>
<text text-anchor="middle" x="6017" y="-338.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">local collect = assert(table.collect)</text>
<text text-anchor="middle" x="6017" y="-323.5005" font-family="Inconsolata" font-size="14.00" fill="#000000">local lines = assert(string.lines)</text>
<text text-anchor="middle" x="6017" y="-308.1005" font-family="Inconsolata" font-size="14.00" fill="#000000">local codepoints = assert(string.codepoints)</text>
</g>
<!-- codeblock_84&#45;&gt;leaf_89 -->
<g id="edge89" class="edge">
<title>codeblock_84&#45;&gt;leaf_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6017,-608.06C6017,-562.9422 6017,-445.0569 6017,-379.7968"/>
<polygon fill="#000000" stroke="#000000" points="6020.5001,-379.4086 6017,-369.4086 6013.5001,-379.4087 6020.5001,-379.4086"/>
</g>
<!-- leaf_90 -->
<g id="node91" class="node">
<title>leaf_90</title>
<polygon fill="none" stroke="#c0c0c0" points="6367,-352.7005 6197,-352.7005 6197,-316.7005 6367,-316.7005 6367,-352.7005"/>
<text text-anchor="middle" x="6282" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">local Txtbuf = meta {}</text>
</g>
<!-- codeblock_85&#45;&gt;leaf_90 -->
<g id="edge90" class="edge">
<title>codeblock_85&#45;&gt;leaf_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6238.8775,-608.06C6246.6544,-558.7609 6268.1367,-422.5817 6277.5186,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="6281.0225,-363.3578 6279.1236,-352.9345 6274.108,-362.2669 6281.0225,-363.3578"/>
</g>
<!-- leaf_88 -->
<g id="node89" class="node">
<title>leaf_88</title>
<polygon fill="none" stroke="#c0c0c0" points="5837,-53.4 5783,-53.4 5783,-17.4 5837,-17.4 5837,-53.4"/>
</g>
<!-- raw_87&#45;&gt;leaf_88 -->
<g id="edge88" class="edge">
<title>raw_87&#45;&gt;leaf_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5810,-316.4284C5810,-265.9023 5810,-124.0493 5810,-63.4351"/>
<polygon fill="#000000" stroke="#000000" points="5813.5001,-63.4329 5810,-53.4329 5806.5001,-63.433 5813.5001,-63.4329"/>
</g>
<!-- leaf_95 -->
<g id="node96" class="node">
<title>leaf_95</title>
<polygon fill="none" stroke="#c0c0c0" points="6604.5,-352.7005 6385.5,-352.7005 6385.5,-316.7005 6604.5,-316.7005 6604.5,-352.7005"/>
<text text-anchor="middle" x="6495" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf.__tostring(txtbuf)</text>
</g>
<!-- header_91&#45;&gt;leaf_95 -->
<g id="edge95" class="edge">
<title>header_91&#45;&gt;leaf_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6519.3736,-608.06C6514.9779,-558.7609 6502.8358,-422.5817 6497.533,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="6501.0002,-362.5841 6496.6258,-352.9345 6494.0278,-363.2059 6501.0002,-362.5841"/>
</g>
<!-- raw_96 -->
<g id="node97" class="node">
<title>raw_96</title>
<ellipse fill="none" stroke="#000000" cx="6650" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="6650" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_92&#45;&gt;raw_96 -->
<g id="edge96" class="edge">
<title>prose_92&#45;&gt;raw_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6721.1733,-610.6641C6709.3718,-598.6808 6694.278,-581.1056 6686,-562.6009 6655.9289,-495.3796 6650.4822,-407.1745 6649.8008,-362.7908"/>
<polygon fill="#000000" stroke="#000000" points="6653.3003,-362.7131 6649.7183,-352.7422 6646.3006,-362.7707 6653.3003,-362.7131"/>
</g>
<!-- leaf_98 -->
<g id="node99" class="node">
<title>leaf_98</title>
<polygon fill="none" stroke="#c0c0c0" points="7089,-454.901 6695,-454.901 6695,-214.5 7089,-214.5 7089,-454.901"/>
<text text-anchor="middle" x="6892" y="-439.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">local concat = assert(table.concat)</text>
<text text-anchor="middle" x="6892" y="-408.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">local function cat(l)</text>
<text text-anchor="middle" x="6892" y="-392.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(l) == &quot;string&quot; then</text>
<text text-anchor="middle" x="6892" y="-377.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return l</text>
<text text-anchor="middle" x="6892" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif type(l) == &quot;table&quot; then</text>
<text text-anchor="middle" x="6892" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if l[1] ~= nil then</text>
<text text-anchor="middle" x="6892" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return concat(l)</text>
<text text-anchor="middle" x="6892" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="6892" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return &quot;&quot;</text>
<text text-anchor="middle" x="6892" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6892" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6892" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;error(&quot;called private fn cat with type&quot; .. type(l))</text>
<text text-anchor="middle" x="6892" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_93&#45;&gt;leaf_98 -->
<g id="edge98" class="edge">
<title>codeblock_93&#45;&gt;leaf_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6879.8132,-608.06C6881.0979,-579.2435 6883.7059,-520.7429 6886.1809,-465.2284"/>
<polygon fill="#000000" stroke="#000000" points="6889.6922,-465.0511 6886.6411,-454.9052 6882.6991,-464.7393 6889.6922,-465.0511"/>
</g>
<!-- leaf_99 -->
<g id="node100" class="node">
<title>leaf_99</title>
<polygon fill="none" stroke="#c0c0c0" points="7494.5,-400.5009 7107.5,-400.5009 7107.5,-268.9001 7494.5,-268.9001 7494.5,-400.5009"/>
<text text-anchor="middle" x="7301" y="-385.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.__tostring(txtbuf)</text>
<text text-anchor="middle" x="7301" y="-370.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="7301" y="-354.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i = 1, #txtbuf.lines &#45; 1 do</text>
<text text-anchor="middle" x="7301" y="-339.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;phrase = phrase .. cat(txtbuf.lines[i]) .. &quot;\n&quot;</text>
<text text-anchor="middle" x="7301" y="-323.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="7301" y="-292.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return phrase .. cat(txtbuf.lines[#txtbuf.lines])</text>
<text text-anchor="middle" x="7301" y="-277.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_94&#45;&gt;leaf_99 -->
<g id="edge99" class="edge">
<title>codeblock_94&#45;&gt;leaf_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7178.1946,-608.06C7195.6349,-569.2388 7237.2778,-476.5434 7267.2378,-409.8537"/>
<polygon fill="#000000" stroke="#000000" points="7270.4787,-411.1804 7271.384,-400.6243 7264.0934,-408.3119 7270.4787,-411.1804"/>
</g>
<!-- leaf_97 -->
<g id="node98" class="node">
<title>leaf_97</title>
<polygon fill="none" stroke="#c0c0c0" points="6677,-53.4 6623,-53.4 6623,-17.4 6677,-17.4 6677,-53.4"/>
</g>
<!-- raw_96&#45;&gt;leaf_97 -->
<g id="edge97" class="edge">
<title>raw_96&#45;&gt;leaf_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6650,-316.4284C6650,-265.9023 6650,-124.0493 6650,-63.4351"/>
<polygon fill="#000000" stroke="#000000" points="6653.5001,-63.4329 6650,-53.4329 6646.5001,-63.433 6653.5001,-63.4329"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="7689.5,-352.7005 7512.5,-352.7005 7512.5,-316.7005 7689.5,-316.7005 7689.5,-352.7005"/>
<text text-anchor="middle" x="7601" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:insert(frag)</text>
</g>
<!-- header_100&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>header_100&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7597.2502,-608.06C7597.9265,-558.7609 7599.7945,-422.5817 7600.6103,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="7604.1123,-362.9816 7600.7499,-352.9345 7597.1129,-362.8855 7604.1123,-362.9816"/>
</g>
<!-- raw_104 -->
<g id="node105" class="node">
<title>raw_104</title>
<ellipse fill="none" stroke="#000000" cx="7735" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="7735" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_101&#45;&gt;raw_104 -->
<g id="edge104" class="edge">
<title>prose_101&#45;&gt;raw_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7738.7498,-608.06C7738.0735,-558.7609 7736.2055,-422.5817 7735.3897,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="7738.8871,-362.8855 7735.2501,-352.9345 7731.8877,-362.9816 7738.8871,-362.8855"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="8300,-562.5014 7780,-562.5014 7780,-106.8996 8300,-106.8996 8300,-562.5014"/>
<text text-anchor="middle" x="8040" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">local t_insert, splice = assert(table.insert), assert(table.splice)</text>
<text text-anchor="middle" x="8040" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">local utf8, codepoints = string.utf8, string.codepoints</text>
<text text-anchor="middle" x="8040" y="-500.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.insert(txtbuf, frag)</text>
<text text-anchor="middle" x="8040" y="-485.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local line = txtbuf.lines[txtbuf.cur_row]</text>
<text text-anchor="middle" x="8040" y="-469.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(line) == &quot;string&quot; then</text>
<text text-anchor="middle" x="8040" y="-454.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;line = codepoints(line)</text>
<text text-anchor="middle" x="8040" y="-439.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.line = line</text>
<text text-anchor="middle" x="8040" y="-423.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8040" y="-408.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local wide_frag = utf8(frag)</text>
<text text-anchor="middle" x="8040" y="-392.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if wide_frag &lt; #frag then &#45;&#45; a paste</text>
<text text-anchor="middle" x="8040" y="-377.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; Normalize whitespace</text>
<text text-anchor="middle" x="8040" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;frag = gsub(frag, &quot;\r\n&quot;, &quot;\n&quot;):gsub(&quot;\r&quot;, &quot;\n&quot;):gsub(&quot;\t&quot;, &quot; &#160;&#160;&quot;)</text>
<text text-anchor="middle" x="8040" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;wide_frag = codepoints(frag)</text>
<text text-anchor="middle" x="8040" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8040" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;wide_frag = false</text>
<text text-anchor="middle" x="8040" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8040" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not wide_frag then</text>
<text text-anchor="middle" x="8040" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;t_insert(line, txtbuf.cursor, frag)</text>
<text text-anchor="middle" x="8040" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cursor = txtbuf.cursor + 1</text>
<text text-anchor="middle" x="8040" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="8040" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8040" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;splice(line, txtbuf.cursor, wide_frag)</text>
<text text-anchor="middle" x="8040" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cursor = txtbuf.cursor + #wide_frag</text>
<text text-anchor="middle" x="8040" y="-177.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="8040" y="-161.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8040" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return false</text>
<text text-anchor="middle" x="8040" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_102&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>codeblock_102&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7959.3797,-608.06C7962.1096,-598.8036 7965.7428,-586.4844 7969.96,-572.1852"/>
<polygon fill="#000000" stroke="#000000" points="7973.3402,-573.0966 7972.812,-562.515 7966.6261,-571.1164 7973.3402,-573.0966"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="7762,-53.4 7708,-53.4 7708,-17.4 7762,-17.4 7762,-53.4"/>
</g>
<!-- raw_104&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>raw_104&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7735,-316.4284C7735,-265.9023 7735,-124.0493 7735,-63.4351"/>
<polygon fill="#000000" stroke="#000000" points="7738.5001,-63.4329 7735,-53.4329 7731.5001,-63.433 7738.5001,-63.4329"/>
</g>
<!-- leaf_110 -->
<g id="node111" class="node">
<title>leaf_110</title>
<polygon fill="none" stroke="#c0c0c0" points="8474,-352.7005 8318,-352.7005 8318,-316.7005 8474,-316.7005 8474,-352.7005"/>
<text text-anchor="middle" x="8396" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:advance()</text>
</g>
<!-- header_107&#45;&gt;leaf_110 -->
<g id="edge110" class="edge">
<title>header_107&#45;&gt;leaf_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8388.5004,-608.06C8389.8529,-558.7609 8393.589,-422.5817 8395.2206,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="8398.7241,-363.0268 8395.4998,-352.9345 8391.7267,-362.8347 8398.7241,-363.0268"/>
</g>
<!-- raw_111 -->
<g id="node112" class="node">
<title>raw_111</title>
<ellipse fill="none" stroke="#000000" cx="8519" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="8519" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_108&#45;&gt;raw_111 -->
<g id="edge111" class="edge">
<title>prose_108&#45;&gt;raw_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8526.4996,-608.06C8525.1471,-558.7609 8521.411,-422.5817 8519.7794,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="8523.2733,-362.8347 8519.5002,-352.9345 8516.2759,-363.0268 8523.2733,-362.8347"/>
</g>
<!-- leaf_113 -->
<g id="node114" class="node">
<title>leaf_113</title>
<polygon fill="none" stroke="#c0c0c0" points="8853.5,-400.5009 8564.5,-400.5009 8564.5,-268.9001 8853.5,-268.9001 8853.5,-400.5009"/>
<text text-anchor="middle" x="8709" y="-385.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">local ts_bw = (require &quot;color&quot;).ts_bw</text>
<text text-anchor="middle" x="8709" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.advance(txtbuf)</text>
<text text-anchor="middle" x="8709" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.lines[#txtbuf.lines + 1] = {}</text>
<text text-anchor="middle" x="8709" y="-323.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cur_row = #txtbuf.lines</text>
<text text-anchor="middle" x="8709" y="-307.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cursor = 1</text>
<text text-anchor="middle" x="8709" y="-292.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;log(&quot;advanced %s&quot;, ts_bw(txtbuf))</text>
<text text-anchor="middle" x="8709" y="-277.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_109&#45;&gt;leaf_113 -->
<g id="edge113" class="edge">
<title>codeblock_109&#45;&gt;leaf_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8688.3762,-608.06C8691.2931,-569.3976 8698.2414,-477.3008 8703.2682,-410.6732"/>
<polygon fill="#000000" stroke="#000000" points="8706.764,-410.8594 8704.0263,-400.6243 8699.7838,-410.3327 8706.764,-410.8594"/>
</g>
<!-- leaf_112 -->
<g id="node113" class="node">
<title>leaf_112</title>
<polygon fill="none" stroke="#c0c0c0" points="8546,-53.4 8492,-53.4 8492,-17.4 8546,-17.4 8546,-53.4"/>
</g>
<!-- raw_111&#45;&gt;leaf_112 -->
<g id="edge112" class="edge">
<title>raw_111&#45;&gt;leaf_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8519,-316.4284C8519,-265.9023 8519,-124.0493 8519,-63.4351"/>
<polygon fill="#000000" stroke="#000000" points="8522.5001,-63.4329 8519,-53.4329 8515.5001,-63.433 8522.5001,-63.4329"/>
</g>
<!-- leaf_117 -->
<g id="node118" class="node">
<title>leaf_117</title>
<polygon fill="none" stroke="#c0c0c0" points="9020.5,-352.7005 8871.5,-352.7005 8871.5,-316.7005 9020.5,-316.7005 9020.5,-352.7005"/>
<text text-anchor="middle" x="8946" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:d_back()</text>
</g>
<!-- header_114&#45;&gt;leaf_117 -->
<g id="edge117" class="edge">
<title>header_114&#45;&gt;leaf_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8939.4379,-608.06C8940.6213,-558.7609 8943.8904,-422.5817 8945.3181,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="8948.8212,-363.0157 8945.5623,-352.9345 8941.8232,-362.8476 8948.8212,-363.0157"/>
</g>
<!-- raw_118 -->
<g id="node119" class="node">
<title>raw_118</title>
<ellipse fill="none" stroke="#000000" cx="9066" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="9066" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_115&#45;&gt;raw_118 -->
<g id="edge118" class="edge">
<title>prose_115&#45;&gt;raw_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9072.5621,-608.06C9071.3787,-558.7609 9068.1096,-422.5817 9066.6819,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="9070.1768,-362.8476 9066.4377,-352.9345 9063.1788,-363.0157 9070.1768,-362.8476"/>
</g>
<!-- leaf_120 -->
<g id="node121" class="node">
<title>leaf_120</title>
<polygon fill="none" stroke="#c0c0c0" points="9568.5,-385.2006 9111.5,-385.2006 9111.5,-284.2003 9568.5,-284.2003 9568.5,-385.2006"/>
<text text-anchor="middle" x="9340" y="-370.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">local remove = assert(table.remove)</text>
<text text-anchor="middle" x="9340" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.d_back(txtbuf)</text>
<text text-anchor="middle" x="9340" y="-323.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;remove(txtbuf.lines[txtbuf.cur_row], txtbuf.cursor &#45; 1)</text>
<text text-anchor="middle" x="9340" y="-307.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cursor = txtbuf.cursor &gt; 1 and txtbuf.cursor &#45; 1 or 1</text>
<text text-anchor="middle" x="9340" y="-292.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_116&#45;&gt;leaf_120 -->
<g id="edge120" class="edge">
<title>codeblock_116&#45;&gt;leaf_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9282.8158,-608.06C9291.5487,-566.3141 9313.3136,-462.2706 9327.332,-395.2577"/>
<polygon fill="#000000" stroke="#000000" points="9330.805,-395.7485 9329.4269,-385.2437 9323.9534,-394.3151 9330.805,-395.7485"/>
</g>
<!-- leaf_119 -->
<g id="node120" class="node">
<title>leaf_119</title>
<polygon fill="none" stroke="#c0c0c0" points="9093,-53.4 9039,-53.4 9039,-17.4 9093,-17.4 9093,-53.4"/>
</g>
<!-- raw_118&#45;&gt;leaf_119 -->
<g id="edge119" class="edge">
<title>raw_118&#45;&gt;leaf_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9066,-316.4284C9066,-265.9023 9066,-124.0493 9066,-63.4351"/>
<polygon fill="#000000" stroke="#000000" points="9069.5001,-63.4329 9066,-53.4329 9062.5001,-63.433 9069.5001,-63.4329"/>
</g>
<!-- leaf_124 -->
<g id="node125" class="node">
<title>leaf_124</title>
<polygon fill="none" stroke="#c0c0c0" points="9729,-352.7005 9587,-352.7005 9587,-316.7005 9729,-316.7005 9729,-352.7005"/>
<text text-anchor="middle" x="9658" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:d_fwd()</text>
</g>
<!-- header_121&#45;&gt;leaf_124 -->
<g id="edge124" class="edge">
<title>header_121&#45;&gt;leaf_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9651.4379,-608.06C9652.6213,-558.7609 9655.8904,-422.5817 9657.3181,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="9660.8212,-363.0157 9657.5623,-352.9345 9653.8232,-362.8476 9660.8212,-363.0157"/>
</g>
<!-- raw_125 -->
<g id="node126" class="node">
<title>raw_125</title>
<ellipse fill="none" stroke="#000000" cx="9774" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="9774" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_122&#45;&gt;raw_125 -->
<g id="edge125" class="edge">
<title>prose_122&#45;&gt;raw_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9779.6247,-608.06C9778.6103,-558.7609 9775.8083,-422.5817 9774.5845,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="9778.0803,-362.8604 9774.3752,-352.9345 9771.0817,-363.0044 9778.0803,-362.8604"/>
</g>
<!-- leaf_127 -->
<g id="node128" class="node">
<title>leaf_127</title>
<polygon fill="none" stroke="#c0c0c0" points="10213,-361.9009 9819,-361.9009 9819,-307.5 10213,-307.5 10213,-361.9009"/>
<text text-anchor="middle" x="10016" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.d_fwd(txtbuf)</text>
<text text-anchor="middle" x="10016" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;remove(txtbuf.lines[txtbuf.cur_row], txtbuf.cursor)</text>
<text text-anchor="middle" x="10016" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_123&#45;&gt;leaf_127 -->
<g id="edge127" class="edge">
<title>codeblock_123&#45;&gt;leaf_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9967.2528,-608.06C9975.6355,-561.0525 9998.1043,-435.054 10009.3694,-371.8828"/>
<polygon fill="#000000" stroke="#000000" points="10012.8323,-372.4003 10011.1423,-361.9411 10005.941,-371.1714 10012.8323,-372.4003"/>
</g>
<!-- leaf_126 -->
<g id="node127" class="node">
<title>leaf_126</title>
<polygon fill="none" stroke="#c0c0c0" points="9801,-53.4 9747,-53.4 9747,-17.4 9801,-17.4 9801,-53.4"/>
</g>
<!-- raw_125&#45;&gt;leaf_126 -->
<g id="edge126" class="edge">
<title>raw_125&#45;&gt;leaf_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9774,-316.4284C9774,-265.9023 9774,-124.0493 9774,-63.4351"/>
<polygon fill="#000000" stroke="#000000" points="9777.5001,-63.4329 9774,-53.4329 9770.5001,-63.433 9777.5001,-63.4329"/>
</g>
<!-- leaf_131 -->
<g id="node132" class="node">
<title>leaf_131</title>
<polygon fill="none" stroke="#c0c0c0" points="10394.5,-352.7005 10231.5,-352.7005 10231.5,-316.7005 10394.5,-316.7005 10394.5,-352.7005"/>
<text text-anchor="middle" x="10313" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:left(disp)</text>
</g>
<!-- header_128&#45;&gt;leaf_131 -->
<g id="edge131" class="edge">
<title>header_128&#45;&gt;leaf_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10310.1877,-608.06C10310.6949,-558.7609 10312.0959,-422.5817 10312.7077,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="10316.2092,-362.97 10312.8124,-352.9345 10309.2096,-362.8979 10316.2092,-362.97"/>
</g>
<!-- raw_132 -->
<g id="node133" class="node">
<title>raw_132</title>
<ellipse fill="none" stroke="#000000" cx="10440" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="10440" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_129&#45;&gt;raw_132 -->
<g id="edge132" class="edge">
<title>prose_129&#45;&gt;raw_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10442.8123,-608.06C10442.3051,-558.7609 10440.9041,-422.5817 10440.2923,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="10443.7904,-362.8979 10440.1876,-352.9345 10436.7908,-362.97 10443.7904,-362.8979"/>
</g>
<!-- leaf_134 -->
<g id="node135" class="node">
<title>leaf_134</title>
<polygon fill="none" stroke="#c0c0c0" points="10795,-415.8013 10485,-415.8013 10485,-253.5997 10795,-253.5997 10795,-415.8013"/>
<text text-anchor="middle" x="10640" y="-400.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.left(txtbuf, disp)</text>
<text text-anchor="middle" x="10640" y="-385.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local disp = disp or 1</text>
<text text-anchor="middle" x="10640" y="-370.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if txtbuf.cursor &#45; disp &gt;= 1 then</text>
<text text-anchor="middle" x="10640" y="-354.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cursor = txtbuf.cursor &#45; disp</text>
<text text-anchor="middle" x="10640" y="-339.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10640" y="-323.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cursor = 1</text>
<text text-anchor="middle" x="10640" y="-308.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10640" y="-277.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return txtbuf.cursor</text>
<text text-anchor="middle" x="10640" y="-261.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_130&#45;&gt;leaf_134 -->
<g id="edge134" class="edge">
<title>codeblock_130&#45;&gt;leaf_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10610.9392,-608.06C10614.739,-572.3174 10623.3937,-490.9066 10630.2758,-426.1705"/>
<polygon fill="#000000" stroke="#000000" points="10633.7873,-426.2475 10631.3641,-415.9335 10626.8265,-425.5075 10633.7873,-426.2475"/>
</g>
<!-- leaf_133 -->
<g id="node134" class="node">
<title>leaf_133</title>
<polygon fill="none" stroke="#c0c0c0" points="10467,-53.4 10413,-53.4 10413,-17.4 10467,-17.4 10467,-53.4"/>
</g>
<!-- raw_132&#45;&gt;leaf_133 -->
<g id="edge133" class="edge">
<title>raw_132&#45;&gt;leaf_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10440,-316.4284C10440,-265.9023 10440,-124.0493 10440,-63.4351"/>
<polygon fill="#000000" stroke="#000000" points="10443.5001,-63.4329 10440,-53.4329 10436.5001,-63.433 10443.5001,-63.4329"/>
</g>
<!-- leaf_141 -->
<g id="node142" class="node">
<title>leaf_141</title>
<polygon fill="none" stroke="#c0c0c0" points="10983,-352.7005 10813,-352.7005 10813,-316.7005 10983,-316.7005 10983,-352.7005"/>
<text text-anchor="middle" x="10898" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:right(disp)</text>
</g>
<!-- header_135&#45;&gt;leaf_141 -->
<g id="edge141" class="edge">
<title>header_135&#45;&gt;leaf_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10912.0617,-608.06C10909.5257,-558.7609 10902.5206,-422.5817 10899.4613,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="10902.9472,-362.7415 10898.938,-352.9345 10895.9564,-363.1011 10902.9472,-362.7415"/>
</g>
<!-- raw_142 -->
<g id="node143" class="node">
<title>raw_142</title>
<ellipse fill="none" stroke="#000000" cx="11028" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="11028" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_136&#45;&gt;raw_142 -->
<g id="edge142" class="edge">
<title>prose_136&#45;&gt;raw_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11064.5604,-608.06C11057.9669,-558.7609 11039.7536,-422.5817 11031.7994,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="11035.2335,-362.3822 11030.4387,-352.9345 11028.2953,-363.3103 11035.2335,-362.3822"/>
</g>
<!-- leaf_144 -->
<g id="node145" class="node">
<title>leaf_144</title>
<polygon fill="none" stroke="#c0c0c0" points="11397,-423.7008 11073,-423.7008 11073,-245.7002 11397,-245.7002 11397,-423.7008"/>
<text text-anchor="middle" x="11235" y="-408.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.right(txtbuf, disp)</text>
<text text-anchor="middle" x="11235" y="-393.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;disp = disp or 1</text>
<text text-anchor="middle" x="11235" y="-377.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local line = txtbuf.lines[txtbuf.cur_row]</text>
<text text-anchor="middle" x="11235" y="-362.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if txtbuf.cursor + disp &lt;= #line + 1 then</text>
<text text-anchor="middle" x="11235" y="-346.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cursor = txtbuf.cursor + disp</text>
<text text-anchor="middle" x="11235" y="-331.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="11235" y="-316.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cursor = #line + 1</text>
<text text-anchor="middle" x="11235" y="-300.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11235" y="-269.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return txtbuf.cursor</text>
<text text-anchor="middle" x="11235" y="-253.9004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_137&#45;&gt;leaf_144 -->
<g id="edge144" class="edge">
<title>codeblock_137&#45;&gt;leaf_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11235,-608.06C11235,-573.7377 11235,-497.3043 11235,-433.9625"/>
<polygon fill="#000000" stroke="#000000" points="11238.5001,-433.9174 11235,-423.9174 11231.5001,-433.9174 11238.5001,-433.9174"/>
</g>
<!-- leaf_145 -->
<g id="node146" class="node">
<title>leaf_145</title>
<polygon fill="none" stroke="#c0c0c0" points="11690.5,-393.1014 11415.5,-393.1014 11415.5,-276.2996 11690.5,-276.2996 11690.5,-393.1014"/>
<text text-anchor="middle" x="11553" y="-377.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.suspend(txtbuf)</text>
<text text-anchor="middle" x="11553" y="-362.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(txtbuf.lines) do</text>
<text text-anchor="middle" x="11553" y="-346.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.lines[i] = tostring(v)</text>
<text text-anchor="middle" x="11553" y="-331.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11553" y="-300.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return txtbuf</text>
<text text-anchor="middle" x="11553" y="-284.7004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_138&#45;&gt;leaf_145 -->
<g id="edge145" class="edge">
<title>codeblock_138&#45;&gt;leaf_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11494.8784,-608.06C11503.414,-567.9151 11524.1987,-470.1596 11538.4514,-403.1258"/>
<polygon fill="#000000" stroke="#000000" points="11541.9359,-403.5664 11540.5922,-393.0572 11535.089,-402.1106 11541.9359,-403.5664"/>
</g>
<!-- leaf_146 -->
<g id="node147" class="node">
<title>leaf_146</title>
<polygon fill="none" stroke="#c0c0c0" points="12081.5,-408.4009 11708.5,-408.4009 11708.5,-261.0001 12081.5,-261.0001 12081.5,-408.4009"/>
<text text-anchor="middle" x="11895" y="-393.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.resume(txtbuf)</text>
<text text-anchor="middle" x="11895" y="-377.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i, line in ipairs(txtbuf.lines) do</text>
<text text-anchor="middle" x="11895" y="-362.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.lines[i] = codepoints(line)</text>
<text text-anchor="middle" x="11895" y="-346.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11895" y="-331.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cursor = #txtbuf.lines[#txtbuf.lines] + 1</text>
<text text-anchor="middle" x="11895" y="-316.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cur_row = #txtbuf.lines</text>
<text text-anchor="middle" x="11895" y="-284.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return txtbuf</text>
<text text-anchor="middle" x="11895" y="-269.3004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_139&#45;&gt;leaf_146 -->
<g id="edge146" class="edge">
<title>codeblock_139&#45;&gt;leaf_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11796.5682,-608.06C11809.9835,-570.8037 11841.2655,-483.929 11864.991,-418.04"/>
<polygon fill="#000000" stroke="#000000" points="11868.3387,-419.0738 11868.4336,-408.4794 11861.7526,-416.7022 11868.3387,-419.0738"/>
</g>
<!-- leaf_147 -->
<g id="node148" class="node">
<title>leaf_147</title>
<polygon fill="none" stroke="#c0c0c0" points="12550,-439.6012 12100,-439.6012 12100,-229.7998 12550,-229.7998 12550,-439.6012"/>
<text text-anchor="middle" x="12325" y="-424.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">local cl = assert(table.clone, &quot;table.clone must be provided&quot;)</text>
<text text-anchor="middle" x="12325" y="-392.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; #todo rewrite this</text>
<text text-anchor="middle" x="12325" y="-361.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.clone(txtbuf)</text>
<text text-anchor="middle" x="12325" y="-346.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local lb = cl(txtbuf)</text>
<text text-anchor="middle" x="12325" y="-330.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(lb.line) == &quot;table&quot; then</text>
<text text-anchor="middle" x="12325" y="-315.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;lb.line = cl(lb.line)</text>
<text text-anchor="middle" x="12325" y="-299.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif type(lb.line) == &quot;string&quot; then</text>
<text text-anchor="middle" x="12325" y="-284.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;lb:resume()</text>
<text text-anchor="middle" x="12325" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="12325" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return lb</text>
<text text-anchor="middle" x="12325" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_140&#45;&gt;leaf_147 -->
<g id="edge147" class="edge">
<title>codeblock_140&#45;&gt;leaf_147</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12164.6968,-608.06C12183.304,-576.3298 12223.0169,-508.6088 12258.2578,-448.5137"/>
<polygon fill="#000000" stroke="#000000" points="12261.3823,-450.1045 12263.4218,-439.7078 12255.344,-446.5634 12261.3823,-450.1045"/>
</g>
<!-- leaf_143 -->
<g id="node144" class="node">
<title>leaf_143</title>
<polygon fill="none" stroke="#c0c0c0" points="11055,-53.4 11001,-53.4 11001,-17.4 11055,-17.4 11055,-53.4"/>
</g>
<!-- raw_142&#45;&gt;leaf_143 -->
<g id="edge143" class="edge">
<title>raw_142&#45;&gt;leaf_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11028,-316.4284C11028,-265.9023 11028,-124.0493 11028,-63.4351"/>
<polygon fill="#000000" stroke="#000000" points="11031.5001,-63.4329 11028,-53.4329 11024.5001,-63.433 11031.5001,-63.4329"/>
</g>
<!-- leaf_152 -->
<g id="node153" class="node">
<title>leaf_152</title>
<polygon fill="none" stroke="#c0c0c0" points="12633.5,-352.7005 12568.5,-352.7005 12568.5,-316.7005 12633.5,-316.7005 12633.5,-352.7005"/>
<text text-anchor="middle" x="12601" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** new</text>
</g>
<!-- header_148&#45;&gt;leaf_152 -->
<g id="edge152" class="edge">
<title>header_148&#45;&gt;leaf_152</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12601,-608.06C12601,-558.7609 12601,-422.5817 12601,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="12604.5001,-362.9345 12601,-352.9345 12597.5001,-362.9345 12604.5001,-362.9345"/>
</g>
<!-- raw_153 -->
<g id="node154" class="node">
<title>raw_153</title>
<ellipse fill="none" stroke="#000000" cx="12679" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="12679" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_149&#45;&gt;raw_153 -->
<g id="edge153" class="edge">
<title>prose_149&#45;&gt;raw_153</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12689.3119,-608.06C12687.4522,-558.7609 12682.3151,-422.5817 12680.0716,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="12683.5624,-362.7954 12679.6878,-352.9345 12676.5674,-363.0594 12683.5624,-362.7954"/>
</g>
<!-- leaf_155 -->
<g id="node156" class="node">
<title>leaf_155</title>
<polygon fill="none" stroke="#c0c0c0" points="13118,-516.7011 12724,-516.7011 12724,-152.6999 13118,-152.6999 13118,-516.7011"/>
<text text-anchor="middle" x="12921" y="-501.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">local function into_codepoints(lines)</text>
<text text-anchor="middle" x="12921" y="-486.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local cp = {}</text>
<text text-anchor="middle" x="12921" y="-470.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(lines) do</text>
<text text-anchor="middle" x="12921" y="-455.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;cp[i] = codepoints(v)</text>
<text text-anchor="middle" x="12921" y="-439.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="12921" y="-408.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return cp</text>
<text text-anchor="middle" x="12921" y="-393.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="12921" y="-361.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(line)</text>
<text text-anchor="middle" x="12921" y="-346.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local txtbuf = meta(Txtbuf)</text>
<text text-anchor="middle" x="12921" y="-330.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local __l = line or &quot;&quot;</text>
<text text-anchor="middle" x="12921" y="-315.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local _lines = into_codepoints(collect(lines, __l))</text>
<text text-anchor="middle" x="12921" y="-300.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if #_lines == 0 then</text>
<text text-anchor="middle" x="12921" y="-284.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;_lines[1] = {}</text>
<text text-anchor="middle" x="12921" y="-269.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="12921" y="-253.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cursor = line and #_lines[#_lines] + 1 or 1</text>
<text text-anchor="middle" x="12921" y="-238.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cur_row = line and #_lines &#160;or 1</text>
<text text-anchor="middle" x="12921" y="-223.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.lines = _lines</text>
<text text-anchor="middle" x="12921" y="-207.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return txtbuf</text>
<text text-anchor="middle" x="12921" y="-192.3002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="12921" y="-160.9002" font-family="Inconsolata" font-size="14.00" fill="#000000">Txtbuf.idEst = new</text>
</g>
<!-- codeblock_150&#45;&gt;leaf_155 -->
<g id="edge155" class="edge">
<title>codeblock_150&#45;&gt;leaf_155</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12876.9401,-608.06C12879.8575,-589.9596 12884.6626,-560.1474 12890.0504,-526.72"/>
<polygon fill="#000000" stroke="#000000" points="12893.5258,-527.1526 12891.6617,-516.723 12886.615,-526.0386 12893.5258,-527.1526"/>
</g>
<!-- leaf_156 -->
<g id="node157" class="node">
<title>leaf_156</title>
<polygon fill="none" stroke="#c0c0c0" points="13222,-352.7005 13136,-352.7005 13136,-316.7005 13222,-316.7005 13222,-352.7005"/>
<text text-anchor="middle" x="13179" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">return new</text>
</g>
<!-- codeblock_151&#45;&gt;leaf_156 -->
<g id="edge156" class="edge">
<title>codeblock_151&#45;&gt;leaf_156</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13126.5031,-608.06C13135.9706,-558.7609 13162.123,-422.5817 13173.5444,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="13177.0494,-363.4152 13175.4983,-352.9345 13170.175,-362.0949 13177.0494,-363.4152"/>
</g>
<!-- leaf_154 -->
<g id="node155" class="node">
<title>leaf_154</title>
<polygon fill="none" stroke="#c0c0c0" points="12706,-53.4 12652,-53.4 12652,-17.4 12706,-17.4 12706,-53.4"/>
</g>
<!-- raw_153&#45;&gt;leaf_154 -->
<g id="edge154" class="edge">
<title>raw_153&#45;&gt;leaf_154</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12679,-316.4284C12679,-265.9023 12679,-124.0493 12679,-63.4351"/>
<polygon fill="#000000" stroke="#000000" points="12682.5001,-63.4329 12679,-53.4329 12675.5001,-63.433 12682.5001,-63.4329"/>
</g>
</g>
</svg>
