<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="15119pt" height="965pt"
 viewBox="0.00 0.00 15119.00 964.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 960.801)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-960.801 15115,-960.801 15115,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1715" cy="-938.801" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="1715" y="-934.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 350</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1715" cy="-866.801" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="1715" y="-862.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;33</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1715,-920.6324C1715,-912.932 1715,-903.7753 1715,-895.2176"/>
<polygon fill="#000000" stroke="#000000" points="1718.5001,-895.2142 1715,-885.2143 1711.5001,-895.2143 1718.5001,-895.2142"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="1413" cy="-794.801" rx="46.6307" ry="18"/>
<text text-anchor="middle" x="1413" y="-790.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Txtbuf</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1663.7744,-857.0315C1613.774,-847.1496 1535.7005,-830.798 1469,-812.801 1465.4382,-811.84 1461.7666,-810.7917 1458.087,-809.7001"/>
<polygon fill="#000000" stroke="#000000" points="1458.9846,-806.3146 1448.3982,-806.7388 1456.9385,-813.009 1458.9846,-806.3146"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="1510" cy="-794.801" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1510" y="-790.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1672.132,-853.9192C1638.8113,-843.6106 1591.588,-828.3519 1551,-812.801 1548.795,-811.9562 1546.5361,-811.0584 1544.267,-810.1322"/>
<polygon fill="#000000" stroke="#000000" points="1545.569,-806.8829 1534.9945,-806.2269 1542.8519,-813.334 1545.569,-806.8829"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="1592" cy="-794.801" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1592" y="-790.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1687.3964,-850.6428C1668.3555,-839.4969 1643.0105,-824.6608 1623.2307,-813.0824"/>
<polygon fill="#000000" stroke="#000000" points="1624.9752,-810.048 1614.5769,-808.0167 1621.4389,-816.0891 1624.9752,-810.048"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="1674" cy="-794.801" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1674" y="-790.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1704.8652,-849.0032C1700.0632,-840.5705 1694.2315,-830.3295 1688.9358,-821.0298"/>
<polygon fill="#000000" stroke="#000000" points="1691.8667,-819.1035 1683.8768,-812.1456 1685.7838,-822.5674 1691.8667,-819.1035"/>
</g>
<!-- prose_6 -->
<g id="node7" class="node">
<title>prose_6</title>
<ellipse fill="none" stroke="#000000" cx="1756" cy="-794.801" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1756" y="-790.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;prose_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1725.1348,-849.0032C1729.9368,-840.5705 1735.7685,-830.3295 1741.0642,-821.0298"/>
<polygon fill="#000000" stroke="#000000" points="1744.2162,-822.5674 1746.1232,-812.1456 1738.1333,-819.1035 1744.2162,-822.5674"/>
</g>
<!-- prose_7 -->
<g id="node8" class="node">
<title>prose_7</title>
<ellipse fill="none" stroke="#000000" cx="1922" cy="-794.801" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1922" y="-790.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;prose_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1754.4224,-853.0889C1791.9502,-840.0357 1848.0077,-820.5374 1884.7864,-807.7449"/>
<polygon fill="#000000" stroke="#000000" points="1886.322,-810.9165 1894.6172,-804.3255 1884.0223,-804.305 1886.322,-810.9165"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="2405" cy="-794.801" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2405" y="-790.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 17&#45;21</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1772.3471,-860.817C1897.756,-847.7308 2196.129,-816.5962 2333.5117,-802.2606"/>
<polygon fill="#000000" stroke="#000000" points="2333.9353,-805.7355 2343.518,-801.2165 2333.2088,-798.7733 2333.9353,-805.7355"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="7743" cy="-794.801" rx="70.655" ry="18"/>
<text text-anchor="middle" x="7743" y="-790.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 34&#45;319</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1776.131,-866.0708C2363.0408,-859.0606 6992.7845,-803.7618 7662.3892,-795.7638"/>
<polygon fill="#000000" stroke="#000000" points="7662.4673,-799.2633 7672.4247,-795.644 7662.3836,-792.2638 7662.4673,-799.2633"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="1449,-740.801 1377,-740.801 1377,-704.801 1449,-704.801 1449,-740.801"/>
<text text-anchor="middle" x="1413" y="-719.301" font-family="Inconsolata" font-size="14.00" fill="#000000">* Txtbuf</text>
</g>
<!-- header_2&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>header_2&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1413,-776.6324C1413,-768.932 1413,-759.7753 1413,-751.2176"/>
<polygon fill="#000000" stroke="#000000" points="1416.5001,-751.2142 1413,-741.2143 1409.5001,-751.2143 1416.5001,-751.2142"/>
</g>
<!-- raw_11 -->
<g id="node12" class="node">
<title>raw_11</title>
<ellipse fill="none" stroke="#000000" cx="1502" cy="-722.801" rx="27" ry="18"/>
<text text-anchor="middle" x="1502" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_11 -->
<g id="edge11" class="edge">
<title>prose_3&#45;&gt;raw_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1507.9813,-776.6324C1507.1257,-768.932 1506.1083,-759.7753 1505.1574,-751.2176"/>
<polygon fill="#000000" stroke="#000000" points="1508.6289,-750.7666 1504.0459,-741.2143 1501.6717,-751.5396 1508.6289,-750.7666"/>
</g>
<!-- raw_13 -->
<g id="node14" class="node">
<title>raw_13</title>
<ellipse fill="none" stroke="#000000" cx="1583" cy="-722.801" rx="27" ry="18"/>
<text text-anchor="middle" x="1583" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_13 -->
<g id="edge13" class="edge">
<title>prose_4&#45;&gt;raw_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1589.7289,-776.6324C1588.7664,-768.932 1587.6218,-759.7753 1586.5521,-751.2176"/>
<polygon fill="#000000" stroke="#000000" points="1590.0151,-750.7029 1585.3017,-741.2143 1583.0691,-751.5712 1590.0151,-750.7029"/>
</g>
<!-- raw_15 -->
<g id="node16" class="node">
<title>raw_15</title>
<ellipse fill="none" stroke="#000000" cx="1665" cy="-722.801" rx="27" ry="18"/>
<text text-anchor="middle" x="1665" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_15 -->
<g id="edge15" class="edge">
<title>prose_5&#45;&gt;raw_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1671.7289,-776.6324C1670.7664,-768.932 1669.6218,-759.7753 1668.5521,-751.2176"/>
<polygon fill="#000000" stroke="#000000" points="1672.0151,-750.7029 1667.3017,-741.2143 1665.0691,-751.5712 1672.0151,-750.7029"/>
</g>
<!-- raw_17 -->
<g id="node18" class="node">
<title>raw_17</title>
<ellipse fill="none" stroke="#000000" cx="1756" cy="-722.801" rx="27" ry="18"/>
<text text-anchor="middle" x="1756" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_17 -->
<g id="edge17" class="edge">
<title>prose_6&#45;&gt;raw_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1756,-776.6324C1756,-768.932 1756,-759.7753 1756,-751.2176"/>
<polygon fill="#000000" stroke="#000000" points="1759.5001,-751.2142 1756,-741.2143 1752.5001,-751.2143 1759.5001,-751.2142"/>
</g>
<!-- raw_19 -->
<g id="node20" class="node">
<title>raw_19</title>
<ellipse fill="none" stroke="#000000" cx="2005" cy="-722.801" rx="27" ry="18"/>
<text text-anchor="middle" x="2005" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_7&#45;&gt;raw_19 -->
<g id="edge19" class="edge">
<title>prose_7&#45;&gt;raw_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1939.6022,-779.5317C1951.5031,-769.208 1967.3814,-755.434 1980.512,-744.0436"/>
<polygon fill="#000000" stroke="#000000" points="1983.0119,-746.5084 1988.2724,-737.3117 1978.425,-741.2206 1983.0119,-746.5084"/>
</g>
<!-- header_21 -->
<g id="node22" class="node">
<title>header_21</title>
<ellipse fill="none" stroke="#000000" cx="2351" cy="-722.801" rx="56.6148" ry="18"/>
<text text-anchor="middle" x="2351" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Interface</text>
</g>
<!-- section_8&#45;&gt;header_21 -->
<g id="edge21" class="edge">
<title>section_8&#45;&gt;header_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2391.6517,-777.0032C2385.2432,-768.4586 2377.4423,-758.0574 2370.3943,-748.66"/>
<polygon fill="#000000" stroke="#000000" points="2372.9948,-746.294 2364.1948,-740.394 2367.3948,-750.4941 2372.9948,-746.294"/>
</g>
<!-- prose_22 -->
<g id="node23" class="node">
<title>prose_22</title>
<ellipse fill="none" stroke="#000000" cx="2458" cy="-722.801" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2458" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_22 -->
<g id="edge22" class="edge">
<title>section_8&#45;&gt;prose_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2418.1011,-777.0032C2424.4848,-768.3311 2432.2762,-757.7465 2439.2741,-748.2399"/>
<polygon fill="#000000" stroke="#000000" points="2442.305,-750.0265 2445.4145,-739.8982 2436.6676,-745.8767 2442.305,-750.0265"/>
</g>
<!-- section_23 -->
<g id="node24" class="node">
<title>section_23</title>
<ellipse fill="none" stroke="#000000" cx="2746" cy="-722.801" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2746" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 22&#45;33</text>
</g>
<!-- section_8&#45;&gt;section_23 -->
<g id="edge23" class="edge">
<title>section_8&#45;&gt;section_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2457.1618,-783.7874C2518.083,-770.9242 2618.7785,-749.663 2683.737,-735.9474"/>
<polygon fill="#000000" stroke="#000000" points="2684.7829,-739.3039 2693.8441,-733.8134 2683.3367,-732.4549 2684.7829,-739.3039"/>
</g>
<!-- header_41 -->
<g id="node42" class="node">
<title>header_41</title>
<ellipse fill="none" stroke="#000000" cx="4071" cy="-722.801" rx="56.1302" ry="18"/>
<text text-anchor="middle" x="4071" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Methods</text>
</g>
<!-- section_9&#45;&gt;header_41 -->
<g id="edge41" class="edge">
<title>section_9&#45;&gt;header_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7672.3823,-794.5326C7240.4108,-792.7668 4950.0345,-781.5892 4249,-740.801 4210.7827,-738.5774 4168.1059,-734.3227 4134.1221,-730.508"/>
<polygon fill="#000000" stroke="#000000" points="4134.2007,-726.9944 4123.869,-729.341 4133.409,-733.9495 4134.2007,-726.9944"/>
</g>
<!-- prose_42 -->
<g id="node43" class="node">
<title>prose_42</title>
<ellipse fill="none" stroke="#000000" cx="4290" cy="-722.801" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4290" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_42 -->
<g id="edge42" class="edge">
<title>section_9&#45;&gt;prose_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7672.2385,-794.3747C7218.3541,-791.5458 4724.1085,-774.5513 4387,-740.801 4368.0521,-738.904 4347.2668,-735.2597 4329.8138,-731.7436"/>
<polygon fill="#000000" stroke="#000000" points="4330.464,-728.304 4319.9619,-729.7023 4329.0438,-735.1584 4330.464,-728.304"/>
</g>
<!-- prose_43 -->
<g id="node44" class="node">
<title>prose_43</title>
<ellipse fill="none" stroke="#000000" cx="4428" cy="-722.801" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4428" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_43 -->
<g id="edge43" class="edge">
<title>section_9&#45;&gt;prose_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7672.3417,-794.2025C7231.1632,-790.3867 4863.157,-768.7266 4542,-740.801 4517.53,-738.6733 4490.3549,-734.4559 4468.6764,-730.638"/>
<polygon fill="#000000" stroke="#000000" points="4469.2847,-727.1913 4458.8228,-728.864 4468.0444,-734.0806 4469.2847,-727.1913"/>
</g>
<!-- prose_44 -->
<g id="node45" class="node">
<title>prose_44</title>
<ellipse fill="none" stroke="#000000" cx="4583" cy="-722.801" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4583" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_44 -->
<g id="edge44" class="edge">
<title>section_9&#45;&gt;prose_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7672.5965,-793.4827C7374.732,-787.8662 6188.6379,-765.1074 5214,-740.801 4992.5833,-735.2791 4727.5053,-727.2577 4625.6944,-724.1245"/>
<polygon fill="#000000" stroke="#000000" points="4625.6111,-720.6204 4615.508,-723.8106 4625.3954,-727.6171 4625.6111,-720.6204"/>
</g>
<!-- prose_45 -->
<g id="node46" class="node">
<title>prose_45</title>
<ellipse fill="none" stroke="#000000" cx="5255" cy="-722.801" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5255" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_45 -->
<g id="edge45" class="edge">
<title>section_9&#45;&gt;prose_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7672.5467,-792.7622C7302.4782,-782.0528 5589.2938,-732.4751 5297.3561,-724.0267"/>
<polygon fill="#000000" stroke="#000000" points="5297.2863,-720.5233 5287.1892,-723.7325 5297.0838,-727.5204 5297.2863,-720.5233"/>
</g>
<!-- section_46 -->
<g id="node47" class="node">
<title>section_46</title>
<ellipse fill="none" stroke="#000000" cx="6017" cy="-722.801" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="6017" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 49&#45;61</text>
</g>
<!-- section_9&#45;&gt;section_46 -->
<g id="edge46" class="edge">
<title>section_9&#45;&gt;section_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7673.201,-791.8893C7396.5982,-780.3509 6378.6075,-737.8854 6092.339,-725.9438"/>
<polygon fill="#000000" stroke="#000000" points="6092.2012,-722.4351 6082.064,-725.5151 6091.9094,-729.429 6092.2012,-722.4351"/>
</g>
<!-- section_47 -->
<g id="node48" class="node">
<title>section_47</title>
<ellipse fill="none" stroke="#000000" cx="6892" cy="-722.801" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="6892" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 62&#45;93</text>
</g>
<!-- section_9&#45;&gt;section_47 -->
<g id="edge47" class="edge">
<title>section_9&#45;&gt;section_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7675.8682,-789.1212C7518.794,-775.8317 7128.3343,-742.7964 6965.3205,-729.0044"/>
<polygon fill="#000000" stroke="#000000" points="6965.1764,-725.4798 6954.9169,-728.1242 6964.5862,-732.4548 6965.1764,-725.4798"/>
</g>
<!-- section_48 -->
<g id="node49" class="node">
<title>section_48</title>
<ellipse fill="none" stroke="#000000" cx="7743" cy="-722.801" rx="70.655" ry="18"/>
<text text-anchor="middle" x="7743" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 94&#45;128</text>
</g>
<!-- section_9&#45;&gt;section_48 -->
<g id="edge48" class="edge">
<title>section_9&#45;&gt;section_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7743,-776.6324C7743,-768.932 7743,-759.7753 7743,-751.2176"/>
<polygon fill="#000000" stroke="#000000" points="7746.5001,-751.2142 7743,-741.2143 7739.5001,-751.2143 7746.5001,-751.2142"/>
</g>
<!-- section_49 -->
<g id="node50" class="node">
<title>section_49</title>
<ellipse fill="none" stroke="#000000" cx="8458" cy="-722.801" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8458" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 129&#45;141</text>
</g>
<!-- section_9&#45;&gt;section_49 -->
<g id="edge49" class="edge">
<title>section_9&#45;&gt;section_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7808.6651,-788.1886C7940.3162,-774.9314 8236.0773,-745.1485 8378.4494,-730.8117"/>
<polygon fill="#000000" stroke="#000000" points="8378.8318,-734.291 8388.4307,-729.8066 8378.1303,-727.3262 8378.8318,-734.291"/>
</g>
<!-- section_50 -->
<g id="node51" class="node">
<title>section_50</title>
<ellipse fill="none" stroke="#000000" cx="9006" cy="-722.801" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9006" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 142&#45;171</text>
</g>
<!-- section_9&#45;&gt;section_50 -->
<g id="edge50" class="edge">
<title>section_9&#45;&gt;section_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7812.2517,-790.8532C8028.0654,-778.5502 8687.9873,-740.93 8922.3453,-727.5699"/>
<polygon fill="#000000" stroke="#000000" points="8922.7278,-731.0539 8932.5124,-726.9903 8922.3293,-724.0652 8922.7278,-731.0539"/>
</g>
<!-- section_51 -->
<g id="node52" class="node">
<title>section_51</title>
<ellipse fill="none" stroke="#000000" cx="9666" cy="-722.801" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9666" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 172&#45;180</text>
</g>
<!-- section_9&#45;&gt;section_51 -->
<g id="edge51" class="edge">
<title>section_9&#45;&gt;section_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7812.862,-792.1853C8108.6688,-781.1098 9257.6309,-738.0909 9580.9279,-725.9862"/>
<polygon fill="#000000" stroke="#000000" points="9581.3035,-729.4747 9591.1655,-725.6029 9581.0416,-722.4796 9581.3035,-729.4747"/>
</g>
<!-- section_52 -->
<g id="node53" class="node">
<title>section_52</title>
<ellipse fill="none" stroke="#000000" cx="10327" cy="-722.801" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="10327" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 181&#45;196</text>
</g>
<!-- section_9&#45;&gt;section_52 -->
<g id="edge52" class="edge">
<title>section_9&#45;&gt;section_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7813.6607,-793.0094C8072.2849,-786.4289 8991.7584,-762.8285 9750,-740.801 9924.6222,-735.7281 10128.9519,-729.2183 10241.5766,-725.5803"/>
<polygon fill="#000000" stroke="#000000" points="10241.9711,-729.0695 10251.8528,-725.2481 10241.7449,-722.0731 10241.9711,-729.0695"/>
</g>
<!-- section_53 -->
<g id="node54" class="node">
<title>section_53</title>
<ellipse fill="none" stroke="#000000" cx="10912" cy="-722.801" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="10912" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 197&#45;213</text>
</g>
<!-- section_9&#45;&gt;section_53 -->
<g id="edge53" class="edge">
<title>section_9&#45;&gt;section_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7813.6067,-793.7785C8121.6701,-789.2315 9378.8509,-769.7861 10411,-740.801 10557.3554,-736.691 10727.6997,-730.21 10827.3086,-726.2488"/>
<polygon fill="#000000" stroke="#000000" points="10827.4646,-729.7455 10837.3172,-725.8498 10827.1857,-722.751 10827.4646,-729.7455"/>
</g>
<!-- section_54 -->
<g id="node55" class="node">
<title>section_54</title>
<ellipse fill="none" stroke="#000000" cx="11652" cy="-722.801" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="11652" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 214&#45;245</text>
</g>
<!-- section_9&#45;&gt;section_54 -->
<g id="edge54" class="edge">
<title>section_9&#45;&gt;section_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7813.6825,-793.9115C8160.7735,-789.4838 9719.4299,-768.9097 10996,-740.801 11200.6837,-736.2941 11441.2434,-729.2453 11566.4596,-725.4438"/>
<polygon fill="#000000" stroke="#000000" points="11566.8542,-728.9335 11576.7432,-725.131 11566.6413,-721.9368 11566.8542,-728.9335"/>
</g>
<!-- section_55 -->
<g id="node56" class="node">
<title>section_55</title>
<ellipse fill="none" stroke="#000000" cx="13065" cy="-722.801" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="13065" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 246&#45;319</text>
</g>
<!-- section_9&#45;&gt;section_55 -->
<g id="edge55" class="edge">
<title>section_9&#45;&gt;section_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7813.5842,-793.847C8204.9342,-788.5574 10148.0722,-762.2918 11736,-740.801 12205.3461,-734.4489 12767.928,-726.8265 12979.2318,-723.9632"/>
<polygon fill="#000000" stroke="#000000" points="12979.3773,-727.4617 12989.3289,-723.8264 12979.2824,-720.4623 12979.3773,-727.4617"/>
</g>
<!-- section_56 -->
<g id="node57" class="node">
<title>section_56</title>
<ellipse fill="none" stroke="#000000" cx="14579" cy="-722.801" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="14579" y="-718.601" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 320&#45;350</text>
</g>
<!-- section_9&#45;&gt;section_56 -->
<g id="edge56" class="edge">
<title>section_9&#45;&gt;section_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7813.8647,-794.1627C8280.6985,-789.943 10963.4013,-765.4723 13149,-740.801 13658.8556,-735.0457 14270.9495,-726.9406 14493.1377,-723.9595"/>
<polygon fill="#000000" stroke="#000000" points="14493.4694,-727.4555 14503.4215,-723.8215 14493.3753,-720.4561 14493.4694,-727.4555"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="352,-669.0025 0,-669.0025 0,-613.1995 352,-613.1995 352,-669.0025"/>
<text text-anchor="middle" x="176" y="-621.601" font-family="Inconsolata" font-size="14.00" fill="#000000">We&#39;re not going to have one of these right away.</text>
</g>
<!-- raw_11&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>raw_11&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1480.1056,-712.0582C1473.1964,-709.1591 1465.4254,-706.388 1458,-704.801 1222.6226,-654.4938 620.0715,-689.9347 362.344,-668.8374"/>
<polygon fill="#000000" stroke="#000000" points="362.465,-665.3349 352.2008,-667.9612 361.8625,-672.3089 362.465,-665.3349"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="883.5,-668.4014 370.5,-668.4014 370.5,-613.8006 883.5,-613.8006 883.5,-668.4014"/>
<text text-anchor="middle" x="627" y="-637.301" font-family="Inconsolata" font-size="14.00" fill="#000000">This is not much more than an ordinary array of lines that has a bit of</text>
<text text-anchor="middle" x="627" y="-621.901" font-family="Inconsolata" font-size="14.00" fill="#000000">awareness, mostly about which lines have cursors and which don&#39;t.</text>
</g>
<!-- raw_13&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>raw_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1560.5633,-712.1664C1553.4952,-709.2717 1545.5578,-706.4759 1538,-704.801 1260.5448,-643.3134 1180.5093,-690.6181 893.9369,-668.9234"/>
<polygon fill="#000000" stroke="#000000" points="893.8965,-665.4097 883.6548,-668.1222 893.3527,-672.3885 893.8965,-665.4097"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1456.5,-668.4014 901.5,-668.4014 901.5,-613.8006 1456.5,-613.8006 1456.5,-668.4014"/>
<text text-anchor="middle" x="1179" y="-637.301" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;ll circle back for quipu but I want a basic editor as soon as possible. The</text>
<text text-anchor="middle" x="1179" y="-621.901" font-family="Inconsolata" font-size="14.00" fill="#000000">interaction dynamics need to be worked out right away, plus I want to use it!</text>
</g>
<!-- raw_15&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>raw_15&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1642.4144,-712.7739C1635.0658,-709.8348 1626.7936,-706.8608 1619,-704.801 1564.1535,-690.3057 1504.532,-678.883 1447.3981,-669.9635"/>
<polygon fill="#000000" stroke="#000000" points="1447.925,-666.5034 1437.5087,-668.4405 1446.8594,-673.4219 1447.925,-666.5034"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="2037,-668.4014 1475,-668.4014 1475,-613.8006 2037,-613.8006 2037,-668.4014"/>
<text text-anchor="middle" x="1756" y="-637.301" font-family="Inconsolata" font-size="14.00" fill="#000000">Plan: A line that has a cursor on it, and there can be many, gets &#39;opened&#39;</text>
<text text-anchor="middle" x="1756" y="-621.901" font-family="Inconsolata" font-size="14.00" fill="#000000">into a grid of characters. &#160;These in turn get &#39;closed&#39; when the cursor leaves.</text>
</g>
<!-- raw_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>raw_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1756,-704.6691C1756,-696.9498 1756,-687.6435 1756,-678.5622"/>
<polygon fill="#000000" stroke="#000000" points="1759.5001,-678.5012 1756,-668.5012 1752.5001,-678.5012 1759.5001,-678.5012"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="2288.5,-669.0025 2055.5,-669.0025 2055.5,-613.1995 2288.5,-613.1995 2288.5,-669.0025"/>
<text text-anchor="middle" x="2172" y="-637.601" font-family="Inconsolata" font-size="14.00" fill="#000000">A closed line is just a string.</text>
</g>
<!-- raw_19&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>raw_19&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2026.8323,-712.1201C2047.0163,-702.2457 2078.0621,-687.0574 2106.2706,-673.2572"/>
<polygon fill="#000000" stroke="#000000" points="2107.8676,-676.3724 2115.3122,-668.8339 2104.7914,-670.0845 2107.8676,-676.3724"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="2407,-659.101 2307,-659.101 2307,-623.101 2407,-623.101 2407,-659.101"/>
<text text-anchor="middle" x="2357" y="-637.601" font-family="Inconsolata" font-size="14.00" fill="#000000">** Interface</text>
</g>
<!-- header_21&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>header_21&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2352.3316,-704.6691C2353.0929,-694.3033 2354.0643,-681.0757 2354.9237,-669.3739"/>
<polygon fill="#000000" stroke="#000000" points="2358.4302,-669.4117 2355.6721,-659.1822 2351.449,-668.8989 2358.4302,-669.4117"/>
</g>
<!-- raw_25 -->
<g id="node26" class="node">
<title>raw_25</title>
<ellipse fill="none" stroke="#000000" cx="2452" cy="-641.101" rx="27" ry="18"/>
<text text-anchor="middle" x="2452" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_22&#45;&gt;raw_25 -->
<g id="edge25" class="edge">
<title>prose_22&#45;&gt;raw_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2456.6684,-704.6691C2455.9071,-694.3033 2454.9357,-681.0757 2454.0763,-669.3739"/>
<polygon fill="#000000" stroke="#000000" points="2457.551,-668.8989 2453.3279,-659.1822 2450.5698,-669.4117 2457.551,-668.8989"/>
</g>
<!-- header_27 -->
<g id="node28" class="node">
<title>header_27</title>
<ellipse fill="none" stroke="#000000" cx="2576" cy="-641.101" rx="78.8574" ry="18"/>
<text text-anchor="middle" x="2576" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Instance fields</text>
</g>
<!-- section_23&#45;&gt;header_27 -->
<g id="edge27" class="edge">
<title>section_23&#45;&gt;header_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2713.2223,-707.0484C2686.4072,-694.1614 2648.2709,-675.8336 2619.0052,-661.7688"/>
<polygon fill="#000000" stroke="#000000" points="2620.3699,-658.5415 2609.8407,-657.3644 2617.3377,-664.8507 2620.3699,-658.5415"/>
</g>
<!-- prose_28 -->
<g id="node29" class="node">
<title>prose_28</title>
<ellipse fill="none" stroke="#000000" cx="2705" cy="-641.101" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2705" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_23&#45;&gt;prose_28 -->
<g id="edge28" class="edge">
<title>section_23&#45;&gt;prose_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2736.9008,-704.6691C2731.4651,-693.8376 2724.4614,-679.8814 2718.4017,-667.8064"/>
<polygon fill="#000000" stroke="#000000" points="2721.4059,-665.9893 2713.7924,-658.6214 2715.1495,-669.129 2721.4059,-665.9893"/>
</g>
<!-- prose_29 -->
<g id="node30" class="node">
<title>prose_29</title>
<ellipse fill="none" stroke="#000000" cx="2787" cy="-641.101" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2787" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_23&#45;&gt;prose_29 -->
<g id="edge29" class="edge">
<title>section_23&#45;&gt;prose_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2755.0992,-704.6691C2760.5349,-693.8376 2767.5386,-679.8814 2773.5983,-667.8064"/>
<polygon fill="#000000" stroke="#000000" points="2776.8505,-669.129 2778.2076,-658.6214 2770.5941,-665.9893 2776.8505,-669.129"/>
</g>
<!-- prose_30 -->
<g id="node31" class="node">
<title>prose_30</title>
<ellipse fill="none" stroke="#000000" cx="2869" cy="-641.101" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2869" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_23&#45;&gt;prose_30 -->
<g id="edge30" class="edge">
<title>section_23&#45;&gt;prose_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2771.5373,-706.0948C2787.7438,-695.4653 2809.14,-681.3814 2828,-668.801 2831.801,-666.2656 2835.7923,-663.588 2839.7309,-660.9368"/>
<polygon fill="#000000" stroke="#000000" points="2841.842,-663.7347 2848.1743,-655.2404 2837.927,-657.9318 2841.842,-663.7347"/>
</g>
<!-- prose_31 -->
<g id="node32" class="node">
<title>prose_31</title>
<ellipse fill="none" stroke="#000000" cx="2951" cy="-641.101" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2951" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_23&#45;&gt;prose_31 -->
<g id="edge31" class="edge">
<title>section_23&#45;&gt;prose_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2794.739,-710.5726C2828.1072,-701.2903 2872.8623,-687.0221 2910,-668.801 2914.3959,-666.6442 2918.8668,-664.0746 2923.1615,-661.383"/>
<polygon fill="#000000" stroke="#000000" points="2925.2317,-664.2102 2931.6487,-655.7797 2921.375,-658.3685 2925.2317,-664.2102"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="2485.5,-377.4009 1930.5,-377.4009 1930.5,-306.8002 2485.5,-306.8002 2485.5,-377.4009"/>
<text text-anchor="middle" x="2208" y="-330.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;A txtbuf is a drop&#45;in replacement for a txtbuf, used when there&#39;s more than</text>
<text text-anchor="middle" x="2208" y="-314.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">one line to buffer.</text>
</g>
<!-- raw_25&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>raw_25&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2438.8815,-625.0254C2402.3553,-580.2658 2298.5554,-453.0681 2243.4226,-385.5078"/>
<polygon fill="#000000" stroke="#000000" points="2245.9824,-383.1087 2236.9482,-377.5739 2240.559,-387.5345 2245.9824,-383.1087"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="2652.5,-360.1005 2503.5,-360.1005 2503.5,-324.1005 2652.5,-324.1005 2652.5,-360.1005"/>
<text text-anchor="middle" x="2578" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Instance fields</text>
</g>
<!-- header_27&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>header_27&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2576.1221,-622.8473C2576.459,-572.4762 2577.4037,-431.2473 2577.8101,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="2581.3124,-370.1386 2577.8795,-360.1153 2574.3126,-370.0917 2581.3124,-370.1386"/>
</g>
<!-- raw_33 -->
<g id="node34" class="node">
<title>raw_33</title>
<ellipse fill="none" stroke="#000000" cx="2702" cy="-342.1005" rx="27" ry="18"/>
<text text-anchor="middle" x="2702" y="-337.9005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_28&#45;&gt;raw_33 -->
<g id="edge33" class="edge">
<title>prose_28&#45;&gt;raw_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2704.8169,-622.8473C2704.3115,-572.4762 2702.8944,-431.2473 2702.2848,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="2705.781,-370.0797 2702.1808,-360.1153 2698.7814,-370.15 2705.781,-370.0797"/>
</g>
<!-- raw_35 -->
<g id="node36" class="node">
<title>raw_35</title>
<ellipse fill="none" stroke="#000000" cx="2780" cy="-342.1005" rx="27" ry="18"/>
<text text-anchor="middle" x="2780" y="-337.9005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_29&#45;&gt;raw_35 -->
<g id="edge35" class="edge">
<title>prose_29&#45;&gt;raw_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2786.5727,-622.8473C2785.3934,-572.4762 2782.087,-431.2473 2780.6645,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="2784.1549,-370.0306 2780.4218,-360.1153 2777.1569,-370.1945 2784.1549,-370.0306"/>
</g>
<!-- raw_37 -->
<g id="node38" class="node">
<title>raw_37</title>
<ellipse fill="none" stroke="#000000" cx="2874" cy="-342.1005" rx="27" ry="18"/>
<text text-anchor="middle" x="2874" y="-337.9005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_30&#45;&gt;raw_37 -->
<g id="edge37" class="edge">
<title>prose_30&#45;&gt;raw_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2869.3052,-622.8473C2870.1476,-572.4762 2872.5093,-431.2473 2873.5254,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="2877.031,-370.1725 2873.6987,-360.1153 2870.0319,-370.0554 2877.031,-370.1725"/>
</g>
<!-- raw_39 -->
<g id="node40" class="node">
<title>raw_39</title>
<ellipse fill="none" stroke="#000000" cx="2951" cy="-342.1005" rx="27" ry="18"/>
<text text-anchor="middle" x="2951" y="-337.9005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_31&#45;&gt;raw_39 -->
<g id="edge39" class="edge">
<title>prose_31&#45;&gt;raw_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2951,-622.8473C2951,-572.4762 2951,-431.2473 2951,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="2954.5001,-370.1153 2951,-360.1153 2947.5001,-370.1154 2954.5001,-370.1153"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2397.5,-63.3015 1884.5,-63.3015 1884.5,-7.4985 2397.5,-7.4985 2397.5,-63.3015"/>
<text text-anchor="middle" x="2141" y="-15.9" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; lines : &#160;An array of arrays containing codepoints (string fragments).</text>
</g>
<!-- raw_33&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>raw_33&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2705.1484,-324.1884C2711.7694,-280.076 2721.8837,-165.527 2661,-106.8001 2659.5464,-105.3979 2500.0585,-83.6291 2358.1113,-64.4938"/>
<polygon fill="#000000" stroke="#000000" points="2358.3017,-60.9879 2347.9238,-63.1209 2357.3668,-67.9252 2358.3017,-60.9879"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="2852,-55.3021 2416,-55.3021 2416,-15.4979 2852,-15.4979 2852,-55.3021"/>
<text text-anchor="middle" x="2634" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; cursor : &#160;Number of fragments to skip before an insertion.</text>
</g>
<!-- raw_35&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>raw_35&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2781.2779,-323.8901C2783.3192,-281.9728 2783.2129,-176.8904 2738,-106.8001 2725.4398,-87.3289 2705.4988,-71.7569 2686.4227,-60.1868"/>
<polygon fill="#000000" stroke="#000000" points="2688.1543,-57.145 2677.7485,-55.1527 2684.6407,-63.1994 2688.1543,-57.145"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="3159.5,-55.3021 2870.5,-55.3021 2870.5,-15.4979 3159.5,-15.4979 3159.5,-55.3021"/>
<text text-anchor="middle" x="3015" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; cur_row : &#160;Row containing the cursor.</text>
</g>
<!-- raw_37&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>raw_37&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2872.7177,-323.953C2870.6519,-282.1678 2870.6124,-177.3444 2915,-106.8001 2927.0087,-87.7149 2946.1494,-72.2175 2964.4851,-60.5988"/>
<polygon fill="#000000" stroke="#000000" points="2966.6462,-63.3819 2973.3869,-55.208 2963.02,-57.3943 2966.6462,-63.3819"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="3698,-70.7004 3178,-70.7004 3178,-.0997 3698,-.0997 3698,-70.7004"/>
<text text-anchor="middle" x="3438" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; disp : &#160;Array of numbers, representing the furthest&#45;right column which</text>
<text text-anchor="middle" x="3438" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;may be reached by printing the corresponding row.</text>
</g>
<!-- raw_39&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>raw_39&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2947.4377,-323.9938C2939.9243,-279.9405 2927.6879,-166.421 2987,-106.8001 2994.5521,-99.2086 3076.0897,-85.3038 3167.8057,-71.7682"/>
<polygon fill="#000000" stroke="#000000" points="3168.4835,-75.2063 3177.8688,-70.2904 3167.4663,-68.2806 3168.4835,-75.2063"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="4086,-659.101 4000,-659.101 4000,-623.101 4086,-623.101 4086,-659.101"/>
<text text-anchor="middle" x="4043" y="-637.601" font-family="Inconsolata" font-size="14.00" fill="#000000">** Methods</text>
</g>
<!-- header_41&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>header_41&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4064.7859,-704.6691C4061.1608,-694.0917 4056.5146,-680.5346 4052.4448,-668.6594"/>
<polygon fill="#000000" stroke="#000000" points="4055.7498,-667.5073 4049.1967,-659.1822 4049.1279,-669.7768 4055.7498,-667.5073"/>
</g>
<!-- raw_58 -->
<g id="node59" class="node">
<title>raw_58</title>
<ellipse fill="none" stroke="#000000" cx="4131" cy="-641.101" rx="27" ry="18"/>
<text text-anchor="middle" x="4131" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_42&#45;&gt;raw_58 -->
<g id="edge58" class="edge">
<title>prose_42&#45;&gt;raw_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4262.6869,-713.0066C4237.1295,-703.3386 4198.3023,-687.3423 4167,-668.801 4163.3361,-666.6307 4159.6161,-664.1436 4156.0266,-661.5697"/>
<polygon fill="#000000" stroke="#000000" points="4158.072,-658.7286 4147.9762,-655.5152 4153.8645,-664.3231 4158.072,-658.7286"/>
</g>
<!-- raw_60 -->
<g id="node61" class="node">
<title>raw_60</title>
<ellipse fill="none" stroke="#000000" cx="4203" cy="-641.101" rx="27" ry="18"/>
<text text-anchor="middle" x="4203" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_43&#45;&gt;raw_60 -->
<g id="edge60" class="edge">
<title>prose_43&#45;&gt;raw_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4396.8987,-717.6481C4358.32,-710.4324 4291.2568,-695.153 4239,-668.801 4235.1184,-666.8436 4231.2393,-664.4448 4227.5415,-661.8855"/>
<polygon fill="#000000" stroke="#000000" points="4229.4341,-658.9307 4219.3266,-655.7544 4225.2473,-664.5405 4229.4341,-658.9307"/>
</g>
<!-- raw_62 -->
<g id="node63" class="node">
<title>raw_62</title>
<ellipse fill="none" stroke="#000000" cx="4275" cy="-641.101" rx="27" ry="18"/>
<text text-anchor="middle" x="4275" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_44&#45;&gt;raw_62 -->
<g id="edge62" class="edge">
<title>prose_44&#45;&gt;raw_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4552.0461,-717.4772C4485.4555,-705.906 4332.8392,-678.7089 4311,-668.801 4306.8482,-666.9174 4302.7356,-664.4719 4298.8563,-661.8143"/>
<polygon fill="#000000" stroke="#000000" points="4300.915,-658.9834 4290.8117,-655.7935 4296.7206,-664.5876 4300.915,-658.9834"/>
</g>
<!-- prespace_63 -->
<g id="node64" class="node">
<title>prespace_63</title>
<ellipse fill="none" stroke="#000000" cx="4366" cy="-641.101" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4366" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_44&#45;&gt;prespace_63 -->
<g id="edge63" class="edge">
<title>prose_44&#45;&gt;prespace_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4554.3616,-714.4831C4521.8302,-704.7395 4467.3733,-687.5306 4422,-668.801 4415.668,-666.1872 4409.0519,-663.1772 4402.6773,-660.1255"/>
<polygon fill="#000000" stroke="#000000" points="4404.092,-656.9212 4393.5718,-655.6659 4401.0131,-663.2077 4404.092,-656.9212"/>
</g>
<!-- literal_64 -->
<g id="node65" class="node">
<title>literal_64</title>
<ellipse fill="none" stroke="#000000" cx="4462" cy="-641.101" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4462" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_44&#45;&gt;literal_64 -->
<g id="edge64" class="edge">
<title>prose_44&#45;&gt;literal_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4561.9533,-708.9166C4545.5637,-698.0692 4522.2697,-682.5744 4502,-668.801 4498.284,-666.2759 4494.3854,-663.6044 4490.5406,-660.9563"/>
<polygon fill="#000000" stroke="#000000" points="4492.5178,-658.0682 4482.3012,-655.2624 4488.5381,-663.8269 4492.5178,-658.0682"/>
</g>
<!-- raw_65 -->
<g id="node66" class="node">
<title>raw_65</title>
<ellipse fill="none" stroke="#000000" cx="4538" cy="-641.101" rx="27" ry="18"/>
<text text-anchor="middle" x="4538" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_44&#45;&gt;raw_65 -->
<g id="edge65" class="edge">
<title>prose_44&#45;&gt;raw_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4573.4567,-705.4745C4567.3301,-694.3514 4559.2593,-679.6984 4552.3657,-667.1827"/>
<polygon fill="#000000" stroke="#000000" points="4555.2656,-665.1929 4547.3753,-658.1223 4549.1341,-668.5702 4555.2656,-665.1929"/>
</g>
<!-- prespace_66 -->
<g id="node67" class="node">
<title>prespace_66</title>
<ellipse fill="none" stroke="#000000" cx="4629" cy="-641.101" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4629" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_44&#45;&gt;prespace_66 -->
<g id="edge66" class="edge">
<title>prose_44&#45;&gt;prespace_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4592.7554,-705.4745C4598.892,-694.5753 4606.9369,-680.287 4613.888,-667.9412"/>
<polygon fill="#000000" stroke="#000000" points="4617.0843,-669.3982 4618.9406,-658.9673 4610.9846,-665.9639 4617.0843,-669.3982"/>
</g>
<!-- literal_67 -->
<g id="node68" class="node">
<title>literal_67</title>
<ellipse fill="none" stroke="#000000" cx="4725" cy="-641.101" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4725" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_44&#45;&gt;literal_67 -->
<g id="edge67" class="edge">
<title>prose_44&#45;&gt;literal_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4607.0586,-710.8241C4627.7685,-700.3056 4658.2878,-684.3038 4684,-668.801 4687.9978,-666.3905 4692.1459,-663.7552 4696.2003,-661.0992"/>
<polygon fill="#000000" stroke="#000000" points="4698.4624,-663.7971 4704.8317,-655.3306 4694.5728,-657.9772 4698.4624,-663.7971"/>
</g>
<!-- raw_68 -->
<g id="node69" class="node">
<title>raw_68</title>
<ellipse fill="none" stroke="#000000" cx="4801" cy="-641.101" rx="27" ry="18"/>
<text text-anchor="middle" x="4801" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_44&#45;&gt;raw_68 -->
<g id="edge68" class="edge">
<title>prose_44&#45;&gt;raw_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4613.924,-717.2402C4651.2151,-709.7342 4715.0998,-694.2824 4765,-668.801 4768.8716,-666.824 4772.7451,-664.414 4776.4401,-661.8492"/>
<polygon fill="#000000" stroke="#000000" points="4778.7359,-664.503 4784.6532,-655.7145 4774.5469,-658.8947 4778.7359,-664.503"/>
</g>
<!-- raw_76 -->
<g id="node77" class="node">
<title>raw_76</title>
<ellipse fill="none" stroke="#000000" cx="5024" cy="-641.101" rx="27" ry="18"/>
<text text-anchor="middle" x="5024" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_45&#45;&gt;raw_76 -->
<g id="edge76" class="edge">
<title>prose_45&#45;&gt;raw_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5227.5941,-713.1081C5185.0619,-698.0653 5103.2903,-669.1444 5057.3788,-652.9064"/>
<polygon fill="#000000" stroke="#000000" points="5058.4762,-649.5821 5047.8814,-649.5473 5056.142,-656.1815 5058.4762,-649.5821"/>
</g>
<!-- prespace_77 -->
<g id="node78" class="node">
<title>prespace_77</title>
<ellipse fill="none" stroke="#000000" cx="5159" cy="-641.101" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5159" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_45&#45;&gt;prespace_77 -->
<g id="edge77" class="edge">
<title>prose_45&#45;&gt;prespace_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5236.9431,-707.4339C5222.5669,-695.199 5202.224,-677.8864 5185.9257,-664.0159"/>
<polygon fill="#000000" stroke="#000000" points="5188.1774,-661.3363 5178.2935,-657.5206 5183.6406,-666.6671 5188.1774,-661.3363"/>
</g>
<!-- literal_78 -->
<g id="node79" class="node">
<title>literal_78</title>
<ellipse fill="none" stroke="#000000" cx="5255" cy="-641.101" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5255" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_45&#45;&gt;literal_78 -->
<g id="edge78" class="edge">
<title>prose_45&#45;&gt;literal_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5255,-704.6691C5255,-694.3033 5255,-681.0757 5255,-669.3739"/>
<polygon fill="#000000" stroke="#000000" points="5258.5001,-669.1821 5255,-659.1822 5251.5001,-669.1822 5258.5001,-669.1821"/>
</g>
<!-- raw_79 -->
<g id="node80" class="node">
<title>raw_79</title>
<ellipse fill="none" stroke="#000000" cx="5389" cy="-641.101" rx="27" ry="18"/>
<text text-anchor="middle" x="5389" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_45&#45;&gt;raw_79 -->
<g id="edge79" class="edge">
<title>prose_45&#45;&gt;raw_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5276.8276,-709.4926C5299.5488,-695.6396 5335.2432,-673.8766 5360.2491,-658.6305"/>
<polygon fill="#000000" stroke="#000000" points="5362.2182,-661.5292 5368.9343,-653.3351 5358.5741,-655.5525 5362.2182,-661.5292"/>
</g>
<!-- header_84 -->
<g id="node85" class="node">
<title>header_84</title>
<ellipse fill="none" stroke="#000000" cx="5713" cy="-641.101" rx="77.4383" ry="18"/>
<text text-anchor="middle" x="5713" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : dependencies</text>
</g>
<!-- section_46&#45;&gt;header_84 -->
<g id="edge84" class="edge">
<title>section_46&#45;&gt;header_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5969.8886,-710.1479C5929.154,-699.2065 5868.6909,-682.964 5816,-668.801 5802.3296,-665.1265 5787.639,-661.1765 5773.7565,-657.4431"/>
<polygon fill="#000000" stroke="#000000" points="5774.3827,-653.9872 5763.8168,-654.77 5772.5647,-660.7471 5774.3827,-653.9872"/>
</g>
<!-- prose_85 -->
<g id="node86" class="node">
<title>prose_85</title>
<ellipse fill="none" stroke="#000000" cx="5857" cy="-641.101" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5857" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_46&#45;&gt;prose_85 -->
<g id="edge85" class="edge">
<title>section_46&#45;&gt;prose_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5985.7706,-706.8545C5958.1537,-692.7526 5917.9977,-672.248 5889.8918,-657.8964"/>
<polygon fill="#000000" stroke="#000000" points="5891.3555,-654.7139 5880.8577,-653.2833 5888.1721,-660.9482 5891.3555,-654.7139"/>
</g>
<!-- codeblock_86 -->
<g id="node87" class="node">
<title>codeblock_86</title>
<ellipse fill="none" stroke="#000000" cx="6017" cy="-641.101" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="6017" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 51&#45;56</text>
</g>
<!-- section_46&#45;&gt;codeblock_86 -->
<g id="edge86" class="edge">
<title>section_46&#45;&gt;codeblock_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6017,-704.6691C6017,-694.3033 6017,-681.0757 6017,-669.3739"/>
<polygon fill="#000000" stroke="#000000" points="6020.5001,-669.1821 6017,-659.1822 6013.5001,-669.1822 6020.5001,-669.1821"/>
</g>
<!-- codeblock_87 -->
<g id="node88" class="node">
<title>codeblock_87</title>
<ellipse fill="none" stroke="#000000" cx="6236" cy="-641.101" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="6236" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 58&#45;60</text>
</g>
<!-- section_46&#45;&gt;codeblock_87 -->
<g id="edge87" class="edge">
<title>section_46&#45;&gt;codeblock_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6055.9005,-708.2888C6091.9334,-694.8464 6145.7469,-674.7708 6185.1667,-660.0648"/>
<polygon fill="#000000" stroke="#000000" points="6186.7131,-663.2236 6194.859,-656.449 6184.2664,-656.6651 6186.7131,-663.2236"/>
</g>
<!-- header_93 -->
<g id="node94" class="node">
<title>header_93</title>
<ellipse fill="none" stroke="#000000" cx="6521" cy="-641.101" rx="115.7565" ry="18"/>
<text text-anchor="middle" x="6521" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf.__tostring(txtbuf)</text>
</g>
<!-- section_47&#45;&gt;header_93 -->
<g id="edge93" class="edge">
<title>section_47&#45;&gt;header_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6840.8036,-711.5267C6777.9633,-697.6883 6670.803,-674.0899 6598.0098,-658.0597"/>
<polygon fill="#000000" stroke="#000000" points="6598.4934,-654.5825 6587.9746,-655.8498 6596.9879,-661.4187 6598.4934,-654.5825"/>
</g>
<!-- prose_94 -->
<g id="node95" class="node">
<title>prose_94</title>
<ellipse fill="none" stroke="#000000" cx="6713" cy="-641.101" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6713" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_47&#45;&gt;prose_94 -->
<g id="edge94" class="edge">
<title>section_47&#45;&gt;prose_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6857.9101,-707.2415C6826.1956,-692.7662 6779.1772,-671.3059 6747.3722,-656.7893"/>
<polygon fill="#000000" stroke="#000000" points="6748.5744,-653.4907 6738.0239,-652.5225 6745.6678,-659.8588 6748.5744,-653.4907"/>
</g>
<!-- codeblock_95 -->
<g id="node96" class="node">
<title>codeblock_95</title>
<ellipse fill="none" stroke="#000000" cx="6892" cy="-641.101" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="6892" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 64&#45;80</text>
</g>
<!-- section_47&#45;&gt;codeblock_95 -->
<g id="edge95" class="edge">
<title>section_47&#45;&gt;codeblock_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6892,-704.6691C6892,-694.3033 6892,-681.0757 6892,-669.3739"/>
<polygon fill="#000000" stroke="#000000" points="6895.5001,-669.1821 6892,-659.1822 6888.5001,-669.1822 6895.5001,-669.1821"/>
</g>
<!-- codeblock_96 -->
<g id="node97" class="node">
<title>codeblock_96</title>
<ellipse fill="none" stroke="#000000" cx="7183" cy="-641.101" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="7183" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 82&#45;91</text>
</g>
<!-- section_47&#45;&gt;codeblock_96 -->
<g id="edge96" class="edge">
<title>section_47&#45;&gt;codeblock_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6938.1098,-709.8554C6988.1992,-695.7925 7068.3912,-673.2781 7123.2686,-657.8709"/>
<polygon fill="#000000" stroke="#000000" points="7124.5262,-661.1533 7133.2079,-655.0804 7122.634,-654.4138 7124.5262,-661.1533"/>
</g>
<!-- header_102 -->
<g id="node103" class="node">
<title>header_102</title>
<ellipse fill="none" stroke="#000000" cx="7601" cy="-641.101" rx="92.0509" ry="18"/>
<text text-anchor="middle" x="7601" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:insert(frag)</text>
</g>
<!-- section_48&#45;&gt;header_102 -->
<g id="edge102" class="edge">
<title>section_48&#45;&gt;header_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7714.2642,-706.2678C7692.7061,-693.8643 7662.9745,-676.7581 7639.3821,-663.1842"/>
<polygon fill="#000000" stroke="#000000" points="7641.0838,-660.1254 7630.6706,-658.172 7637.5929,-666.1928 7641.0838,-660.1254"/>
</g>
<!-- prose_103 -->
<g id="node104" class="node">
<title>prose_103</title>
<ellipse fill="none" stroke="#000000" cx="7743" cy="-641.101" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7743" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_48&#45;&gt;prose_103 -->
<g id="edge103" class="edge">
<title>section_48&#45;&gt;prose_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7743,-704.6691C7743,-694.3033 7743,-681.0757 7743,-669.3739"/>
<polygon fill="#000000" stroke="#000000" points="7746.5001,-669.1821 7743,-659.1822 7739.5001,-669.1822 7746.5001,-669.1821"/>
</g>
<!-- codeblock_104 -->
<g id="node105" class="node">
<title>codeblock_104</title>
<ellipse fill="none" stroke="#000000" cx="7958" cy="-641.101" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="7958" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 96&#45;126</text>
</g>
<!-- section_48&#45;&gt;codeblock_104 -->
<g id="edge104" class="edge">
<title>section_48&#45;&gt;codeblock_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7782.4343,-707.816C7817.526,-694.4811 7869.0563,-674.8996 7907.2207,-660.3971"/>
<polygon fill="#000000" stroke="#000000" points="7908.5129,-663.6503 7916.6174,-656.8264 7906.0263,-657.1069 7908.5129,-663.6503"/>
</g>
<!-- header_109 -->
<g id="node110" class="node">
<title>header_109</title>
<ellipse fill="none" stroke="#000000" cx="8388" cy="-641.101" rx="88.6939" ry="18"/>
<text text-anchor="middle" x="8388" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:advance()</text>
</g>
<!-- section_49&#45;&gt;header_109 -->
<g id="edge109" class="edge">
<title>section_49&#45;&gt;header_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8442.811,-705.0733C8433.2454,-693.9089 8420.7361,-679.3087 8410.0836,-666.8757"/>
<polygon fill="#000000" stroke="#000000" points="8412.5653,-664.3929 8403.401,-659.0762 8407.2496,-668.9474 8412.5653,-664.3929"/>
</g>
<!-- prose_110 -->
<g id="node111" class="node">
<title>prose_110</title>
<ellipse fill="none" stroke="#000000" cx="8527" cy="-641.101" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8527" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_49&#45;&gt;prose_110 -->
<g id="edge110" class="edge">
<title>section_49&#45;&gt;prose_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8472.972,-705.0733C8482.7911,-693.4469 8495.757,-678.0945 8506.5257,-665.3438"/>
<polygon fill="#000000" stroke="#000000" points="8509.4514,-667.3039 8513.2298,-657.4057 8504.1035,-662.7873 8509.4514,-667.3039"/>
</g>
<!-- codeblock_111 -->
<g id="node112" class="node">
<title>codeblock_111</title>
<ellipse fill="none" stroke="#000000" cx="8691" cy="-641.101" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="8691" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 131&#45;139</text>
</g>
<!-- section_49&#45;&gt;codeblock_111 -->
<g id="edge111" class="edge">
<title>section_49&#45;&gt;codeblock_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8500.4649,-707.911C8538.7431,-694.4889 8595.2289,-674.6825 8636.7633,-660.1188"/>
<polygon fill="#000000" stroke="#000000" points="8638.1686,-663.335 8646.4472,-656.7232 8635.8524,-656.7293 8638.1686,-663.335"/>
</g>
<!-- header_116 -->
<g id="node117" class="node">
<title>header_116</title>
<ellipse fill="none" stroke="#000000" cx="8939" cy="-641.101" rx="83.8576" ry="18"/>
<text text-anchor="middle" x="8939" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:d_back()</text>
</g>
<!-- section_50&#45;&gt;header_116 -->
<g id="edge116" class="edge">
<title>section_50&#45;&gt;header_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8991.462,-705.0733C8982.3064,-693.9089 8970.3331,-679.3087 8960.1371,-666.8757"/>
<polygon fill="#000000" stroke="#000000" points="8962.7885,-664.5892 8953.741,-659.0762 8957.3758,-669.028 8962.7885,-664.5892"/>
</g>
<!-- prose_117 -->
<g id="node118" class="node">
<title>prose_117</title>
<ellipse fill="none" stroke="#000000" cx="9073" cy="-641.101" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9073" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_50&#45;&gt;prose_117 -->
<g id="edge117" class="edge">
<title>section_50&#45;&gt;prose_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9020.538,-705.0733C9030.0094,-693.5239 9042.496,-678.2977 9052.9111,-665.5974"/>
<polygon fill="#000000" stroke="#000000" points="9055.7689,-667.6322 9059.4037,-657.6803 9050.3562,-663.1933 9055.7689,-667.6322"/>
</g>
<!-- codeblock_118 -->
<g id="node119" class="node">
<title>codeblock_118</title>
<ellipse fill="none" stroke="#000000" cx="9260" cy="-641.101" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9260" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 147&#45;169</text>
</g>
<!-- section_50&#45;&gt;codeblock_118 -->
<g id="edge118" class="edge">
<title>section_50&#45;&gt;codeblock_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9051.1174,-708.2888C9093.4846,-694.6613 9157.0458,-674.2166 9202.9219,-659.4604"/>
<polygon fill="#000000" stroke="#000000" points="9204.2715,-662.7029 9212.7194,-656.3089 9202.128,-656.0392 9204.2715,-662.7029"/>
</g>
<!-- header_123 -->
<g id="node124" class="node">
<title>header_123</title>
<ellipse fill="none" stroke="#000000" cx="9601" cy="-641.101" rx="78.5213" ry="18"/>
<text text-anchor="middle" x="9601" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:d_fwd()</text>
</g>
<!-- section_51&#45;&gt;header_123 -->
<g id="edge123" class="edge">
<title>section_51&#45;&gt;header_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9651.896,-705.0733C9643.0982,-694.0152 9631.6188,-679.5865 9621.7892,-667.2315"/>
<polygon fill="#000000" stroke="#000000" points="9624.2658,-664.7226 9615.301,-659.0762 9618.788,-669.0808 9624.2658,-664.7226"/>
</g>
<!-- prose_124 -->
<g id="node125" class="node">
<title>prose_124</title>
<ellipse fill="none" stroke="#000000" cx="9730" cy="-641.101" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9730" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_51&#45;&gt;prose_124 -->
<g id="edge124" class="edge">
<title>section_51&#45;&gt;prose_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9679.887,-705.0733C9688.9343,-693.5239 9700.8618,-678.2977 9710.8106,-665.5974"/>
<polygon fill="#000000" stroke="#000000" points="9713.601,-667.7109 9717.0125,-657.6803 9708.0905,-663.3942 9713.601,-667.7109"/>
</g>
<!-- codeblock_125 -->
<g id="node126" class="node">
<title>codeblock_125</title>
<ellipse fill="none" stroke="#000000" cx="9914" cy="-641.101" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9914" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 174&#45;178</text>
</g>
<!-- section_51&#45;&gt;codeblock_125 -->
<g id="edge125" class="edge">
<title>section_51&#45;&gt;codeblock_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9710.3374,-708.1947C9751.6136,-694.5968 9813.3123,-674.2711 9857.979,-659.5563"/>
<polygon fill="#000000" stroke="#000000" points="9859.1186,-662.866 9867.5214,-656.4127 9856.9283,-656.2174 9859.1186,-662.866"/>
</g>
<!-- header_130 -->
<g id="node131" class="node">
<title>header_130</title>
<ellipse fill="none" stroke="#000000" cx="10260" cy="-641.101" rx="83.3644" ry="18"/>
<text text-anchor="middle" x="10260" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:left(disp)</text>
</g>
<!-- section_52&#45;&gt;header_130 -->
<g id="edge130" class="edge">
<title>section_52&#45;&gt;header_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10312.462,-705.0733C10303.3064,-693.9089 10291.3331,-679.3087 10281.1371,-666.8757"/>
<polygon fill="#000000" stroke="#000000" points="10283.7885,-664.5892 10274.741,-659.0762 10278.3758,-669.028 10283.7885,-664.5892"/>
</g>
<!-- prose_131 -->
<g id="node132" class="node">
<title>prose_131</title>
<ellipse fill="none" stroke="#000000" cx="10393" cy="-641.101" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10393" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_52&#45;&gt;prose_131 -->
<g id="edge131" class="edge">
<title>section_52&#45;&gt;prose_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10341.321,-705.0733C10350.651,-693.5239 10362.9512,-678.2977 10373.2109,-665.5974"/>
<polygon fill="#000000" stroke="#000000" points="10376.0452,-667.6587 10379.6066,-657.6803 10370.6,-663.2598 10376.0452,-667.6587"/>
</g>
<!-- codeblock_132 -->
<g id="node133" class="node">
<title>codeblock_132</title>
<ellipse fill="none" stroke="#000000" cx="10559" cy="-641.101" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="10559" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 183&#45;194</text>
</g>
<!-- section_52&#45;&gt;codeblock_132 -->
<g id="edge132" class="edge">
<title>section_52&#45;&gt;codeblock_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10369.5524,-707.816C10407.7003,-694.382 10463.8514,-674.608 10505.1219,-660.0745"/>
<polygon fill="#000000" stroke="#000000" points="10506.4741,-663.309 10514.7438,-656.686 10504.149,-656.7064 10506.4741,-663.309"/>
</g>
<!-- header_137 -->
<g id="node138" class="node">
<title>header_137</title>
<ellipse fill="none" stroke="#000000" cx="10843" cy="-641.101" rx="88.6766" ry="18"/>
<text text-anchor="middle" x="10843" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:right(disp)</text>
</g>
<!-- section_53&#45;&gt;header_137 -->
<g id="edge137" class="edge">
<title>section_53&#45;&gt;header_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10897.028,-705.0733C10887.5991,-693.9089 10875.2684,-679.3087 10864.7681,-666.8757"/>
<polygon fill="#000000" stroke="#000000" points="10867.3073,-664.4578 10858.181,-659.0762 10861.9594,-668.9744 10867.3073,-664.4578"/>
</g>
<!-- prose_138 -->
<g id="node139" class="node">
<title>prose_138</title>
<ellipse fill="none" stroke="#000000" cx="10982" cy="-641.101" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10982" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_53&#45;&gt;prose_138 -->
<g id="edge138" class="edge">
<title>section_53&#45;&gt;prose_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10927.189,-705.0733C10937.1504,-693.4469 10950.3042,-678.0945 10961.229,-665.3438"/>
<polygon fill="#000000" stroke="#000000" points="10964.1817,-667.2768 10968.0302,-657.4057 10958.866,-662.7224 10964.1817,-667.2768"/>
</g>
<!-- codeblock_139 -->
<g id="node140" class="node">
<title>codeblock_139</title>
<ellipse fill="none" stroke="#000000" cx="11150" cy="-641.101" rx="86.7905" ry="18"/>
<text text-anchor="middle" x="11150" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 199&#45;211</text>
</g>
<!-- section_53&#45;&gt;codeblock_139 -->
<g id="edge139" class="edge">
<title>section_53&#45;&gt;codeblock_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10955.1,-708.0057C10994.3709,-694.5249 11052.5687,-674.5469 11095.1438,-659.9319"/>
<polygon fill="#000000" stroke="#000000" points="11096.4703,-663.1771 11104.7922,-656.6198 11094.1975,-656.5563 11096.4703,-663.1771"/>
</g>
<!-- header_144 -->
<g id="node145" class="node">
<title>header_144</title>
<ellipse fill="none" stroke="#000000" cx="11478" cy="-641.101" rx="123.6395" ry="18"/>
<text text-anchor="middle" x="11478" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:up(), Txtbuf:down()</text>
</g>
<!-- section_54&#45;&gt;header_144 -->
<g id="edge144" class="edge">
<title>section_54&#45;&gt;header_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11617.6232,-706.6597C11590.8125,-694.071 11553.3219,-676.4676 11523.9393,-662.6713"/>
<polygon fill="#000000" stroke="#000000" points="11525.2477,-659.4191 11514.7082,-658.337 11522.2725,-665.7554 11525.2477,-659.4191"/>
</g>
<!-- prose_145 -->
<g id="node146" class="node">
<title>prose_145</title>
<ellipse fill="none" stroke="#000000" cx="11652" cy="-641.101" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11652" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_54&#45;&gt;prose_145 -->
<g id="edge145" class="edge">
<title>section_54&#45;&gt;prose_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11652,-704.6691C11652,-694.3033 11652,-681.0757 11652,-669.3739"/>
<polygon fill="#000000" stroke="#000000" points="11655.5001,-669.1821 11652,-659.1822 11648.5001,-669.1822 11655.5001,-669.1821"/>
</g>
<!-- codeblock_146 -->
<g id="node147" class="node">
<title>codeblock_146</title>
<ellipse fill="none" stroke="#000000" cx="11850" cy="-641.101" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11850" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 216&#45;229</text>
</g>
<!-- section_54&#45;&gt;codeblock_146 -->
<g id="edge146" class="edge">
<title>section_54&#45;&gt;codeblock_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11690.1764,-707.0484C11721.9165,-693.9516 11767.275,-675.2355 11801.5676,-661.0855"/>
<polygon fill="#000000" stroke="#000000" points="11803.017,-664.2737 11810.9259,-657.224 11800.3469,-657.803 11803.017,-664.2737"/>
</g>
<!-- codeblock_147 -->
<g id="node148" class="node">
<title>codeblock_147</title>
<ellipse fill="none" stroke="#000000" cx="12214" cy="-641.101" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="12214" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 231&#45;244</text>
</g>
<!-- section_54&#45;&gt;codeblock_147 -->
<g id="edge147" class="edge">
<title>section_54&#45;&gt;codeblock_147</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11716.4685,-713.429C11819.1816,-698.4972 12019.8314,-669.328 12132.4029,-652.9631"/>
<polygon fill="#000000" stroke="#000000" points="12132.9573,-656.4193 12142.3497,-651.5171 12131.9502,-649.4922 12132.9573,-656.4193"/>
</g>
<!-- header_153 -->
<g id="node154" class="node">
<title>header_153</title>
<ellipse fill="none" stroke="#000000" cx="12723" cy="-641.101" rx="62.0899" ry="18"/>
<text text-anchor="middle" x="12723" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:nl()</text>
</g>
<!-- section_55&#45;&gt;header_153 -->
<g id="edge153" class="edge">
<title>section_55&#45;&gt;header_153</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13008.5844,-710.839C12959.844,-700.3299 12887.5911,-684.3335 12825,-668.801 12809.5141,-664.958 12792.7804,-660.53 12777.4332,-656.3576"/>
<polygon fill="#000000" stroke="#000000" points="12778.1442,-652.9236 12767.5751,-653.6614 12776.2975,-659.6756 12778.1442,-652.9236"/>
</g>
<!-- prose_154 -->
<g id="node155" class="node">
<title>prose_154</title>
<ellipse fill="none" stroke="#000000" cx="12866" cy="-641.101" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="12866" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_55&#45;&gt;prose_154 -->
<g id="edge154" class="edge">
<title>section_55&#45;&gt;prose_154</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13026.6308,-707.0484C12990.4977,-692.2139 12936.8042,-670.1698 12901.603,-655.7179"/>
<polygon fill="#000000" stroke="#000000" points="12902.7748,-652.4155 12892.1948,-651.8553 12900.1162,-658.8911 12902.7748,-652.4155"/>
</g>
<!-- codeblock_155 -->
<g id="node156" class="node">
<title>codeblock_155</title>
<ellipse fill="none" stroke="#000000" cx="13065" cy="-641.101" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="13065" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 250&#45;281</text>
</g>
<!-- section_55&#45;&gt;codeblock_155 -->
<g id="edge155" class="edge">
<title>section_55&#45;&gt;codeblock_155</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13065,-704.6691C13065,-694.3033 13065,-681.0757 13065,-669.3739"/>
<polygon fill="#000000" stroke="#000000" points="13068.5001,-669.1821 13065,-659.1822 13061.5001,-669.1822 13068.5001,-669.1821"/>
</g>
<!-- codeblock_156 -->
<g id="node157" class="node">
<title>codeblock_156</title>
<ellipse fill="none" stroke="#000000" cx="13350" cy="-641.101" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="13350" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 284&#45;292</text>
</g>
<!-- section_55&#45;&gt;codeblock_156 -->
<g id="edge156" class="edge">
<title>section_55&#45;&gt;codeblock_156</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13113.3464,-708.9417C13161.8352,-695.0416 13236.6501,-673.5946 13289.1496,-658.5448"/>
<polygon fill="#000000" stroke="#000000" points="13290.3609,-661.8386 13299.0092,-655.7184 13288.4318,-655.1096 13290.3609,-661.8386"/>
</g>
<!-- codeblock_157 -->
<g id="node158" class="node">
<title>codeblock_157</title>
<ellipse fill="none" stroke="#000000" cx="13664" cy="-641.101" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="13664" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 294&#45;304</text>
</g>
<!-- section_55&#45;&gt;codeblock_157 -->
<g id="edge157" class="edge">
<title>section_55&#45;&gt;codeblock_157</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13130.8169,-713.824C13240.5235,-698.8606 13460.5689,-668.8478 13580.8345,-652.4443"/>
<polygon fill="#000000" stroke="#000000" points="13581.6555,-655.8648 13591.0907,-651.0454 13580.7094,-648.929 13581.6555,-655.8648"/>
</g>
<!-- codeblock_158 -->
<g id="node159" class="node">
<title>codeblock_158</title>
<ellipse fill="none" stroke="#000000" cx="14036" cy="-641.101" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="14036" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 306&#45;317</text>
</g>
<!-- section_55&#45;&gt;codeblock_158 -->
<g id="edge158" class="edge">
<title>section_55&#45;&gt;codeblock_158</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13137.5848,-717.7011C13264.0715,-708.6934 13533.0708,-689.002 13760,-668.801 13822.9761,-663.1949 13893.9492,-656.0536 13948.1534,-650.4261"/>
<polygon fill="#000000" stroke="#000000" points="13948.8341,-653.8742 13958.418,-649.3577 13948.1094,-646.9118 13948.8341,-653.8742"/>
</g>
<!-- header_166 -->
<g id="node167" class="node">
<title>header_166</title>
<ellipse fill="none" stroke="#000000" cx="14490" cy="-641.101" rx="38.7388" ry="18"/>
<text text-anchor="middle" x="14490" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : new</text>
</g>
<!-- section_56&#45;&gt;header_166 -->
<g id="edge166" class="edge">
<title>section_56&#45;&gt;header_166</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14559.6883,-705.0733C14546.6612,-693.1147 14529.34,-677.2142 14515.2254,-664.2574"/>
<polygon fill="#000000" stroke="#000000" points="14517.4952,-661.5899 14507.7616,-657.4057 14512.7614,-666.7466 14517.4952,-661.5899"/>
</g>
<!-- prose_167 -->
<g id="node168" class="node">
<title>prose_167</title>
<ellipse fill="none" stroke="#000000" cx="14579" cy="-641.101" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="14579" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_56&#45;&gt;prose_167 -->
<g id="edge167" class="edge">
<title>section_56&#45;&gt;prose_167</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14579,-704.6691C14579,-694.3033 14579,-681.0757 14579,-669.3739"/>
<polygon fill="#000000" stroke="#000000" points="14582.5001,-669.1821 14579,-659.1822 14575.5001,-669.1822 14582.5001,-669.1821"/>
</g>
<!-- codeblock_168 -->
<g id="node169" class="node">
<title>codeblock_168</title>
<ellipse fill="none" stroke="#000000" cx="14763" cy="-641.101" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="14763" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 322&#45;346</text>
</g>
<!-- section_56&#45;&gt;codeblock_168 -->
<g id="edge168" class="edge">
<title>section_56&#45;&gt;codeblock_168</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14614.9139,-706.8545C14644.0113,-693.9346 14685.2126,-675.6403 14716.7716,-661.6274"/>
<polygon fill="#000000" stroke="#000000" points="14718.5129,-664.6838 14726.2321,-657.4267 14715.6721,-658.2861 14718.5129,-664.6838"/>
</g>
<!-- codeblock_169 -->
<g id="node170" class="node">
<title>codeblock_169</title>
<ellipse fill="none" stroke="#000000" cx="15012" cy="-641.101" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="15012" y="-636.901" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 348&#45;350</text>
</g>
<!-- section_56&#45;&gt;codeblock_169 -->
<g id="edge169" class="edge">
<title>section_56&#45;&gt;codeblock_169</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14638.2989,-711.6123C14716.0869,-696.9349 14852.6181,-671.1737 14937.357,-655.1849"/>
<polygon fill="#000000" stroke="#000000" points="14938.2492,-658.5784 14947.4268,-653.2849 14936.9512,-651.6998 14938.2492,-658.5784"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="3341.5,-370.002 2996.5,-370.002 2996.5,-314.199 3341.5,-314.199 3341.5,-370.002"/>
<text text-anchor="middle" x="3169" y="-322.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">Initially these are only the methods of txtbuf.</text>
</g>
<!-- raw_58&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>raw_58&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4115.7879,-626.1006C4109.799,-621.1358 4102.5503,-616.1749 4095,-613.401 3939.6276,-556.3174 3497.7913,-653.8955 3351,-577.401 3267.8302,-534.0603 3211.074,-433.8062 3185.1084,-379.1919"/>
<polygon fill="#000000" stroke="#000000" points="3188.1612,-377.4566 3180.7653,-369.8703 3181.8161,-380.4129 3188.1612,-377.4566"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="3894,-377.3009 3360,-377.3009 3360,-306.9001 3894,-306.9001 3894,-377.3009"/>
<text text-anchor="middle" x="3627" y="-346.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">I think the way forward is to treat txtbuf as a special case until it&#39;s at</text>
<text text-anchor="middle" x="3627" y="-330.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">feature parity, and we have the other aspects such as resizing the result</text>
<text text-anchor="middle" x="3627" y="-315.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">field working correctly.</text>
</g>
<!-- raw_60&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>raw_60&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4187.2943,-626.165C4181.3616,-621.3321 4174.2767,-616.4405 4167,-613.401 4057.7304,-567.7581 4011.0912,-625.7684 3903,-577.401 3803.0251,-532.6653 3711.4859,-440.0885 3663.0756,-385.3379"/>
<polygon fill="#000000" stroke="#000000" points="3665.4716,-382.7614 3656.2501,-377.5446 3660.2057,-387.3733 3665.4716,-382.7614"/>
</g>
<!-- leaf_69 -->
<g id="node70" class="node">
<title>leaf_69</title>
<polygon fill="none" stroke="#c0c0c0" points="4173.5,-362.0026 3912.5,-362.0026 3912.5,-322.1984 4173.5,-322.1984 4173.5,-362.0026"/>
<text text-anchor="middle" x="4043" y="-330.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">Then we will simply switch to using</text>
</g>
<!-- raw_62&#45;&gt;leaf_69 -->
<g id="edge69" class="edge">
<title>raw_62&#45;&gt;leaf_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4257.6441,-627.2738C4251.7995,-622.7452 4245.1896,-617.7601 4239,-613.401 4214.8091,-596.3641 4203.5567,-598.6819 4183,-577.401 4121.7979,-514.0429 4075.8399,-419.1099 4055.1273,-371.5177"/>
<polygon fill="#000000" stroke="#000000" points="4058.2511,-369.9213 4051.0943,-362.109 4051.8172,-372.6792 4058.2511,-369.9213"/>
</g>
<!-- leaf_70 -->
<g id="node71" class="node">
<title>leaf_70</title>
<polygon fill="none" stroke="#c0c0c0" points="4246,-360.1005 4192,-360.1005 4192,-324.1005 4246,-324.1005 4246,-360.1005"/>
<text text-anchor="middle" x="4219" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_63&#45;&gt;leaf_70 -->
<g id="edge70" class="edge">
<title>prespace_63&#45;&gt;leaf_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4337.8162,-626.5687C4306.7056,-610.2755 4260.2911,-585.1215 4255,-577.401 4211.327,-513.6757 4212.2401,-417.5483 4215.9112,-370.3212"/>
<polygon fill="#000000" stroke="#000000" points="4219.4105,-370.4815 4216.7995,-360.2135 4212.4374,-369.8687 4219.4105,-370.4815"/>
</g>
<!-- leaf_71 -->
<g id="node72" class="node">
<title>leaf_71</title>
<polygon fill="none" stroke="#c0c0c0" points="4322,-360.1005 4264,-360.1005 4264,-324.1005 4322,-324.1005 4322,-360.1005"/>
<text text-anchor="middle" x="4293" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">txtbuf</text>
</g>
<!-- literal_64&#45;&gt;leaf_71 -->
<g id="edge71" class="edge">
<title>literal_64&#45;&gt;leaf_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4442.5117,-626.6909C4435.8739,-622.1234 4428.2866,-617.2627 4421,-613.401 4382.9341,-593.2271 4357.9282,-611.0294 4331,-577.401 4282.4267,-516.7417 4284.669,-418.4544 4289.3114,-370.3889"/>
<polygon fill="#000000" stroke="#000000" points="4292.7981,-370.6994 4290.385,-360.383 4285.838,-369.9526 4292.7981,-370.6994"/>
</g>
<!-- leaf_72 -->
<g id="node73" class="node">
<title>leaf_72</title>
<polygon fill="none" stroke="#c0c0c0" points="4608,-361.4011 4340,-361.4011 4340,-322.7999 4608,-322.7999 4608,-361.4011"/>
<text text-anchor="middle" x="4474" y="-346.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">s of a single line instead of the</text>
<text text-anchor="middle" x="4474" y="-330.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">two separate classes, and factor out</text>
</g>
<!-- raw_65&#45;&gt;leaf_72 -->
<g id="edge72" class="edge">
<title>raw_65&#45;&gt;leaf_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4534.0929,-622.8473C4523.369,-572.7467 4493.4056,-432.7611 4480.2865,-371.4702"/>
<polygon fill="#000000" stroke="#000000" points="4483.7013,-370.7016 4478.1857,-361.6557 4476.8564,-372.1668 4483.7013,-370.7016"/>
</g>
<!-- leaf_73 -->
<g id="node74" class="node">
<title>leaf_73</title>
<polygon fill="none" stroke="#c0c0c0" points="4680,-360.1005 4626,-360.1005 4626,-324.1005 4680,-324.1005 4680,-360.1005"/>
<text text-anchor="middle" x="4653" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_66&#45;&gt;leaf_73 -->
<g id="edge73" class="edge">
<title>prespace_66&#45;&gt;leaf_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4630.4652,-622.8473C4634.5167,-572.3717 4645.8915,-430.6609 4650.752,-370.1075"/>
<polygon fill="#000000" stroke="#000000" points="4654.2426,-370.3633 4651.554,-360.1153 4647.265,-369.8032 4654.2426,-370.3633"/>
</g>
<!-- leaf_74 -->
<g id="node75" class="node">
<title>leaf_74</title>
<polygon fill="none" stroke="#c0c0c0" points="4756,-360.1005 4698,-360.1005 4698,-324.1005 4756,-324.1005 4756,-360.1005"/>
<text text-anchor="middle" x="4727" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">txtbuf</text>
</g>
<!-- literal_67&#45;&gt;leaf_74 -->
<g id="edge74" class="edge">
<title>literal_67&#45;&gt;leaf_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4725.1221,-622.8473C4725.459,-572.4762 4726.4037,-431.2473 4726.8101,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="4730.3124,-370.1386 4726.8795,-360.1153 4723.3126,-370.0917 4730.3124,-370.1386"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="4828,-360.1005 4774,-360.1005 4774,-324.1005 4828,-324.1005 4828,-360.1005"/>
<text text-anchor="middle" x="4801" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_68&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>raw_68&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4801,-622.8473C4801,-572.4762 4801,-431.2473 4801,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="4804.5001,-370.1153 4801,-360.1153 4797.5001,-370.1154 4804.5001,-370.1153"/>
</g>
<!-- leaf_80 -->
<g id="node81" class="node">
<title>leaf_80</title>
<polygon fill="none" stroke="#c0c0c0" points="5114,-362.0026 4846,-362.0026 4846,-322.1984 5114,-322.1984 5114,-362.0026"/>
<text text-anchor="middle" x="4980" y="-330.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">This amounts to porting the existing</text>
</g>
<!-- raw_76&#45;&gt;leaf_80 -->
<g id="edge80" class="edge">
<title>raw_76&#45;&gt;leaf_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5021.3138,-622.8473C5013.974,-572.9698 4993.5246,-434.0062 4984.4431,-372.2937"/>
<polygon fill="#000000" stroke="#000000" points="4987.8543,-371.4331 4982.9356,-362.0493 4980.9289,-372.4523 4987.8543,-371.4331"/>
</g>
<!-- leaf_81 -->
<g id="node82" class="node">
<title>leaf_81</title>
<polygon fill="none" stroke="#c0c0c0" points="5186,-360.1005 5132,-360.1005 5132,-324.1005 5186,-324.1005 5186,-360.1005"/>
<text text-anchor="middle" x="5159" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_77&#45;&gt;leaf_81 -->
<g id="edge81" class="edge">
<title>prespace_77&#45;&gt;leaf_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5159,-622.8473C5159,-572.4762 5159,-431.2473 5159,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="5162.5001,-370.1153 5159,-360.1153 5155.5001,-370.1154 5162.5001,-370.1153"/>
</g>
<!-- leaf_82 -->
<g id="node83" class="node">
<title>leaf_82</title>
<polygon fill="none" stroke="#c0c0c0" points="5262,-360.1005 5204,-360.1005 5204,-324.1005 5262,-324.1005 5262,-360.1005"/>
<text text-anchor="middle" x="5233" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">txtbuf</text>
</g>
<!-- literal_78&#45;&gt;leaf_82 -->
<g id="edge82" class="edge">
<title>literal_78&#45;&gt;leaf_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5253.6569,-622.8473C5249.943,-572.3717 5239.5161,-430.6609 5235.0607,-370.1075"/>
<polygon fill="#000000" stroke="#000000" points="5238.55,-369.8315 5234.3255,-360.1153 5231.5688,-370.3452 5238.55,-369.8315"/>
</g>
<!-- leaf_83 -->
<g id="node84" class="node">
<title>leaf_83</title>
<polygon fill="none" stroke="#c0c0c0" points="5611.5,-369.4009 5280.5,-369.4009 5280.5,-314.8001 5611.5,-314.8001 5611.5,-369.4009"/>
<text text-anchor="middle" x="5446" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">, as I think about it. A single</text>
<text text-anchor="middle" x="5446" y="-338.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">line isn&#39;t even a special case for the logic.</text>
</g>
<!-- raw_79&#45;&gt;leaf_83 -->
<g id="edge83" class="edge">
<title>raw_79&#45;&gt;leaf_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5392.4798,-622.8473C5401.6154,-574.9251 5426.4285,-444.765 5438.7945,-379.8979"/>
<polygon fill="#000000" stroke="#000000" points="5442.3045,-380.1755 5440.7391,-369.6969 5435.4284,-378.8646 5442.3045,-380.1755"/>
</g>
<!-- leaf_88 -->
<g id="node89" class="node">
<title>leaf_88</title>
<polygon fill="none" stroke="#c0c0c0" points="5764.5,-360.1005 5629.5,-360.1005 5629.5,-324.1005 5764.5,-324.1005 5764.5,-360.1005"/>
<text text-anchor="middle" x="5697" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">**** dependencies</text>
</g>
<!-- header_84&#45;&gt;leaf_88 -->
<g id="edge88" class="edge">
<title>header_84&#45;&gt;leaf_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5712.0232,-622.8473C5709.3222,-572.3717 5701.739,-430.6609 5698.4987,-370.1075"/>
<polygon fill="#000000" stroke="#000000" points="5701.9934,-369.914 5697.964,-360.1153 5695.0034,-370.2881 5701.9934,-369.914"/>
</g>
<!-- raw_89 -->
<g id="node90" class="node">
<title>raw_89</title>
<ellipse fill="none" stroke="#000000" cx="5810" cy="-342.1005" rx="27" ry="18"/>
<text text-anchor="middle" x="5810" y="-337.9005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_85&#45;&gt;raw_89 -->
<g id="edge89" class="edge">
<title>prose_85&#45;&gt;raw_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5853.7782,-622.9947C5851.5345,-610.2543 5848.507,-592.7978 5846,-577.401 5833.8209,-502.6022 5820.6177,-414.2257 5814.1071,-370.1048"/>
<polygon fill="#000000" stroke="#000000" points="5817.5572,-369.5094 5812.6374,-360.1262 5810.6319,-370.5294 5817.5572,-369.5094"/>
</g>
<!-- leaf_91 -->
<g id="node92" class="node">
<title>leaf_91</title>
<polygon fill="none" stroke="#c0c0c0" points="6179,-376.7018 5855,-376.7018 5855,-307.4992 6179,-307.4992 6179,-376.7018"/>
<text text-anchor="middle" x="6017" y="-361.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">assert(meta)</text>
<text text-anchor="middle" x="6017" y="-346.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">local collect = assert(table.collect)</text>
<text text-anchor="middle" x="6017" y="-330.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">local lines = assert(string.lines)</text>
<text text-anchor="middle" x="6017" y="-315.5005" font-family="Inconsolata" font-size="14.00" fill="#000000">local codepoints = assert(string.codepoints)</text>
</g>
<!-- codeblock_86&#45;&gt;leaf_91 -->
<g id="edge91" class="edge">
<title>codeblock_86&#45;&gt;leaf_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6017,-622.8473C6017,-576.6316 6017,-453.9306 6017,-387.0693"/>
<polygon fill="#000000" stroke="#000000" points="6020.5001,-386.8381 6017,-376.8382 6013.5001,-386.8382 6020.5001,-386.8381"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="6367,-360.1005 6197,-360.1005 6197,-324.1005 6367,-324.1005 6367,-360.1005"/>
<text text-anchor="middle" x="6282" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">local Txtbuf = meta {}</text>
</g>
<!-- codeblock_87&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>codeblock_87&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6238.8083,-622.8473C6246.5737,-572.3717 6268.3753,-430.6609 6277.6912,-370.1075"/>
<polygon fill="#000000" stroke="#000000" points="6281.1671,-370.5313 6279.2285,-360.1153 6274.2485,-369.4668 6281.1671,-370.5313"/>
</g>
<!-- leaf_90 -->
<g id="node91" class="node">
<title>leaf_90</title>
<polygon fill="none" stroke="#c0c0c0" points="5837,-53.4 5783,-53.4 5783,-17.4 5837,-17.4 5837,-53.4"/>
</g>
<!-- raw_89&#45;&gt;leaf_90 -->
<g id="edge90" class="edge">
<title>raw_89&#45;&gt;leaf_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5810,-323.8335C5810,-272.3736 5810,-125.9243 5810,-63.8089"/>
<polygon fill="#000000" stroke="#000000" points="5813.5001,-63.5713 5810,-53.5713 5806.5001,-63.5714 5813.5001,-63.5713"/>
</g>
<!-- leaf_97 -->
<g id="node98" class="node">
<title>leaf_97</title>
<polygon fill="none" stroke="#c0c0c0" points="6604.5,-360.1005 6385.5,-360.1005 6385.5,-324.1005 6604.5,-324.1005 6604.5,-360.1005"/>
<text text-anchor="middle" x="6495" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf.__tostring(txtbuf)</text>
</g>
<!-- header_93&#45;&gt;leaf_97 -->
<g id="edge97" class="edge">
<title>header_93&#45;&gt;leaf_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6519.4127,-622.8473C6515.0236,-572.3717 6502.7009,-430.6609 6497.4354,-370.1075"/>
<polygon fill="#000000" stroke="#000000" points="6500.9197,-369.7745 6496.5665,-360.1153 6493.946,-370.381 6500.9197,-369.7745"/>
</g>
<!-- raw_98 -->
<g id="node99" class="node">
<title>raw_98</title>
<ellipse fill="none" stroke="#000000" cx="6650" cy="-342.1005" rx="27" ry="18"/>
<text text-anchor="middle" x="6650" y="-337.9005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_94&#45;&gt;raw_98 -->
<g id="edge98" class="edge">
<title>prose_94&#45;&gt;raw_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6704.2192,-623.6818C6698.2332,-611.1131 6690.5884,-593.5789 6686,-577.401 6665.2697,-504.3092 6655.7479,-414.8489 6652.0271,-370.224"/>
<polygon fill="#000000" stroke="#000000" points="6655.5065,-369.8243 6651.222,-360.1344 6648.5286,-370.3811 6655.5065,-369.8243"/>
</g>
<!-- leaf_100 -->
<g id="node101" class="node">
<title>leaf_100</title>
<polygon fill="none" stroke="#c0c0c0" points="7089,-462.301 6695,-462.301 6695,-221.9 7089,-221.9 7089,-462.301"/>
<text text-anchor="middle" x="6892" y="-447.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">local concat = assert(table.concat)</text>
<text text-anchor="middle" x="6892" y="-415.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">local function cat(l)</text>
<text text-anchor="middle" x="6892" y="-400.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(l) == &quot;string&quot; then</text>
<text text-anchor="middle" x="6892" y="-384.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return l</text>
<text text-anchor="middle" x="6892" y="-369.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif type(l) == &quot;table&quot; then</text>
<text text-anchor="middle" x="6892" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if l[1] ~= nil then</text>
<text text-anchor="middle" x="6892" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return concat(l)</text>
<text text-anchor="middle" x="6892" y="-323.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="6892" y="-307.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return &quot;&quot;</text>
<text text-anchor="middle" x="6892" y="-292.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6892" y="-277.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6892" y="-245.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;error(&quot;called private fn cat with type&quot; .. type(l))</text>
<text text-anchor="middle" x="6892" y="-230.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_95&#45;&gt;leaf_100 -->
<g id="edge100" class="edge">
<title>codeblock_95&#45;&gt;leaf_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6892,-622.8473C6892,-592.8828 6892,-530.7658 6892,-472.5623"/>
<polygon fill="#000000" stroke="#000000" points="6895.5001,-472.507 6892,-462.5071 6888.5001,-472.5071 6895.5001,-472.507"/>
</g>
<!-- leaf_101 -->
<g id="node102" class="node">
<title>leaf_101</title>
<polygon fill="none" stroke="#c0c0c0" points="7494.5,-407.9009 7107.5,-407.9009 7107.5,-276.3001 7494.5,-276.3001 7494.5,-407.9009"/>
<text text-anchor="middle" x="7301" y="-392.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.__tostring(txtbuf)</text>
<text text-anchor="middle" x="7301" y="-377.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="7301" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i = 1, #txtbuf.lines &#45; 1 do</text>
<text text-anchor="middle" x="7301" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;phrase = phrase .. cat(txtbuf.lines[i]) .. &quot;\n&quot;</text>
<text text-anchor="middle" x="7301" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="7301" y="-299.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return phrase .. cat(txtbuf.lines[#txtbuf.lines])</text>
<text text-anchor="middle" x="7301" y="-284.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_96&#45;&gt;leaf_101 -->
<g id="edge101" class="edge">
<title>codeblock_96&#45;&gt;leaf_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7190.2038,-622.8473C7205.9268,-583.0066 7244.0816,-486.3261 7271.2129,-417.5781"/>
<polygon fill="#000000" stroke="#000000" points="7274.5492,-418.6584 7274.9646,-408.0717 7268.0379,-416.0887 7274.5492,-418.6584"/>
</g>
<!-- leaf_99 -->
<g id="node100" class="node">
<title>leaf_99</title>
<polygon fill="none" stroke="#c0c0c0" points="6677,-53.4 6623,-53.4 6623,-17.4 6677,-17.4 6677,-53.4"/>
</g>
<!-- raw_98&#45;&gt;leaf_99 -->
<g id="edge99" class="edge">
<title>raw_98&#45;&gt;leaf_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6650,-323.8335C6650,-272.3736 6650,-125.9243 6650,-63.8089"/>
<polygon fill="#000000" stroke="#000000" points="6653.5001,-63.5713 6650,-53.5713 6646.5001,-63.5714 6653.5001,-63.5713"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="7689.5,-360.1005 7512.5,-360.1005 7512.5,-324.1005 7689.5,-324.1005 7689.5,-360.1005"/>
<text text-anchor="middle" x="7601" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:insert(frag)</text>
</g>
<!-- header_102&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>header_102&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7601,-622.8473C7601,-572.4762 7601,-431.2473 7601,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="7604.5001,-370.1153 7601,-360.1153 7597.5001,-370.1154 7604.5001,-370.1153"/>
</g>
<!-- raw_106 -->
<g id="node107" class="node">
<title>raw_106</title>
<ellipse fill="none" stroke="#000000" cx="7735" cy="-342.1005" rx="27" ry="18"/>
<text text-anchor="middle" x="7735" y="-337.9005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_103&#45;&gt;raw_106 -->
<g id="edge106" class="edge">
<title>prose_103&#45;&gt;raw_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7742.5116,-622.8473C7741.1639,-572.4762 7737.3852,-431.2473 7735.7594,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="7739.2483,-370.0181 7735.482,-360.1153 7732.2508,-370.2054 7739.2483,-370.0181"/>
</g>
<!-- leaf_108 -->
<g id="node109" class="node">
<title>leaf_108</title>
<polygon fill="none" stroke="#c0c0c0" points="8300,-569.9014 7780,-569.9014 7780,-114.2996 8300,-114.2996 8300,-569.9014"/>
<text text-anchor="middle" x="8040" y="-554.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">local t_insert, splice = assert(table.insert), assert(table.splice)</text>
<text text-anchor="middle" x="8040" y="-539.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">local utf8, codepoints = string.utf8, string.codepoints</text>
<text text-anchor="middle" x="8040" y="-508.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.insert(txtbuf, frag)</text>
<text text-anchor="middle" x="8040" y="-492.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local line = txtbuf.lines[txtbuf.cur_row]</text>
<text text-anchor="middle" x="8040" y="-477.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(line) == &quot;string&quot; then</text>
<text text-anchor="middle" x="8040" y="-461.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;line = codepoints(line)</text>
<text text-anchor="middle" x="8040" y="-446.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.line = line</text>
<text text-anchor="middle" x="8040" y="-431.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8040" y="-415.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local wide_frag = utf8(frag)</text>
<text text-anchor="middle" x="8040" y="-400.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if wide_frag &lt; #frag then &#45;&#45; a paste</text>
<text text-anchor="middle" x="8040" y="-384.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; Normalize whitespace</text>
<text text-anchor="middle" x="8040" y="-369.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;frag = gsub(frag, &quot;\r\n&quot;, &quot;\n&quot;):gsub(&quot;\r&quot;, &quot;\n&quot;):gsub(&quot;\t&quot;, &quot; &#160;&#160;&quot;)</text>
<text text-anchor="middle" x="8040" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;wide_frag = codepoints(frag)</text>
<text text-anchor="middle" x="8040" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8040" y="-323.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;wide_frag = false</text>
<text text-anchor="middle" x="8040" y="-307.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8040" y="-292.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not wide_frag then</text>
<text text-anchor="middle" x="8040" y="-277.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;t_insert(line, txtbuf.cursor, frag)</text>
<text text-anchor="middle" x="8040" y="-261.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cursor = txtbuf.cursor + 1</text>
<text text-anchor="middle" x="8040" y="-246.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="8040" y="-230.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8040" y="-215.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;splice(line, txtbuf.cursor, wide_frag)</text>
<text text-anchor="middle" x="8040" y="-200.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cursor = txtbuf.cursor + #wide_frag</text>
<text text-anchor="middle" x="8040" y="-184.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="8040" y="-169.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8040" y="-137.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return false</text>
<text text-anchor="middle" x="8040" y="-122.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_104&#45;&gt;leaf_108 -->
<g id="edge108" class="edge">
<title>codeblock_104&#45;&gt;leaf_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7963.006,-622.8473C7965.9546,-612.0957 7970.0384,-597.2047 7974.8006,-579.8403"/>
<polygon fill="#000000" stroke="#000000" points="7978.2436,-580.5191 7977.5131,-569.9495 7971.4928,-578.6677 7978.2436,-580.5191"/>
</g>
<!-- leaf_107 -->
<g id="node108" class="node">
<title>leaf_107</title>
<polygon fill="none" stroke="#c0c0c0" points="7762,-53.4 7708,-53.4 7708,-17.4 7762,-17.4 7762,-53.4"/>
</g>
<!-- raw_106&#45;&gt;leaf_107 -->
<g id="edge107" class="edge">
<title>raw_106&#45;&gt;leaf_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7735,-323.8335C7735,-272.3736 7735,-125.9243 7735,-63.8089"/>
<polygon fill="#000000" stroke="#000000" points="7738.5001,-63.5713 7735,-53.5713 7731.5001,-63.5714 7738.5001,-63.5713"/>
</g>
<!-- leaf_112 -->
<g id="node113" class="node">
<title>leaf_112</title>
<polygon fill="none" stroke="#c0c0c0" points="8474,-360.1005 8318,-360.1005 8318,-324.1005 8474,-324.1005 8474,-360.1005"/>
<text text-anchor="middle" x="8396" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:advance()</text>
</g>
<!-- header_109&#45;&gt;leaf_112 -->
<g id="edge112" class="edge">
<title>header_109&#45;&gt;leaf_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8388.4884,-622.8473C8389.8361,-572.4762 8393.6148,-431.2473 8395.2406,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="8398.7492,-370.2054 8395.518,-360.1153 8391.7517,-370.0181 8398.7492,-370.2054"/>
</g>
<!-- raw_113 -->
<g id="node114" class="node">
<title>raw_113</title>
<ellipse fill="none" stroke="#000000" cx="8519" cy="-342.1005" rx="27" ry="18"/>
<text text-anchor="middle" x="8519" y="-337.9005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_110&#45;&gt;raw_113 -->
<g id="edge113" class="edge">
<title>prose_110&#45;&gt;raw_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8526.5116,-622.8473C8525.1639,-572.4762 8521.3852,-431.2473 8519.7594,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="8523.2483,-370.0181 8519.482,-360.1153 8516.2508,-370.2054 8523.2483,-370.0181"/>
</g>
<!-- leaf_115 -->
<g id="node116" class="node">
<title>leaf_115</title>
<polygon fill="none" stroke="#c0c0c0" points="8853.5,-400.5014 8564.5,-400.5014 8564.5,-283.6996 8853.5,-283.6996 8853.5,-400.5014"/>
<text text-anchor="middle" x="8709" y="-385.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">local ts_bw = (require &quot;color&quot;).ts_bw</text>
<text text-anchor="middle" x="8709" y="-353.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.advance(txtbuf)</text>
<text text-anchor="middle" x="8709" y="-338.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.lines[#txtbuf.lines + 1] = {}</text>
<text text-anchor="middle" x="8709" y="-322.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cur_row = #txtbuf.lines</text>
<text text-anchor="middle" x="8709" y="-307.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cursor = 1</text>
<text text-anchor="middle" x="8709" y="-292.1005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_111&#45;&gt;leaf_115 -->
<g id="edge115" class="edge">
<title>codeblock_111&#45;&gt;leaf_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8692.0989,-622.8473C8694.5783,-581.6621 8700.7143,-479.7357 8704.8693,-410.7164"/>
<polygon fill="#000000" stroke="#000000" points="8708.3854,-410.5522 8705.4928,-400.3599 8701.3981,-410.1315 8708.3854,-410.5522"/>
</g>
<!-- leaf_114 -->
<g id="node115" class="node">
<title>leaf_114</title>
<polygon fill="none" stroke="#c0c0c0" points="8546,-53.4 8492,-53.4 8492,-17.4 8546,-17.4 8546,-53.4"/>
</g>
<!-- raw_113&#45;&gt;leaf_114 -->
<g id="edge114" class="edge">
<title>raw_113&#45;&gt;leaf_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8519,-323.8335C8519,-272.3736 8519,-125.9243 8519,-63.8089"/>
<polygon fill="#000000" stroke="#000000" points="8522.5001,-63.5713 8519,-53.5713 8515.5001,-63.5714 8522.5001,-63.5713"/>
</g>
<!-- leaf_119 -->
<g id="node120" class="node">
<title>leaf_119</title>
<polygon fill="none" stroke="#c0c0c0" points="9020.5,-360.1005 8871.5,-360.1005 8871.5,-324.1005 9020.5,-324.1005 9020.5,-360.1005"/>
<text text-anchor="middle" x="8946" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:d_back()</text>
</g>
<!-- header_116&#45;&gt;leaf_119 -->
<g id="edge119" class="edge">
<title>header_116&#45;&gt;leaf_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8939.4273,-622.8473C8940.6066,-572.4762 8943.913,-431.2473 8945.3355,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="8948.8431,-370.1945 8945.5782,-360.1153 8941.8451,-370.0306 8948.8431,-370.1945"/>
</g>
<!-- raw_120 -->
<g id="node121" class="node">
<title>raw_120</title>
<ellipse fill="none" stroke="#000000" cx="9066" cy="-342.1005" rx="27" ry="18"/>
<text text-anchor="middle" x="9066" y="-337.9005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_117&#45;&gt;raw_120 -->
<g id="edge120" class="edge">
<title>prose_117&#45;&gt;raw_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9072.5727,-622.8473C9071.3934,-572.4762 9068.087,-431.2473 9066.6645,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="9070.1549,-370.0306 9066.4218,-360.1153 9063.1569,-370.1945 9070.1549,-370.0306"/>
</g>
<!-- leaf_122 -->
<g id="node123" class="node">
<title>leaf_122</title>
<polygon fill="none" stroke="#c0c0c0" points="9519,-508.1011 9111,-508.1011 9111,-176.0999 9519,-176.0999 9519,-508.1011"/>
<text text-anchor="middle" x="9315" y="-492.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">local remove = assert(table.remove)</text>
<text text-anchor="middle" x="9315" y="-461.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.d_back(txtbuf)</text>
<text text-anchor="middle" x="9315" y="-446.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local cursor, cur_row = txtbuf.cursor, txtbuf.cur_row</text>
<text text-anchor="middle" x="9315" y="-430.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if cursor &gt; 1 then</text>
<text text-anchor="middle" x="9315" y="-415.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;remove(txtbuf.lines[cur_row], cursor &#45; 1)</text>
<text text-anchor="middle" x="9315" y="-399.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cursor = cursor &#45; 1</text>
<text text-anchor="middle" x="9315" y="-384.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="9315" y="-369.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif cur_row == 1 then</text>
<text text-anchor="middle" x="9315" y="-353.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="9315" y="-338.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="9315" y="-322.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local new_line = concat(txtbuf.lines[cur_row &#45; 1])</text>
<text text-anchor="middle" x="9315" y="-307.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. concat(txtbuf.lines[cur_row])</text>
<text text-anchor="middle" x="9315" y="-292.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local new_cursor = #txtbuf.lines[cur_row &#45; 1]</text>
<text text-anchor="middle" x="9315" y="-276.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.lines[cur_row &#45; 1] = codepoints(new_line)</text>
<text text-anchor="middle" x="9315" y="-261.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;remove(txtbuf.lines, cur_row)</text>
<text text-anchor="middle" x="9315" y="-245.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cur_row = cur_row &#45; 1</text>
<text text-anchor="middle" x="9315" y="-230.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cursor = new_cursor</text>
<text text-anchor="middle" x="9315" y="-215.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="9315" y="-199.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="9315" y="-184.3002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_118&#45;&gt;leaf_122 -->
<g id="edge122" class="edge">
<title>codeblock_118&#45;&gt;leaf_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9263.3577,-622.8473C9267.4255,-600.733 9274.7147,-561.1063 9282.5585,-518.4647"/>
<polygon fill="#000000" stroke="#000000" points="9286.0333,-518.9202 9284.4003,-508.452 9279.1488,-517.6537 9286.0333,-518.9202"/>
</g>
<!-- leaf_121 -->
<g id="node122" class="node">
<title>leaf_121</title>
<polygon fill="none" stroke="#c0c0c0" points="9312,-70.7004 8820,-70.7004 8820,-.0997 9312,-.0997 9312,-70.7004"/>
<text text-anchor="middle" x="9066" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">The return value tells us if we have one less line, since we need to</text>
<text text-anchor="middle" x="9066" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">clear it off the screen.</text>
</g>
<!-- raw_120&#45;&gt;leaf_121 -->
<g id="edge121" class="edge">
<title>raw_120&#45;&gt;leaf_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9066,-323.8335C9066,-276.6699 9066,-149.7159 9066,-81.0259"/>
<polygon fill="#000000" stroke="#000000" points="9069.5001,-80.9266 9066,-70.9267 9062.5001,-80.9267 9069.5001,-80.9266"/>
</g>
<!-- leaf_126 -->
<g id="node127" class="node">
<title>leaf_126</title>
<polygon fill="none" stroke="#c0c0c0" points="9679,-360.1005 9537,-360.1005 9537,-324.1005 9679,-324.1005 9679,-360.1005"/>
<text text-anchor="middle" x="9608" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:d_fwd()</text>
</g>
<!-- header_123&#45;&gt;leaf_126 -->
<g id="edge126" class="edge">
<title>header_123&#45;&gt;leaf_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9601.4273,-622.8473C9602.6066,-572.4762 9605.913,-431.2473 9607.3355,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="9610.8431,-370.1945 9607.5782,-360.1153 9603.8451,-370.0306 9610.8431,-370.1945"/>
</g>
<!-- raw_127 -->
<g id="node128" class="node">
<title>raw_127</title>
<ellipse fill="none" stroke="#000000" cx="9724" cy="-342.1005" rx="27" ry="18"/>
<text text-anchor="middle" x="9724" y="-337.9005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_124&#45;&gt;raw_127 -->
<g id="edge127" class="edge">
<title>prose_124&#45;&gt;raw_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9729.6337,-622.8473C9728.6229,-572.4762 9725.7889,-431.2473 9724.5696,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="9728.0615,-370.0431 9724.3615,-360.1153 9721.0629,-370.1836 9728.0615,-370.0431"/>
</g>
<!-- leaf_129 -->
<g id="node130" class="node">
<title>leaf_129</title>
<polygon fill="none" stroke="#c0c0c0" points="10163,-369.301 9769,-369.301 9769,-314.9001 10163,-314.9001 10163,-369.301"/>
<text text-anchor="middle" x="9966" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.d_fwd(txtbuf)</text>
<text text-anchor="middle" x="9966" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;remove(txtbuf.lines[txtbuf.cur_row], txtbuf.cursor)</text>
<text text-anchor="middle" x="9966" y="-323.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_125&#45;&gt;leaf_129 -->
<g id="edge129" class="edge">
<title>codeblock_125&#45;&gt;leaf_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9917.1746,-622.8473C9925.5297,-574.805 9948.2589,-444.112 9959.5112,-379.4114"/>
<polygon fill="#000000" stroke="#000000" points="9963.014,-379.6968 9961.2792,-369.245 9956.1175,-378.4974 9963.014,-379.6968"/>
</g>
<!-- leaf_128 -->
<g id="node129" class="node">
<title>leaf_128</title>
<polygon fill="none" stroke="#c0c0c0" points="9751,-53.4 9697,-53.4 9697,-17.4 9751,-17.4 9751,-53.4"/>
</g>
<!-- raw_127&#45;&gt;leaf_128 -->
<g id="edge128" class="edge">
<title>raw_127&#45;&gt;leaf_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9724,-323.8335C9724,-272.3736 9724,-125.9243 9724,-63.8089"/>
<polygon fill="#000000" stroke="#000000" points="9727.5001,-63.5713 9724,-53.5713 9720.5001,-63.5714 9727.5001,-63.5713"/>
</g>
<!-- leaf_133 -->
<g id="node134" class="node">
<title>leaf_133</title>
<polygon fill="none" stroke="#c0c0c0" points="10344.5,-360.1005 10181.5,-360.1005 10181.5,-324.1005 10344.5,-324.1005 10344.5,-360.1005"/>
<text text-anchor="middle" x="10263" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:left(disp)</text>
</g>
<!-- header_130&#45;&gt;leaf_133 -->
<g id="edge133" class="edge">
<title>header_130&#45;&gt;leaf_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10260.1831,-622.8473C10260.6885,-572.4762 10262.1056,-431.2473 10262.7152,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="10266.2186,-370.15 10262.8192,-360.1153 10259.219,-370.0797 10266.2186,-370.15"/>
</g>
<!-- raw_134 -->
<g id="node135" class="node">
<title>raw_134</title>
<ellipse fill="none" stroke="#000000" cx="10390" cy="-342.1005" rx="27" ry="18"/>
<text text-anchor="middle" x="10390" y="-337.9005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_131&#45;&gt;raw_134 -->
<g id="edge134" class="edge">
<title>prose_131&#45;&gt;raw_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10392.8169,-622.8473C10392.3115,-572.4762 10390.8944,-431.2473 10390.2848,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="10393.781,-370.0797 10390.1808,-360.1153 10386.7814,-370.15 10393.781,-370.0797"/>
</g>
<!-- leaf_136 -->
<g id="node137" class="node">
<title>leaf_136</title>
<polygon fill="none" stroke="#c0c0c0" points="10745,-423.2013 10435,-423.2013 10435,-260.9997 10745,-260.9997 10745,-423.2013"/>
<text text-anchor="middle" x="10590" y="-408.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.left(txtbuf, disp)</text>
<text text-anchor="middle" x="10590" y="-392.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local disp = disp or 1</text>
<text text-anchor="middle" x="10590" y="-377.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if txtbuf.cursor &#45; disp &gt;= 1 then</text>
<text text-anchor="middle" x="10590" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cursor = txtbuf.cursor &#45; disp</text>
<text text-anchor="middle" x="10590" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10590" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cursor = 1</text>
<text text-anchor="middle" x="10590" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10590" y="-284.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return txtbuf.cursor</text>
<text text-anchor="middle" x="10590" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_132&#45;&gt;leaf_136 -->
<g id="edge136" class="edge">
<title>codeblock_132&#45;&gt;leaf_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10560.8925,-622.8473C10564.7124,-586.0037 10573.5721,-500.5503 10580.5206,-433.5312"/>
<polygon fill="#000000" stroke="#000000" points="10584.0246,-433.6725 10581.5746,-423.3648 10577.0619,-432.9505 10584.0246,-433.6725"/>
</g>
<!-- leaf_135 -->
<g id="node136" class="node">
<title>leaf_135</title>
<polygon fill="none" stroke="#c0c0c0" points="10417,-53.4 10363,-53.4 10363,-17.4 10417,-17.4 10417,-53.4"/>
</g>
<!-- raw_134&#45;&gt;leaf_135 -->
<g id="edge135" class="edge">
<title>raw_134&#45;&gt;leaf_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10390,-323.8335C10390,-272.3736 10390,-125.9243 10390,-63.8089"/>
<polygon fill="#000000" stroke="#000000" points="10393.5001,-63.5713 10390,-53.5713 10386.5001,-63.5714 10393.5001,-63.5713"/>
</g>
<!-- leaf_140 -->
<g id="node141" class="node">
<title>leaf_140</title>
<polygon fill="none" stroke="#c0c0c0" points="10933,-360.1005 10763,-360.1005 10763,-324.1005 10933,-324.1005 10933,-360.1005"/>
<text text-anchor="middle" x="10848" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:right(disp)</text>
</g>
<!-- header_137&#45;&gt;leaf_140 -->
<g id="edge140" class="edge">
<title>header_137&#45;&gt;leaf_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10843.3052,-622.8473C10844.1476,-572.4762 10846.5093,-431.2473 10847.5254,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="10851.031,-370.1725 10847.6987,-360.1153 10844.0319,-370.0554 10851.031,-370.1725"/>
</g>
<!-- raw_141 -->
<g id="node142" class="node">
<title>raw_141</title>
<ellipse fill="none" stroke="#000000" cx="10978" cy="-342.1005" rx="27" ry="18"/>
<text text-anchor="middle" x="10978" y="-337.9005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_138&#45;&gt;raw_141 -->
<g id="edge141" class="edge">
<title>prose_138&#45;&gt;raw_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10981.7558,-622.8473C10981.0819,-572.4762 10979.1926,-431.2473 10978.3797,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="10981.8745,-370.0676 10978.241,-360.1153 10974.8752,-370.1613 10981.8745,-370.0676"/>
</g>
<!-- leaf_143 -->
<g id="node144" class="node">
<title>leaf_143</title>
<polygon fill="none" stroke="#c0c0c0" points="11347,-431.1008 11023,-431.1008 11023,-253.1002 11347,-253.1002 11347,-431.1008"/>
<text text-anchor="middle" x="11185" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.right(txtbuf, disp)</text>
<text text-anchor="middle" x="11185" y="-400.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;disp = disp or 1</text>
<text text-anchor="middle" x="11185" y="-385.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local line = txtbuf.lines[txtbuf.cur_row]</text>
<text text-anchor="middle" x="11185" y="-369.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if txtbuf.cursor + disp &lt;= #line + 1 then</text>
<text text-anchor="middle" x="11185" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cursor = txtbuf.cursor + disp</text>
<text text-anchor="middle" x="11185" y="-338.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="11185" y="-323.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cursor = #line + 1</text>
<text text-anchor="middle" x="11185" y="-308.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11185" y="-276.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return txtbuf.cursor</text>
<text text-anchor="middle" x="11185" y="-261.3004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_139&#45;&gt;leaf_143 -->
<g id="edge143" class="edge">
<title>codeblock_139&#45;&gt;leaf_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11152.1367,-622.8473C11156.2872,-587.3906 11165.7074,-506.9149 11173.4027,-441.1745"/>
<polygon fill="#000000" stroke="#000000" points="11176.8868,-441.5139 11174.5733,-431.1747 11169.9343,-440.7 11176.8868,-441.5139"/>
</g>
<!-- leaf_142 -->
<g id="node143" class="node">
<title>leaf_142</title>
<polygon fill="none" stroke="#c0c0c0" points="11005,-53.4 10951,-53.4 10951,-17.4 11005,-17.4 11005,-53.4"/>
</g>
<!-- raw_141&#45;&gt;leaf_142 -->
<g id="edge142" class="edge">
<title>raw_141&#45;&gt;leaf_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10978,-323.8335C10978,-272.3736 10978,-125.9243 10978,-63.8089"/>
<polygon fill="#000000" stroke="#000000" points="10981.5001,-63.5713 10978,-53.5713 10974.5001,-63.5714 10981.5001,-63.5713"/>
</g>
<!-- leaf_148 -->
<g id="node149" class="node">
<title>leaf_148</title>
<polygon fill="none" stroke="#c0c0c0" points="11591,-360.1005 11365,-360.1005 11365,-324.1005 11591,-324.1005 11591,-360.1005"/>
<text text-anchor="middle" x="11478" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:up(), Txtbuf:down()</text>
</g>
<!-- header_144&#45;&gt;leaf_148 -->
<g id="edge148" class="edge">
<title>header_144&#45;&gt;leaf_148</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11478,-622.8473C11478,-572.4762 11478,-431.2473 11478,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="11481.5001,-370.1153 11478,-360.1153 11474.5001,-370.1154 11481.5001,-370.1153"/>
</g>
<!-- raw_149 -->
<g id="node150" class="node">
<title>raw_149</title>
<ellipse fill="none" stroke="#000000" cx="11636" cy="-342.1005" rx="27" ry="18"/>
<text text-anchor="middle" x="11636" y="-337.9005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_145&#45;&gt;raw_149 -->
<g id="edge149" class="edge">
<title>prose_145&#45;&gt;raw_149</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11651.0232,-622.8473C11648.3222,-572.3717 11640.739,-430.6609 11637.4987,-370.1075"/>
<polygon fill="#000000" stroke="#000000" points="11640.9934,-369.914 11636.964,-360.1153 11634.0034,-370.2881 11640.9934,-369.914"/>
</g>
<!-- leaf_151 -->
<g id="node152" class="node">
<title>leaf_151</title>
<polygon fill="none" stroke="#c0c0c0" points="12138.5,-438.401 11681.5,-438.401 11681.5,-245.8 12138.5,-245.8 12138.5,-438.401"/>
<text text-anchor="middle" x="11910" y="-423.3007" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.up(txtbuf)</text>
<text text-anchor="middle" x="11910" y="-407.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local cur_row = txtbuf.cur_row</text>
<text text-anchor="middle" x="11910" y="-392.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if cur_row == 1 then</text>
<text text-anchor="middle" x="11910" y="-377.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="11910" y="-361.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="11910" y="-346.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cur_row = cur_row &#45; 1</text>
<text text-anchor="middle" x="11910" y="-330.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if txtbuf.cursor &gt; #txtbuf.lines[txtbuf.cur_row] + 1 then</text>
<text text-anchor="middle" x="11910" y="-315.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;txtbuf.cursor = #txtbuf.lines[txtbuf.cur_row] + 1</text>
<text text-anchor="middle" x="11910" y="-300.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11910" y="-284.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="11910" y="-269.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11910" y="-253.9004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_146&#45;&gt;leaf_151 -->
<g id="edge151" class="edge">
<title>codeblock_146&#45;&gt;leaf_151</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11853.6629,-622.8473C11860.5239,-588.6569 11875.785,-512.6058 11888.6948,-448.2717"/>
<polygon fill="#000000" stroke="#000000" points="11892.1269,-448.9571 11890.6629,-438.4639 11885.2638,-447.5798 11892.1269,-448.9571"/>
</g>
<!-- leaf_152 -->
<g id="node153" class="node">
<title>leaf_152</title>
<polygon fill="none" stroke="#c0c0c0" points="12613.5,-438.401 12156.5,-438.401 12156.5,-245.8 12613.5,-245.8 12613.5,-438.401"/>
<text text-anchor="middle" x="12385" y="-423.3007" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.down(txtbuf)</text>
<text text-anchor="middle" x="12385" y="-407.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local cur_row = txtbuf.cur_row</text>
<text text-anchor="middle" x="12385" y="-392.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if cur_row == #txtbuf.lines then</text>
<text text-anchor="middle" x="12385" y="-377.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="12385" y="-361.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="12385" y="-346.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cur_row = cur_row + 1</text>
<text text-anchor="middle" x="12385" y="-330.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if txtbuf.cursor &gt; #txtbuf.lines[txtbuf.cur_row] + 1 then</text>
<text text-anchor="middle" x="12385" y="-315.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;txtbuf.cursor = #txtbuf.lines[txtbuf.cur_row] + 1</text>
<text text-anchor="middle" x="12385" y="-300.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="12385" y="-284.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="12385" y="-269.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="12385" y="-253.9004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_147&#45;&gt;leaf_152 -->
<g id="edge152" class="edge">
<title>codeblock_147&#45;&gt;leaf_152</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12224.4394,-622.8473C12244.0733,-588.5165 12287.8448,-511.9804 12324.7331,-447.4797"/>
<polygon fill="#000000" stroke="#000000" points="12327.9629,-448.8822 12329.8892,-438.4639 12321.8865,-445.407 12327.9629,-448.8822"/>
</g>
<!-- leaf_150 -->
<g id="node151" class="node">
<title>leaf_150</title>
<polygon fill="none" stroke="#c0c0c0" points="11663,-53.4 11609,-53.4 11609,-17.4 11663,-17.4 11663,-53.4"/>
</g>
<!-- raw_149&#45;&gt;leaf_150 -->
<g id="edge150" class="edge">
<title>raw_149&#45;&gt;leaf_150</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11636,-323.8335C11636,-272.3736 11636,-125.9243 11636,-63.8089"/>
<polygon fill="#000000" stroke="#000000" points="11639.5001,-63.5713 11636,-53.5713 11632.5001,-63.5714 11639.5001,-63.5713"/>
</g>
<!-- leaf_159 -->
<g id="node160" class="node">
<title>leaf_159</title>
<polygon fill="none" stroke="#c0c0c0" points="12752.5,-360.1005 12631.5,-360.1005 12631.5,-324.1005 12752.5,-324.1005 12752.5,-360.1005"/>
<text text-anchor="middle" x="12692" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:nl()</text>
</g>
<!-- header_153&#45;&gt;leaf_159 -->
<g id="edge159" class="edge">
<title>header_153&#45;&gt;leaf_159</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12721.1075,-622.8473C12715.8742,-572.3717 12701.1818,-430.6609 12694.9037,-370.1075"/>
<polygon fill="#000000" stroke="#000000" points="12698.3804,-369.701 12693.8678,-360.1153 12691.4178,-370.423 12698.3804,-369.701"/>
</g>
<!-- raw_160 -->
<g id="node161" class="node">
<title>raw_160</title>
<ellipse fill="none" stroke="#000000" cx="12798" cy="-342.1005" rx="27" ry="18"/>
<text text-anchor="middle" x="12798" y="-337.9005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_154&#45;&gt;raw_160 -->
<g id="edge160" class="edge">
<title>prose_154&#45;&gt;raw_160</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12855.4857,-623.8849C12848.3405,-611.4119 12839.2637,-593.9085 12834,-577.401 12810.9192,-505.0171 12802.4228,-415.2479 12799.4669,-370.3927"/>
<polygon fill="#000000" stroke="#000000" points="12802.9504,-370.0149 12798.8436,-360.2484 12795.9635,-370.4442 12802.9504,-370.0149"/>
</g>
<!-- leaf_162 -->
<g id="node163" class="node">
<title>leaf_162</title>
<polygon fill="none" stroke="#c0c0c0" points="13286.5,-577.2016 12843.5,-577.2016 12843.5,-106.9994 13286.5,-106.9994 13286.5,-577.2016"/>
<text text-anchor="middle" x="13065" y="-562.201" font-family="Inconsolata" font-size="14.00" fill="#000000">local sub = assert(string.sub)</text>
<text text-anchor="middle" x="13065" y="-546.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">local insert = assert(table.insert)</text>
<text text-anchor="middle" x="13065" y="-531.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.nl(txtbuf)</text>
<text text-anchor="middle" x="13065" y="-516.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Most txtbufs are one line, so we always evaluate from</text>
<text text-anchor="middle" x="13065" y="-500.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; a one&#45;liner, regardless of cursor location.</text>
<text text-anchor="middle" x="13065" y="-485.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local linum = #txtbuf.lines</text>
<text text-anchor="middle" x="13065" y="-469.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if linum == 1 then</text>
<text text-anchor="middle" x="13065" y="-454.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="13065" y="-439.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="13065" y="-423.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local cursor = txtbuf.cursor</text>
<text text-anchor="middle" x="13065" y="-408.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local cur_row = txtbuf.cur_row</text>
<text text-anchor="middle" x="13065" y="-392.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; these are the two default positions for up and down</text>
<text text-anchor="middle" x="13065" y="-377.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; history search</text>
<text text-anchor="middle" x="13065" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if cur_row == 1 and cursor &gt; #txtbuf.lines[1] then</text>
<text text-anchor="middle" x="13065" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="13065" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="13065" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if cur_row == linum and cursor &gt; #txtbuf.lines[linum] then</text>
<text text-anchor="middle" x="13065" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="13065" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="13065" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; split the line</text>
<text text-anchor="middle" x="13065" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local cur_line = concat(txtbuf.lines[txtbuf.cur_row])</text>
<text text-anchor="middle" x="13065" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local first = sub(cur_line, 1, cursor &#45; 1)</text>
<text text-anchor="middle" x="13065" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local second = sub(cur_line, cursor)</text>
<text text-anchor="middle" x="13065" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.lines[cur_row] = codepoints(first)</text>
<text text-anchor="middle" x="13065" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;insert(txtbuf.lines, cur_row + 1, codepoints(second))</text>
<text text-anchor="middle" x="13065" y="-177.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cursor = 1</text>
<text text-anchor="middle" x="13065" y="-161.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cur_row = cur_row + 1</text>
<text text-anchor="middle" x="13065" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return false</text>
<text text-anchor="middle" x="13065" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_155&#45;&gt;leaf_162 -->
<g id="edge162" class="edge">
<title>codeblock_155&#45;&gt;leaf_162</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13065,-622.8473C13065,-613.6786 13065,-601.4997 13065,-587.3437"/>
<polygon fill="#000000" stroke="#000000" points="13068.5001,-587.2401 13065,-577.2402 13061.5001,-587.2402 13068.5001,-587.2401"/>
</g>
<!-- leaf_163 -->
<g id="node164" class="node">
<title>leaf_163</title>
<polygon fill="none" stroke="#c0c0c0" points="13579.5,-400.5014 13304.5,-400.5014 13304.5,-283.6996 13579.5,-283.6996 13579.5,-400.5014"/>
<text text-anchor="middle" x="13442" y="-385.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.suspend(txtbuf)</text>
<text text-anchor="middle" x="13442" y="-369.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(txtbuf.lines) do</text>
<text text-anchor="middle" x="13442" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.lines[i] = tostring(v)</text>
<text text-anchor="middle" x="13442" y="-338.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="13442" y="-307.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return txtbuf</text>
<text text-anchor="middle" x="13442" y="-292.1005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_156&#45;&gt;leaf_163 -->
<g id="edge163" class="edge">
<title>codeblock_156&#45;&gt;leaf_163</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13355.6165,-622.8473C13368.3149,-581.5775 13399.7796,-479.3169 13421.0182,-410.2916"/>
<polygon fill="#000000" stroke="#000000" points="13424.4784,-410.947 13424.0741,-400.3599 13417.7879,-408.8884 13424.4784,-410.947"/>
</g>
<!-- leaf_164 -->
<g id="node165" class="node">
<title>leaf_164</title>
<polygon fill="none" stroke="#c0c0c0" points="13970.5,-415.8009 13597.5,-415.8009 13597.5,-268.4001 13970.5,-268.4001 13970.5,-415.8009"/>
<text text-anchor="middle" x="13784" y="-400.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.resume(txtbuf)</text>
<text text-anchor="middle" x="13784" y="-385.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i, line in ipairs(txtbuf.lines) do</text>
<text text-anchor="middle" x="13784" y="-369.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.lines[i] = codepoints(line)</text>
<text text-anchor="middle" x="13784" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="13784" y="-338.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cursor = #txtbuf.lines[#txtbuf.lines] + 1</text>
<text text-anchor="middle" x="13784" y="-323.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cur_row = #txtbuf.lines</text>
<text text-anchor="middle" x="13784" y="-292.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return txtbuf</text>
<text text-anchor="middle" x="13784" y="-276.7004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_157&#45;&gt;leaf_164 -->
<g id="edge164" class="edge">
<title>codeblock_157&#45;&gt;leaf_164</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13671.3259,-622.8473C13686.7322,-584.4598 13723.3167,-493.3032 13750.6459,-425.2081"/>
<polygon fill="#000000" stroke="#000000" points="13753.961,-426.3446 13754.4375,-415.7605 13747.4647,-423.7373 13753.961,-426.3446"/>
</g>
<!-- leaf_165 -->
<g id="node166" class="node">
<title>leaf_165</title>
<polygon fill="none" stroke="#c0c0c0" points="14439,-423.2013 13989,-423.2013 13989,-260.9997 14439,-260.9997 14439,-423.2013"/>
<text text-anchor="middle" x="14214" y="-408.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">local cl = assert(table.clone, &quot;table.clone must be provided&quot;)</text>
<text text-anchor="middle" x="14214" y="-376.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.clone(txtbuf)</text>
<text text-anchor="middle" x="14214" y="-361.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Clone to depth of 3 to get tb, tb.lines, and each lines</text>
<text text-anchor="middle" x="14214" y="-346.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local tb = cl(txtbuf, 3)</text>
<text text-anchor="middle" x="14214" y="-330.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(tb.lines[1]) == &quot;string&quot; then</text>
<text text-anchor="middle" x="14214" y="-315.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return tb:resume()</text>
<text text-anchor="middle" x="14214" y="-299.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="14214" y="-284.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return tb</text>
<text text-anchor="middle" x="14214" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_158&#45;&gt;leaf_165 -->
<g id="edge165" class="edge">
<title>codeblock_158&#45;&gt;leaf_165</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14046.8667,-622.8473C14068.9354,-585.7767 14120.3,-499.4957 14160.3058,-432.2948"/>
<polygon fill="#000000" stroke="#000000" points="14163.514,-433.7479 14165.622,-423.3648 14157.4992,-430.1671 14163.514,-433.7479"/>
</g>
<!-- leaf_161 -->
<g id="node162" class="node">
<title>leaf_161</title>
<polygon fill="none" stroke="#c0c0c0" points="12977.5,-63.3015 12618.5,-63.3015 12618.5,-7.4985 12977.5,-7.4985 12977.5,-63.3015"/>
<text text-anchor="middle" x="12798" y="-15.9" font-family="Inconsolata" font-size="14.00" fill="#000000">Either splits a line or (more usually) evaluates.</text>
</g>
<!-- raw_160&#45;&gt;leaf_161 -->
<g id="edge161" class="edge">
<title>raw_160&#45;&gt;leaf_161</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12798,-323.8335C12798,-274.8694 12798,-139.9065 12798,-73.4214"/>
<polygon fill="#000000" stroke="#000000" points="12801.5001,-73.3625 12798,-63.3626 12794.5001,-73.3626 12801.5001,-73.3625"/>
</g>
<!-- leaf_170 -->
<g id="node171" class="node">
<title>leaf_170</title>
<polygon fill="none" stroke="#c0c0c0" points="14522.5,-360.1005 14457.5,-360.1005 14457.5,-324.1005 14522.5,-324.1005 14522.5,-360.1005"/>
<text text-anchor="middle" x="14490" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** new</text>
</g>
<!-- header_166&#45;&gt;leaf_170 -->
<g id="edge170" class="edge">
<title>header_166&#45;&gt;leaf_170</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14490,-622.8473C14490,-572.4762 14490,-431.2473 14490,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="14493.5001,-370.1153 14490,-360.1153 14486.5001,-370.1154 14493.5001,-370.1153"/>
</g>
<!-- raw_171 -->
<g id="node172" class="node">
<title>raw_171</title>
<ellipse fill="none" stroke="#000000" cx="14568" cy="-342.1005" rx="27" ry="18"/>
<text text-anchor="middle" x="14568" y="-337.9005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_167&#45;&gt;raw_171 -->
<g id="edge171" class="edge">
<title>prose_167&#45;&gt;raw_171</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14578.3285,-622.8473C14576.4753,-572.4762 14571.2796,-431.2473 14569.0442,-370.4846"/>
<polygon fill="#000000" stroke="#000000" points="14572.5281,-369.9799 14568.6628,-360.1153 14565.5329,-370.2373 14572.5281,-369.9799"/>
</g>
<!-- leaf_173 -->
<g id="node174" class="node">
<title>leaf_173</title>
<polygon fill="none" stroke="#c0c0c0" points="15007,-524.1011 14613,-524.1011 14613,-160.0999 15007,-160.0999 15007,-524.1011"/>
<text text-anchor="middle" x="14810" y="-508.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">local function into_codepoints(lines)</text>
<text text-anchor="middle" x="14810" y="-493.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local cp = {}</text>
<text text-anchor="middle" x="14810" y="-478.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(lines) do</text>
<text text-anchor="middle" x="14810" y="-462.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;cp[i] = codepoints(v)</text>
<text text-anchor="middle" x="14810" y="-447.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="14810" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return cp</text>
<text text-anchor="middle" x="14810" y="-400.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="14810" y="-369.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(line)</text>
<text text-anchor="middle" x="14810" y="-353.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local txtbuf = meta(Txtbuf)</text>
<text text-anchor="middle" x="14810" y="-338.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local __l = line or &quot;&quot;</text>
<text text-anchor="middle" x="14810" y="-322.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local _lines = into_codepoints(collect(lines, __l))</text>
<text text-anchor="middle" x="14810" y="-307.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if #_lines == 0 then</text>
<text text-anchor="middle" x="14810" y="-292.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;_lines[1] = {}</text>
<text text-anchor="middle" x="14810" y="-276.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="14810" y="-261.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cursor = line and #_lines[#_lines] + 1 or 1</text>
<text text-anchor="middle" x="14810" y="-245.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cur_row = line and #_lines &#160;or 1</text>
<text text-anchor="middle" x="14810" y="-230.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.lines = _lines</text>
<text text-anchor="middle" x="14810" y="-215.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return txtbuf</text>
<text text-anchor="middle" x="14810" y="-199.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="14810" y="-168.3002" font-family="Inconsolata" font-size="14.00" fill="#000000">Txtbuf.idEst = new</text>
</g>
<!-- codeblock_168&#45;&gt;leaf_173 -->
<g id="edge173" class="edge">
<title>codeblock_168&#45;&gt;leaf_173</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14765.8693,-622.8473C14768.9026,-603.5506 14774.0318,-570.9199 14779.743,-534.5871"/>
<polygon fill="#000000" stroke="#000000" points="14783.2726,-534.6715 14781.368,-524.2493 14776.3575,-533.5845 14783.2726,-534.6715"/>
</g>
<!-- leaf_174 -->
<g id="node175" class="node">
<title>leaf_174</title>
<polygon fill="none" stroke="#c0c0c0" points="15111,-360.1005 15025,-360.1005 15025,-324.1005 15111,-324.1005 15111,-360.1005"/>
<text text-anchor="middle" x="15068" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">return new</text>
</g>
<!-- codeblock_169&#45;&gt;leaf_174 -->
<g id="edge174" class="edge">
<title>codeblock_169&#45;&gt;leaf_174</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M15015.4188,-622.8473C15024.8723,-572.3717 15051.4135,-430.6609 15062.7546,-370.1075"/>
<polygon fill="#000000" stroke="#000000" points="15066.2252,-370.5888 15064.626,-360.1153 15059.3448,-369.3001 15066.2252,-370.5888"/>
</g>
<!-- leaf_172 -->
<g id="node173" class="node">
<title>leaf_172</title>
<polygon fill="none" stroke="#c0c0c0" points="14595,-53.4 14541,-53.4 14541,-17.4 14595,-17.4 14595,-53.4"/>
</g>
<!-- raw_171&#45;&gt;leaf_172 -->
<g id="edge172" class="edge">
<title>raw_171&#45;&gt;leaf_172</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14568,-323.8335C14568,-272.3736 14568,-125.9243 14568,-63.8089"/>
<polygon fill="#000000" stroke="#000000" points="14571.5001,-63.5713 14568,-53.5713 14564.5001,-63.5714 14571.5001,-63.5713"/>
</g>
</g>
</svg>
