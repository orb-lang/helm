<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="15169pt" height="950pt"
 viewBox="0.00 0.00 15169.00 950.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 946.0009)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-946.0009 15165,-946.0009 15165,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1715" cy="-924.0009" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="1715" y="-919.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 330</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1715" cy="-852.0009" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="1715" y="-847.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;33</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1715,-905.8323C1715,-898.1319 1715,-888.9753 1715,-880.4176"/>
<polygon fill="#000000" stroke="#000000" points="1718.5001,-880.4142 1715,-870.4142 1711.5001,-880.4142 1718.5001,-880.4142"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="1413" cy="-780.0009" rx="46.6307" ry="18"/>
<text text-anchor="middle" x="1413" y="-775.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Txtbuf</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1663.7744,-842.2314C1613.774,-832.3496 1535.7005,-815.9979 1469,-798.0009 1465.4382,-797.0399 1461.7666,-795.9917 1458.087,-794.9"/>
<polygon fill="#000000" stroke="#000000" points="1458.9846,-791.5146 1448.3982,-791.9388 1456.9385,-798.2089 1458.9846,-791.5146"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="1510" cy="-780.0009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1510" y="-775.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1672.132,-839.1191C1638.8113,-828.8106 1591.588,-813.5519 1551,-798.0009 1548.795,-797.1561 1546.5361,-796.2584 1544.267,-795.3321"/>
<polygon fill="#000000" stroke="#000000" points="1545.569,-792.0828 1534.9945,-791.4268 1542.8519,-798.534 1545.569,-792.0828"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="1592" cy="-780.0009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1592" y="-775.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1687.3964,-835.8427C1668.3555,-824.6969 1643.0105,-809.8608 1623.2307,-798.2823"/>
<polygon fill="#000000" stroke="#000000" points="1624.9752,-795.248 1614.5769,-793.2167 1621.4389,-801.2891 1624.9752,-795.248"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="1674" cy="-780.0009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1674" y="-775.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1704.8652,-834.2032C1700.0632,-825.7705 1694.2315,-815.5295 1688.9358,-806.2297"/>
<polygon fill="#000000" stroke="#000000" points="1691.8667,-804.3034 1683.8768,-797.3455 1685.7838,-807.7673 1691.8667,-804.3034"/>
</g>
<!-- prose_6 -->
<g id="node7" class="node">
<title>prose_6</title>
<ellipse fill="none" stroke="#000000" cx="1756" cy="-780.0009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1756" y="-775.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;prose_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1725.1348,-834.2032C1729.9368,-825.7705 1735.7685,-815.5295 1741.0642,-806.2297"/>
<polygon fill="#000000" stroke="#000000" points="1744.2162,-807.7673 1746.1232,-797.3455 1738.1333,-804.3034 1744.2162,-807.7673"/>
</g>
<!-- prose_7 -->
<g id="node8" class="node">
<title>prose_7</title>
<ellipse fill="none" stroke="#000000" cx="1922" cy="-780.0009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1922" y="-775.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;prose_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1754.4224,-838.2888C1791.9502,-825.2357 1848.0077,-805.7374 1884.7864,-792.9448"/>
<polygon fill="#000000" stroke="#000000" points="1886.322,-796.1164 1894.6172,-789.5254 1884.0223,-789.5049 1886.322,-796.1164"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="2404" cy="-780.0009" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2404" y="-775.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 17&#45;21</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1772.5587,-845.9861C1897.824,-832.896 2194.9038,-801.8513 2332.1756,-787.5065"/>
<polygon fill="#000000" stroke="#000000" points="2332.5938,-790.982 2342.1759,-786.4615 2331.8663,-784.0199 2332.5938,-790.982"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="7743" cy="-780.0009" rx="70.655" ry="18"/>
<text text-anchor="middle" x="7743" y="-775.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 34&#45;299</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1776.131,-851.2708C2363.0408,-844.2606 6992.7845,-788.9617 7662.3892,-780.9638"/>
<polygon fill="#000000" stroke="#000000" points="7662.4673,-784.4632 7672.4247,-780.8439 7662.3836,-777.4637 7662.4673,-784.4632"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="1449,-726.0009 1377,-726.0009 1377,-690.0009 1449,-690.0009 1449,-726.0009"/>
<text text-anchor="middle" x="1413" y="-704.501" font-family="Inconsolata" font-size="14.00" fill="#000000">* Txtbuf</text>
</g>
<!-- header_2&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>header_2&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1413,-761.8323C1413,-754.1319 1413,-744.9753 1413,-736.4176"/>
<polygon fill="#000000" stroke="#000000" points="1416.5001,-736.4142 1413,-726.4142 1409.5001,-736.4142 1416.5001,-736.4142"/>
</g>
<!-- raw_11 -->
<g id="node12" class="node">
<title>raw_11</title>
<ellipse fill="none" stroke="#000000" cx="1502" cy="-708.0009" rx="27" ry="18"/>
<text text-anchor="middle" x="1502" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_11 -->
<g id="edge11" class="edge">
<title>prose_3&#45;&gt;raw_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1507.9813,-761.8323C1507.1257,-754.1319 1506.1083,-744.9753 1505.1574,-736.4176"/>
<polygon fill="#000000" stroke="#000000" points="1508.6289,-735.9665 1504.0459,-726.4142 1501.6717,-736.7396 1508.6289,-735.9665"/>
</g>
<!-- raw_13 -->
<g id="node14" class="node">
<title>raw_13</title>
<ellipse fill="none" stroke="#000000" cx="1583" cy="-708.0009" rx="27" ry="18"/>
<text text-anchor="middle" x="1583" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_13 -->
<g id="edge13" class="edge">
<title>prose_4&#45;&gt;raw_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1589.7289,-761.8323C1588.7664,-754.1319 1587.6218,-744.9753 1586.5521,-736.4176"/>
<polygon fill="#000000" stroke="#000000" points="1590.0151,-735.9028 1585.3017,-726.4142 1583.0691,-736.7711 1590.0151,-735.9028"/>
</g>
<!-- raw_15 -->
<g id="node16" class="node">
<title>raw_15</title>
<ellipse fill="none" stroke="#000000" cx="1665" cy="-708.0009" rx="27" ry="18"/>
<text text-anchor="middle" x="1665" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_15 -->
<g id="edge15" class="edge">
<title>prose_5&#45;&gt;raw_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1671.7289,-761.8323C1670.7664,-754.1319 1669.6218,-744.9753 1668.5521,-736.4176"/>
<polygon fill="#000000" stroke="#000000" points="1672.0151,-735.9028 1667.3017,-726.4142 1665.0691,-736.7711 1672.0151,-735.9028"/>
</g>
<!-- raw_17 -->
<g id="node18" class="node">
<title>raw_17</title>
<ellipse fill="none" stroke="#000000" cx="1756" cy="-708.0009" rx="27" ry="18"/>
<text text-anchor="middle" x="1756" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_17 -->
<g id="edge17" class="edge">
<title>prose_6&#45;&gt;raw_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1756,-761.8323C1756,-754.1319 1756,-744.9753 1756,-736.4176"/>
<polygon fill="#000000" stroke="#000000" points="1759.5001,-736.4142 1756,-726.4142 1752.5001,-736.4142 1759.5001,-736.4142"/>
</g>
<!-- raw_19 -->
<g id="node20" class="node">
<title>raw_19</title>
<ellipse fill="none" stroke="#000000" cx="2005" cy="-708.0009" rx="27" ry="18"/>
<text text-anchor="middle" x="2005" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_7&#45;&gt;raw_19 -->
<g id="edge19" class="edge">
<title>prose_7&#45;&gt;raw_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1939.6022,-764.7316C1951.5031,-754.4079 1967.3814,-740.634 1980.512,-729.2436"/>
<polygon fill="#000000" stroke="#000000" points="1983.0119,-731.7083 1988.2724,-722.5116 1978.425,-726.4206 1983.0119,-731.7083"/>
</g>
<!-- header_21 -->
<g id="node22" class="node">
<title>header_21</title>
<ellipse fill="none" stroke="#000000" cx="2351" cy="-708.0009" rx="56.6148" ry="18"/>
<text text-anchor="middle" x="2351" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Interface</text>
</g>
<!-- section_8&#45;&gt;header_21 -->
<g id="edge21" class="edge">
<title>section_8&#45;&gt;header_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2390.8989,-762.2032C2384.6091,-753.6585 2376.9526,-743.2573 2370.0351,-733.86"/>
<polygon fill="#000000" stroke="#000000" points="2372.6973,-731.5725 2363.9504,-725.594 2367.06,-735.7222 2372.6973,-731.5725"/>
</g>
<!-- prose_22 -->
<g id="node23" class="node">
<title>prose_22</title>
<ellipse fill="none" stroke="#000000" cx="2458" cy="-708.0009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2458" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_22 -->
<g id="edge22" class="edge">
<title>section_8&#45;&gt;prose_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2417.3483,-762.2032C2424.0154,-753.3137 2432.1896,-742.4147 2439.4553,-732.7272"/>
<polygon fill="#000000" stroke="#000000" points="2442.3456,-734.7068 2445.5456,-724.6068 2436.7456,-730.5068 2442.3456,-734.7068"/>
</g>
<!-- section_23 -->
<g id="node24" class="node">
<title>section_23</title>
<ellipse fill="none" stroke="#000000" cx="2746" cy="-708.0009" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2746" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 22&#45;33</text>
</g>
<!-- section_8&#45;&gt;section_23 -->
<g id="edge23" class="edge">
<title>section_8&#45;&gt;section_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2456.3147,-768.9873C2517.4146,-756.1242 2618.4054,-734.863 2683.5544,-721.1474"/>
<polygon fill="#000000" stroke="#000000" points="2684.6267,-724.4984 2693.6911,-719.0133 2683.1845,-717.6486 2684.6267,-724.4984"/>
</g>
<!-- header_41 -->
<g id="node42" class="node">
<title>header_41</title>
<ellipse fill="none" stroke="#000000" cx="4071" cy="-708.0009" rx="56.1302" ry="18"/>
<text text-anchor="middle" x="4071" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Methods</text>
</g>
<!-- section_9&#45;&gt;header_41 -->
<g id="edge41" class="edge">
<title>section_9&#45;&gt;header_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7672.3823,-779.7326C7240.4108,-777.9667 4950.0345,-766.7892 4249,-726.0009 4210.7827,-723.7773 4168.1059,-719.5226 4134.1221,-715.7079"/>
<polygon fill="#000000" stroke="#000000" points="4134.2007,-712.1943 4123.869,-714.5409 4133.409,-719.1494 4134.2007,-712.1943"/>
</g>
<!-- prose_42 -->
<g id="node43" class="node">
<title>prose_42</title>
<ellipse fill="none" stroke="#000000" cx="4290" cy="-708.0009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4290" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_42 -->
<g id="edge42" class="edge">
<title>section_9&#45;&gt;prose_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7672.2385,-779.5746C7218.3541,-776.7457 4724.1085,-759.7513 4387,-726.0009 4368.0521,-724.1039 4347.2668,-720.4596 4329.8138,-716.9435"/>
<polygon fill="#000000" stroke="#000000" points="4330.464,-713.504 4319.9619,-714.9022 4329.0438,-720.3584 4330.464,-713.504"/>
</g>
<!-- prose_43 -->
<g id="node44" class="node">
<title>prose_43</title>
<ellipse fill="none" stroke="#000000" cx="4428" cy="-708.0009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4428" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_43 -->
<g id="edge43" class="edge">
<title>section_9&#45;&gt;prose_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7672.3417,-779.4024C7231.1632,-775.5866 4863.157,-753.9265 4542,-726.0009 4517.53,-723.8732 4490.3549,-719.6558 4468.6764,-715.8379"/>
<polygon fill="#000000" stroke="#000000" points="4469.2847,-712.3913 4458.8228,-714.064 4468.0444,-719.2805 4469.2847,-712.3913"/>
</g>
<!-- prose_44 -->
<g id="node45" class="node">
<title>prose_44</title>
<ellipse fill="none" stroke="#000000" cx="4583" cy="-708.0009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4583" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_44 -->
<g id="edge44" class="edge">
<title>section_9&#45;&gt;prose_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7672.5965,-778.6826C7374.732,-773.0661 6188.6379,-750.3073 5214,-726.0009 4992.5833,-720.479 4727.5053,-712.4576 4625.6944,-709.3245"/>
<polygon fill="#000000" stroke="#000000" points="4625.6111,-705.8203 4615.508,-709.0105 4625.3954,-712.817 4625.6111,-705.8203"/>
</g>
<!-- prose_45 -->
<g id="node46" class="node">
<title>prose_45</title>
<ellipse fill="none" stroke="#000000" cx="5255" cy="-708.0009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5255" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_45 -->
<g id="edge45" class="edge">
<title>section_9&#45;&gt;prose_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7672.5467,-777.9621C7302.4782,-767.2527 5589.2938,-717.675 5297.3561,-709.2267"/>
<polygon fill="#000000" stroke="#000000" points="5297.2863,-705.7233 5287.1892,-708.9325 5297.0838,-712.7204 5297.2863,-705.7233"/>
</g>
<!-- section_46 -->
<g id="node47" class="node">
<title>section_46</title>
<ellipse fill="none" stroke="#000000" cx="6017" cy="-708.0009" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="6017" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 49&#45;61</text>
</g>
<!-- section_9&#45;&gt;section_46 -->
<g id="edge46" class="edge">
<title>section_9&#45;&gt;section_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7673.201,-777.0893C7396.5982,-765.5508 6378.6075,-723.0854 6092.339,-711.1437"/>
<polygon fill="#000000" stroke="#000000" points="6092.2012,-707.635 6082.064,-710.7151 6091.9094,-714.6289 6092.2012,-707.635"/>
</g>
<!-- section_47 -->
<g id="node48" class="node">
<title>section_47</title>
<ellipse fill="none" stroke="#000000" cx="6892" cy="-708.0009" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="6892" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 62&#45;93</text>
</g>
<!-- section_9&#45;&gt;section_47 -->
<g id="edge47" class="edge">
<title>section_9&#45;&gt;section_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7675.8682,-774.3212C7518.794,-761.0317 7128.3343,-727.9963 6965.3205,-714.2043"/>
<polygon fill="#000000" stroke="#000000" points="6965.1764,-710.6797 6954.9169,-713.3241 6964.5862,-717.6548 6965.1764,-710.6797"/>
</g>
<!-- section_48 -->
<g id="node49" class="node">
<title>section_48</title>
<ellipse fill="none" stroke="#000000" cx="7743" cy="-708.0009" rx="70.655" ry="18"/>
<text text-anchor="middle" x="7743" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 94&#45;128</text>
</g>
<!-- section_9&#45;&gt;section_48 -->
<g id="edge48" class="edge">
<title>section_9&#45;&gt;section_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7743,-761.8323C7743,-754.1319 7743,-744.9753 7743,-736.4176"/>
<polygon fill="#000000" stroke="#000000" points="7746.5001,-736.4142 7743,-726.4142 7739.5001,-736.4142 7746.5001,-736.4142"/>
</g>
<!-- section_49 -->
<g id="node50" class="node">
<title>section_49</title>
<ellipse fill="none" stroke="#000000" cx="8458" cy="-708.0009" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8458" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 129&#45;141</text>
</g>
<!-- section_9&#45;&gt;section_49 -->
<g id="edge49" class="edge">
<title>section_9&#45;&gt;section_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7808.6651,-773.3885C7940.3162,-760.1313 8236.0773,-730.3484 8378.4494,-716.0116"/>
<polygon fill="#000000" stroke="#000000" points="8378.8318,-719.4909 8388.4307,-715.0065 8378.1303,-712.5261 8378.8318,-719.4909"/>
</g>
<!-- section_50 -->
<g id="node51" class="node">
<title>section_50</title>
<ellipse fill="none" stroke="#000000" cx="9006" cy="-708.0009" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9006" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 142&#45;153</text>
</g>
<!-- section_9&#45;&gt;section_50 -->
<g id="edge50" class="edge">
<title>section_9&#45;&gt;section_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7812.2517,-776.0531C8028.0654,-763.7502 8687.9873,-726.1299 8922.3453,-712.7698"/>
<polygon fill="#000000" stroke="#000000" points="8922.7278,-716.2538 8932.5124,-712.1903 8922.3293,-709.2652 8922.7278,-716.2538"/>
</g>
<!-- section_51 -->
<g id="node52" class="node">
<title>section_51</title>
<ellipse fill="none" stroke="#000000" cx="9716" cy="-708.0009" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9716" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 154&#45;162</text>
</g>
<!-- section_9&#45;&gt;section_51 -->
<g id="edge51" class="edge">
<title>section_9&#45;&gt;section_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7812.9301,-777.449C8114.2155,-766.4543 9301.0561,-723.1433 9630.6786,-711.1145"/>
<polygon fill="#000000" stroke="#000000" points="9631.2454,-714.5963 9641.1111,-710.7338 9630.99,-707.6009 9631.2454,-714.5963"/>
</g>
<!-- section_52 -->
<g id="node53" class="node">
<title>section_52</title>
<ellipse fill="none" stroke="#000000" cx="10376" cy="-708.0009" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="10376" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 163&#45;178</text>
</g>
<!-- section_9&#45;&gt;section_52 -->
<g id="edge52" class="edge">
<title>section_9&#45;&gt;section_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7813.6052,-778.2752C8076.1591,-771.8308 9021.0897,-748.3952 9800,-726.0009 9974.3214,-720.9891 10178.2963,-714.4572 10290.7252,-710.7989"/>
<polygon fill="#000000" stroke="#000000" points="10291.1028,-714.2885 10300.9835,-710.4648 10290.8748,-707.2922 10291.1028,-714.2885"/>
</g>
<!-- section_53 -->
<g id="node54" class="node">
<title>section_53</title>
<ellipse fill="none" stroke="#000000" cx="10964" cy="-708.0009" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="10964" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 179&#45;195</text>
</g>
<!-- section_9&#45;&gt;section_53 -->
<g id="edge53" class="edge">
<title>section_9&#45;&gt;section_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7813.5895,-779.0087C8125.0339,-774.5445 9407.42,-755.2551 10460,-726.0009 10607.4434,-721.9031 10779.0886,-715.4037 10879.233,-711.438"/>
<polygon fill="#000000" stroke="#000000" points="10879.4407,-714.9326 10889.294,-711.0386 10879.163,-707.9381 10879.4407,-714.9326"/>
</g>
<!-- section_54 -->
<g id="node55" class="node">
<title>section_54</title>
<ellipse fill="none" stroke="#000000" cx="11702" cy="-708.0009" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="11702" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 196&#45;227</text>
</g>
<!-- section_9&#45;&gt;section_54 -->
<g id="edge54" class="edge">
<title>section_9&#45;&gt;section_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7813.6471,-779.1395C8163.9495,-774.8069 9749.5923,-754.4753 11048,-726.0009 11252.0606,-721.5258 11491.8865,-714.4642 11616.7206,-710.6522"/>
<polygon fill="#000000" stroke="#000000" points="11617.0845,-714.1428 11626.9728,-710.3386 11616.8704,-707.1461 11617.0845,-714.1428"/>
</g>
<!-- section_55 -->
<g id="node56" class="node">
<title>section_55</title>
<ellipse fill="none" stroke="#000000" cx="13115" cy="-708.0009" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="13115" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 228&#45;299</text>
</g>
<!-- section_9&#45;&gt;section_55 -->
<g id="edge55" class="edge">
<title>section_9&#45;&gt;section_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7813.4982,-779.0643C8207.4977,-773.8285 10176.874,-747.644 11786,-726.0009 12255.3466,-719.6881 12817.9283,-712.0426 13029.2319,-709.1682"/>
<polygon fill="#000000" stroke="#000000" points="13029.3775,-712.6666 13039.329,-709.0308 13029.2823,-705.6672 13029.3775,-712.6666"/>
</g>
<!-- section_56 -->
<g id="node57" class="node">
<title>section_56</title>
<ellipse fill="none" stroke="#000000" cx="14629" cy="-708.0009" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="14629" y="-703.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 300&#45;330</text>
</g>
<!-- section_9&#45;&gt;section_56 -->
<g id="edge56" class="edge">
<title>section_9&#45;&gt;section_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7813.7634,-779.3724C8282.7651,-775.1921 10992.0036,-750.8128 13199,-726.0009 13708.8559,-720.2689 14320.9496,-712.1498 14543.1378,-709.1622"/>
<polygon fill="#000000" stroke="#000000" points="14543.4695,-712.6582 14553.4215,-709.0238 14543.3753,-705.6588 14543.4695,-712.6582"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="352,-654.2024 0,-654.2024 0,-598.3994 352,-598.3994 352,-654.2024"/>
<text text-anchor="middle" x="176" y="-606.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">We&#39;re not going to have one of these right away.</text>
</g>
<!-- raw_11&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>raw_11&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1480.1056,-697.2581C1473.1964,-694.359 1465.4254,-691.588 1458,-690.0009 1222.6226,-639.6938 620.0715,-675.1346 362.344,-654.0373"/>
<polygon fill="#000000" stroke="#000000" points="362.465,-650.5348 352.2008,-653.1612 361.8625,-657.5089 362.465,-650.5348"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="883.5,-653.6013 370.5,-653.6013 370.5,-599.0005 883.5,-599.0005 883.5,-653.6013"/>
<text text-anchor="middle" x="627" y="-622.501" font-family="Inconsolata" font-size="14.00" fill="#000000">This is not much more than an ordinary array of lines that has a bit of</text>
<text text-anchor="middle" x="627" y="-607.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">awareness, mostly about which lines have cursors and which don&#39;t.</text>
</g>
<!-- raw_13&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>raw_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1560.5633,-697.3663C1553.4952,-694.4716 1545.5578,-691.6758 1538,-690.0009 1260.5448,-628.5133 1180.5093,-675.818 893.9369,-654.1233"/>
<polygon fill="#000000" stroke="#000000" points="893.8965,-650.6096 883.6548,-653.3221 893.3527,-657.5885 893.8965,-650.6096"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1456.5,-653.6013 901.5,-653.6013 901.5,-599.0005 1456.5,-599.0005 1456.5,-653.6013"/>
<text text-anchor="middle" x="1179" y="-622.501" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;ll circle back for quipu but I want a basic editor as soon as possible. The</text>
<text text-anchor="middle" x="1179" y="-607.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">interaction dynamics need to be worked out right away, plus I want to use it!</text>
</g>
<!-- raw_15&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>raw_15&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1642.4144,-697.9738C1635.0658,-695.0347 1626.7936,-692.0607 1619,-690.0009 1564.1535,-675.5056 1504.532,-664.083 1447.3981,-655.1634"/>
<polygon fill="#000000" stroke="#000000" points="1447.925,-651.7034 1437.5087,-653.6404 1446.8594,-658.6218 1447.925,-651.7034"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="2037,-653.6013 1475,-653.6013 1475,-599.0005 2037,-599.0005 2037,-653.6013"/>
<text text-anchor="middle" x="1756" y="-622.501" font-family="Inconsolata" font-size="14.00" fill="#000000">Plan: A line that has a cursor on it, and there can be many, gets &#39;opened&#39;</text>
<text text-anchor="middle" x="1756" y="-607.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">into a grid of characters. &#160;These in turn get &#39;closed&#39; when the cursor leaves.</text>
</g>
<!-- raw_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>raw_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1756,-689.8691C1756,-682.1497 1756,-672.8435 1756,-663.7621"/>
<polygon fill="#000000" stroke="#000000" points="1759.5001,-663.7011 1756,-653.7011 1752.5001,-663.7012 1759.5001,-663.7011"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="2288.5,-654.2024 2055.5,-654.2024 2055.5,-598.3994 2288.5,-598.3994 2288.5,-654.2024"/>
<text text-anchor="middle" x="2172" y="-622.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">A closed line is just a string.</text>
</g>
<!-- raw_19&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>raw_19&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2026.8323,-697.3201C2047.0163,-687.4456 2078.0621,-672.2574 2106.2706,-658.4572"/>
<polygon fill="#000000" stroke="#000000" points="2107.8676,-661.5723 2115.3122,-654.0338 2104.7914,-655.2845 2107.8676,-661.5723"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="2407,-644.3009 2307,-644.3009 2307,-608.3009 2407,-608.3009 2407,-644.3009"/>
<text text-anchor="middle" x="2357" y="-622.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">** Interface</text>
</g>
<!-- header_21&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>header_21&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2352.3316,-689.8691C2353.0929,-679.5032 2354.0643,-666.2757 2354.9237,-654.5739"/>
<polygon fill="#000000" stroke="#000000" points="2358.4302,-654.6116 2355.6721,-644.3821 2351.449,-654.0989 2358.4302,-654.6116"/>
</g>
<!-- raw_25 -->
<g id="node26" class="node">
<title>raw_25</title>
<ellipse fill="none" stroke="#000000" cx="2452" cy="-626.3009" rx="27" ry="18"/>
<text text-anchor="middle" x="2452" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_22&#45;&gt;raw_25 -->
<g id="edge25" class="edge">
<title>prose_22&#45;&gt;raw_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2456.6684,-689.8691C2455.9071,-679.5032 2454.9357,-666.2757 2454.0763,-654.5739"/>
<polygon fill="#000000" stroke="#000000" points="2457.551,-654.0989 2453.3279,-644.3821 2450.5698,-654.6116 2457.551,-654.0989"/>
</g>
<!-- header_27 -->
<g id="node28" class="node">
<title>header_27</title>
<ellipse fill="none" stroke="#000000" cx="2576" cy="-626.3009" rx="78.8574" ry="18"/>
<text text-anchor="middle" x="2576" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Instance fields</text>
</g>
<!-- section_23&#45;&gt;header_27 -->
<g id="edge27" class="edge">
<title>section_23&#45;&gt;header_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2713.2223,-692.2484C2686.4072,-679.3613 2648.2709,-661.0335 2619.0052,-646.9687"/>
<polygon fill="#000000" stroke="#000000" points="2620.3699,-643.7414 2609.8407,-642.5643 2617.3377,-650.0506 2620.3699,-643.7414"/>
</g>
<!-- prose_28 -->
<g id="node29" class="node">
<title>prose_28</title>
<ellipse fill="none" stroke="#000000" cx="2705" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2705" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_23&#45;&gt;prose_28 -->
<g id="edge28" class="edge">
<title>section_23&#45;&gt;prose_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2736.9008,-689.8691C2731.4651,-679.0375 2724.4614,-665.0814 2718.4017,-653.0063"/>
<polygon fill="#000000" stroke="#000000" points="2721.4059,-651.1892 2713.7924,-643.8214 2715.1495,-654.3289 2721.4059,-651.1892"/>
</g>
<!-- prose_29 -->
<g id="node30" class="node">
<title>prose_29</title>
<ellipse fill="none" stroke="#000000" cx="2787" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2787" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_23&#45;&gt;prose_29 -->
<g id="edge29" class="edge">
<title>section_23&#45;&gt;prose_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2755.0992,-689.8691C2760.5349,-679.0375 2767.5386,-665.0814 2773.5983,-653.0063"/>
<polygon fill="#000000" stroke="#000000" points="2776.8505,-654.3289 2778.2076,-643.8214 2770.5941,-651.1892 2776.8505,-654.3289"/>
</g>
<!-- prose_30 -->
<g id="node31" class="node">
<title>prose_30</title>
<ellipse fill="none" stroke="#000000" cx="2869" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2869" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_23&#45;&gt;prose_30 -->
<g id="edge30" class="edge">
<title>section_23&#45;&gt;prose_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2771.5373,-691.2947C2787.7438,-680.6652 2809.14,-666.5813 2828,-654.0009 2831.801,-651.4655 2835.7923,-648.788 2839.7309,-646.1368"/>
<polygon fill="#000000" stroke="#000000" points="2841.842,-648.9346 2848.1743,-640.4404 2837.927,-643.1317 2841.842,-648.9346"/>
</g>
<!-- prose_31 -->
<g id="node32" class="node">
<title>prose_31</title>
<ellipse fill="none" stroke="#000000" cx="2951" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2951" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_23&#45;&gt;prose_31 -->
<g id="edge31" class="edge">
<title>section_23&#45;&gt;prose_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2794.739,-695.7725C2828.1072,-686.4903 2872.8623,-672.222 2910,-654.0009 2914.3959,-651.8442 2918.8668,-649.2746 2923.1615,-646.5829"/>
<polygon fill="#000000" stroke="#000000" points="2925.2317,-649.4102 2931.6487,-640.9797 2921.375,-643.5684 2925.2317,-649.4102"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="2485.5,-370.0008 1930.5,-370.0008 1930.5,-299.4001 2485.5,-299.4001 2485.5,-370.0008"/>
<text text-anchor="middle" x="2208" y="-322.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;A txtbuf is a drop&#45;in replacement for a txtbuf, used when there&#39;s more than</text>
<text text-anchor="middle" x="2208" y="-307.5005" font-family="Inconsolata" font-size="14.00" fill="#000000">one line to buffer.</text>
</g>
<!-- raw_25&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>raw_25&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2438.5339,-610.2079C2401.8606,-566.3801 2299.2749,-443.7816 2244.1392,-377.8898"/>
<polygon fill="#000000" stroke="#000000" points="2246.7598,-375.5676 2237.6581,-370.1444 2241.3913,-380.0598 2246.7598,-375.5676"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="2652.5,-352.7005 2503.5,-352.7005 2503.5,-316.7005 2652.5,-316.7005 2652.5,-352.7005"/>
<text text-anchor="middle" x="2578" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Instance fields</text>
</g>
<!-- header_27&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>header_27&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2576.1251,-608.06C2576.4632,-558.7609 2577.3972,-422.5817 2577.8052,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="2581.3062,-362.9583 2577.8749,-352.9345 2574.3063,-362.9102 2581.3062,-362.9583"/>
</g>
<!-- raw_33 -->
<g id="node34" class="node">
<title>raw_33</title>
<ellipse fill="none" stroke="#000000" cx="2702" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="2702" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_28&#45;&gt;raw_33 -->
<g id="edge33" class="edge">
<title>prose_28&#45;&gt;raw_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2704.8123,-608.06C2704.3051,-558.7609 2702.9041,-422.5817 2702.2923,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="2705.7904,-362.8979 2702.1876,-352.9345 2698.7908,-362.97 2705.7904,-362.8979"/>
</g>
<!-- raw_35 -->
<g id="node36" class="node">
<title>raw_35</title>
<ellipse fill="none" stroke="#000000" cx="2780" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="2780" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_29&#45;&gt;raw_35 -->
<g id="edge35" class="edge">
<title>prose_29&#45;&gt;raw_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2786.5621,-608.06C2785.3787,-558.7609 2782.1096,-422.5817 2780.6819,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="2784.1768,-362.8476 2780.4377,-352.9345 2777.1788,-363.0157 2784.1768,-362.8476"/>
</g>
<!-- raw_37 -->
<g id="node38" class="node">
<title>raw_37</title>
<ellipse fill="none" stroke="#000000" cx="2874" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="2874" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_30&#45;&gt;raw_37 -->
<g id="edge37" class="edge">
<title>prose_30&#45;&gt;raw_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2869.3128,-608.06C2870.1581,-558.7609 2872.4931,-422.5817 2873.5129,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="2877.0153,-362.9931 2873.6873,-352.9345 2870.0163,-362.873 2877.0153,-362.9931"/>
</g>
<!-- raw_39 -->
<g id="node40" class="node">
<title>raw_39</title>
<ellipse fill="none" stroke="#000000" cx="2951" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="2951" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_31&#45;&gt;raw_39 -->
<g id="edge39" class="edge">
<title>prose_31&#45;&gt;raw_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2951,-608.06C2951,-558.7609 2951,-422.5817 2951,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="2954.5001,-362.9345 2951,-352.9345 2947.5001,-362.9345 2954.5001,-362.9345"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2397.5,-63.3015 1884.5,-63.3015 1884.5,-7.4985 2397.5,-7.4985 2397.5,-63.3015"/>
<text text-anchor="middle" x="2141" y="-15.9" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; lines : &#160;An array of arrays containing codepoints (string fragments).</text>
</g>
<!-- raw_33&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>raw_33&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2705.0283,-316.7048C2711.1658,-273.4961 2719.8921,-163.2949 2661,-106.8001 2659.5425,-105.4019 2500.055,-83.6327 2358.109,-64.4961"/>
<polygon fill="#000000" stroke="#000000" points="2358.2995,-60.9903 2347.9216,-63.1232 2357.3645,-67.9275 2358.2995,-60.9903"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="2852,-55.3021 2416,-55.3021 2416,-15.4979 2852,-15.4979 2852,-55.3021"/>
<text text-anchor="middle" x="2634" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; cursor : &#160;Number of fragments to skip before an insertion.</text>
</g>
<!-- raw_35&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>raw_35&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2781.1387,-316.4446C2782.8003,-275.4283 2781.807,-174.2946 2738,-106.8001 2725.3853,-87.3642 2705.4348,-71.7984 2686.3663,-60.2232"/>
<polygon fill="#000000" stroke="#000000" points="2688.1016,-57.1836 2677.6967,-55.1862 2684.585,-63.2362 2688.1016,-57.1836"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="3159.5,-55.3021 2870.5,-55.3021 2870.5,-15.4979 3159.5,-15.4979 3159.5,-55.3021"/>
<text text-anchor="middle" x="3015" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; cur_row : &#160;Row containing the cursor.</text>
</g>
<!-- raw_37&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>raw_37&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2872.8537,-316.5077C2871.1606,-275.6207 2871.9942,-174.7343 2915,-106.8001 2927.061,-87.7479 2946.2108,-72.2562 2964.5392,-60.633"/>
<polygon fill="#000000" stroke="#000000" points="2966.6994,-63.4163 2973.4361,-55.2391 2963.0704,-57.4305 2966.6994,-63.4163"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="3698,-70.7004 3178,-70.7004 3178,-.0997 3698,-.0997 3698,-70.7004"/>
<text text-anchor="middle" x="3438" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; disp : &#160;Array of numbers, representing the furthest&#45;right column which</text>
<text text-anchor="middle" x="3438" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;may be reached by printing the corresponding row.</text>
</g>
<!-- raw_39&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>raw_39&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2947.598,-316.8351C2940.5594,-273.9157 2929.5115,-164.3083 2987,-106.8001 2994.5705,-99.227 3076.1109,-85.325 3167.8241,-71.7866"/>
<polygon fill="#000000" stroke="#000000" points="3168.5017,-75.2247 3177.8869,-70.3085 3167.4844,-68.299 3168.5017,-75.2247"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="4086,-644.3009 4000,-644.3009 4000,-608.3009 4086,-608.3009 4086,-644.3009"/>
<text text-anchor="middle" x="4043" y="-622.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">** Methods</text>
</g>
<!-- header_41&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>header_41&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4064.7859,-689.8691C4061.1608,-679.2916 4056.5146,-665.7346 4052.4448,-653.8594"/>
<polygon fill="#000000" stroke="#000000" points="4055.7498,-652.7072 4049.1967,-644.3821 4049.1279,-654.9767 4055.7498,-652.7072"/>
</g>
<!-- raw_58 -->
<g id="node59" class="node">
<title>raw_58</title>
<ellipse fill="none" stroke="#000000" cx="4131" cy="-626.3009" rx="27" ry="18"/>
<text text-anchor="middle" x="4131" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_42&#45;&gt;raw_58 -->
<g id="edge58" class="edge">
<title>prose_42&#45;&gt;raw_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4262.6869,-698.2065C4237.1295,-688.5385 4198.3023,-672.5422 4167,-654.0009 4163.3361,-651.8307 4159.6161,-649.3435 4156.0266,-646.7697"/>
<polygon fill="#000000" stroke="#000000" points="4158.072,-643.9286 4147.9762,-640.7151 4153.8645,-649.523 4158.072,-643.9286"/>
</g>
<!-- raw_60 -->
<g id="node61" class="node">
<title>raw_60</title>
<ellipse fill="none" stroke="#000000" cx="4203" cy="-626.3009" rx="27" ry="18"/>
<text text-anchor="middle" x="4203" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_43&#45;&gt;raw_60 -->
<g id="edge60" class="edge">
<title>prose_43&#45;&gt;raw_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4396.8987,-702.848C4358.32,-695.6323 4291.2568,-680.353 4239,-654.0009 4235.1184,-652.0435 4231.2393,-649.6447 4227.5415,-647.0854"/>
<polygon fill="#000000" stroke="#000000" points="4229.4341,-644.1306 4219.3266,-640.9543 4225.2473,-649.7405 4229.4341,-644.1306"/>
</g>
<!-- raw_62 -->
<g id="node63" class="node">
<title>raw_62</title>
<ellipse fill="none" stroke="#000000" cx="4275" cy="-626.3009" rx="27" ry="18"/>
<text text-anchor="middle" x="4275" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_44&#45;&gt;raw_62 -->
<g id="edge62" class="edge">
<title>prose_44&#45;&gt;raw_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4552.0461,-702.6772C4485.4555,-691.106 4332.8392,-663.9089 4311,-654.0009 4306.8482,-652.1174 4302.7356,-649.6718 4298.8563,-647.0143"/>
<polygon fill="#000000" stroke="#000000" points="4300.915,-644.1833 4290.8117,-640.9934 4296.7206,-649.7876 4300.915,-644.1833"/>
</g>
<!-- prespace_63 -->
<g id="node64" class="node">
<title>prespace_63</title>
<ellipse fill="none" stroke="#000000" cx="4366" cy="-626.3009" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4366" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_44&#45;&gt;prespace_63 -->
<g id="edge63" class="edge">
<title>prose_44&#45;&gt;prespace_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4554.3616,-699.683C4521.8302,-689.9395 4467.3733,-672.7306 4422,-654.0009 4415.668,-651.3871 4409.0519,-648.3771 4402.6773,-645.3254"/>
<polygon fill="#000000" stroke="#000000" points="4404.092,-642.1211 4393.5718,-640.8659 4401.0131,-648.4076 4404.092,-642.1211"/>
</g>
<!-- literal_64 -->
<g id="node65" class="node">
<title>literal_64</title>
<ellipse fill="none" stroke="#000000" cx="4462" cy="-626.3009" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4462" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_44&#45;&gt;literal_64 -->
<g id="edge64" class="edge">
<title>prose_44&#45;&gt;literal_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4561.9533,-694.1166C4545.5637,-683.2691 4522.2697,-667.7743 4502,-654.0009 4498.284,-651.4759 4494.3854,-648.8043 4490.5406,-646.1562"/>
<polygon fill="#000000" stroke="#000000" points="4492.5178,-643.2681 4482.3012,-640.4623 4488.5381,-649.0269 4492.5178,-643.2681"/>
</g>
<!-- raw_65 -->
<g id="node66" class="node">
<title>raw_65</title>
<ellipse fill="none" stroke="#000000" cx="4538" cy="-626.3009" rx="27" ry="18"/>
<text text-anchor="middle" x="4538" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_44&#45;&gt;raw_65 -->
<g id="edge65" class="edge">
<title>prose_44&#45;&gt;raw_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4573.4567,-690.6745C4567.3301,-679.5513 4559.2593,-664.8984 4552.3657,-652.3826"/>
<polygon fill="#000000" stroke="#000000" points="4555.2656,-650.3929 4547.3753,-643.3223 4549.1341,-653.7701 4555.2656,-650.3929"/>
</g>
<!-- prespace_66 -->
<g id="node67" class="node">
<title>prespace_66</title>
<ellipse fill="none" stroke="#000000" cx="4629" cy="-626.3009" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4629" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_44&#45;&gt;prespace_66 -->
<g id="edge66" class="edge">
<title>prose_44&#45;&gt;prespace_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4592.7554,-690.6745C4598.892,-679.7753 4606.9369,-665.487 4613.888,-653.1412"/>
<polygon fill="#000000" stroke="#000000" points="4617.0843,-654.5982 4618.9406,-644.1672 4610.9846,-651.1638 4617.0843,-654.5982"/>
</g>
<!-- literal_67 -->
<g id="node68" class="node">
<title>literal_67</title>
<ellipse fill="none" stroke="#000000" cx="4725" cy="-626.3009" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4725" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_44&#45;&gt;literal_67 -->
<g id="edge67" class="edge">
<title>prose_44&#45;&gt;literal_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4607.0586,-696.024C4627.7685,-685.5055 4658.2878,-669.5038 4684,-654.0009 4687.9978,-651.5905 4692.1459,-648.9552 4696.2003,-646.2991"/>
<polygon fill="#000000" stroke="#000000" points="4698.4624,-648.9971 4704.8317,-640.5305 4694.5728,-643.1772 4698.4624,-648.9971"/>
</g>
<!-- raw_68 -->
<g id="node69" class="node">
<title>raw_68</title>
<ellipse fill="none" stroke="#000000" cx="4801" cy="-626.3009" rx="27" ry="18"/>
<text text-anchor="middle" x="4801" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_44&#45;&gt;raw_68 -->
<g id="edge68" class="edge">
<title>prose_44&#45;&gt;raw_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4613.924,-702.4401C4651.2151,-694.9342 4715.0998,-679.4824 4765,-654.0009 4768.8716,-652.0239 4772.7451,-649.6139 4776.4401,-647.0491"/>
<polygon fill="#000000" stroke="#000000" points="4778.7359,-649.7029 4784.6532,-640.9144 4774.5469,-644.0947 4778.7359,-649.7029"/>
</g>
<!-- raw_76 -->
<g id="node77" class="node">
<title>raw_76</title>
<ellipse fill="none" stroke="#000000" cx="5024" cy="-626.3009" rx="27" ry="18"/>
<text text-anchor="middle" x="5024" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_45&#45;&gt;raw_76 -->
<g id="edge76" class="edge">
<title>prose_45&#45;&gt;raw_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5227.5941,-698.308C5185.0619,-683.2652 5103.2903,-654.3443 5057.3788,-638.1063"/>
<polygon fill="#000000" stroke="#000000" points="5058.4762,-634.782 5047.8814,-634.7473 5056.142,-641.3814 5058.4762,-634.782"/>
</g>
<!-- prespace_77 -->
<g id="node78" class="node">
<title>prespace_77</title>
<ellipse fill="none" stroke="#000000" cx="5159" cy="-626.3009" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5159" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_45&#45;&gt;prespace_77 -->
<g id="edge77" class="edge">
<title>prose_45&#45;&gt;prespace_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5236.9431,-692.6338C5222.5669,-680.399 5202.224,-663.0863 5185.9257,-649.2158"/>
<polygon fill="#000000" stroke="#000000" points="5188.1774,-646.5362 5178.2935,-642.7205 5183.6406,-651.8671 5188.1774,-646.5362"/>
</g>
<!-- literal_78 -->
<g id="node79" class="node">
<title>literal_78</title>
<ellipse fill="none" stroke="#000000" cx="5255" cy="-626.3009" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5255" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_45&#45;&gt;literal_78 -->
<g id="edge78" class="edge">
<title>prose_45&#45;&gt;literal_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5255,-689.8691C5255,-679.5032 5255,-666.2757 5255,-654.5739"/>
<polygon fill="#000000" stroke="#000000" points="5258.5001,-654.3821 5255,-644.3821 5251.5001,-654.3822 5258.5001,-654.3821"/>
</g>
<!-- raw_79 -->
<g id="node80" class="node">
<title>raw_79</title>
<ellipse fill="none" stroke="#000000" cx="5388" cy="-626.3009" rx="27" ry="18"/>
<text text-anchor="middle" x="5388" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_45&#45;&gt;raw_79 -->
<g id="edge79" class="edge">
<title>prose_45&#45;&gt;raw_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5276.9622,-694.5098C5299.4354,-680.7049 5334.4678,-659.185 5359.1625,-644.0154"/>
<polygon fill="#000000" stroke="#000000" points="5361.0616,-646.9564 5367.7504,-638.7399 5357.3977,-640.9919 5361.0616,-646.9564"/>
</g>
<!-- header_84 -->
<g id="node85" class="node">
<title>header_84</title>
<ellipse fill="none" stroke="#000000" cx="5713" cy="-626.3009" rx="77.4383" ry="18"/>
<text text-anchor="middle" x="5713" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : dependencies</text>
</g>
<!-- section_46&#45;&gt;header_84 -->
<g id="edge84" class="edge">
<title>section_46&#45;&gt;header_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5969.8335,-695.325C5917.0198,-681.1313 5831.2838,-658.0897 5773.5558,-642.5753"/>
<polygon fill="#000000" stroke="#000000" points="5774.3957,-639.1769 5763.8299,-639.9615 5772.5788,-645.937 5774.3957,-639.1769"/>
</g>
<!-- prose_85 -->
<g id="node86" class="node">
<title>prose_85</title>
<ellipse fill="none" stroke="#000000" cx="5873" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5873" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_46&#45;&gt;prose_85 -->
<g id="edge85" class="edge">
<title>section_46&#45;&gt;prose_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5988.2055,-691.6641C5964.0829,-677.9778 5929.6926,-658.4661 5904.7715,-644.3268"/>
<polygon fill="#000000" stroke="#000000" points="5906.4798,-641.272 5896.055,-639.3814 5903.0255,-647.3603 5906.4798,-641.272"/>
</g>
<!-- codeblock_86 -->
<g id="node87" class="node">
<title>codeblock_86</title>
<ellipse fill="none" stroke="#000000" cx="6017" cy="-626.3009" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="6017" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 51&#45;56</text>
</g>
<!-- section_46&#45;&gt;codeblock_86 -->
<g id="edge86" class="edge">
<title>section_46&#45;&gt;codeblock_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6017,-689.8691C6017,-679.5032 6017,-666.2757 6017,-654.5739"/>
<polygon fill="#000000" stroke="#000000" points="6020.5001,-654.3821 6017,-644.3821 6013.5001,-654.3822 6020.5001,-654.3821"/>
</g>
<!-- codeblock_87 -->
<g id="node88" class="node">
<title>codeblock_87</title>
<ellipse fill="none" stroke="#000000" cx="6236" cy="-626.3009" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="6236" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 58&#45;60</text>
</g>
<!-- section_46&#45;&gt;codeblock_87 -->
<g id="edge87" class="edge">
<title>section_46&#45;&gt;codeblock_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6055.9005,-693.4888C6091.9334,-680.0463 6145.7469,-659.9707 6185.1667,-645.2648"/>
<polygon fill="#000000" stroke="#000000" points="6186.7131,-648.4236 6194.859,-641.649 6184.2664,-641.8651 6186.7131,-648.4236"/>
</g>
<!-- header_93 -->
<g id="node94" class="node">
<title>header_93</title>
<ellipse fill="none" stroke="#000000" cx="6521" cy="-626.3009" rx="115.7565" ry="18"/>
<text text-anchor="middle" x="6521" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf.__tostring(txtbuf)</text>
</g>
<!-- section_47&#45;&gt;header_93 -->
<g id="edge93" class="edge">
<title>section_47&#45;&gt;header_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6840.8036,-696.7267C6777.9633,-682.8883 6670.803,-659.2899 6598.0098,-643.2597"/>
<polygon fill="#000000" stroke="#000000" points="6598.4934,-639.7824 6587.9746,-641.0498 6596.9879,-646.6186 6598.4934,-639.7824"/>
</g>
<!-- prose_94 -->
<g id="node95" class="node">
<title>prose_94</title>
<ellipse fill="none" stroke="#000000" cx="6738" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6738" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_47&#45;&gt;prose_94 -->
<g id="edge94" class="edge">
<title>section_47&#45;&gt;prose_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6861.5746,-691.8596C6835.385,-677.9656 6797.6811,-657.9629 6770.8192,-643.7121"/>
<polygon fill="#000000" stroke="#000000" points="6772.2807,-640.5255 6761.8066,-638.9308 6769.0001,-646.7092 6772.2807,-640.5255"/>
</g>
<!-- codeblock_95 -->
<g id="node96" class="node">
<title>codeblock_95</title>
<ellipse fill="none" stroke="#000000" cx="6892" cy="-626.3009" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="6892" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 64&#45;80</text>
</g>
<!-- section_47&#45;&gt;codeblock_95 -->
<g id="edge95" class="edge">
<title>section_47&#45;&gt;codeblock_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6892,-689.8691C6892,-679.5032 6892,-666.2757 6892,-654.5739"/>
<polygon fill="#000000" stroke="#000000" points="6895.5001,-654.3821 6892,-644.3821 6888.5001,-654.3822 6895.5001,-654.3821"/>
</g>
<!-- codeblock_96 -->
<g id="node97" class="node">
<title>codeblock_96</title>
<ellipse fill="none" stroke="#000000" cx="7183" cy="-626.3009" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="7183" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 82&#45;91</text>
</g>
<!-- section_47&#45;&gt;codeblock_96 -->
<g id="edge96" class="edge">
<title>section_47&#45;&gt;codeblock_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6938.1098,-695.0553C6988.1992,-680.9924 7068.3912,-658.478 7123.2686,-643.0709"/>
<polygon fill="#000000" stroke="#000000" points="7124.5262,-646.3532 7133.2079,-640.2804 7122.634,-639.6138 7124.5262,-646.3532"/>
</g>
<!-- header_102 -->
<g id="node103" class="node">
<title>header_102</title>
<ellipse fill="none" stroke="#000000" cx="7601" cy="-626.3009" rx="92.0509" ry="18"/>
<text text-anchor="middle" x="7601" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:insert(frag)</text>
</g>
<!-- section_48&#45;&gt;header_102 -->
<g id="edge102" class="edge">
<title>section_48&#45;&gt;header_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7714.2642,-691.4677C7692.7061,-679.0642 7662.9745,-661.9581 7639.3821,-648.3842"/>
<polygon fill="#000000" stroke="#000000" points="7641.0838,-645.3253 7630.6706,-643.372 7637.5929,-651.3927 7641.0838,-645.3253"/>
</g>
<!-- prose_103 -->
<g id="node104" class="node">
<title>prose_103</title>
<ellipse fill="none" stroke="#000000" cx="7743" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7743" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_48&#45;&gt;prose_103 -->
<g id="edge103" class="edge">
<title>section_48&#45;&gt;prose_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7743,-689.8691C7743,-679.5032 7743,-666.2757 7743,-654.5739"/>
<polygon fill="#000000" stroke="#000000" points="7746.5001,-654.3821 7743,-644.3821 7739.5001,-654.3822 7746.5001,-654.3821"/>
</g>
<!-- codeblock_104 -->
<g id="node105" class="node">
<title>codeblock_104</title>
<ellipse fill="none" stroke="#000000" cx="7958" cy="-626.3009" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="7958" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 96&#45;126</text>
</g>
<!-- section_48&#45;&gt;codeblock_104 -->
<g id="edge104" class="edge">
<title>section_48&#45;&gt;codeblock_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7782.4343,-693.0159C7817.526,-679.6811 7869.0563,-660.0995 7907.2207,-645.597"/>
<polygon fill="#000000" stroke="#000000" points="7908.5129,-648.8503 7916.6174,-642.0263 7906.0263,-642.3068 7908.5129,-648.8503"/>
</g>
<!-- header_109 -->
<g id="node110" class="node">
<title>header_109</title>
<ellipse fill="none" stroke="#000000" cx="8388" cy="-626.3009" rx="88.6939" ry="18"/>
<text text-anchor="middle" x="8388" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:advance()</text>
</g>
<!-- section_49&#45;&gt;header_109 -->
<g id="edge109" class="edge">
<title>section_49&#45;&gt;header_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8442.811,-690.2732C8433.2454,-679.1088 8420.7361,-664.5086 8410.0836,-652.0756"/>
<polygon fill="#000000" stroke="#000000" points="8412.5653,-649.5928 8403.401,-644.2761 8407.2496,-654.1473 8412.5653,-649.5928"/>
</g>
<!-- prose_110 -->
<g id="node111" class="node">
<title>prose_110</title>
<ellipse fill="none" stroke="#000000" cx="8527" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8527" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_49&#45;&gt;prose_110 -->
<g id="edge110" class="edge">
<title>section_49&#45;&gt;prose_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8472.972,-690.2732C8482.7911,-678.6468 8495.757,-663.2945 8506.5257,-650.5437"/>
<polygon fill="#000000" stroke="#000000" points="8509.4514,-652.5039 8513.2298,-642.6056 8504.1035,-647.9872 8509.4514,-652.5039"/>
</g>
<!-- codeblock_111 -->
<g id="node112" class="node">
<title>codeblock_111</title>
<ellipse fill="none" stroke="#000000" cx="8683" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="8683" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 131&#45;139</text>
</g>
<!-- section_49&#45;&gt;codeblock_111 -->
<g id="edge111" class="edge">
<title>section_49&#45;&gt;codeblock_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8499.5307,-692.9207C8536.3646,-679.5459 8590.354,-659.9417 8630.2358,-645.4602"/>
<polygon fill="#000000" stroke="#000000" points="8631.5907,-648.6919 8639.7956,-641.9889 8629.2015,-642.1122 8631.5907,-648.6919"/>
</g>
<!-- header_116 -->
<g id="node117" class="node">
<title>header_116</title>
<ellipse fill="none" stroke="#000000" cx="8939" cy="-626.3009" rx="83.8576" ry="18"/>
<text text-anchor="middle" x="8939" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:d_back()</text>
</g>
<!-- section_50&#45;&gt;header_116 -->
<g id="edge116" class="edge">
<title>section_50&#45;&gt;header_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8991.462,-690.2732C8982.3064,-679.1088 8970.3331,-664.5086 8960.1371,-652.0756"/>
<polygon fill="#000000" stroke="#000000" points="8962.7885,-649.7892 8953.741,-644.2761 8957.3758,-654.228 8962.7885,-649.7892"/>
</g>
<!-- prose_117 -->
<g id="node118" class="node">
<title>prose_117</title>
<ellipse fill="none" stroke="#000000" cx="9073" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9073" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_50&#45;&gt;prose_117 -->
<g id="edge117" class="edge">
<title>section_50&#45;&gt;prose_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9020.538,-690.2732C9030.0094,-678.7238 9042.496,-663.4976 9052.9111,-650.7974"/>
<polygon fill="#000000" stroke="#000000" points="9055.7689,-652.8321 9059.4037,-642.8803 9050.3562,-648.3933 9055.7689,-652.8321"/>
</g>
<!-- codeblock_118 -->
<g id="node119" class="node">
<title>codeblock_118</title>
<ellipse fill="none" stroke="#000000" cx="9279" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9279" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 144&#45;151</text>
</g>
<!-- section_50&#45;&gt;codeblock_118 -->
<g id="edge118" class="edge">
<title>section_50&#45;&gt;codeblock_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9053.2413,-693.8632C9099.3103,-680.0762 9169.5348,-659.0603 9219.4157,-644.1326"/>
<polygon fill="#000000" stroke="#000000" points="9220.5308,-647.4523 9229.1075,-641.2321 9218.5238,-640.7462 9220.5308,-647.4523"/>
</g>
<!-- header_123 -->
<g id="node124" class="node">
<title>header_123</title>
<ellipse fill="none" stroke="#000000" cx="9651" cy="-626.3009" rx="78.5213" ry="18"/>
<text text-anchor="middle" x="9651" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:d_fwd()</text>
</g>
<!-- section_51&#45;&gt;header_123 -->
<g id="edge123" class="edge">
<title>section_51&#45;&gt;header_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9701.896,-690.2732C9693.0982,-679.2152 9681.6188,-664.7864 9671.7892,-652.4314"/>
<polygon fill="#000000" stroke="#000000" points="9674.2658,-649.9226 9665.301,-644.2761 9668.788,-654.2807 9674.2658,-649.9226"/>
</g>
<!-- prose_124 -->
<g id="node125" class="node">
<title>prose_124</title>
<ellipse fill="none" stroke="#000000" cx="9780" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9780" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_51&#45;&gt;prose_124 -->
<g id="edge124" class="edge">
<title>section_51&#45;&gt;prose_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9729.887,-690.2732C9738.9343,-678.7238 9750.8618,-663.4976 9760.8106,-650.7974"/>
<polygon fill="#000000" stroke="#000000" points="9763.601,-652.9109 9767.0125,-642.8803 9758.0905,-648.5941 9763.601,-652.9109"/>
</g>
<!-- codeblock_125 -->
<g id="node126" class="node">
<title>codeblock_125</title>
<ellipse fill="none" stroke="#000000" cx="9964" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9964" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 156&#45;160</text>
</g>
<!-- section_51&#45;&gt;codeblock_125 -->
<g id="edge125" class="edge">
<title>section_51&#45;&gt;codeblock_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9760.3374,-693.3946C9801.6136,-679.7968 9863.3123,-659.471 9907.979,-644.7562"/>
<polygon fill="#000000" stroke="#000000" points="9909.1186,-648.0659 9917.5214,-641.6126 9906.9283,-641.4174 9909.1186,-648.0659"/>
</g>
<!-- header_130 -->
<g id="node131" class="node">
<title>header_130</title>
<ellipse fill="none" stroke="#000000" cx="10310" cy="-626.3009" rx="83.3644" ry="18"/>
<text text-anchor="middle" x="10310" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:left(disp)</text>
</g>
<!-- section_52&#45;&gt;header_130 -->
<g id="edge130" class="edge">
<title>section_52&#45;&gt;header_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10361.679,-690.2732C10352.66,-679.1088 10340.8655,-664.5086 10330.8216,-652.0756"/>
<polygon fill="#000000" stroke="#000000" points="10333.5277,-649.8556 10324.521,-644.2761 10328.0824,-654.2545 10333.5277,-649.8556"/>
</g>
<!-- prose_131 -->
<g id="node132" class="node">
<title>prose_131</title>
<ellipse fill="none" stroke="#000000" cx="10443" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10443" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_52&#45;&gt;prose_131 -->
<g id="edge131" class="edge">
<title>section_52&#45;&gt;prose_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10390.538,-690.2732C10400.0094,-678.7238 10412.496,-663.4976 10422.9111,-650.7974"/>
<polygon fill="#000000" stroke="#000000" points="10425.7689,-652.8321 10429.4037,-642.8803 10420.3562,-648.3933 10425.7689,-652.8321"/>
</g>
<!-- codeblock_132 -->
<g id="node133" class="node">
<title>codeblock_132</title>
<ellipse fill="none" stroke="#000000" cx="10612" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="10612" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 165&#45;176</text>
</g>
<!-- section_52&#45;&gt;codeblock_132 -->
<g id="edge132" class="edge">
<title>section_52&#45;&gt;codeblock_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10419.0116,-693.1109C10457.9878,-679.6179 10515.6017,-659.6727 10557.7314,-645.088"/>
<polygon fill="#000000" stroke="#000000" points="10558.9737,-648.3618 10567.2785,-641.7829 10556.6837,-641.7469 10558.9737,-648.3618"/>
</g>
<!-- header_137 -->
<g id="node138" class="node">
<title>header_137</title>
<ellipse fill="none" stroke="#000000" cx="10894" cy="-626.3009" rx="88.6766" ry="18"/>
<text text-anchor="middle" x="10894" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:right(disp)</text>
</g>
<!-- section_53&#45;&gt;header_137 -->
<g id="edge137" class="edge">
<title>section_53&#45;&gt;header_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10948.811,-690.2732C10939.2454,-679.1088 10926.7361,-664.5086 10916.0836,-652.0756"/>
<polygon fill="#000000" stroke="#000000" points="10918.5653,-649.5928 10909.401,-644.2761 10913.2496,-654.1473 10918.5653,-649.5928"/>
</g>
<!-- prose_138 -->
<g id="node139" class="node">
<title>prose_138</title>
<ellipse fill="none" stroke="#000000" cx="11033" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11033" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_53&#45;&gt;prose_138 -->
<g id="edge138" class="edge">
<title>section_53&#45;&gt;prose_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10978.972,-690.2732C10988.7911,-678.6468 11001.757,-663.2945 11012.5257,-650.5437"/>
<polygon fill="#000000" stroke="#000000" points="11015.4514,-652.5039 11019.2298,-642.6056 11010.1035,-647.9872 11015.4514,-652.5039"/>
</g>
<!-- codeblock_139 -->
<g id="node140" class="node">
<title>codeblock_139</title>
<ellipse fill="none" stroke="#000000" cx="11205" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11205" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 181&#45;193</text>
</g>
<!-- section_53&#45;&gt;codeblock_139 -->
<g id="edge139" class="edge">
<title>section_53&#45;&gt;codeblock_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11007.6433,-693.2057C11047.619,-679.6538 11106.963,-659.5359 11150.1334,-644.9009"/>
<polygon fill="#000000" stroke="#000000" points="11151.2886,-648.205 11159.6355,-641.6797 11149.0411,-641.5756 11151.2886,-648.205"/>
</g>
<!-- header_144 -->
<g id="node145" class="node">
<title>header_144</title>
<ellipse fill="none" stroke="#000000" cx="11528" cy="-626.3009" rx="123.6395" ry="18"/>
<text text-anchor="middle" x="11528" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:up(), Txtbuf:down()</text>
</g>
<!-- section_54&#45;&gt;header_144 -->
<g id="edge144" class="edge">
<title>section_54&#45;&gt;header_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11667.6232,-691.8596C11640.8125,-679.271 11603.3219,-661.6676 11573.9393,-647.8713"/>
<polygon fill="#000000" stroke="#000000" points="11575.2477,-644.619 11564.7082,-643.5369 11572.2725,-650.9553 11575.2477,-644.619"/>
</g>
<!-- prose_145 -->
<g id="node146" class="node">
<title>prose_145</title>
<ellipse fill="none" stroke="#000000" cx="11702" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11702" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_54&#45;&gt;prose_145 -->
<g id="edge145" class="edge">
<title>section_54&#45;&gt;prose_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11702,-689.8691C11702,-679.5032 11702,-666.2757 11702,-654.5739"/>
<polygon fill="#000000" stroke="#000000" points="11705.5001,-654.3821 11702,-644.3821 11698.5001,-654.3822 11705.5001,-654.3821"/>
</g>
<!-- codeblock_146 -->
<g id="node147" class="node">
<title>codeblock_146</title>
<ellipse fill="none" stroke="#000000" cx="11900" cy="-626.3009" rx="86.7905" ry="18"/>
<text text-anchor="middle" x="11900" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 198&#45;211</text>
</g>
<!-- section_54&#45;&gt;codeblock_146 -->
<g id="edge146" class="edge">
<title>section_54&#45;&gt;codeblock_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11740.1764,-692.2484C11771.9165,-679.1516 11817.275,-660.4354 11851.5676,-646.2854"/>
<polygon fill="#000000" stroke="#000000" points="11853.017,-649.4737 11860.9259,-642.4239 11850.3469,-643.0029 11853.017,-649.4737"/>
</g>
<!-- codeblock_147 -->
<g id="node148" class="node">
<title>codeblock_147</title>
<ellipse fill="none" stroke="#000000" cx="12264" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="12264" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 213&#45;226</text>
</g>
<!-- section_54&#45;&gt;codeblock_147 -->
<g id="edge147" class="edge">
<title>section_54&#45;&gt;codeblock_147</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11766.4685,-698.6289C11869.1816,-683.6971 12069.8314,-654.5279 12182.4029,-638.163"/>
<polygon fill="#000000" stroke="#000000" points="12182.9573,-641.6193 12192.3497,-636.717 12181.9502,-634.6921 12182.9573,-641.6193"/>
</g>
<!-- header_153 -->
<g id="node154" class="node">
<title>header_153</title>
<ellipse fill="none" stroke="#000000" cx="12773" cy="-626.3009" rx="62.0899" ry="18"/>
<text text-anchor="middle" x="12773" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Txtbuf:nl()</text>
</g>
<!-- section_55&#45;&gt;header_153 -->
<g id="edge153" class="edge">
<title>section_55&#45;&gt;header_153</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13061.5625,-695.2353C12998.97,-680.2827 12895.6465,-655.5998 12831.1072,-640.1821"/>
<polygon fill="#000000" stroke="#000000" points="12831.6338,-636.7095 12821.0942,-637.7901 12830.0073,-643.5179 12831.6338,-636.7095"/>
</g>
<!-- prose_154 -->
<g id="node155" class="node">
<title>prose_154</title>
<ellipse fill="none" stroke="#000000" cx="12946" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="12946" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_55&#45;&gt;prose_154 -->
<g id="edge154" class="edge">
<title>section_55&#45;&gt;prose_154</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13081.2065,-691.6641C13051.6542,-677.3776 13008.9715,-656.7433 12979.505,-642.4983"/>
<polygon fill="#000000" stroke="#000000" points="12980.9623,-639.3153 12970.4358,-638.114 12977.9156,-645.6175 12980.9623,-639.3153"/>
</g>
<!-- codeblock_155 -->
<g id="node156" class="node">
<title>codeblock_155</title>
<ellipse fill="none" stroke="#000000" cx="13115" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="13115" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 232&#45;261</text>
</g>
<!-- section_55&#45;&gt;codeblock_155 -->
<g id="edge155" class="edge">
<title>section_55&#45;&gt;codeblock_155</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13115,-689.8691C13115,-679.5032 13115,-666.2757 13115,-654.5739"/>
<polygon fill="#000000" stroke="#000000" points="13118.5001,-654.3821 13115,-644.3821 13111.5001,-654.3822 13118.5001,-654.3821"/>
</g>
<!-- codeblock_156 -->
<g id="node157" class="node">
<title>codeblock_156</title>
<ellipse fill="none" stroke="#000000" cx="13400" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="13400" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 264&#45;272</text>
</g>
<!-- section_55&#45;&gt;codeblock_156 -->
<g id="edge156" class="edge">
<title>section_55&#45;&gt;codeblock_156</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13163.3464,-694.1416C13211.8352,-680.2415 13286.6501,-658.7946 13339.1496,-643.7447"/>
<polygon fill="#000000" stroke="#000000" points="13340.3609,-647.0385 13349.0092,-640.9183 13338.4318,-640.3096 13340.3609,-647.0385"/>
</g>
<!-- codeblock_157 -->
<g id="node158" class="node">
<title>codeblock_157</title>
<ellipse fill="none" stroke="#000000" cx="13714" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="13714" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 274&#45;284</text>
</g>
<!-- section_55&#45;&gt;codeblock_157 -->
<g id="edge157" class="edge">
<title>section_55&#45;&gt;codeblock_157</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13180.8169,-699.0239C13290.5235,-684.0606 13510.5689,-654.0477 13630.8345,-637.6442"/>
<polygon fill="#000000" stroke="#000000" points="13631.6555,-641.0647 13641.0907,-636.2453 13630.7094,-634.1289 13631.6555,-641.0647"/>
</g>
<!-- codeblock_158 -->
<g id="node159" class="node">
<title>codeblock_158</title>
<ellipse fill="none" stroke="#000000" cx="14086" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="14086" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 286&#45;297</text>
</g>
<!-- section_55&#45;&gt;codeblock_158 -->
<g id="edge158" class="edge">
<title>section_55&#45;&gt;codeblock_158</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13187.5848,-702.9011C13314.0715,-693.8933 13583.0708,-674.2019 13810,-654.0009 13872.9761,-648.3949 13943.9492,-641.2535 13998.1534,-635.626"/>
<polygon fill="#000000" stroke="#000000" points="13998.8341,-639.0742 14008.418,-634.5576 13998.1094,-632.1118 13998.8341,-639.0742"/>
</g>
<!-- header_166 -->
<g id="node167" class="node">
<title>header_166</title>
<ellipse fill="none" stroke="#000000" cx="14540" cy="-626.3009" rx="38.7388" ry="18"/>
<text text-anchor="middle" x="14540" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : new</text>
</g>
<!-- section_56&#45;&gt;header_166 -->
<g id="edge166" class="edge">
<title>section_56&#45;&gt;header_166</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14609.6883,-690.2732C14596.6612,-678.3147 14579.34,-662.4141 14565.2254,-649.4573"/>
<polygon fill="#000000" stroke="#000000" points="14567.4952,-646.7898 14557.7616,-642.6056 14562.7614,-651.9465 14567.4952,-646.7898"/>
</g>
<!-- prose_167 -->
<g id="node168" class="node">
<title>prose_167</title>
<ellipse fill="none" stroke="#000000" cx="14629" cy="-626.3009" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="14629" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_56&#45;&gt;prose_167 -->
<g id="edge167" class="edge">
<title>section_56&#45;&gt;prose_167</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14629,-689.8691C14629,-679.5032 14629,-666.2757 14629,-654.5739"/>
<polygon fill="#000000" stroke="#000000" points="14632.5001,-654.3821 14629,-644.3821 14625.5001,-654.3822 14632.5001,-654.3821"/>
</g>
<!-- codeblock_168 -->
<g id="node169" class="node">
<title>codeblock_168</title>
<ellipse fill="none" stroke="#000000" cx="14813" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="14813" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 302&#45;326</text>
</g>
<!-- section_56&#45;&gt;codeblock_168 -->
<g id="edge168" class="edge">
<title>section_56&#45;&gt;codeblock_168</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14664.9139,-692.0544C14694.0113,-679.1345 14735.2126,-660.8402 14766.7716,-646.8274"/>
<polygon fill="#000000" stroke="#000000" points="14768.5129,-649.8837 14776.2321,-642.6267 14765.6721,-643.4861 14768.5129,-649.8837"/>
</g>
<!-- codeblock_169 -->
<g id="node170" class="node">
<title>codeblock_169</title>
<ellipse fill="none" stroke="#000000" cx="15062" cy="-626.3009" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="15062" y="-622.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 328&#45;330</text>
</g>
<!-- section_56&#45;&gt;codeblock_169 -->
<g id="edge169" class="edge">
<title>section_56&#45;&gt;codeblock_169</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14688.2989,-696.8122C14766.0869,-682.1349 14902.6181,-656.3737 14987.357,-640.3848"/>
<polygon fill="#000000" stroke="#000000" points="14988.2492,-643.7783 14997.4268,-638.4848 14986.9512,-636.8997 14988.2492,-643.7783"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="3341.5,-362.602 2996.5,-362.602 2996.5,-306.799 3341.5,-306.799 3341.5,-362.602"/>
<text text-anchor="middle" x="3169" y="-315.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">Initially these are only the methods of txtbuf.</text>
</g>
<!-- raw_58&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>raw_58&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4115.7879,-611.3005C4109.799,-606.3358 4102.5503,-601.3749 4095,-598.6009 3939.6276,-541.5173 3498.3807,-637.9538 3351,-562.6009 3269.5549,-520.9596 3212.4253,-424.5991 3185.8515,-371.484"/>
<polygon fill="#000000" stroke="#000000" points="3188.9441,-369.8412 3181.3967,-362.4056 3182.6599,-372.9249 3188.9441,-369.8412"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="3894,-369.9009 3360,-369.9009 3360,-299.5001 3894,-299.5001 3894,-369.9009"/>
<text text-anchor="middle" x="3627" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">I think the way forward is to treat txtbuf as a special case until it&#39;s at</text>
<text text-anchor="middle" x="3627" y="-323.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">feature parity, and we have the other aspects such as resizing the result</text>
<text text-anchor="middle" x="3627" y="-307.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">field working correctly.</text>
</g>
<!-- raw_60&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>raw_60&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4187.2943,-611.365C4181.3616,-606.532 4174.2767,-601.6405 4167,-598.6009 4057.7304,-552.958 4011.4683,-610.1165 3903,-562.6009 3804.5345,-519.4672 3713.1129,-430.5605 3664.1785,-377.4396"/>
<polygon fill="#000000" stroke="#000000" points="3666.5977,-374.8983 3657.2712,-369.8715 3661.4273,-379.6172 3666.5977,-374.8983"/>
</g>
<!-- leaf_69 -->
<g id="node70" class="node">
<title>leaf_69</title>
<polygon fill="none" stroke="#c0c0c0" points="4173.5,-354.6026 3912.5,-354.6026 3912.5,-314.7984 4173.5,-314.7984 4173.5,-354.6026"/>
<text text-anchor="middle" x="4043" y="-323.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">Then we will simply switch to using</text>
</g>
<!-- raw_62&#45;&gt;leaf_69 -->
<g id="edge69" class="edge">
<title>raw_62&#45;&gt;leaf_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4257.6441,-612.4737C4251.7995,-607.9452 4245.1896,-602.9601 4239,-598.6009 4214.8091,-581.564 4203.7068,-583.7359 4183,-562.6009 4123.0806,-501.4424 4076.8484,-410.1565 4055.671,-363.8687"/>
<polygon fill="#000000" stroke="#000000" points="4058.8383,-362.3781 4051.5364,-354.7014 4052.4573,-365.2562 4058.8383,-362.3781"/>
</g>
<!-- leaf_70 -->
<g id="node71" class="node">
<title>leaf_70</title>
<polygon fill="none" stroke="#c0c0c0" points="4246,-352.7005 4192,-352.7005 4192,-316.7005 4246,-316.7005 4246,-352.7005"/>
<text text-anchor="middle" x="4219" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_63&#45;&gt;leaf_70 -->
<g id="edge70" class="edge">
<title>prespace_63&#45;&gt;leaf_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4337.8228,-611.7641C4306.7184,-595.4666 4260.3098,-570.3086 4255,-562.6009 4212.8187,-501.3712 4212.8802,-409.1189 4216.1022,-363.0218"/>
<polygon fill="#000000" stroke="#000000" points="4219.6061,-363.113 4216.918,-352.8649 4212.6286,-362.5526 4219.6061,-363.113"/>
</g>
<!-- leaf_71 -->
<g id="node72" class="node">
<title>leaf_71</title>
<polygon fill="none" stroke="#c0c0c0" points="4322,-352.7005 4264,-352.7005 4264,-316.7005 4322,-316.7005 4322,-352.7005"/>
<text text-anchor="middle" x="4293" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">txtbuf</text>
</g>
<!-- literal_64&#45;&gt;leaf_71 -->
<g id="edge71" class="edge">
<title>literal_64&#45;&gt;leaf_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4442.5117,-611.8908C4435.8739,-607.3234 4428.2866,-602.4626 4421,-598.6009 4382.9341,-578.427 4358.014,-596.1605 4331,-562.6009 4283.9808,-504.1887 4285.3682,-409.5608 4289.5387,-362.7561"/>
<polygon fill="#000000" stroke="#000000" points="4293.0289,-363.0277 4290.5424,-352.7288 4286.0637,-362.3304 4293.0289,-363.0277"/>
</g>
<!-- leaf_72 -->
<g id="node73" class="node">
<title>leaf_72</title>
<polygon fill="none" stroke="#c0c0c0" points="4608,-354.0011 4340,-354.0011 4340,-315.3999 4608,-315.3999 4608,-354.0011"/>
<text text-anchor="middle" x="4474" y="-338.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">s of a single line instead of the</text>
<text text-anchor="middle" x="4474" y="-323.5005" font-family="Inconsolata" font-size="14.00" fill="#000000">two separate classes, and factor out</text>
</g>
<!-- raw_65&#45;&gt;leaf_72 -->
<g id="edge72" class="edge">
<title>raw_65&#45;&gt;leaf_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4533.9965,-608.06C4523.2314,-559.0115 4493.5914,-423.9639 4480.4353,-364.0214"/>
<polygon fill="#000000" stroke="#000000" points="4483.814,-363.0886 4478.2515,-354.0714 4476.9767,-364.5893 4483.814,-363.0886"/>
</g>
<!-- leaf_73 -->
<g id="node74" class="node">
<title>leaf_73</title>
<polygon fill="none" stroke="#c0c0c0" points="4680,-352.7005 4626,-352.7005 4626,-316.7005 4680,-316.7005 4680,-352.7005"/>
<text text-anchor="middle" x="4653" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_66&#45;&gt;leaf_73 -->
<g id="edge73" class="edge">
<title>prespace_66&#45;&gt;leaf_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4630.5013,-608.06C4634.5588,-558.7609 4645.767,-422.5817 4650.6619,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="4654.1671,-363.1879 4651.4993,-352.9345 4647.1907,-362.6137 4654.1671,-363.1879"/>
</g>
<!-- leaf_74 -->
<g id="node75" class="node">
<title>leaf_74</title>
<polygon fill="none" stroke="#c0c0c0" points="4756,-352.7005 4698,-352.7005 4698,-316.7005 4756,-316.7005 4756,-352.7005"/>
<text text-anchor="middle" x="4727" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">txtbuf</text>
</g>
<!-- literal_67&#45;&gt;leaf_74 -->
<g id="edge74" class="edge">
<title>literal_67&#45;&gt;leaf_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4725.1251,-608.06C4725.4632,-558.7609 4726.3972,-422.5817 4726.8052,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="4730.3062,-362.9583 4726.8749,-352.9345 4723.3063,-362.9102 4730.3062,-362.9583"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="4828,-352.7005 4774,-352.7005 4774,-316.7005 4828,-316.7005 4828,-352.7005"/>
<text text-anchor="middle" x="4801" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_68&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>raw_68&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4801,-608.06C4801,-558.7609 4801,-422.5817 4801,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="4804.5001,-362.9345 4801,-352.9345 4797.5001,-362.9345 4804.5001,-362.9345"/>
</g>
<!-- leaf_80 -->
<g id="node81" class="node">
<title>leaf_80</title>
<polygon fill="none" stroke="#c0c0c0" points="5114,-354.6026 4846,-354.6026 4846,-314.7984 5114,-314.7984 5114,-354.6026"/>
<text text-anchor="middle" x="4980" y="-323.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">This amounts to porting the existing</text>
</g>
<!-- raw_76&#45;&gt;leaf_80 -->
<g id="edge80" class="edge">
<title>raw_76&#45;&gt;leaf_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5021.2476,-608.06C5013.8644,-559.1291 4993.5667,-424.6111 4984.4895,-364.4539"/>
<polygon fill="#000000" stroke="#000000" points="4987.934,-363.8228 4982.9811,-354.457 4981.0124,-364.8673 4987.934,-363.8228"/>
</g>
<!-- leaf_81 -->
<g id="node82" class="node">
<title>leaf_81</title>
<polygon fill="none" stroke="#c0c0c0" points="5186,-352.7005 5132,-352.7005 5132,-316.7005 5186,-316.7005 5186,-352.7005"/>
<text text-anchor="middle" x="5159" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_77&#45;&gt;leaf_81 -->
<g id="edge81" class="edge">
<title>prespace_77&#45;&gt;leaf_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5159,-608.06C5159,-558.7609 5159,-422.5817 5159,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="5162.5001,-362.9345 5159,-352.9345 5155.5001,-362.9345 5162.5001,-362.9345"/>
</g>
<!-- leaf_82 -->
<g id="node83" class="node">
<title>leaf_82</title>
<polygon fill="none" stroke="#c0c0c0" points="5262,-352.7005 5204,-352.7005 5204,-316.7005 5262,-316.7005 5262,-352.7005"/>
<text text-anchor="middle" x="5233" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">txtbuf</text>
</g>
<!-- literal_78&#45;&gt;leaf_82 -->
<g id="edge82" class="edge">
<title>literal_78&#45;&gt;leaf_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5253.6238,-608.06C5249.9044,-558.7609 5239.6303,-422.5817 5235.1433,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="5238.6182,-362.6428 5234.3757,-352.9345 5231.638,-363.1695 5238.6182,-362.6428"/>
</g>
<!-- leaf_83 -->
<g id="node84" class="node">
<title>leaf_83</title>
<polygon fill="none" stroke="#c0c0c0" points="5611.5,-362.0009 5280.5,-362.0009 5280.5,-307.4001 5611.5,-307.4001 5611.5,-362.0009"/>
<text text-anchor="middle" x="5446" y="-346.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">, as I think about it. A single</text>
<text text-anchor="middle" x="5446" y="-331.5005" font-family="Inconsolata" font-size="14.00" fill="#000000">line isn&#39;t even a special case for the logic.</text>
</g>
<!-- raw_79&#45;&gt;leaf_83 -->
<g id="edge83" class="edge">
<title>raw_79&#45;&gt;leaf_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5391.6282,-608.06C5400.9546,-561.1706 5425.9136,-435.6867 5438.5094,-372.3601"/>
<polygon fill="#000000" stroke="#000000" points="5441.9751,-372.8768 5440.4933,-362.3861 5435.1096,-371.5112 5441.9751,-372.8768"/>
</g>
<!-- leaf_88 -->
<g id="node89" class="node">
<title>leaf_88</title>
<polygon fill="none" stroke="#c0c0c0" points="5764.5,-352.7005 5629.5,-352.7005 5629.5,-316.7005 5764.5,-316.7005 5764.5,-352.7005"/>
<text text-anchor="middle" x="5697" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">**** dependencies</text>
</g>
<!-- header_84&#45;&gt;leaf_88 -->
<g id="edge88" class="edge">
<title>header_84&#45;&gt;leaf_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5711.9991,-608.06C5709.2941,-558.7609 5701.822,-422.5817 5698.5587,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="5702.0432,-362.7277 5698.0005,-352.9345 5695.0537,-363.1113 5702.0432,-362.7277"/>
</g>
<!-- raw_89 -->
<g id="node90" class="node">
<title>raw_89</title>
<ellipse fill="none" stroke="#000000" cx="5810" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="5810" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_85&#45;&gt;raw_89 -->
<g id="edge89" class="edge">
<title>prose_85&#45;&gt;raw_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5864.2433,-608.8749C5858.2687,-596.3029 5850.6276,-578.7677 5846,-562.6009 5825.8792,-492.308 5816.1492,-406.393 5812.2217,-362.8693"/>
<polygon fill="#000000" stroke="#000000" points="5815.6954,-362.4133 5811.3454,-352.7526 5808.7215,-363.0174 5815.6954,-362.4133"/>
</g>
<!-- leaf_91 -->
<g id="node92" class="node">
<title>leaf_91</title>
<polygon fill="none" stroke="#c0c0c0" points="6179,-369.3018 5855,-369.3018 5855,-300.0992 6179,-300.0992 6179,-369.3018"/>
<text text-anchor="middle" x="6017" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">assert(meta)</text>
<text text-anchor="middle" x="6017" y="-338.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">local collect = assert(table.collect)</text>
<text text-anchor="middle" x="6017" y="-323.5005" font-family="Inconsolata" font-size="14.00" fill="#000000">local lines = assert(string.lines)</text>
<text text-anchor="middle" x="6017" y="-308.1005" font-family="Inconsolata" font-size="14.00" fill="#000000">local codepoints = assert(string.codepoints)</text>
</g>
<!-- codeblock_86&#45;&gt;leaf_91 -->
<g id="edge91" class="edge">
<title>codeblock_86&#45;&gt;leaf_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6017,-608.06C6017,-562.9422 6017,-445.0569 6017,-379.7968"/>
<polygon fill="#000000" stroke="#000000" points="6020.5001,-379.4086 6017,-369.4086 6013.5001,-379.4087 6020.5001,-379.4086"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="6367,-352.7005 6197,-352.7005 6197,-316.7005 6367,-316.7005 6367,-352.7005"/>
<text text-anchor="middle" x="6282" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">local Txtbuf = meta {}</text>
</g>
<!-- codeblock_87&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>codeblock_87&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6238.8775,-608.06C6246.6544,-558.7609 6268.1367,-422.5817 6277.5186,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="6281.0225,-363.3578 6279.1236,-352.9345 6274.108,-362.2669 6281.0225,-363.3578"/>
</g>
<!-- leaf_90 -->
<g id="node91" class="node">
<title>leaf_90</title>
<polygon fill="none" stroke="#c0c0c0" points="5837,-53.4 5783,-53.4 5783,-17.4 5837,-17.4 5837,-53.4"/>
</g>
<!-- raw_89&#45;&gt;leaf_90 -->
<g id="edge90" class="edge">
<title>raw_89&#45;&gt;leaf_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5810,-316.4284C5810,-265.9023 5810,-124.0493 5810,-63.4351"/>
<polygon fill="#000000" stroke="#000000" points="5813.5001,-63.4329 5810,-53.4329 5806.5001,-63.433 5813.5001,-63.4329"/>
</g>
<!-- leaf_97 -->
<g id="node98" class="node">
<title>leaf_97</title>
<polygon fill="none" stroke="#c0c0c0" points="6604.5,-352.7005 6385.5,-352.7005 6385.5,-316.7005 6604.5,-316.7005 6604.5,-352.7005"/>
<text text-anchor="middle" x="6495" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf.__tostring(txtbuf)</text>
</g>
<!-- header_93&#45;&gt;leaf_97 -->
<g id="edge97" class="edge">
<title>header_93&#45;&gt;leaf_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6519.3736,-608.06C6514.9779,-558.7609 6502.8358,-422.5817 6497.533,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="6501.0002,-362.5841 6496.6258,-352.9345 6494.0278,-363.2059 6501.0002,-362.5841"/>
</g>
<!-- raw_98 -->
<g id="node99" class="node">
<title>raw_98</title>
<ellipse fill="none" stroke="#000000" cx="6650" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="6650" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_94&#45;&gt;raw_98 -->
<g id="edge98" class="edge">
<title>prose_94&#45;&gt;raw_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6721.1733,-610.6641C6709.3718,-598.6808 6694.278,-581.1056 6686,-562.6009 6655.9289,-495.3796 6650.4822,-407.1745 6649.8008,-362.7908"/>
<polygon fill="#000000" stroke="#000000" points="6653.3003,-362.7131 6649.7183,-352.7422 6646.3006,-362.7707 6653.3003,-362.7131"/>
</g>
<!-- leaf_100 -->
<g id="node101" class="node">
<title>leaf_100</title>
<polygon fill="none" stroke="#c0c0c0" points="7089,-454.901 6695,-454.901 6695,-214.5 7089,-214.5 7089,-454.901"/>
<text text-anchor="middle" x="6892" y="-439.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">local concat = assert(table.concat)</text>
<text text-anchor="middle" x="6892" y="-408.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">local function cat(l)</text>
<text text-anchor="middle" x="6892" y="-392.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(l) == &quot;string&quot; then</text>
<text text-anchor="middle" x="6892" y="-377.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return l</text>
<text text-anchor="middle" x="6892" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif type(l) == &quot;table&quot; then</text>
<text text-anchor="middle" x="6892" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if l[1] ~= nil then</text>
<text text-anchor="middle" x="6892" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return concat(l)</text>
<text text-anchor="middle" x="6892" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="6892" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return &quot;&quot;</text>
<text text-anchor="middle" x="6892" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6892" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6892" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;error(&quot;called private fn cat with type&quot; .. type(l))</text>
<text text-anchor="middle" x="6892" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_95&#45;&gt;leaf_100 -->
<g id="edge100" class="edge">
<title>codeblock_95&#45;&gt;leaf_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6892,-608.06C6892,-579.2435 6892,-520.7429 6892,-465.2284"/>
<polygon fill="#000000" stroke="#000000" points="6895.5001,-464.9051 6892,-454.9052 6888.5001,-464.9052 6895.5001,-464.9051"/>
</g>
<!-- leaf_101 -->
<g id="node102" class="node">
<title>leaf_101</title>
<polygon fill="none" stroke="#c0c0c0" points="7494.5,-400.5009 7107.5,-400.5009 7107.5,-268.9001 7494.5,-268.9001 7494.5,-400.5009"/>
<text text-anchor="middle" x="7301" y="-385.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.__tostring(txtbuf)</text>
<text text-anchor="middle" x="7301" y="-370.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="7301" y="-354.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i = 1, #txtbuf.lines &#45; 1 do</text>
<text text-anchor="middle" x="7301" y="-339.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;phrase = phrase .. cat(txtbuf.lines[i]) .. &quot;\n&quot;</text>
<text text-anchor="middle" x="7301" y="-323.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="7301" y="-292.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return phrase .. cat(txtbuf.lines[#txtbuf.lines])</text>
<text text-anchor="middle" x="7301" y="-277.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_96&#45;&gt;leaf_101 -->
<g id="edge101" class="edge">
<title>codeblock_96&#45;&gt;leaf_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7190.3814,-608.06C7206.0588,-569.3182 7243.448,-476.9223 7270.4226,-410.2631"/>
<polygon fill="#000000" stroke="#000000" points="7273.8163,-411.2071 7274.323,-400.6243 7267.3274,-408.5812 7273.8163,-411.2071"/>
</g>
<!-- leaf_99 -->
<g id="node100" class="node">
<title>leaf_99</title>
<polygon fill="none" stroke="#c0c0c0" points="6677,-53.4 6623,-53.4 6623,-17.4 6677,-17.4 6677,-53.4"/>
</g>
<!-- raw_98&#45;&gt;leaf_99 -->
<g id="edge99" class="edge">
<title>raw_98&#45;&gt;leaf_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6650,-316.4284C6650,-265.9023 6650,-124.0493 6650,-63.4351"/>
<polygon fill="#000000" stroke="#000000" points="6653.5001,-63.4329 6650,-53.4329 6646.5001,-63.433 6653.5001,-63.4329"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="7689.5,-352.7005 7512.5,-352.7005 7512.5,-316.7005 7689.5,-316.7005 7689.5,-352.7005"/>
<text text-anchor="middle" x="7601" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:insert(frag)</text>
</g>
<!-- header_102&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>header_102&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7601,-608.06C7601,-558.7609 7601,-422.5817 7601,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="7604.5001,-362.9345 7601,-352.9345 7597.5001,-362.9345 7604.5001,-362.9345"/>
</g>
<!-- raw_106 -->
<g id="node107" class="node">
<title>raw_106</title>
<ellipse fill="none" stroke="#000000" cx="7735" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="7735" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_103&#45;&gt;raw_106 -->
<g id="edge106" class="edge">
<title>prose_103&#45;&gt;raw_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7742.4996,-608.06C7741.1471,-558.7609 7737.411,-422.5817 7735.7794,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="7739.2733,-362.8347 7735.5002,-352.9345 7732.2759,-363.0268 7739.2733,-362.8347"/>
</g>
<!-- leaf_108 -->
<g id="node109" class="node">
<title>leaf_108</title>
<polygon fill="none" stroke="#c0c0c0" points="8300,-562.5014 7780,-562.5014 7780,-106.8996 8300,-106.8996 8300,-562.5014"/>
<text text-anchor="middle" x="8040" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">local t_insert, splice = assert(table.insert), assert(table.splice)</text>
<text text-anchor="middle" x="8040" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">local utf8, codepoints = string.utf8, string.codepoints</text>
<text text-anchor="middle" x="8040" y="-500.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.insert(txtbuf, frag)</text>
<text text-anchor="middle" x="8040" y="-485.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local line = txtbuf.lines[txtbuf.cur_row]</text>
<text text-anchor="middle" x="8040" y="-469.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(line) == &quot;string&quot; then</text>
<text text-anchor="middle" x="8040" y="-454.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;line = codepoints(line)</text>
<text text-anchor="middle" x="8040" y="-439.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.line = line</text>
<text text-anchor="middle" x="8040" y="-423.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8040" y="-408.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local wide_frag = utf8(frag)</text>
<text text-anchor="middle" x="8040" y="-392.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if wide_frag &lt; #frag then &#45;&#45; a paste</text>
<text text-anchor="middle" x="8040" y="-377.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; Normalize whitespace</text>
<text text-anchor="middle" x="8040" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;frag = gsub(frag, &quot;\r\n&quot;, &quot;\n&quot;):gsub(&quot;\r&quot;, &quot;\n&quot;):gsub(&quot;\t&quot;, &quot; &#160;&#160;&quot;)</text>
<text text-anchor="middle" x="8040" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;wide_frag = codepoints(frag)</text>
<text text-anchor="middle" x="8040" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8040" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;wide_frag = false</text>
<text text-anchor="middle" x="8040" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8040" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not wide_frag then</text>
<text text-anchor="middle" x="8040" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;t_insert(line, txtbuf.cursor, frag)</text>
<text text-anchor="middle" x="8040" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cursor = txtbuf.cursor + 1</text>
<text text-anchor="middle" x="8040" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="8040" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8040" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;splice(line, txtbuf.cursor, wide_frag)</text>
<text text-anchor="middle" x="8040" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cursor = txtbuf.cursor + #wide_frag</text>
<text text-anchor="middle" x="8040" y="-177.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="8040" y="-161.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8040" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return false</text>
<text text-anchor="middle" x="8040" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_104&#45;&gt;leaf_108 -->
<g id="edge108" class="edge">
<title>codeblock_104&#45;&gt;leaf_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7963.1295,-608.06C7965.7324,-598.8036 7969.1967,-586.4844 7973.2177,-572.1852"/>
<polygon fill="#000000" stroke="#000000" points="7976.5992,-573.0891 7975.937,-562.515 7969.8606,-571.1941 7976.5992,-573.0891"/>
</g>
<!-- leaf_107 -->
<g id="node108" class="node">
<title>leaf_107</title>
<polygon fill="none" stroke="#c0c0c0" points="7762,-53.4 7708,-53.4 7708,-17.4 7762,-17.4 7762,-53.4"/>
</g>
<!-- raw_106&#45;&gt;leaf_107 -->
<g id="edge107" class="edge">
<title>raw_106&#45;&gt;leaf_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7735,-316.4284C7735,-265.9023 7735,-124.0493 7735,-63.4351"/>
<polygon fill="#000000" stroke="#000000" points="7738.5001,-63.4329 7735,-53.4329 7731.5001,-63.433 7738.5001,-63.4329"/>
</g>
<!-- leaf_112 -->
<g id="node113" class="node">
<title>leaf_112</title>
<polygon fill="none" stroke="#c0c0c0" points="8474,-352.7005 8318,-352.7005 8318,-316.7005 8474,-316.7005 8474,-352.7005"/>
<text text-anchor="middle" x="8396" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:advance()</text>
</g>
<!-- header_109&#45;&gt;leaf_112 -->
<g id="edge112" class="edge">
<title>header_109&#45;&gt;leaf_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8388.5004,-608.06C8389.8529,-558.7609 8393.589,-422.5817 8395.2206,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="8398.7241,-363.0268 8395.4998,-352.9345 8391.7267,-362.8347 8398.7241,-363.0268"/>
</g>
<!-- raw_113 -->
<g id="node114" class="node">
<title>raw_113</title>
<ellipse fill="none" stroke="#000000" cx="8519" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="8519" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_110&#45;&gt;raw_113 -->
<g id="edge113" class="edge">
<title>prose_110&#45;&gt;raw_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8526.4996,-608.06C8525.1471,-558.7609 8521.411,-422.5817 8519.7794,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="8523.2733,-362.8347 8519.5002,-352.9345 8516.2759,-363.0268 8523.2733,-362.8347"/>
</g>
<!-- leaf_115 -->
<g id="node116" class="node">
<title>leaf_115</title>
<polygon fill="none" stroke="#c0c0c0" points="8853.5,-393.1014 8564.5,-393.1014 8564.5,-276.2996 8853.5,-276.2996 8853.5,-393.1014"/>
<text text-anchor="middle" x="8709" y="-377.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">local ts_bw = (require &quot;color&quot;).ts_bw</text>
<text text-anchor="middle" x="8709" y="-346.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.advance(txtbuf)</text>
<text text-anchor="middle" x="8709" y="-330.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.lines[#txtbuf.lines + 1] = {}</text>
<text text-anchor="middle" x="8709" y="-315.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cur_row = #txtbuf.lines</text>
<text text-anchor="middle" x="8709" y="-300.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cursor = 1</text>
<text text-anchor="middle" x="8709" y="-284.7004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_111&#45;&gt;leaf_115 -->
<g id="edge115" class="edge">
<title>codeblock_111&#45;&gt;leaf_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8684.6264,-608.06C8688.2059,-567.9151 8696.922,-470.1596 8702.899,-403.1258"/>
<polygon fill="#000000" stroke="#000000" points="8706.3947,-403.3285 8703.7967,-393.0572 8699.4224,-402.7068 8706.3947,-403.3285"/>
</g>
<!-- leaf_114 -->
<g id="node115" class="node">
<title>leaf_114</title>
<polygon fill="none" stroke="#c0c0c0" points="8546,-53.4 8492,-53.4 8492,-17.4 8546,-17.4 8546,-53.4"/>
</g>
<!-- raw_113&#45;&gt;leaf_114 -->
<g id="edge114" class="edge">
<title>raw_113&#45;&gt;leaf_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8519,-316.4284C8519,-265.9023 8519,-124.0493 8519,-63.4351"/>
<polygon fill="#000000" stroke="#000000" points="8522.5001,-63.4329 8519,-53.4329 8515.5001,-63.433 8522.5001,-63.4329"/>
</g>
<!-- leaf_119 -->
<g id="node120" class="node">
<title>leaf_119</title>
<polygon fill="none" stroke="#c0c0c0" points="9020.5,-352.7005 8871.5,-352.7005 8871.5,-316.7005 9020.5,-316.7005 9020.5,-352.7005"/>
<text text-anchor="middle" x="8946" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:d_back()</text>
</g>
<!-- header_116&#45;&gt;leaf_119 -->
<g id="edge119" class="edge">
<title>header_116&#45;&gt;leaf_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8939.4379,-608.06C8940.6213,-558.7609 8943.8904,-422.5817 8945.3181,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="8948.8212,-363.0157 8945.5623,-352.9345 8941.8232,-362.8476 8948.8212,-363.0157"/>
</g>
<!-- raw_120 -->
<g id="node121" class="node">
<title>raw_120</title>
<ellipse fill="none" stroke="#000000" cx="9066" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="9066" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_117&#45;&gt;raw_120 -->
<g id="edge120" class="edge">
<title>prose_117&#45;&gt;raw_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9072.5621,-608.06C9071.3787,-558.7609 9068.1096,-422.5817 9066.6819,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="9070.1768,-362.8476 9066.4377,-352.9345 9063.1788,-363.0157 9070.1768,-362.8476"/>
</g>
<!-- leaf_122 -->
<g id="node123" class="node">
<title>leaf_122</title>
<polygon fill="none" stroke="#c0c0c0" points="9568.5,-385.2006 9111.5,-385.2006 9111.5,-284.2003 9568.5,-284.2003 9568.5,-385.2006"/>
<text text-anchor="middle" x="9340" y="-370.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">local remove = assert(table.remove)</text>
<text text-anchor="middle" x="9340" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.d_back(txtbuf)</text>
<text text-anchor="middle" x="9340" y="-323.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;remove(txtbuf.lines[txtbuf.cur_row], txtbuf.cursor &#45; 1)</text>
<text text-anchor="middle" x="9340" y="-307.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cursor = txtbuf.cursor &gt; 1 and txtbuf.cursor &#45; 1 or 1</text>
<text text-anchor="middle" x="9340" y="-292.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_118&#45;&gt;leaf_122 -->
<g id="edge122" class="edge">
<title>codeblock_118&#45;&gt;leaf_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9282.8158,-608.06C9291.5487,-566.3141 9313.3136,-462.2706 9327.332,-395.2577"/>
<polygon fill="#000000" stroke="#000000" points="9330.805,-395.7485 9329.4269,-385.2437 9323.9534,-394.3151 9330.805,-395.7485"/>
</g>
<!-- leaf_121 -->
<g id="node122" class="node">
<title>leaf_121</title>
<polygon fill="none" stroke="#c0c0c0" points="9093,-53.4 9039,-53.4 9039,-17.4 9093,-17.4 9093,-53.4"/>
</g>
<!-- raw_120&#45;&gt;leaf_121 -->
<g id="edge121" class="edge">
<title>raw_120&#45;&gt;leaf_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9066,-316.4284C9066,-265.9023 9066,-124.0493 9066,-63.4351"/>
<polygon fill="#000000" stroke="#000000" points="9069.5001,-63.4329 9066,-53.4329 9062.5001,-63.433 9069.5001,-63.4329"/>
</g>
<!-- leaf_126 -->
<g id="node127" class="node">
<title>leaf_126</title>
<polygon fill="none" stroke="#c0c0c0" points="9729,-352.7005 9587,-352.7005 9587,-316.7005 9729,-316.7005 9729,-352.7005"/>
<text text-anchor="middle" x="9658" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:d_fwd()</text>
</g>
<!-- header_123&#45;&gt;leaf_126 -->
<g id="edge126" class="edge">
<title>header_123&#45;&gt;leaf_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9651.4379,-608.06C9652.6213,-558.7609 9655.8904,-422.5817 9657.3181,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="9660.8212,-363.0157 9657.5623,-352.9345 9653.8232,-362.8476 9660.8212,-363.0157"/>
</g>
<!-- raw_127 -->
<g id="node128" class="node">
<title>raw_127</title>
<ellipse fill="none" stroke="#000000" cx="9774" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="9774" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_124&#45;&gt;raw_127 -->
<g id="edge127" class="edge">
<title>prose_124&#45;&gt;raw_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9779.6247,-608.06C9778.6103,-558.7609 9775.8083,-422.5817 9774.5845,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="9778.0803,-362.8604 9774.3752,-352.9345 9771.0817,-363.0044 9778.0803,-362.8604"/>
</g>
<!-- leaf_129 -->
<g id="node130" class="node">
<title>leaf_129</title>
<polygon fill="none" stroke="#c0c0c0" points="10213,-361.9009 9819,-361.9009 9819,-307.5 10213,-307.5 10213,-361.9009"/>
<text text-anchor="middle" x="10016" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.d_fwd(txtbuf)</text>
<text text-anchor="middle" x="10016" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;remove(txtbuf.lines[txtbuf.cur_row], txtbuf.cursor)</text>
<text text-anchor="middle" x="10016" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_125&#45;&gt;leaf_129 -->
<g id="edge129" class="edge">
<title>codeblock_125&#45;&gt;leaf_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9967.2528,-608.06C9975.6355,-561.0525 9998.1043,-435.054 10009.3694,-371.8828"/>
<polygon fill="#000000" stroke="#000000" points="10012.8323,-372.4003 10011.1423,-361.9411 10005.941,-371.1714 10012.8323,-372.4003"/>
</g>
<!-- leaf_128 -->
<g id="node129" class="node">
<title>leaf_128</title>
<polygon fill="none" stroke="#c0c0c0" points="9801,-53.4 9747,-53.4 9747,-17.4 9801,-17.4 9801,-53.4"/>
</g>
<!-- raw_127&#45;&gt;leaf_128 -->
<g id="edge128" class="edge">
<title>raw_127&#45;&gt;leaf_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9774,-316.4284C9774,-265.9023 9774,-124.0493 9774,-63.4351"/>
<polygon fill="#000000" stroke="#000000" points="9777.5001,-63.4329 9774,-53.4329 9770.5001,-63.433 9777.5001,-63.4329"/>
</g>
<!-- leaf_133 -->
<g id="node134" class="node">
<title>leaf_133</title>
<polygon fill="none" stroke="#c0c0c0" points="10394.5,-352.7005 10231.5,-352.7005 10231.5,-316.7005 10394.5,-316.7005 10394.5,-352.7005"/>
<text text-anchor="middle" x="10313" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:left(disp)</text>
</g>
<!-- header_130&#45;&gt;leaf_133 -->
<g id="edge133" class="edge">
<title>header_130&#45;&gt;leaf_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10310.1877,-608.06C10310.6949,-558.7609 10312.0959,-422.5817 10312.7077,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="10316.2092,-362.97 10312.8124,-352.9345 10309.2096,-362.8979 10316.2092,-362.97"/>
</g>
<!-- raw_134 -->
<g id="node135" class="node">
<title>raw_134</title>
<ellipse fill="none" stroke="#000000" cx="10440" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="10440" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_131&#45;&gt;raw_134 -->
<g id="edge134" class="edge">
<title>prose_131&#45;&gt;raw_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10442.8123,-608.06C10442.3051,-558.7609 10440.9041,-422.5817 10440.2923,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="10443.7904,-362.8979 10440.1876,-352.9345 10436.7908,-362.97 10443.7904,-362.8979"/>
</g>
<!-- leaf_136 -->
<g id="node137" class="node">
<title>leaf_136</title>
<polygon fill="none" stroke="#c0c0c0" points="10795,-415.8013 10485,-415.8013 10485,-253.5997 10795,-253.5997 10795,-415.8013"/>
<text text-anchor="middle" x="10640" y="-400.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.left(txtbuf, disp)</text>
<text text-anchor="middle" x="10640" y="-385.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local disp = disp or 1</text>
<text text-anchor="middle" x="10640" y="-370.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if txtbuf.cursor &#45; disp &gt;= 1 then</text>
<text text-anchor="middle" x="10640" y="-354.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cursor = txtbuf.cursor &#45; disp</text>
<text text-anchor="middle" x="10640" y="-339.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10640" y="-323.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cursor = 1</text>
<text text-anchor="middle" x="10640" y="-308.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10640" y="-277.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return txtbuf.cursor</text>
<text text-anchor="middle" x="10640" y="-261.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_132&#45;&gt;leaf_136 -->
<g id="edge136" class="edge">
<title>codeblock_132&#45;&gt;leaf_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10613.7515,-608.06C10617.1836,-572.3174 10625.0008,-490.9066 10631.2169,-426.1705"/>
<polygon fill="#000000" stroke="#000000" points="10634.7279,-426.2223 10632.1999,-415.9335 10627.76,-425.5532 10634.7279,-426.2223"/>
</g>
<!-- leaf_135 -->
<g id="node136" class="node">
<title>leaf_135</title>
<polygon fill="none" stroke="#c0c0c0" points="10467,-53.4 10413,-53.4 10413,-17.4 10467,-17.4 10467,-53.4"/>
</g>
<!-- raw_134&#45;&gt;leaf_135 -->
<g id="edge135" class="edge">
<title>raw_134&#45;&gt;leaf_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10440,-316.4284C10440,-265.9023 10440,-124.0493 10440,-63.4351"/>
<polygon fill="#000000" stroke="#000000" points="10443.5001,-63.4329 10440,-53.4329 10436.5001,-63.433 10443.5001,-63.4329"/>
</g>
<!-- leaf_140 -->
<g id="node141" class="node">
<title>leaf_140</title>
<polygon fill="none" stroke="#c0c0c0" points="10983,-352.7005 10813,-352.7005 10813,-316.7005 10983,-316.7005 10983,-352.7005"/>
<text text-anchor="middle" x="10898" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:right(disp)</text>
</g>
<!-- header_137&#45;&gt;leaf_140 -->
<g id="edge140" class="edge">
<title>header_137&#45;&gt;leaf_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10894.2502,-608.06C10894.9265,-558.7609 10896.7945,-422.5817 10897.6103,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="10901.1123,-362.9816 10897.7499,-352.9345 10894.1129,-362.8855 10901.1123,-362.9816"/>
</g>
<!-- raw_141 -->
<g id="node142" class="node">
<title>raw_141</title>
<ellipse fill="none" stroke="#000000" cx="11028" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="11028" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_138&#45;&gt;raw_141 -->
<g id="edge141" class="edge">
<title>prose_138&#45;&gt;raw_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11032.6872,-608.06C11031.8419,-558.7609 11029.5069,-422.5817 11028.4871,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="11031.9837,-362.873 11028.3127,-352.9345 11024.9847,-362.9931 11031.9837,-362.873"/>
</g>
<!-- leaf_143 -->
<g id="node144" class="node">
<title>leaf_143</title>
<polygon fill="none" stroke="#c0c0c0" points="11397,-423.7008 11073,-423.7008 11073,-245.7002 11397,-245.7002 11397,-423.7008"/>
<text text-anchor="middle" x="11235" y="-408.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.right(txtbuf, disp)</text>
<text text-anchor="middle" x="11235" y="-393.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;disp = disp or 1</text>
<text text-anchor="middle" x="11235" y="-377.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local line = txtbuf.lines[txtbuf.cur_row]</text>
<text text-anchor="middle" x="11235" y="-362.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if txtbuf.cursor + disp &lt;= #line + 1 then</text>
<text text-anchor="middle" x="11235" y="-346.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cursor = txtbuf.cursor + disp</text>
<text text-anchor="middle" x="11235" y="-331.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="11235" y="-316.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cursor = #line + 1</text>
<text text-anchor="middle" x="11235" y="-300.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11235" y="-269.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return txtbuf.cursor</text>
<text text-anchor="middle" x="11235" y="-253.9004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_139&#45;&gt;leaf_143 -->
<g id="edge143" class="edge">
<title>codeblock_139&#45;&gt;leaf_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11206.8766,-608.06C11210.4077,-573.7377 11218.2712,-497.3043 11224.7879,-433.9625"/>
<polygon fill="#000000" stroke="#000000" points="11228.2795,-434.2231 11225.8213,-423.9174 11221.3162,-433.5067 11228.2795,-434.2231"/>
</g>
<!-- leaf_142 -->
<g id="node143" class="node">
<title>leaf_142</title>
<polygon fill="none" stroke="#c0c0c0" points="11055,-53.4 11001,-53.4 11001,-17.4 11055,-17.4 11055,-53.4"/>
</g>
<!-- raw_141&#45;&gt;leaf_142 -->
<g id="edge142" class="edge">
<title>raw_141&#45;&gt;leaf_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11028,-316.4284C11028,-265.9023 11028,-124.0493 11028,-63.4351"/>
<polygon fill="#000000" stroke="#000000" points="11031.5001,-63.4329 11028,-53.4329 11024.5001,-63.433 11031.5001,-63.4329"/>
</g>
<!-- leaf_148 -->
<g id="node149" class="node">
<title>leaf_148</title>
<polygon fill="none" stroke="#c0c0c0" points="11641,-352.7005 11415,-352.7005 11415,-316.7005 11641,-316.7005 11641,-352.7005"/>
<text text-anchor="middle" x="11528" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:up(), Txtbuf:down()</text>
</g>
<!-- header_144&#45;&gt;leaf_148 -->
<g id="edge148" class="edge">
<title>header_144&#45;&gt;leaf_148</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11528,-608.06C11528,-558.7609 11528,-422.5817 11528,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="11531.5001,-362.9345 11528,-352.9345 11524.5001,-362.9345 11531.5001,-362.9345"/>
</g>
<!-- raw_149 -->
<g id="node150" class="node">
<title>raw_149</title>
<ellipse fill="none" stroke="#000000" cx="11686" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="11686" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_145&#45;&gt;raw_149 -->
<g id="edge149" class="edge">
<title>prose_145&#45;&gt;raw_149</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11700.9991,-608.06C11698.2941,-558.7609 11690.822,-422.5817 11687.5587,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="11691.0432,-362.7277 11687.0005,-352.9345 11684.0537,-363.1113 11691.0432,-362.7277"/>
</g>
<!-- leaf_151 -->
<g id="node152" class="node">
<title>leaf_151</title>
<polygon fill="none" stroke="#c0c0c0" points="12188.5,-431.001 11731.5,-431.001 11731.5,-238.4 12188.5,-238.4 12188.5,-431.001"/>
<text text-anchor="middle" x="11960" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.up(txtbuf)</text>
<text text-anchor="middle" x="11960" y="-400.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local cur_row = txtbuf.cur_row</text>
<text text-anchor="middle" x="11960" y="-385.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if cur_row == 1 then</text>
<text text-anchor="middle" x="11960" y="-369.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="11960" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="11960" y="-338.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cur_row = cur_row &#45; 1</text>
<text text-anchor="middle" x="11960" y="-323.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if txtbuf.cursor &gt; #txtbuf.lines[txtbuf.cur_row] + 1 then</text>
<text text-anchor="middle" x="11960" y="-308.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;txtbuf.cursor = #txtbuf.lines[txtbuf.cur_row] + 1</text>
<text text-anchor="middle" x="11960" y="-292.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11960" y="-277.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="11960" y="-261.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11960" y="-246.5003" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_146&#45;&gt;leaf_151 -->
<g id="edge151" class="edge">
<title>codeblock_146&#45;&gt;leaf_151</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11903.7533,-608.06C11910.5598,-574.9804 11925.415,-502.7839 11938.15,-440.8916"/>
<polygon fill="#000000" stroke="#000000" points="11941.5869,-441.5545 11940.1741,-431.0543 11934.7305,-440.1437 11941.5869,-441.5545"/>
</g>
<!-- leaf_152 -->
<g id="node153" class="node">
<title>leaf_152</title>
<polygon fill="none" stroke="#c0c0c0" points="12663.5,-431.001 12206.5,-431.001 12206.5,-238.4 12663.5,-238.4 12663.5,-431.001"/>
<text text-anchor="middle" x="12435" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.down(txtbuf)</text>
<text text-anchor="middle" x="12435" y="-400.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local cur_row = txtbuf.cur_row</text>
<text text-anchor="middle" x="12435" y="-385.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if cur_row == #txtbuf.lines then</text>
<text text-anchor="middle" x="12435" y="-369.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="12435" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="12435" y="-338.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cur_row = cur_row + 1</text>
<text text-anchor="middle" x="12435" y="-323.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if txtbuf.cursor &gt; #txtbuf.lines[txtbuf.cur_row] + 1 then</text>
<text text-anchor="middle" x="12435" y="-308.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;txtbuf.cursor = #txtbuf.lines[txtbuf.cur_row] + 1</text>
<text text-anchor="middle" x="12435" y="-292.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="12435" y="-277.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="12435" y="-261.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="12435" y="-246.5003" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_147&#45;&gt;leaf_152 -->
<g id="edge152" class="edge">
<title>codeblock_147&#45;&gt;leaf_152</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12274.6968,-608.06C12294.2151,-574.7762 12336.9563,-501.8911 12373.399,-439.7466"/>
<polygon fill="#000000" stroke="#000000" points="12376.4569,-441.451 12378.4963,-431.0543 12370.4185,-437.91 12376.4569,-441.451"/>
</g>
<!-- leaf_150 -->
<g id="node151" class="node">
<title>leaf_150</title>
<polygon fill="none" stroke="#c0c0c0" points="11713,-53.4 11659,-53.4 11659,-17.4 11713,-17.4 11713,-53.4"/>
</g>
<!-- raw_149&#45;&gt;leaf_150 -->
<g id="edge150" class="edge">
<title>raw_149&#45;&gt;leaf_150</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11686,-316.4284C11686,-265.9023 11686,-124.0493 11686,-63.4351"/>
<polygon fill="#000000" stroke="#000000" points="11689.5001,-63.4329 11686,-53.4329 11682.5001,-63.433 11689.5001,-63.4329"/>
</g>
<!-- leaf_159 -->
<g id="node160" class="node">
<title>leaf_159</title>
<polygon fill="none" stroke="#c0c0c0" points="12802.5,-352.7005 12681.5,-352.7005 12681.5,-316.7005 12802.5,-316.7005 12802.5,-352.7005"/>
<text text-anchor="middle" x="12742" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Txtbuf:nl()</text>
</g>
<!-- header_153&#45;&gt;leaf_159 -->
<g id="edge159" class="edge">
<title>header_153&#45;&gt;leaf_159</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12771.0608,-608.06C12765.8198,-558.7609 12751.3426,-422.5817 12745.0201,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="12748.4761,-362.5084 12743.9385,-352.9345 12741.5153,-363.2485 12748.4761,-362.5084"/>
</g>
<!-- raw_160 -->
<g id="node161" class="node">
<title>raw_160</title>
<ellipse fill="none" stroke="#000000" cx="12848" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="12848" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_154&#45;&gt;raw_160 -->
<g id="edge160" class="edge">
<title>prose_154&#45;&gt;raw_160</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12926.4961,-611.8017C12912.3241,-600.1427 12893.9508,-582.4714 12884,-562.6009 12851.0257,-496.7551 12846.8455,-407.9499 12847.1088,-363.1187"/>
<polygon fill="#000000" stroke="#000000" points="12850.6105,-363.0117 12847.2509,-352.9637 12843.6112,-362.9137 12850.6105,-363.0117"/>
</g>
<!-- leaf_162 -->
<g id="node163" class="node">
<title>leaf_162</title>
<polygon fill="none" stroke="#c0c0c0" points="13336.5,-554.4014 12893.5,-554.4014 12893.5,-114.9996 13336.5,-114.9996 13336.5,-554.4014"/>
<text text-anchor="middle" x="13115" y="-539.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">local sub = assert(string.sub)</text>
<text text-anchor="middle" x="13115" y="-523.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">local insert = assert(table.insert)</text>
<text text-anchor="middle" x="13115" y="-508.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.nl(txtbuf)</text>
<text text-anchor="middle" x="13115" y="-492.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Most txtbufs are one line, so we always evaluate from</text>
<text text-anchor="middle" x="13115" y="-477.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; a one&#45;liner, regardless of cursor location.</text>
<text text-anchor="middle" x="13115" y="-462.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local linum = #txtbuf.lines</text>
<text text-anchor="middle" x="13115" y="-446.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local cursor = txtbuf.cursor</text>
<text text-anchor="middle" x="13115" y="-431.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local cur_row = txtbuf.cur_row</text>
<text text-anchor="middle" x="13115" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if linum == 1 then</text>
<text text-anchor="middle" x="13115" y="-400.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="13115" y="-385.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="13115" y="-369.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if cur_row == 1 and cursor &gt; #txtbuf.lines[1] then</text>
<text text-anchor="middle" x="13115" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="13115" y="-338.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="13115" y="-323.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if cur_row == linum and cursor &gt; #txtbuf.lines[linum] then</text>
<text text-anchor="middle" x="13115" y="-308.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="13115" y="-292.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="13115" y="-277.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; split the line</text>
<text text-anchor="middle" x="13115" y="-261.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local cur_line = concat(txtbuf.lines[txtbuf.cur_row])</text>
<text text-anchor="middle" x="13115" y="-246.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local first = sub(cur_line, 1, cursor &#45; 1)</text>
<text text-anchor="middle" x="13115" y="-231.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local second = sub(cur_line, cursor)</text>
<text text-anchor="middle" x="13115" y="-215.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.lines[cur_row] = codepoints(first)</text>
<text text-anchor="middle" x="13115" y="-200.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;insert(txtbuf.lines, cur_row + 1, codepoints(second))</text>
<text text-anchor="middle" x="13115" y="-184.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cursor = 1</text>
<text text-anchor="middle" x="13115" y="-169.5002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.cur_row = cur_row + 1</text>
<text text-anchor="middle" x="13115" y="-154.1001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="13115" y="-138.7001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="13115" y="-123.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_155&#45;&gt;leaf_162 -->
<g id="edge162" class="edge">
<title>codeblock_155&#45;&gt;leaf_162</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13115,-608.06C13115,-597.1715 13115,-582.0449 13115,-564.4427"/>
<polygon fill="#000000" stroke="#000000" points="13118.5001,-564.4201 13115,-554.4202 13111.5001,-564.4202 13118.5001,-564.4201"/>
</g>
<!-- leaf_163 -->
<g id="node164" class="node">
<title>leaf_163</title>
<polygon fill="none" stroke="#c0c0c0" points="13629.5,-393.1014 13354.5,-393.1014 13354.5,-276.2996 13629.5,-276.2996 13629.5,-393.1014"/>
<text text-anchor="middle" x="13492" y="-377.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.suspend(txtbuf)</text>
<text text-anchor="middle" x="13492" y="-362.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(txtbuf.lines) do</text>
<text text-anchor="middle" x="13492" y="-346.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.lines[i] = tostring(v)</text>
<text text-anchor="middle" x="13492" y="-331.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="13492" y="-300.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return txtbuf</text>
<text text-anchor="middle" x="13492" y="-284.7004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_156&#45;&gt;leaf_163 -->
<g id="edge163" class="edge">
<title>codeblock_156&#45;&gt;leaf_163</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13405.755,-608.06C13418.4467,-567.8327 13449.3894,-469.7579 13470.542,-402.7133"/>
<polygon fill="#000000" stroke="#000000" points="13473.9174,-403.6469 13473.5885,-393.0572 13467.2418,-401.5407 13473.9174,-403.6469"/>
</g>
<!-- leaf_164 -->
<g id="node165" class="node">
<title>leaf_164</title>
<polygon fill="none" stroke="#c0c0c0" points="14020.5,-408.4009 13647.5,-408.4009 13647.5,-261.0001 14020.5,-261.0001 14020.5,-408.4009"/>
<text text-anchor="middle" x="13834" y="-393.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.resume(txtbuf)</text>
<text text-anchor="middle" x="13834" y="-377.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i, line in ipairs(txtbuf.lines) do</text>
<text text-anchor="middle" x="13834" y="-362.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;txtbuf.lines[i] = codepoints(line)</text>
<text text-anchor="middle" x="13834" y="-346.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="13834" y="-331.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cursor = #txtbuf.lines[#txtbuf.lines] + 1</text>
<text text-anchor="middle" x="13834" y="-316.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cur_row = #txtbuf.lines</text>
<text text-anchor="middle" x="13834" y="-284.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return txtbuf</text>
<text text-anchor="middle" x="13834" y="-269.3004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_157&#45;&gt;leaf_164 -->
<g id="edge164" class="edge">
<title>codeblock_157&#45;&gt;leaf_164</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13721.5065,-608.06C13736.8383,-570.8037 13772.5892,-483.929 13799.7039,-418.04"/>
<polygon fill="#000000" stroke="#000000" points="13803.0694,-419.0589 13803.6384,-408.4794 13796.5961,-416.395 13803.0694,-419.0589"/>
</g>
<!-- leaf_165 -->
<g id="node166" class="node">
<title>leaf_165</title>
<polygon fill="none" stroke="#c0c0c0" points="14489,-415.8013 14039,-415.8013 14039,-253.5997 14489,-253.5997 14489,-415.8013"/>
<text text-anchor="middle" x="14264" y="-400.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">local cl = assert(table.clone, &quot;table.clone must be provided&quot;)</text>
<text text-anchor="middle" x="14264" y="-369.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">function Txtbuf.clone(txtbuf)</text>
<text text-anchor="middle" x="14264" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local tb = cl(txtbuf)</text>
<text text-anchor="middle" x="14264" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;tb.lines = cl(txtbuf.lines)</text>
<text text-anchor="middle" x="14264" y="-323.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(tb.lines[1]) == &quot;string&quot; then</text>
<text text-anchor="middle" x="14264" y="-307.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return tb:resume()</text>
<text text-anchor="middle" x="14264" y="-292.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="14264" y="-277.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return tb</text>
<text text-anchor="middle" x="14264" y="-261.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_158&#45;&gt;leaf_165 -->
<g id="edge165" class="edge">
<title>codeblock_158&#45;&gt;leaf_165</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14097.1347,-608.06C14119.1324,-572.0233 14169.4679,-489.5635 14209.1381,-424.5755"/>
<polygon fill="#000000" stroke="#000000" points="14212.1905,-426.2926 14214.4134,-415.9335 14206.2157,-422.6454 14212.1905,-426.2926"/>
</g>
<!-- leaf_161 -->
<g id="node162" class="node">
<title>leaf_161</title>
<polygon fill="none" stroke="#c0c0c0" points="13027.5,-63.3015 12668.5,-63.3015 12668.5,-7.4985 13027.5,-7.4985 13027.5,-63.3015"/>
<text text-anchor="middle" x="12848" y="-15.9" font-family="Inconsolata" font-size="14.00" fill="#000000">Either splits a line or (more usually) evaluates.</text>
</g>
<!-- raw_160&#45;&gt;leaf_161 -->
<g id="edge161" class="edge">
<title>raw_160&#45;&gt;leaf_161</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12848,-316.4284C12848,-268.5785 12848,-138.82 12848,-73.7248"/>
<polygon fill="#000000" stroke="#000000" points="12851.5001,-73.4797 12848,-63.4797 12844.5001,-73.4797 12851.5001,-73.4797"/>
</g>
<!-- leaf_170 -->
<g id="node171" class="node">
<title>leaf_170</title>
<polygon fill="none" stroke="#c0c0c0" points="14572.5,-352.7005 14507.5,-352.7005 14507.5,-316.7005 14572.5,-316.7005 14572.5,-352.7005"/>
<text text-anchor="middle" x="14540" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">*** new</text>
</g>
<!-- header_166&#45;&gt;leaf_170 -->
<g id="edge170" class="edge">
<title>header_166&#45;&gt;leaf_170</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14540,-608.06C14540,-558.7609 14540,-422.5817 14540,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="14543.5001,-362.9345 14540,-352.9345 14536.5001,-362.9345 14543.5001,-362.9345"/>
</g>
<!-- raw_171 -->
<g id="node172" class="node">
<title>raw_171</title>
<ellipse fill="none" stroke="#000000" cx="14618" cy="-334.7005" rx="27" ry="18"/>
<text text-anchor="middle" x="14618" y="-330.5005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_167&#45;&gt;raw_171 -->
<g id="edge171" class="edge">
<title>prose_167&#45;&gt;raw_171</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14628.3119,-608.06C14626.4522,-558.7609 14621.3151,-422.5817 14619.0716,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="14622.5624,-362.7954 14618.6878,-352.9345 14615.5674,-363.0594 14622.5624,-362.7954"/>
</g>
<!-- leaf_173 -->
<g id="node174" class="node">
<title>leaf_173</title>
<polygon fill="none" stroke="#c0c0c0" points="15057,-516.7011 14663,-516.7011 14663,-152.6999 15057,-152.6999 15057,-516.7011"/>
<text text-anchor="middle" x="14860" y="-501.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">local function into_codepoints(lines)</text>
<text text-anchor="middle" x="14860" y="-486.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local cp = {}</text>
<text text-anchor="middle" x="14860" y="-470.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(lines) do</text>
<text text-anchor="middle" x="14860" y="-455.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;cp[i] = codepoints(v)</text>
<text text-anchor="middle" x="14860" y="-439.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="14860" y="-408.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return cp</text>
<text text-anchor="middle" x="14860" y="-393.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="14860" y="-361.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(line)</text>
<text text-anchor="middle" x="14860" y="-346.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local txtbuf = meta(Txtbuf)</text>
<text text-anchor="middle" x="14860" y="-330.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local __l = line or &quot;&quot;</text>
<text text-anchor="middle" x="14860" y="-315.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local _lines = into_codepoints(collect(lines, __l))</text>
<text text-anchor="middle" x="14860" y="-300.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if #_lines == 0 then</text>
<text text-anchor="middle" x="14860" y="-284.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;_lines[1] = {}</text>
<text text-anchor="middle" x="14860" y="-269.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="14860" y="-253.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cursor = line and #_lines[#_lines] + 1 or 1</text>
<text text-anchor="middle" x="14860" y="-238.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.cur_row = line and #_lines &#160;or 1</text>
<text text-anchor="middle" x="14860" y="-223.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;txtbuf.lines = _lines</text>
<text text-anchor="middle" x="14860" y="-207.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return txtbuf</text>
<text text-anchor="middle" x="14860" y="-192.3002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="14860" y="-160.9002" font-family="Inconsolata" font-size="14.00" fill="#000000">Txtbuf.idEst = new</text>
</g>
<!-- codeblock_168&#45;&gt;leaf_173 -->
<g id="edge173" class="edge">
<title>codeblock_168&#45;&gt;leaf_173</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14815.9401,-608.06C14818.8575,-589.9596 14823.6626,-560.1474 14829.0504,-526.72"/>
<polygon fill="#000000" stroke="#000000" points="14832.5258,-527.1526 14830.6617,-516.723 14825.615,-526.0386 14832.5258,-527.1526"/>
</g>
<!-- leaf_174 -->
<g id="node175" class="node">
<title>leaf_174</title>
<polygon fill="none" stroke="#c0c0c0" points="15161,-352.7005 15075,-352.7005 15075,-316.7005 15161,-316.7005 15161,-352.7005"/>
<text text-anchor="middle" x="15118" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">return new</text>
</g>
<!-- codeblock_169&#45;&gt;leaf_174 -->
<g id="edge174" class="edge">
<title>codeblock_169&#45;&gt;leaf_174</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M15065.5031,-608.06C15074.9706,-558.7609 15101.123,-422.5817 15112.5444,-363.1086"/>
<polygon fill="#000000" stroke="#000000" points="15116.0494,-363.4152 15114.4983,-352.9345 15109.175,-362.0949 15116.0494,-363.4152"/>
</g>
<!-- leaf_172 -->
<g id="node173" class="node">
<title>leaf_172</title>
<polygon fill="none" stroke="#c0c0c0" points="14645,-53.4 14591,-53.4 14591,-17.4 14645,-17.4 14645,-53.4"/>
</g>
<!-- raw_171&#45;&gt;leaf_172 -->
<g id="edge172" class="edge">
<title>raw_171&#45;&gt;leaf_172</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14618,-316.4284C14618,-265.9023 14618,-124.0493 14618,-63.4351"/>
<polygon fill="#000000" stroke="#000000" points="14621.5001,-63.4329 14618,-53.4329 14614.5001,-63.433 14621.5001,-63.4329"/>
</g>
</g>
</svg>
