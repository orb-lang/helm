<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="10925pt" height="4539pt"
 viewBox="0.00 0.00 10924.50 4539.04" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 4535.0357)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-4535.0357 10920.5,-4535.0357 10920.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="997" cy="-4513.0357" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="997" y="-4508.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 467</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="997" cy="-4441.0357" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="997" y="-4436.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;183</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M997,-4494.867C997,-4487.1666 997,-4478.01 997,-4469.4523"/>
<polygon fill="#000000" stroke="#000000" points="1000.5001,-4469.4489 997,-4459.4489 993.5001,-4469.449 1000.5001,-4469.4489"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="651" cy="-4369.0357" rx="47.4168" ry="18"/>
<text text-anchor="middle" x="651" y="-4364.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Femto</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M944.45,-4430.1004C878.9517,-4416.4707 767.7242,-4393.3251 702.6486,-4379.7834"/>
<polygon fill="#000000" stroke="#000000" points="703.1181,-4376.3062 692.6147,-4377.6954 701.6919,-4383.1594 703.1181,-4376.3062"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="823" cy="-4369.0357" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="823" y="-4364.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M960.5239,-4425.9421C930.5307,-4413.5311 888.2772,-4396.0469 858.5422,-4383.7428"/>
<polygon fill="#000000" stroke="#000000" points="859.5523,-4380.373 848.9739,-4379.7835 856.8758,-4386.8411 859.5523,-4380.373"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="942" cy="-4369.0357" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="942" y="-4364.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M983.4045,-4423.2379C976.6139,-4414.3484 968.2883,-4403.4495 960.8881,-4393.762"/>
<polygon fill="#000000" stroke="#000000" points="963.5368,-4391.4636 954.685,-4385.6415 957.9741,-4395.7129 963.5368,-4391.4636"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="1072" cy="-4369.0357" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="1072" y="-4364.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 9&#45;28</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1015.1554,-4423.6065C1024.6442,-4414.4973 1036.4085,-4403.2036 1046.7687,-4393.2577"/>
<polygon fill="#000000" stroke="#000000" points="1049.2218,-4395.7546 1054.0118,-4386.3044 1044.374,-4390.7049 1049.2218,-4395.7546"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="3745" cy="-4369.0357" rx="70.655" ry="18"/>
<text text-anchor="middle" x="3745" y="-4364.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 35&#45;183</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1062.5541,-4439.3181C1432.508,-4429.625 3257.1499,-4381.8178 3664.3328,-4371.1492"/>
<polygon fill="#000000" stroke="#000000" points="3664.6383,-4374.6425 3674.5431,-4370.8817 3664.4549,-4367.6449 3664.6383,-4374.6425"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="6251" cy="-4369.0357" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="6251" y="-4364.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 184&#45;253</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1062.9536,-4440.1319C1620.0532,-4432.4975 5533.8434,-4378.8635 6165.1246,-4370.2125"/>
<polygon fill="#000000" stroke="#000000" points="6165.5527,-4373.7071 6175.5038,-4370.0703 6165.4567,-4366.7077 6165.5527,-4373.7071"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="668,-4315.0357 596,-4315.0357 596,-4279.0357 668,-4279.0357 668,-4315.0357"/>
<text text-anchor="middle" x="632" y="-4293.5357" font-family="Inconsolata" font-size="14.00" fill="#000000">* &#160;Femto</text>
</g>
<!-- header_2&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>header_2&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M646.2055,-4350.867C644.1511,-4343.082 641.704,-4333.8086 639.4244,-4325.1704"/>
<polygon fill="#000000" stroke="#000000" points="642.7948,-4324.2249 636.8591,-4315.4489 636.0265,-4326.011 642.7948,-4324.2249"/>
</g>
<!-- raw_9 -->
<g id="node10" class="node">
<title>raw_9</title>
<ellipse fill="none" stroke="#000000" cx="713" cy="-4297.0357" rx="27" ry="18"/>
<text text-anchor="middle" x="713" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_9 -->
<g id="edge9" class="edge">
<title>prose_3&#45;&gt;raw_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M802.0509,-4355.3236C784.7233,-4343.9818 759.9617,-4327.7742 740.9458,-4315.3275"/>
<polygon fill="#000000" stroke="#000000" points="742.6797,-4312.2793 732.3958,-4309.7311 738.846,-4318.1362 742.6797,-4312.2793"/>
</g>
<!-- raw_11 -->
<g id="node12" class="node">
<title>raw_11</title>
<ellipse fill="none" stroke="#000000" cx="785" cy="-4297.0357" rx="27" ry="18"/>
<text text-anchor="middle" x="785" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_11 -->
<g id="edge11" class="edge">
<title>prose_4&#45;&gt;raw_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M916.3573,-4357.9812C891.7625,-4347.2869 853.65,-4330.4746 821,-4315.0357 819.247,-4314.2068 817.4511,-4313.346 815.6421,-4312.4702"/>
<polygon fill="#000000" stroke="#000000" points="817.1455,-4309.3092 806.6267,-4308.0414 814.059,-4315.5921 817.1455,-4309.3092"/>
</g>
<!-- header_13 -->
<g id="node14" class="node">
<title>header_13</title>
<ellipse fill="none" stroke="#000000" cx="885" cy="-4297.0357" rx="54.6851" ry="18"/>
<text text-anchor="middle" x="885" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : includes</text>
</g>
<!-- section_5&#45;&gt;header_13 -->
<g id="edge13" class="edge">
<title>section_5&#45;&gt;header_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1034.6072,-4354.6385C1004.567,-4343.0722 962.265,-4326.7848 930.3039,-4314.4789"/>
<polygon fill="#000000" stroke="#000000" points="931.3317,-4311.1242 920.7419,-4310.7973 928.8164,-4317.6567 931.3317,-4311.1242"/>
</g>
<!-- prose_14 -->
<g id="node15" class="node">
<title>prose_14</title>
<ellipse fill="none" stroke="#000000" cx="990" cy="-4297.0357" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="990" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_14 -->
<g id="edge14" class="edge">
<title>section_5&#45;&gt;prose_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1052.5671,-4351.9727C1041.3006,-4342.0801 1026.9965,-4329.5204 1014.9098,-4318.9077"/>
<polygon fill="#000000" stroke="#000000" points="1017.1653,-4316.2304 1007.3415,-4312.2624 1012.5466,-4321.4905 1017.1653,-4316.2304"/>
</g>
<!-- prose_15 -->
<g id="node16" class="node">
<title>prose_15</title>
<ellipse fill="none" stroke="#000000" cx="1072" cy="-4297.0357" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1072" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_15 -->
<g id="edge15" class="edge">
<title>section_5&#45;&gt;prose_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1072,-4350.867C1072,-4343.1666 1072,-4334.01 1072,-4325.4523"/>
<polygon fill="#000000" stroke="#000000" points="1075.5001,-4325.4489 1072,-4315.4489 1068.5001,-4325.449 1075.5001,-4325.4489"/>
</g>
<!-- prose_16 -->
<g id="node17" class="node">
<title>prose_16</title>
<ellipse fill="none" stroke="#000000" cx="1154" cy="-4297.0357" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1154" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_16 -->
<g id="edge16" class="edge">
<title>section_5&#45;&gt;prose_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1091.4329,-4351.9727C1102.6994,-4342.0801 1117.0035,-4329.5204 1129.0902,-4318.9077"/>
<polygon fill="#000000" stroke="#000000" points="1131.4534,-4321.4905 1136.6585,-4312.2624 1126.8347,-4316.2304 1131.4534,-4321.4905"/>
</g>
<!-- codeblock_17 -->
<g id="node18" class="node">
<title>codeblock_17</title>
<ellipse fill="none" stroke="#000000" cx="1286" cy="-4297.0357" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1286" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 18&#45;26</text>
</g>
<!-- section_5&#45;&gt;codeblock_17 -->
<g id="edge17" class="edge">
<title>section_5&#45;&gt;codeblock_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1112.2518,-4355.493C1146.1505,-4344.0879 1194.9311,-4327.6757 1232.1809,-4315.143"/>
<polygon fill="#000000" stroke="#000000" points="1233.5101,-4318.3887 1241.872,-4311.8825 1231.2779,-4311.7541 1233.5101,-4318.3887"/>
</g>
<!-- section_18 -->
<g id="node19" class="node">
<title>section_18</title>
<ellipse fill="none" stroke="#000000" cx="1538" cy="-4297.0357" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1538" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 29&#45;34</text>
</g>
<!-- section_5&#45;&gt;section_18 -->
<g id="edge18" class="edge">
<title>section_5&#45;&gt;section_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1125.9114,-4360.706C1211.238,-4347.5225 1377.2525,-4321.8722 1470.4149,-4307.478"/>
<polygon fill="#000000" stroke="#000000" points="1471.2286,-4310.8939 1480.5769,-4305.9079 1470.1597,-4303.976 1471.2286,-4310.8939"/>
</g>
<!-- header_32 -->
<g id="node33" class="node">
<title>header_32</title>
<ellipse fill="none" stroke="#000000" cx="1905" cy="-4297.0357" rx="39.6991" ry="18"/>
<text text-anchor="middle" x="1905" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : core</text>
</g>
<!-- section_6&#45;&gt;header_32 -->
<g id="edge32" class="edge">
<title>section_6&#45;&gt;header_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3674.5473,-4367.7435C3395.3754,-4362.4774 2366.2333,-4341.6449 2041,-4315.0357 2011.4521,-4312.6182 1978.4848,-4308.296 1952.4093,-4304.4929"/>
<polygon fill="#000000" stroke="#000000" points="1952.8188,-4301.0154 1942.4137,-4303.0115 1951.7925,-4307.9398 1952.8188,-4301.0154"/>
</g>
<!-- prose_33 -->
<g id="node34" class="node">
<title>prose_33</title>
<ellipse fill="none" stroke="#000000" cx="2082" cy="-4297.0357" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2082" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_33 -->
<g id="edge33" class="edge">
<title>section_6&#45;&gt;prose_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3675.3971,-4366.0222C3394.3759,-4353.8553 2347.7788,-4308.5426 2124.1974,-4298.8626"/>
<polygon fill="#000000" stroke="#000000" points="2124.3212,-4295.3648 2114.1791,-4298.4289 2124.0183,-4302.3583 2124.3212,-4295.3648"/>
</g>
<!-- prose_34 -->
<g id="node35" class="node">
<title>prose_34</title>
<ellipse fill="none" stroke="#000000" cx="2875" cy="-4297.0357" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2875" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_34 -->
<g id="edge34" class="edge">
<title>section_6&#45;&gt;prose_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3677.8172,-4363.4757C3506.5119,-4349.2987 3057.0763,-4312.1041 2917.1853,-4300.5269"/>
<polygon fill="#000000" stroke="#000000" points="2917.1472,-4297.0118 2906.8926,-4299.6751 2916.5698,-4303.988 2917.1472,-4297.0118"/>
</g>
<!-- codeblock_35 -->
<g id="node36" class="node">
<title>codeblock_35</title>
<ellipse fill="none" stroke="#000000" cx="3477" cy="-4297.0357" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3477" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 42&#45;48</text>
</g>
<!-- section_6&#45;&gt;codeblock_35 -->
<g id="edge35" class="edge">
<title>section_6&#45;&gt;codeblock_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3696.1563,-4355.9135C3651.6156,-4343.9473 3585.6419,-4326.2231 3537.7226,-4313.3492"/>
<polygon fill="#000000" stroke="#000000" points="3538.3511,-4309.894 3527.7854,-4310.6795 3536.5349,-4316.6543 3538.3511,-4309.894"/>
</g>
<!-- prose_36 -->
<g id="node37" class="node">
<title>prose_36</title>
<ellipse fill="none" stroke="#000000" cx="3684" cy="-4297.0357" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3684" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_36 -->
<g id="edge36" class="edge">
<title>section_6&#45;&gt;prose_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3729.9213,-4351.2379C3722.3139,-4342.2586 3712.9694,-4331.2291 3704.7003,-4321.4688"/>
<polygon fill="#000000" stroke="#000000" points="3707.2035,-4319.0089 3698.0688,-4313.6415 3701.8626,-4323.5338 3707.2035,-4319.0089"/>
</g>
<!-- prose_37 -->
<g id="node38" class="node">
<title>prose_37</title>
<ellipse fill="none" stroke="#000000" cx="3806" cy="-4297.0357" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3806" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_37 -->
<g id="edge37" class="edge">
<title>section_6&#45;&gt;prose_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3760.0787,-4351.2379C3767.6861,-4342.2586 3777.0306,-4331.2291 3785.2997,-4321.4688"/>
<polygon fill="#000000" stroke="#000000" points="3788.1374,-4323.5338 3791.9312,-4313.6415 3782.7965,-4319.0089 3788.1374,-4323.5338"/>
</g>
<!-- codeblock_38 -->
<g id="node39" class="node">
<title>codeblock_38</title>
<ellipse fill="none" stroke="#000000" cx="4027" cy="-4297.0357" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="4027" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 55&#45;60</text>
</g>
<!-- section_6&#45;&gt;codeblock_38 -->
<g id="edge38" class="edge">
<title>section_6&#45;&gt;codeblock_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3795.091,-4356.2465C3842.4244,-4344.1614 3913.5851,-4325.9927 3964.5885,-4312.9705"/>
<polygon fill="#000000" stroke="#000000" points="3965.6841,-4316.3032 3974.5074,-4310.438 3963.9524,-4309.5207 3965.6841,-4316.3032"/>
</g>
<!-- prose_39 -->
<g id="node40" class="node">
<title>prose_39</title>
<ellipse fill="none" stroke="#000000" cx="4390" cy="-4297.0357" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4390" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_39 -->
<g id="edge39" class="edge">
<title>section_6&#45;&gt;prose_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3809.7982,-4361.8024C3941.7899,-4347.0684 4238.5869,-4313.9376 4348.2468,-4301.6965"/>
<polygon fill="#000000" stroke="#000000" points="4348.7131,-4305.1663 4358.2631,-4300.5784 4347.9365,-4298.2095 4348.7131,-4305.1663"/>
</g>
<!-- prose_40 -->
<g id="node41" class="node">
<title>prose_40</title>
<ellipse fill="none" stroke="#000000" cx="4553" cy="-4297.0357" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4553" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_40 -->
<g id="edge40" class="edge">
<title>section_6&#45;&gt;prose_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3814.2822,-4365.143C3938.2368,-4357.8309 4206.0442,-4340.455 4431,-4315.0357 4458.0568,-4311.9783 4488.3405,-4307.5162 4511.9671,-4303.7997"/>
<polygon fill="#000000" stroke="#000000" points="4512.6608,-4307.2335 4521.9867,-4302.2057 4511.561,-4300.3204 4512.6608,-4307.2335"/>
</g>
<!-- codeblock_41 -->
<g id="node42" class="node">
<title>codeblock_41</title>
<ellipse fill="none" stroke="#000000" cx="4830" cy="-4297.0357" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="4830" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 67&#45;168</text>
</g>
<!-- section_6&#45;&gt;codeblock_41 -->
<g id="edge41" class="edge">
<title>section_6&#45;&gt;codeblock_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3813.7997,-4364.9546C3958.3334,-4356.3162 4304.1207,-4335.3084 4594,-4315.0357 4643.0572,-4311.6049 4697.8241,-4307.4479 4742.2409,-4303.9936"/>
<polygon fill="#000000" stroke="#000000" points="4742.7267,-4307.4664 4752.4244,-4303.1998 4742.1827,-4300.4876 4742.7267,-4307.4664"/>
</g>
<!-- codeblock_42 -->
<g id="node43" class="node">
<title>codeblock_42</title>
<ellipse fill="none" stroke="#000000" cx="5246" cy="-4297.0357" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5246" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 170&#45;181</text>
</g>
<!-- section_6&#45;&gt;codeblock_42 -->
<g id="edge42" class="edge">
<title>section_6&#45;&gt;codeblock_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3814.9312,-4366.0553C3997.1005,-4358.2413 4501.278,-4336.2948 4921,-4315.0357 4998.679,-4311.1012 5086.7755,-4306.1943 5151.6337,-4302.498"/>
<polygon fill="#000000" stroke="#000000" points="5152.0541,-4305.9798 5161.8384,-4301.9155 5151.6551,-4298.9911 5152.0541,-4305.9798"/>
</g>
<!-- header_90 -->
<g id="node91" class="node">
<title>header_90</title>
<ellipse fill="none" stroke="#000000" cx="5803" cy="-4297.0357" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="5803" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Reader</text>
</g>
<!-- section_7&#45;&gt;header_90 -->
<g id="edge90" class="edge">
<title>section_7&#45;&gt;header_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6188.2358,-4358.9486C6100.8802,-4344.9093 5943.9284,-4319.6849 5859.8493,-4306.1722"/>
<polygon fill="#000000" stroke="#000000" points="5860.3953,-4302.7151 5849.9666,-4304.5839 5859.2845,-4309.6264 5860.3953,-4302.7151"/>
</g>
<!-- prose_91 -->
<g id="node92" class="node">
<title>prose_91</title>
<ellipse fill="none" stroke="#000000" cx="5990" cy="-4297.0357" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5990" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_91 -->
<g id="edge91" class="edge">
<title>section_7&#45;&gt;prose_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6201.6011,-4355.4084C6151.4518,-4341.5741 6074.8295,-4320.4369 6028.8534,-4307.7539"/>
<polygon fill="#000000" stroke="#000000" points="6029.5432,-4304.3135 6018.9724,-4305.0281 6027.6816,-4311.0614 6029.5432,-4304.3135"/>
</g>
<!-- section_92 -->
<g id="node93" class="node">
<title>section_92</title>
<ellipse fill="none" stroke="#000000" cx="6474" cy="-4297.0357" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="6474" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 190&#45;213</text>
</g>
<!-- section_7&#45;&gt;section_92 -->
<g id="edge92" class="edge">
<title>section_7&#45;&gt;section_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6295.8591,-4354.552C6331.3522,-4343.0924 6381.0755,-4327.0382 6418.9729,-4314.8023"/>
<polygon fill="#000000" stroke="#000000" points="6420.3898,-4318.0228 6428.8307,-4311.6195 6418.239,-4311.3614 6420.3898,-4318.0228"/>
</g>
<!-- section_93 -->
<g id="node94" class="node">
<title>section_93</title>
<ellipse fill="none" stroke="#000000" cx="7405" cy="-4297.0357" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7405" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 214&#45;253</text>
</g>
<!-- section_7&#45;&gt;section_93 -->
<g id="edge93" class="edge">
<title>section_7&#45;&gt;section_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6324.0633,-4364.4771C6528.537,-4351.7197 7105.6854,-4315.7104 7321.8662,-4302.2225"/>
<polygon fill="#000000" stroke="#000000" points="7322.1222,-4305.7135 7331.8848,-4301.5975 7321.6862,-4298.7271 7322.1222,-4305.7135"/>
</g>
<!-- section_94 -->
<g id="node95" class="node">
<title>section_94</title>
<ellipse fill="none" stroke="#000000" cx="9385" cy="-4297.0357" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9385" y="-4292.8357" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 254&#45;467</text>
</g>
<!-- section_7&#45;&gt;section_94 -->
<g id="edge94" class="edge">
<title>section_7&#45;&gt;section_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6326.5313,-4367.3004C6752.2708,-4357.5196 8849.222,-4309.3446 9299.6771,-4298.9959"/>
<polygon fill="#000000" stroke="#000000" points="9299.777,-4302.4946 9309.694,-4298.7657 9299.6162,-4295.4964 9299.777,-4302.4946"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="621.5,-3494.8212 178.5,-3494.8212 178.5,-3423.0189 621.5,-3423.0189 621.5,-3494.8212"/>
<text text-anchor="middle" x="400" y="-3431.4201" font-family="Inconsolata" font-size="14.00" fill="#000000">I just got orb stood up in the pylon bootloader distribution.</text>
</g>
<!-- raw_9&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>raw_9&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M692.064,-4285.478C670.632,-4273.2706 639.3189,-4254.2681 631,-4243.0357 454.7808,-4005.1001 412.3634,-3634.1867 402.6997,-3505.0787"/>
<polygon fill="#000000" stroke="#000000" points="406.1669,-3504.4956 401.9601,-3494.7718 399.1849,-3504.9966 406.1669,-3504.4956"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="824,-3486.8215 640,-3486.8215 640,-3431.0186 824,-3431.0186 824,-3486.8215"/>
<text text-anchor="middle" x="732" y="-3455.4201" font-family="Inconsolata" font-size="14.00" fill="#000000">I am excited about this.</text>
</g>
<!-- raw_11&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>raw_11&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M783.8437,-4278.751C777.1905,-4173.5401 743.7584,-3644.8608 734.4239,-3497.2497"/>
<polygon fill="#000000" stroke="#000000" points="737.8934,-3496.6555 733.7691,-3486.8964 730.9073,-3497.0973 737.8934,-3496.6555"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="942,-3476.9201 842,-3476.9201 842,-3440.9201 942,-3440.9201 942,-3476.9201"/>
<text text-anchor="middle" x="892" y="-3455.4201" font-family="Inconsolata" font-size="14.00" fill="#000000">** &#160;includes</text>
</g>
<!-- header_13&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>header_13&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M885.1527,-4278.751C886.0531,-4170.9455 890.6669,-3618.5282 891.7652,-3487.0365"/>
<polygon fill="#000000" stroke="#000000" points="895.2656,-3486.993 891.8493,-3476.964 888.2658,-3486.9344 895.2656,-3486.993"/>
</g>
<!-- raw_20 -->
<g id="node21" class="node">
<title>raw_20</title>
<ellipse fill="none" stroke="#000000" cx="987" cy="-3458.9201" rx="27" ry="18"/>
<text text-anchor="middle" x="987" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_14&#45;&gt;raw_20 -->
<g id="edge20" class="edge">
<title>prose_14&#45;&gt;raw_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M989.9346,-4278.751C989.5487,-4170.9455 987.5713,-3618.5282 987.1006,-3487.0365"/>
<polygon fill="#000000" stroke="#000000" points="990.6005,-3486.9514 987.0646,-3476.964 983.6005,-3486.9765 990.6005,-3486.9514"/>
</g>
<!-- raw_22 -->
<g id="node23" class="node">
<title>raw_22</title>
<ellipse fill="none" stroke="#000000" cx="1059" cy="-3458.9201" rx="27" ry="18"/>
<text text-anchor="middle" x="1059" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_15&#45;&gt;raw_22 -->
<g id="edge22" class="edge">
<title>prose_15&#45;&gt;raw_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1071.7164,-4278.751C1070.0442,-4170.9455 1061.4757,-3618.5282 1059.4361,-3487.0365"/>
<polygon fill="#000000" stroke="#000000" points="1062.9346,-3486.9085 1059.2799,-3476.964 1055.9355,-3487.0172 1062.9346,-3486.9085"/>
</g>
<!-- raw_24 -->
<g id="node25" class="node">
<title>raw_24</title>
<ellipse fill="none" stroke="#000000" cx="1131" cy="-3458.9201" rx="27" ry="18"/>
<text text-anchor="middle" x="1131" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_16&#45;&gt;raw_24 -->
<g id="edge24" class="edge">
<title>prose_16&#45;&gt;raw_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1153.4982,-4278.751C1150.5398,-4170.9455 1135.38,-3618.5282 1131.7716,-3487.0365"/>
<polygon fill="#000000" stroke="#000000" points="1135.2683,-3486.8642 1131.4952,-3476.964 1128.2709,-3487.0563 1135.2683,-3486.8642"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="1409.5,-3516.7204 1176.5,-3516.7204 1176.5,-3401.1197 1409.5,-3401.1197 1409.5,-3516.7204"/>
<text text-anchor="middle" x="1293" y="-3501.6202" font-family="Inconsolata" font-size="14.00" fill="#000000">sql = require &quot;sqlite&quot;</text>
<text text-anchor="middle" x="1293" y="-3486.2201" font-family="Inconsolata" font-size="14.00" fill="#000000">L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1293" y="-3470.8201" font-family="Inconsolata" font-size="14.00" fill="#000000">lfs = require &quot;lfs&quot;</text>
<text text-anchor="middle" x="1293" y="-3455.4201" font-family="Inconsolata" font-size="14.00" fill="#000000">ffi = require &quot;ffi&quot;</text>
<text text-anchor="middle" x="1293" y="-3440.02" font-family="Inconsolata" font-size="14.00" fill="#000000">bit = require &quot;bit&quot;</text>
<text text-anchor="middle" x="1293" y="-3424.62" font-family="Inconsolata" font-size="14.00" fill="#000000">ffi.reflect = require &quot;reflect&quot;</text>
<text text-anchor="middle" x="1293" y="-3409.22" font-family="Inconsolata" font-size="14.00" fill="#000000">uv = require &quot;luv&quot;</text>
</g>
<!-- codeblock_17&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>codeblock_17&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1286.1527,-4278.751C1286.9799,-4179.7122 1290.9411,-3705.4322 1292.4314,-3526.9999"/>
<polygon fill="#000000" stroke="#000000" points="1295.9316,-3526.9766 1292.5153,-3516.9477 1288.9319,-3526.9181 1295.9316,-3526.9766"/>
</g>
<!-- header_27 -->
<g id="node28" class="node">
<title>header_27</title>
<ellipse fill="none" stroke="#000000" cx="1538" cy="-3458.9201" rx="110.7308" ry="18"/>
<text text-anchor="middle" x="1538" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Djikstra Insertion Point</text>
</g>
<!-- section_18&#45;&gt;header_27 -->
<g id="edge27" class="edge">
<title>section_18&#45;&gt;header_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1538,-4278.751C1538,-4170.9455 1538,-3618.5282 1538,-3487.0365"/>
<polygon fill="#000000" stroke="#000000" points="1541.5001,-3486.964 1538,-3476.964 1534.5001,-3486.9641 1541.5001,-3486.964"/>
</g>
<!-- prose_28 -->
<g id="node29" class="node">
<title>prose_28</title>
<ellipse fill="none" stroke="#000000" cx="1699" cy="-3458.9201" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1699" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_18&#45;&gt;prose_28 -->
<g id="edge28" class="edge">
<title>section_18&#45;&gt;prose_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1591.4363,-4286.3715C1615.8652,-4278.6064 1642.712,-4265.3777 1658,-4243.0357 1827.3011,-3995.6176 1735.9724,-3594.6048 1706.8722,-3486.5025"/>
<polygon fill="#000000" stroke="#000000" points="1710.2028,-3485.4133 1704.184,-3476.6941 1703.4517,-3487.2636 1710.2028,-3485.4133"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="548,-1415.8026 0,-1415.8026 0,-1345.2019 548,-1345.2019 548,-1415.8026"/>
<text text-anchor="middle" x="274" y="-1368.7023" font-family="Inconsolata" font-size="14.00" fill="#000000">This all goes into global space for now. &#160;Our more sophisticated loader will</text>
<text text-anchor="middle" x="274" y="-1353.3023" font-family="Inconsolata" font-size="14.00" fill="#000000">handle namespace isolation. Meanwhile we&#39;re building a repl, so.</text>
</g>
<!-- raw_20&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>raw_20&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M989.1889,-3440.8575C1001.6783,-3334.2909 1059.6332,-2788.4666 951,-2674.8044 890.253,-2611.2452 623.079,-2696.8005 557,-2638.8044 184.9445,-2312.2597 244.442,-1611.2656 267.5937,-1426.1179"/>
<polygon fill="#000000" stroke="#000000" points="271.1003,-1426.2883 268.8975,-1415.925 264.1569,-1425.4001 271.1003,-1426.2883"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="1086,-1400.4043 566,-1400.4043 566,-1360.6002 1086,-1360.6002 1086,-1400.4043"/>
<text text-anchor="middle" x="826" y="-1369.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">First we load everything that might reasonable expect a stock namespace.</text>
</g>
<!-- raw_22&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>raw_22&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1058.8727,-3440.9201C1058.1201,-3355.2467 1053.1752,-2980.2762 1023,-2674.8044 972.7508,-2166.1182 858.757,-1552.3241 831.7941,-1410.6604"/>
<polygon fill="#000000" stroke="#000000" points="835.1792,-1409.7267 829.8667,-1400.56 828.3033,-1411.0389 835.1792,-1409.7267"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="1414,-1400.4043 1104,-1400.4043 1104,-1360.6002 1414,-1360.6002 1414,-1400.4043"/>
<text text-anchor="middle" x="1259" y="-1369.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">All of these are exceedingly well&#45;behaved.</text>
</g>
<!-- raw_24&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>raw_24&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1131.6683,-3440.6761C1134.8551,-3354.6474 1149.0975,-2980.8992 1167,-2674.8044 1196.612,-2168.5037 1245.2934,-1551.7021 1256.6018,-1410.3297"/>
<polygon fill="#000000" stroke="#000000" points="1260.0987,-1410.5065 1257.4085,-1400.259 1253.1211,-1409.9475 1260.0987,-1410.5065"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="1644,-1398.5023 1432,-1398.5023 1432,-1362.5023 1644,-1362.5023 1644,-1398.5023"/>
<text text-anchor="middle" x="1538" y="-1377.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Djikstra Insertion Point</text>
</g>
<!-- header_27&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>header_27&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1538,-3440.6359C1538,-3250.8009 1538,-1641.977 1538,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="1541.5001,-1408.6072 1538,-1398.6072 1534.5001,-1408.6072 1541.5001,-1408.6072"/>
</g>
<!-- raw_30 -->
<g id="node31" class="node">
<title>raw_30</title>
<ellipse fill="none" stroke="#000000" cx="1689" cy="-1380.5023" rx="27" ry="18"/>
<text text-anchor="middle" x="1689" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_28&#45;&gt;raw_30 -->
<g id="edge30" class="edge">
<title>prose_28&#45;&gt;raw_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1698.912,-3440.6359C1697.9987,-3250.8009 1690.258,-1641.977 1689.1355,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="1692.6353,-1408.5902 1689.0871,-1398.6072 1685.6354,-1408.624 1692.6353,-1408.5902"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="1970,-86.3004 1408,-86.3004 1408,.1003 1970,.1003 1970,-86.3004"/>
<text text-anchor="middle" x="1689" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">Although we&#39;re not doing so yet, this is where we will set up Djikstra mode</text>
<text text-anchor="middle" x="1689" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">for participating code. &#160;We then push that up through the layers, and it lands</text>
<text text-anchor="middle" x="1689" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">as close to C level as practical.</text>
</g>
<!-- raw_30&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>raw_30&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1689,-1362.3573C1689,-1223.3021 1689,-325.856 1689,-96.4394"/>
<polygon fill="#000000" stroke="#000000" points="1692.5001,-96.34 1689,-86.3401 1685.5001,-96.3401 1692.5001,-96.34"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="1849.5,-3476.9201 1784.5,-3476.9201 1784.5,-3440.9201 1849.5,-3440.9201 1849.5,-3476.9201"/>
<text text-anchor="middle" x="1817" y="-3455.4201" font-family="Inconsolata" font-size="14.00" fill="#000000">** core</text>
</g>
<!-- header_32&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>header_32&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1886.3803,-4281.0171C1876.3403,-4271.1775 1864.8403,-4257.6775 1859,-4243.0357 1748.8754,-3966.9509 1795.8698,-3592.3609 1812.2309,-3487.3261"/>
<polygon fill="#000000" stroke="#000000" points="1815.7266,-3487.6302 1813.8445,-3477.2039 1808.8139,-3486.5282 1815.7266,-3487.6302"/>
</g>
<!-- raw_44 -->
<g id="node45" class="node">
<title>raw_44</title>
<ellipse fill="none" stroke="#000000" cx="1895" cy="-3458.9201" rx="27" ry="18"/>
<text text-anchor="middle" x="1895" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_33&#45;&gt;raw_44 -->
<g id="edge44" class="edge">
<title>prose_33&#45;&gt;raw_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2051.9204,-4290.4426C2012.2248,-4281.0782 1945.6476,-4262.8486 1931,-4243.0357 1840.3688,-4120.4446 1880.6628,-3613.1621 1892.2545,-3487.285"/>
<polygon fill="#000000" stroke="#000000" points="1895.7745,-3487.2335 1893.2213,-3476.951 1888.805,-3486.5815 1895.7745,-3487.2335"/>
</g>
<!-- prespace_45 -->
<g id="node46" class="node">
<title>prespace_45</title>
<ellipse fill="none" stroke="#000000" cx="1986" cy="-3458.9201" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="1986" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_33&#45;&gt;prespace_45 -->
<g id="edge45" class="edge">
<title>prose_33&#45;&gt;prespace_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2066.2941,-4281.0059C2057.4964,-4270.9629 2047.2637,-4257.2599 2042,-4243.0357 1938.7292,-3963.9623 1970.7473,-3591.4745 1982.5156,-3487.1289"/>
<polygon fill="#000000" stroke="#000000" points="1986.0063,-3487.411 1983.682,-3477.0743 1979.0529,-3486.6043 1986.0063,-3487.411"/>
</g>
<!-- literal_46 -->
<g id="node47" class="node">
<title>literal_46</title>
<ellipse fill="none" stroke="#000000" cx="2082" cy="-3458.9201" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2082" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_33&#45;&gt;literal_46 -->
<g id="edge46" class="edge">
<title>prose_33&#45;&gt;literal_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2082,-4278.751C2082,-4170.9455 2082,-3618.5282 2082,-3487.0365"/>
<polygon fill="#000000" stroke="#000000" points="2085.5001,-3486.964 2082,-3476.964 2078.5001,-3486.9641 2085.5001,-3486.964"/>
</g>
<!-- raw_47 -->
<g id="node48" class="node">
<title>raw_47</title>
<ellipse fill="none" stroke="#000000" cx="2176" cy="-3458.9201" rx="27" ry="18"/>
<text text-anchor="middle" x="2176" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_33&#45;&gt;raw_47 -->
<g id="edge47" class="edge">
<title>prose_33&#45;&gt;raw_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2097.7191,-4281.0107C2106.5214,-4270.9694 2116.7544,-4257.2666 2122,-4243.0357 2224.8982,-3963.8812 2191.6914,-3591.4504 2179.5787,-3487.1236"/>
<polygon fill="#000000" stroke="#000000" points="2183.0394,-3486.5855 2178.379,-3477.0708 2176.0888,-3487.4151 2183.0394,-3486.5855"/>
</g>
<!-- raw_52 -->
<g id="node53" class="node">
<title>raw_52</title>
<ellipse fill="none" stroke="#000000" cx="2556" cy="-3458.9201" rx="27" ry="18"/>
<text text-anchor="middle" x="2556" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_34&#45;&gt;raw_52 -->
<g id="edge52" class="edge">
<title>prose_34&#45;&gt;raw_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2842.7892,-4295.4169C2777.7103,-4291.4202 2634.0951,-4278.6799 2603,-4243.0357 2404.9832,-4016.05 2513.6741,-3597.0428 2547.2282,-3486.3345"/>
<polygon fill="#000000" stroke="#000000" points="2550.6277,-3487.1873 2550.228,-3476.6 2543.9382,-3485.1258 2550.6277,-3487.1873"/>
</g>
<!-- prespace_53 -->
<g id="node54" class="node">
<title>prespace_53</title>
<ellipse fill="none" stroke="#000000" cx="2658" cy="-3458.9201" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2658" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_34&#45;&gt;prespace_53 -->
<g id="edge53" class="edge">
<title>prose_34&#45;&gt;prespace_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2844.4519,-4290.9793C2802.4364,-4281.9835 2730.1619,-4263.8928 2714,-4243.0357 2529.967,-4005.5395 2621.0409,-3596.6443 2650.1592,-3486.7746"/>
<polygon fill="#000000" stroke="#000000" points="2653.546,-3487.6579 2652.7723,-3477.0914 2646.7877,-3485.834 2653.546,-3487.6579"/>
</g>
<!-- literal_54 -->
<g id="node55" class="node">
<title>literal_54</title>
<ellipse fill="none" stroke="#000000" cx="2754" cy="-3458.9201" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2754" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_34&#45;&gt;literal_54 -->
<g id="edge54" class="edge">
<title>prose_34&#45;&gt;literal_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2848.1736,-4286.8601C2829.4846,-4278.2325 2805.8598,-4263.9 2794,-4243.0357 2718.7242,-4110.6076 2744.4,-3611.731 2752.1312,-3487.214"/>
<polygon fill="#000000" stroke="#000000" points="2755.64,-3487.1844 2752.7789,-3476.9832 2748.654,-3486.742 2755.64,-3487.1844"/>
</g>
<!-- raw_55 -->
<g id="node56" class="node">
<title>raw_55</title>
<ellipse fill="none" stroke="#000000" cx="2830" cy="-3458.9201" rx="27" ry="18"/>
<text text-anchor="middle" x="2830" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_34&#45;&gt;raw_55 -->
<g id="edge55" class="edge">
<title>prose_34&#45;&gt;raw_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2871.4609,-4279.1091C2869.5313,-4268.6335 2867.2813,-4255.1335 2866,-4243.0357 2834.8082,-3948.5158 2830.6312,-3588.9369 2830.081,-3487.0275"/>
<polygon fill="#000000" stroke="#000000" points="2833.5806,-3486.9132 2830.0341,-3476.9296 2826.5807,-3486.9457 2833.5806,-3486.9132"/>
</g>
<!-- prespace_56 -->
<g id="node57" class="node">
<title>prespace_56</title>
<ellipse fill="none" stroke="#000000" cx="2921" cy="-3458.9201" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2921" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_34&#45;&gt;prespace_56 -->
<g id="edge56" class="edge">
<title>prose_34&#45;&gt;prespace_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2876.0036,-4278.751C2881.9205,-4170.9455 2912.2399,-3618.5282 2919.4568,-3487.0365"/>
<polygon fill="#000000" stroke="#000000" points="2922.9563,-3487.1409 2920.0097,-3476.964 2915.9668,-3486.7572 2922.9563,-3487.1409"/>
</g>
<!-- literal_57 -->
<g id="node58" class="node">
<title>literal_57</title>
<ellipse fill="none" stroke="#000000" cx="3017" cy="-3458.9201" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3017" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_34&#45;&gt;literal_57 -->
<g id="edge57" class="edge">
<title>prose_34&#45;&gt;literal_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2904.8569,-4289.7261C2928.5037,-4282.2322 2960.1118,-4268.0416 2976,-4243.0357 3136.5992,-3990.2733 3051.7571,-3593.8935 3024.4543,-3486.5213"/>
<polygon fill="#000000" stroke="#000000" points="3027.8249,-3485.5753 3021.9294,-3476.7723 3021.0485,-3487.3304 3027.8249,-3485.5753"/>
</g>
<!-- raw_58 -->
<g id="node59" class="node">
<title>raw_58</title>
<ellipse fill="none" stroke="#000000" cx="3124" cy="-3458.9201" rx="27" ry="18"/>
<text text-anchor="middle" x="3124" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_34&#45;&gt;raw_58 -->
<g id="edge58" class="edge">
<title>prose_34&#45;&gt;raw_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2906.3098,-4292.0697C2953.1323,-4283.962 3037.9483,-4266.4128 3057,-4243.0357 3247.2443,-4009.5988 3159.5622,-3596.8782 3131.5059,-3486.6354"/>
<polygon fill="#000000" stroke="#000000" points="3134.8134,-3485.4467 3128.9139,-3476.6463 3128.0378,-3487.2048 3134.8134,-3485.4467"/>
</g>
<!-- leaf_66 -->
<g id="node67" class="node">
<title>leaf_66</title>
<polygon fill="none" stroke="#c0c0c0" points="3597.5,-3501.4202 3196.5,-3501.4202 3196.5,-3416.4199 3597.5,-3416.4199 3597.5,-3501.4202"/>
<text text-anchor="middle" x="3397" y="-3486.2201" font-family="Inconsolata" font-size="14.00" fill="#000000">local core = require &quot;core&quot;</text>
<text text-anchor="middle" x="3397" y="-3470.8201" font-family="Inconsolata" font-size="14.00" fill="#000000">string.cleave, string.litpat = core.cleave, core.litpat</text>
<text text-anchor="middle" x="3397" y="-3455.4201" font-family="Inconsolata" font-size="14.00" fill="#000000">meta = core.meta</text>
<text text-anchor="middle" x="3397" y="-3440.02" font-family="Inconsolata" font-size="14.00" fill="#000000">getmeta, setmeta = getmetatable, setmetatable</text>
<text text-anchor="middle" x="3397" y="-3424.62" font-family="Inconsolata" font-size="14.00" fill="#000000">coro = coroutine</text>
</g>
<!-- codeblock_35&#45;&gt;leaf_66 -->
<g id="edge66" class="edge">
<title>codeblock_35&#45;&gt;leaf_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3475.2547,-4278.751C3465.5229,-4176.7964 3417.8334,-3677.1804 3402.0691,-3512.0266"/>
<polygon fill="#000000" stroke="#000000" points="3405.5121,-3511.2618 3401.0777,-3501.6397 3398.5438,-3511.927 3405.5121,-3511.2618"/>
</g>
<!-- raw_67 -->
<g id="node68" class="node">
<title>raw_67</title>
<ellipse fill="none" stroke="#000000" cx="3643" cy="-3458.9201" rx="27" ry="18"/>
<text text-anchor="middle" x="3643" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_36&#45;&gt;raw_67 -->
<g id="edge67" class="edge">
<title>prose_36&#45;&gt;raw_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3682.1241,-4279.0526C3681.0821,-4268.5582 3679.8321,-4255.0582 3679,-4243.0357 3658.5726,-3947.9035 3646.9022,-3589.4495 3643.8264,-3487.3027"/>
<polygon fill="#000000" stroke="#000000" points="3647.321,-3487.0644 3643.5245,-3477.1732 3640.3241,-3487.2731 3647.321,-3487.0644"/>
</g>
<!-- raw_69 -->
<g id="node70" class="node">
<title>raw_69</title>
<ellipse fill="none" stroke="#000000" cx="3715" cy="-3458.9201" rx="27" ry="18"/>
<text text-anchor="middle" x="3715" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_37&#45;&gt;raw_69 -->
<g id="edge69" class="edge">
<title>prose_37&#45;&gt;raw_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3785.4164,-4283.087C3773.0417,-4273.4348 3758.3154,-4259.4069 3751,-4243.0357 3688.9383,-4104.1465 3707.7455,-3611.1246 3713.5708,-3487.2968"/>
<polygon fill="#000000" stroke="#000000" points="3717.076,-3487.2704 3714.0601,-3477.1139 3710.084,-3486.9343 3717.076,-3487.2704"/>
</g>
<!-- prespace_70 -->
<g id="node71" class="node">
<title>prespace_70</title>
<ellipse fill="none" stroke="#000000" cx="3806" cy="-3458.9201" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="3806" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_37&#45;&gt;prespace_70 -->
<g id="edge70" class="edge">
<title>prose_37&#45;&gt;prespace_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3806,-4278.751C3806,-4170.9455 3806,-3618.5282 3806,-3487.0365"/>
<polygon fill="#000000" stroke="#000000" points="3809.5001,-3486.964 3806,-3476.964 3802.5001,-3486.9641 3809.5001,-3486.964"/>
</g>
<!-- literal_71 -->
<g id="node72" class="node">
<title>literal_71</title>
<ellipse fill="none" stroke="#000000" cx="3902" cy="-3458.9201" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3902" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_37&#45;&gt;literal_71 -->
<g id="edge71" class="edge">
<title>prose_37&#45;&gt;literal_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3826.5481,-4283.0711C3838.9087,-4273.4125 3853.6326,-4259.3836 3861,-4243.0357 3983.3878,-3971.4638 3926.7124,-3592.2017 3907.4919,-3486.9618"/>
<polygon fill="#000000" stroke="#000000" points="3910.8772,-3486.0231 3905.6016,-3476.8351 3903.996,-3487.3076 3910.8772,-3486.0231"/>
</g>
<!-- raw_72 -->
<g id="node73" class="node">
<title>raw_72</title>
<ellipse fill="none" stroke="#000000" cx="3978" cy="-3458.9201" rx="27" ry="18"/>
<text text-anchor="middle" x="3978" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_37&#45;&gt;raw_72 -->
<g id="edge72" class="edge">
<title>prose_37&#45;&gt;raw_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3837.8801,-4294.0948C3869.9938,-4289.2693 3918.1092,-4276.5462 3942,-4243.0357 4030.5016,-4118.8985 3991.8006,-3612.7725 3980.6441,-3487.2114"/>
<polygon fill="#000000" stroke="#000000" points="3984.0985,-3486.5483 3979.7134,-3476.9036 3977.1269,-3487.1778 3984.0985,-3486.5483"/>
</g>
<!-- leaf_77 -->
<g id="node78" class="node">
<title>leaf_77</title>
<polygon fill="none" stroke="#c0c0c0" points="4214.5,-3493.5213 4023.5,-3493.5213 4023.5,-3424.3188 4214.5,-3424.3188 4214.5,-3493.5213"/>
<text text-anchor="middle" x="4119" y="-3478.5201" font-family="Inconsolata" font-size="14.00" fill="#000000">a = require &quot;anterm&quot;</text>
<text text-anchor="middle" x="4119" y="-3463.1201" font-family="Inconsolata" font-size="14.00" fill="#000000">c = require &quot;color&quot;</text>
<text text-anchor="middle" x="4119" y="-3447.7201" font-family="Inconsolata" font-size="14.00" fill="#000000">ts = c.ts</text>
<text text-anchor="middle" x="4119" y="-3432.32" font-family="Inconsolata" font-size="14.00" fill="#000000">watch = require &quot;watcher&quot;</text>
</g>
<!-- codeblock_38&#45;&gt;leaf_77 -->
<g id="edge77" class="edge">
<title>codeblock_38&#45;&gt;leaf_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4029.0071,-4278.751C4040.3866,-4175.0846 4096.8955,-3660.2911 4114.0522,-3503.9941"/>
<polygon fill="#000000" stroke="#000000" points="4117.5594,-3504.1197 4115.1715,-3493.7975 4110.6012,-3503.3559 4117.5594,-3504.1197"/>
</g>
<!-- raw_78 -->
<g id="node79" class="node">
<title>raw_78</title>
<ellipse fill="none" stroke="#000000" cx="4299" cy="-3458.9201" rx="27" ry="18"/>
<text text-anchor="middle" x="4299" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_39&#45;&gt;raw_78 -->
<g id="edge78" class="edge">
<title>prose_39&#45;&gt;raw_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4369.4164,-4283.087C4357.0417,-4273.4348 4342.3154,-4259.4069 4335,-4243.0357 4213.5145,-3971.1608 4273.1949,-3592.113 4293.276,-3486.9423"/>
<polygon fill="#000000" stroke="#000000" points="4296.7706,-3487.3075 4295.2494,-3476.8224 4289.9,-3485.9676 4296.7706,-3487.3075"/>
</g>
<!-- prespace_79 -->
<g id="node80" class="node">
<title>prespace_79</title>
<ellipse fill="none" stroke="#000000" cx="4390" cy="-3458.9201" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4390" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_39&#45;&gt;prespace_79 -->
<g id="edge79" class="edge">
<title>prose_39&#45;&gt;prespace_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4390,-4278.751C4390,-4170.9455 4390,-3618.5282 4390,-3487.0365"/>
<polygon fill="#000000" stroke="#000000" points="4393.5001,-3486.964 4390,-3476.964 4386.5001,-3486.9641 4393.5001,-3486.964"/>
</g>
<!-- literal_80 -->
<g id="node81" class="node">
<title>literal_80</title>
<ellipse fill="none" stroke="#000000" cx="4486" cy="-3458.9201" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4486" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_39&#45;&gt;literal_80 -->
<g id="edge80" class="edge">
<title>prose_39&#45;&gt;literal_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4410.5481,-4283.0711C4422.9087,-4273.4125 4437.6326,-4259.3836 4445,-4243.0357 4567.3878,-3971.4638 4510.7124,-3592.2017 4491.4919,-3486.9618"/>
<polygon fill="#000000" stroke="#000000" points="4494.8772,-3486.0231 4489.6016,-3476.8351 4487.996,-3487.3076 4494.8772,-3486.0231"/>
</g>
<!-- raw_81 -->
<g id="node82" class="node">
<title>raw_81</title>
<ellipse fill="none" stroke="#000000" cx="4562" cy="-3458.9201" rx="27" ry="18"/>
<text text-anchor="middle" x="4562" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_39&#45;&gt;raw_81 -->
<g id="edge81" class="edge">
<title>prose_39&#45;&gt;raw_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4421.8801,-4294.0948C4453.9938,-4289.2693 4502.1092,-4276.5462 4526,-4243.0357 4614.5016,-4118.8985 4575.8006,-3612.7725 4564.6441,-3487.2114"/>
<polygon fill="#000000" stroke="#000000" points="4568.0985,-3486.5483 4563.7134,-3476.9036 4561.1269,-3487.1778 4568.0985,-3486.5483"/>
</g>
<!-- raw_86 -->
<g id="node87" class="node">
<title>raw_86</title>
<ellipse fill="none" stroke="#000000" cx="4634" cy="-3458.9201" rx="27" ry="18"/>
<text text-anchor="middle" x="4634" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_40&#45;&gt;raw_86 -->
<g id="edge86" class="edge">
<title>prose_40&#45;&gt;raw_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4570.8001,-4281.4164C4580.744,-4271.519 4592.2586,-4257.8249 4598,-4243.0357 4705.6496,-3965.7445 4655.8986,-3591.2657 4638.8981,-3486.9195"/>
<polygon fill="#000000" stroke="#000000" points="4642.3202,-3486.1615 4637.2247,-3476.8725 4635.4153,-3487.3117 4642.3202,-3486.1615"/>
</g>
<!-- leaf_88 -->
<g id="node89" class="node">
<title>leaf_88</title>
<polygon fill="none" stroke="#c0c0c0" points="5269,-4243.1513 4679,-4243.1513 4679,-2674.6888 5269,-2674.6888 5269,-4243.1513"/>
<text text-anchor="middle" x="4974" y="-4227.8357" font-family="Inconsolata" font-size="14.00" fill="#000000">local usecolors</text>
<text text-anchor="middle" x="4974" y="-4212.4356" font-family="Inconsolata" font-size="14.00" fill="#000000">stdout = &quot;&quot;</text>
<text text-anchor="middle" x="4974" y="-4181.0356" font-family="Inconsolata" font-size="14.00" fill="#000000">if uv.guess_handle(1) == &quot;tty&quot; then</text>
<text text-anchor="middle" x="4974" y="-4165.6356" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;stdout = uv.new_tty(1, false)</text>
<text text-anchor="middle" x="4974" y="-4150.2356" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;usecolors = true</text>
<text text-anchor="middle" x="4974" y="-4134.8355" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="4974" y="-4119.4355" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;stdout = uv.new_pipe(false)</text>
<text text-anchor="middle" x="4974" y="-4104.0355" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.pipe_open(utils.stdout, 1)</text>
<text text-anchor="middle" x="4974" y="-4088.6354" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;usecolors = false</text>
<text text-anchor="middle" x="4974" y="-4073.2354" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4974" y="-4041.8354" font-family="Inconsolata" font-size="14.00" fill="#000000">if not usecolors then</text>
<text text-anchor="middle" x="4974" y="-4026.4353" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;c.ts = tostring</text>
<text text-anchor="middle" x="4974" y="-4011.0353" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; #todo make this properly black and white ts</text>
<text text-anchor="middle" x="4974" y="-3995.6353" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4974" y="-3964.2352" font-family="Inconsolata" font-size="14.00" fill="#000000">function print(...)</text>
<text text-anchor="middle" x="4974" y="-3948.8352" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local n = select(&#39;#&#39;, ...)</text>
<text text-anchor="middle" x="4974" y="-3933.4352" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local arguments = {...}</text>
<text text-anchor="middle" x="4974" y="-3918.0352" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 1, n do</text>
<text text-anchor="middle" x="4974" y="-3902.6351" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;arguments[i] = tostring(arguments[i])</text>
<text text-anchor="middle" x="4974" y="-3887.2351" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="4974" y="-3871.8351" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.write(stdout, table.concat(arguments, &quot;\t&quot;) .. &quot;\n&quot;)</text>
<text text-anchor="middle" x="4974" y="-3856.435" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4974" y="-3825.035" font-family="Inconsolata" font-size="14.00" fill="#000000">function write(str)</text>
<text text-anchor="middle" x="4974" y="-3809.635" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.write(stdout, str)</text>
<text text-anchor="middle" x="4974" y="-3794.2349" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4974" y="-3746.8349" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; &#160;*** tty setup</text>
<text text-anchor="middle" x="4974" y="-3715.4349" font-family="Inconsolata" font-size="14.00" fill="#000000">if uv.guess_handle(0) ~= &quot;tty&quot; or</text>
<text text-anchor="middle" x="4974" y="-3700.0348" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.guess_handle(1) ~= &quot;tty&quot; then</text>
<text text-anchor="middle" x="4974" y="-3684.6348" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; Entry point for other consumers!</text>
<text text-anchor="middle" x="4974" y="-3669.2348" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;error &quot;stdio must be a tty&quot;</text>
<text text-anchor="middle" x="4974" y="-3653.8347" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4974" y="-3622.4347" font-family="Inconsolata" font-size="14.00" fill="#000000">local stdin = uv.new_tty(0, true)</text>
<text text-anchor="middle" x="4974" y="-3575.0347" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; &#160;*** utilities</text>
<text text-anchor="middle" x="4974" y="-3543.6347" font-family="Inconsolata" font-size="14.00" fill="#000000">local function gatherResults(success, ...)</text>
<text text-anchor="middle" x="4974" y="-3528.2346" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local n = select(&#39;#&#39;, ...)</text>
<text text-anchor="middle" x="4974" y="-3512.8346" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return success, { n = n, ... }</text>
<text text-anchor="middle" x="4974" y="-3497.4346" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4974" y="-3466.0345" font-family="Inconsolata" font-size="14.00" fill="#000000">local function printResults(results)</text>
<text text-anchor="middle" x="4974" y="-3450.6345" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 1, results.n do</text>
<text text-anchor="middle" x="4974" y="-3435.2345" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;results[i] = c.ts(results[i])</text>
<text text-anchor="middle" x="4974" y="-3419.8344" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="4974" y="-3404.4344" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;print(table.concat(results, &#39;\t&#39;))</text>
<text text-anchor="middle" x="4974" y="-3389.0344" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4974" y="-3357.6343" font-family="Inconsolata" font-size="14.00" fill="#000000">local buffer = &#39;&#39;</text>
<text text-anchor="middle" x="4974" y="-3326.2343" font-family="Inconsolata" font-size="14.00" fill="#000000">local function evaluateLine(line)</text>
<text text-anchor="middle" x="4974" y="-3310.8343" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if string.byte(line) == 17 then &#45;&#45; ^Q</text>
<text text-anchor="middle" x="4974" y="-3295.4342" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uv.stop()</text>
<text text-anchor="middle" x="4974" y="-3280.0342" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="4974" y="-3264.6342" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="4974" y="-3249.2342" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local chunk &#160;= buffer .. line</text>
<text text-anchor="middle" x="4974" y="-3233.8341" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local f, err = loadstring(&#39;return &#39; .. chunk, &#39;REPL&#39;) &#45;&#45; first we prefix return</text>
<text text-anchor="middle" x="4974" y="-3202.4341" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not f then</text>
<text text-anchor="middle" x="4974" y="-3187.0341" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;f, err = loadstring(chunk, &#39;REPL&#39;) &#45;&#45; try again without return</text>
<text text-anchor="middle" x="4974" y="-3171.634" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="4974" y="-3140.234" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if f then</text>
<text text-anchor="middle" x="4974" y="-3124.834" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;buffer = &#39;&#39;</text>
<text text-anchor="middle" x="4974" y="-3109.4339" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local success, results = gatherResults(xpcall(f, debug.traceback))</text>
<text text-anchor="middle" x="4974" y="-3078.0339" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if success then</text>
<text text-anchor="middle" x="4974" y="-3062.6339" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; successful call</text>
<text text-anchor="middle" x="4974" y="-3047.2338" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if results.n &gt; 0 then</text>
<text text-anchor="middle" x="4974" y="-3031.8338" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;printResults(results)</text>
<text text-anchor="middle" x="4974" y="-3016.4338" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4974" y="-3001.0337" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4974" y="-2985.6337" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; error</text>
<text text-anchor="middle" x="4974" y="-2970.2337" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;print(results[1])</text>
<text text-anchor="middle" x="4974" y="-2954.8337" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4974" y="-2939.4336" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="4974" y="-2924.0336" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if err:match &quot;&#39;&lt;eof&gt;&#39;$&quot; then</text>
<text text-anchor="middle" x="4974" y="-2908.6336" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Lua expects some more input; stow it away for next time</text>
<text text-anchor="middle" x="4974" y="-2893.2335" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;buffer = chunk .. &#39;\n&#39;</text>
<text text-anchor="middle" x="4974" y="-2877.8335" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return &#39;...&#39;</text>
<text text-anchor="middle" x="4974" y="-2862.4335" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4974" y="-2847.0334" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;print(err)</text>
<text text-anchor="middle" x="4974" y="-2831.6334" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;buffer = &#39;&#39;</text>
<text text-anchor="middle" x="4974" y="-2816.2334" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4974" y="-2800.8333" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="4974" y="-2769.4333" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return &#39;👉 &#160;&#39;</text>
<text text-anchor="middle" x="4974" y="-2745.2046" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4974" y="-2713.8045" font-family="Inconsolata" font-size="14.00" fill="#000000">local function displayPrompt(prompt)</text>
<text text-anchor="middle" x="4974" y="-2698.4045" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.write(stdout, prompt)</text>
<text text-anchor="middle" x="4974" y="-2683.0045" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_41&#45;&gt;leaf_88 -->
<g id="edge88" class="edge">
<title>codeblock_41&#45;&gt;leaf_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4833.1416,-4278.751C4834.3224,-4271.878 4835.8138,-4263.1978 4837.5772,-4252.9348"/>
<polygon fill="#000000" stroke="#000000" points="4841.0279,-4253.5192 4839.2719,-4243.071 4834.129,-4252.3339 4841.0279,-4253.5192"/>
</g>
<!-- leaf_89 -->
<g id="node90" class="node">
<title>leaf_89</title>
<polygon fill="none" stroke="#c0c0c0" points="5660.5,-3539.9204 5287.5,-3539.9204 5287.5,-3377.9197 5660.5,-3377.9197 5660.5,-3539.9204"/>
<text text-anchor="middle" x="5474" y="-3524.7202" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Deprecated, but useful if I want, y&#39;know, a REPL</text>
<text text-anchor="middle" x="5474" y="-3509.3202" font-family="Inconsolata" font-size="14.00" fill="#000000">local function onread(err, line)</text>
<text text-anchor="middle" x="5474" y="-3493.9201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if err then error(err) end</text>
<text text-anchor="middle" x="5474" y="-3478.5201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if line then</text>
<text text-anchor="middle" x="5474" y="-3463.1201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local prompt = evaluateLine(line)</text>
<text text-anchor="middle" x="5474" y="-3447.7201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;displayPrompt(prompt)</text>
<text text-anchor="middle" x="5474" y="-3432.32" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="5474" y="-3416.92" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;uv.close(stdin)</text>
<text text-anchor="middle" x="5474" y="-3401.52" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="5474" y="-3386.1199" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_42&#45;&gt;leaf_89 -->
<g id="edge89" class="edge">
<title>codeblock_42&#45;&gt;leaf_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5258.6526,-4278.7393C5265.1949,-4268.5941 5272.8632,-4255.5341 5278,-4243.0357 5376.8766,-4002.4576 5435.3257,-3699.1661 5460.0523,-3550.116"/>
<polygon fill="#000000" stroke="#000000" points="5463.5321,-3550.5245 5461.7034,-3540.0887 5456.6251,-3549.3872 5463.5321,-3550.5245"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="1788,-1408.4037 1734,-1408.4037 1734,-1352.6008 1788,-1352.6008 1788,-1408.4037"/>
<text text-anchor="middle" x="1761" y="-1361.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">The</text>
</g>
<!-- raw_44&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>raw_44&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1896.4105,-3440.7948C1904.2235,-3336.1442 1938.9878,-2809.1813 1858,-2674.8044 1841.7502,-2647.8423 1812.9991,-2665.9161 1797,-2638.8044 1733.7094,-2531.5536 1754.5828,-1617.7854 1759.9209,-1418.6977"/>
<polygon fill="#000000" stroke="#000000" points="1763.4265,-1418.5353 1760.1991,-1408.4441 1756.429,-1418.3454 1763.4265,-1418.5353"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="1860,-1398.5023 1806,-1398.5023 1806,-1362.5023 1860,-1362.5023 1860,-1398.5023"/>
<text text-anchor="middle" x="1833" y="-1377.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_45&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>prespace_45&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1990.4205,-3440.8344C2011.5532,-3349.9823 2094.6803,-2937.4055 1931,-2674.8044 1914.1451,-2647.7633 1885.2912,-2666.1888 1869,-2638.8044 1804.2225,-2529.9176 1827.2614,-1585.806 1832.1744,-1408.9744"/>
<polygon fill="#000000" stroke="#000000" points="1835.6754,-1408.9857 1832.4582,-1398.8911 1828.6782,-1408.7887 1835.6754,-1408.9857"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="1932,-1398.5023 1878,-1398.5023 1878,-1362.5023 1932,-1362.5023 1932,-1398.5023"/>
<text text-anchor="middle" x="1905" y="-1377.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">core</text>
</g>
<!-- literal_46&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>literal_46&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2083.6486,-3440.8844C2092.8984,-3335.6173 2134.6639,-2800.9362 2041,-2674.8044 2012.8382,-2636.8806 1968.7116,-2677.0585 1941,-2638.8044 1866.5933,-2536.091 1897.5279,-1584.9834 1903.9408,-1408.5807"/>
<polygon fill="#000000" stroke="#000000" points="1907.4403,-1408.6562 1904.3101,-1398.5343 1900.445,-1408.3989 1907.4403,-1408.6562"/>
</g>
<!-- leaf_51 -->
<g id="node52" class="node">
<title>leaf_51</title>
<polygon fill="none" stroke="#c0c0c0" points="2435.5,-1399.8028 1950.5,-1399.8028 1950.5,-1361.2017 2435.5,-1361.2017 2435.5,-1399.8028"/>
<text text-anchor="middle" x="2193" y="-1384.7023" font-family="Inconsolata" font-size="14.00" fill="#000000"> library is shaping up as a place to keep alterations to the global</text>
<text text-anchor="middle" x="2193" y="-1369.3023" font-family="Inconsolata" font-size="14.00" fill="#000000">namespace and standard library.</text>
</g>
<!-- raw_47&#45;&gt;leaf_51 -->
<g id="edge51" class="edge">
<title>raw_47&#45;&gt;leaf_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2176.1496,-3440.6359C2177.699,-3251.1946 2190.8068,-1648.6431 2192.7576,-1410.1355"/>
<polygon fill="#000000" stroke="#000000" points="2196.26,-1409.8484 2192.842,-1399.8201 2189.2602,-1409.7911 2196.26,-1409.8484"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="2630.5,-1400.4043 2453.5,-1400.4043 2453.5,-1360.6002 2630.5,-1360.6002 2630.5,-1400.4043"/>
<text text-anchor="middle" x="2542" y="-1369.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">This prelude belongs in</text>
</g>
<!-- raw_52&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>raw_52&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2555.8768,-3440.6359C2554.6015,-3251.2975 2543.8179,-1650.3845 2542.2022,-1410.5255"/>
<polygon fill="#000000" stroke="#000000" points="2545.7017,-1410.4168 2542.1343,-1400.4407 2538.7018,-1410.464 2545.7017,-1410.4168"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="2703,-1398.5023 2649,-1398.5023 2649,-1362.5023 2703,-1362.5023 2703,-1398.5023"/>
<text text-anchor="middle" x="2676" y="-1377.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_53&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>prespace_53&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2658.1583,-3440.6359C2659.8024,-3250.8009 2673.7355,-1641.977 2675.7561,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="2679.2564,-1408.6372 2675.8432,-1398.6072 2672.2566,-1408.5765 2679.2564,-1408.6372"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="2775,-1398.5023 2721,-1398.5023 2721,-1362.5023 2775,-1362.5023 2775,-1398.5023"/>
<text text-anchor="middle" x="2748" y="-1377.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">pylon</text>
</g>
<!-- literal_54&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>literal_54&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2753.9472,-3440.6359C2753.3992,-3250.8009 2748.7548,-1641.977 2748.0813,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="2751.5812,-1408.597 2748.0523,-1398.6072 2744.5812,-1408.6173 2751.5812,-1408.597"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="2872.5,-1398.5023 2793.5,-1398.5023 2793.5,-1362.5023 2872.5,-1362.5023 2872.5,-1398.5023"/>
<text text-anchor="middle" x="2833" y="-1377.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">; it, and</text>
</g>
<!-- raw_55&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>raw_55&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2830.0264,-3440.6359C2830.3004,-3250.8009 2832.6226,-1641.977 2832.9593,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="2836.4593,-1408.6123 2832.9739,-1398.6072 2829.4593,-1408.6021 2836.4593,-1408.6123"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="2945,-1398.5023 2891,-1398.5023 2891,-1362.5023 2945,-1362.5023 2945,-1398.5023"/>
<text text-anchor="middle" x="2918" y="-1377.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_56&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>prespace_56&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2920.9736,-3440.6359C2920.6996,-3250.8009 2918.3774,-1641.977 2918.0407,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="2921.5407,-1408.6021 2918.0261,-1398.6072 2914.5407,-1408.6123 2921.5407,-1408.6021"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="3017,-1398.5023 2963,-1398.5023 2963,-1362.5023 3017,-1362.5023 3017,-1398.5023"/>
<text text-anchor="middle" x="2990" y="-1377.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">core</text>
</g>
<!-- literal_57&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>literal_57&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3016.7625,-3440.6359C3014.2964,-3250.8009 2993.3967,-1641.977 2990.3659,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="2993.8649,-1408.5609 2990.2352,-1398.6072 2986.8655,-1408.6519 2993.8649,-1408.5609"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="3268.5,-1398.5023 3035.5,-1398.5023 3035.5,-1362.5023 3268.5,-1362.5023 3268.5,-1398.5023"/>
<text text-anchor="middle" x="3152" y="-1377.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">, will eventually end up there.</text>
</g>
<!-- raw_58&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>raw_58&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3124.2463,-3440.6359C3126.8037,-3250.8009 3148.4775,-1641.977 3151.6206,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="3155.121,-1408.6535 3151.7561,-1398.6072 3148.1216,-1408.5591 3155.121,-1408.6535"/>
</g>
<!-- leaf_68 -->
<g id="node69" class="node">
<title>leaf_68</title>
<polygon fill="none" stroke="#c0c0c0" points="3561.5,-1400.4043 3286.5,-1400.4043 3286.5,-1360.6002 3561.5,-1360.6002 3561.5,-1400.4043"/>
<text text-anchor="middle" x="3424" y="-1369.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">Primitives for terminal manipulation.</text>
</g>
<!-- raw_67&#45;&gt;leaf_68 -->
<g id="edge68" class="edge">
<title>raw_67&#45;&gt;leaf_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3643.8936,-3440.7343C3648.7386,-3336.8508 3669.3728,-2818.1454 3606,-2674.8044 3596.8505,-2654.1094 3579.8514,-2659.1747 3570,-2638.8044 3353.971,-2192.11 3405.3243,-1555.4009 3420.5538,-1410.5822"/>
<polygon fill="#000000" stroke="#000000" points="3424.0727,-1410.595 3421.6652,-1400.2773 3417.113,-1409.8443 3424.0727,-1410.595"/>
</g>
<!-- leaf_73 -->
<g id="node74" class="node">
<title>leaf_73</title>
<polygon fill="none" stroke="#c0c0c0" points="3784.5,-1400.4043 3579.5,-1400.4043 3579.5,-1360.6002 3784.5,-1360.6002 3784.5,-1400.4043"/>
<text text-anchor="middle" x="3682" y="-1369.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">Arguably don&#39;t belong here.</text>
</g>
<!-- raw_69&#45;&gt;leaf_73 -->
<g id="edge73" class="edge">
<title>raw_69&#45;&gt;leaf_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3714.7097,-3440.6359C3711.7035,-3251.2975 3686.285,-1650.3845 3682.4767,-1410.5255"/>
<polygon fill="#000000" stroke="#000000" points="3685.975,-1410.3838 3682.3166,-1400.4407 3678.9759,-1410.495 3685.975,-1410.3838"/>
</g>
<!-- leaf_74 -->
<g id="node75" class="node">
<title>leaf_74</title>
<polygon fill="none" stroke="#c0c0c0" points="3857,-1398.5023 3803,-1398.5023 3803,-1362.5023 3857,-1362.5023 3857,-1398.5023"/>
<text text-anchor="middle" x="3830" y="-1377.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_70&#45;&gt;leaf_74 -->
<g id="edge74" class="edge">
<title>prespace_70&#45;&gt;leaf_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3806.2111,-3440.6359C3808.4032,-3250.8009 3826.9807,-1641.977 3829.6748,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="3833.1751,-1408.647 3829.7909,-1398.6072 3826.1756,-1408.5661 3833.1751,-1408.647"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="3929,-1398.5023 3875,-1398.5023 3875,-1362.5023 3929,-1362.5023 3929,-1398.5023"/>
<text text-anchor="middle" x="3902" y="-1377.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">watch</text>
</g>
<!-- literal_71&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>literal_71&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3902,-3440.6359C3902,-3250.8009 3902,-1641.977 3902,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="3905.5001,-1408.6072 3902,-1398.6072 3898.5001,-1408.6072 3905.5001,-1408.6072"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="4243,-1399.8028 3947,-1399.8028 3947,-1361.2017 4243,-1361.2017 4243,-1399.8028"/>
<text text-anchor="middle" x="4095" y="-1384.7023" font-family="Inconsolata" font-size="14.00" fill="#000000"> is unused at present, it will be useful</text>
<text text-anchor="middle" x="4095" y="-1369.3023" font-family="Inconsolata" font-size="14.00" fill="#000000">in Orb relatively soon.</text>
</g>
<!-- raw_72&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>raw_72&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3978.7252,-3440.6793C3982.1687,-3354.6651 3997.3925,-2980.9722 4014,-2674.8044 4041.484,-2168.1214 4083.3563,-1550.4065 4092.9802,-1409.8795"/>
<polygon fill="#000000" stroke="#000000" points="4096.4735,-1410.0944 4093.6658,-1399.8784 4089.4899,-1409.6156 4096.4735,-1410.0944"/>
</g>
<!-- leaf_82 -->
<g id="node83" class="node">
<title>leaf_82</title>
<polygon fill="none" stroke="#c0c0c0" points="4417,-1400.4043 4261,-1400.4043 4261,-1360.6002 4417,-1360.6002 4417,-1400.4043"/>
<text text-anchor="middle" x="4339" y="-1369.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">This is all from the</text>
</g>
<!-- raw_78&#45;&gt;leaf_82 -->
<g id="edge82" class="edge">
<title>raw_78&#45;&gt;leaf_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4299.3519,-3440.6359C4302.9958,-3251.2975 4333.806,-1650.3845 4338.4222,-1410.5255"/>
<polygon fill="#000000" stroke="#000000" points="4341.9231,-1410.5062 4338.6163,-1400.4407 4334.9244,-1410.3714 4341.9231,-1410.5062"/>
</g>
<!-- leaf_83 -->
<g id="node84" class="node">
<title>leaf_83</title>
<polygon fill="none" stroke="#c0c0c0" points="4489,-1398.5023 4435,-1398.5023 4435,-1362.5023 4489,-1362.5023 4489,-1398.5023"/>
<text text-anchor="middle" x="4462" y="-1377.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_79&#45;&gt;leaf_83 -->
<g id="edge83" class="edge">
<title>prespace_79&#45;&gt;leaf_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4390.901,-3440.7411C4395.2506,-3352.5399 4414.3444,-2960.3283 4426,-2638.8044 4443.8465,-2146.4996 4458.176,-1545.5823 4461.3454,-1409.0148"/>
<polygon fill="#000000" stroke="#000000" points="4464.8537,-1408.6891 4461.586,-1398.6108 4457.8556,-1408.5271 4464.8537,-1408.6891"/>
</g>
<!-- leaf_84 -->
<g id="node85" class="node">
<title>leaf_84</title>
<polygon fill="none" stroke="#c0c0c0" points="4561,-1398.5023 4507,-1398.5023 4507,-1362.5023 4561,-1362.5023 4561,-1398.5023"/>
<text text-anchor="middle" x="4534" y="-1377.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">luv</text>
</g>
<!-- literal_80&#45;&gt;leaf_84 -->
<g id="edge84" class="edge">
<title>literal_80&#45;&gt;leaf_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4486.4223,-3440.6359C4490.8064,-3250.8009 4527.9614,-1641.977 4533.3496,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="4536.85,-1408.6854 4533.5819,-1398.6072 4529.8518,-1408.5237 4536.85,-1408.6854"/>
</g>
<!-- leaf_85 -->
<g id="node86" class="node">
<title>leaf_85</title>
<polygon fill="none" stroke="#c0c0c0" points="4959,-1399.8028 4579,-1399.8028 4579,-1361.2017 4959,-1361.2017 4959,-1399.8028"/>
<text text-anchor="middle" x="4769" y="-1384.7023" font-family="Inconsolata" font-size="14.00" fill="#000000"> repl example, which has been an excellent launching</text>
<text text-anchor="middle" x="4769" y="-1369.3023" font-family="Inconsolata" font-size="14.00" fill="#000000">off point. &#160;Thanks Tim Caswell!</text>
</g>
<!-- raw_81&#45;&gt;leaf_85 -->
<g id="edge85" class="edge">
<title>raw_81&#45;&gt;leaf_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4562.2621,-3440.6462C4563.6188,-3354.4827 4570.8637,-2980.2191 4598,-2674.8044 4643.2102,-2165.971 4741.3538,-1549.8921 4764.186,-1409.7872"/>
<polygon fill="#000000" stroke="#000000" points="4767.6567,-1410.2501 4765.8148,-1399.8166 4760.7482,-1409.1214 4767.6567,-1410.2501"/>
</g>
<!-- leaf_87 -->
<g id="node88" class="node">
<title>leaf_87</title>
<polygon fill="none" stroke="#c0c0c0" points="5238.5,-1400.4043 4977.5,-1400.4043 4977.5,-1360.6002 5238.5,-1360.6002 5238.5,-1400.4043"/>
<text text-anchor="middle" x="5108" y="-1369.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">It&#39;s getting phased out bit by bit.</text>
</g>
<!-- raw_86&#45;&gt;leaf_87 -->
<g id="edge87" class="edge">
<title>raw_86&#45;&gt;leaf_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4631.8597,-3440.9032C4619.6503,-3334.6003 4563.0323,-2790.0354 4670,-2674.8044 4760.7624,-2577.0306 4874.112,-2733.5808 4968,-2638.8044 5320.3339,-2283.1367 5156.5381,-1564.2945 5116.1236,-1410.0631"/>
<polygon fill="#000000" stroke="#000000" points="5119.4903,-1409.104 5113.5409,-1400.3372 5112.7247,-1410.9006 5119.4903,-1409.104"/>
</g>
<!-- leaf_95 -->
<g id="node96" class="node">
<title>leaf_95</title>
<polygon fill="none" stroke="#c0c0c0" points="5757.5,-3476.9201 5678.5,-3476.9201 5678.5,-3440.9201 5757.5,-3440.9201 5757.5,-3476.9201"/>
<text text-anchor="middle" x="5718" y="-3455.4201" font-family="Inconsolata" font-size="14.00" fill="#000000">** Reader</text>
</g>
<!-- header_90&#45;&gt;leaf_95 -->
<g id="edge95" class="edge">
<title>header_90&#45;&gt;leaf_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5787.717,-4279.3301C5780.0497,-4269.358 5771.464,-4256.2749 5767,-4243.0357 5671.9823,-3961.2323 5703.273,-3590.6647 5714.6439,-3486.9488"/>
<polygon fill="#000000" stroke="#000000" points="5718.1281,-3487.2849 5715.7699,-3476.9559 5711.1722,-3486.5011 5718.1281,-3487.2849"/>
</g>
<!-- raw_96 -->
<g id="node97" class="node">
<title>raw_96</title>
<ellipse fill="none" stroke="#000000" cx="5803" cy="-3458.9201" rx="27" ry="18"/>
<text text-anchor="middle" x="5803" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_91&#45;&gt;raw_96 -->
<g id="edge96" class="edge">
<title>prose_91&#45;&gt;raw_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5959.9204,-4290.4426C5920.2248,-4281.0782 5853.6476,-4262.8486 5839,-4243.0357 5748.3688,-4120.4446 5788.6628,-3613.1621 5800.2545,-3487.285"/>
<polygon fill="#000000" stroke="#000000" points="5803.7745,-3487.2335 5801.2213,-3476.951 5796.805,-3486.5815 5803.7745,-3487.2335"/>
</g>
<!-- prespace_97 -->
<g id="node98" class="node">
<title>prespace_97</title>
<ellipse fill="none" stroke="#000000" cx="5894" cy="-3458.9201" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5894" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_91&#45;&gt;prespace_97 -->
<g id="edge97" class="edge">
<title>prose_91&#45;&gt;prespace_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5974.2941,-4281.0059C5965.4964,-4270.9629 5955.2637,-4257.2599 5950,-4243.0357 5846.7292,-3963.9623 5878.7473,-3591.4745 5890.5156,-3487.1289"/>
<polygon fill="#000000" stroke="#000000" points="5894.0063,-3487.411 5891.682,-3477.0743 5887.0529,-3486.6043 5894.0063,-3487.411"/>
</g>
<!-- literal_98 -->
<g id="node99" class="node">
<title>literal_98</title>
<ellipse fill="none" stroke="#000000" cx="5990" cy="-3458.9201" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5990" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_91&#45;&gt;literal_98 -->
<g id="edge98" class="edge">
<title>prose_91&#45;&gt;literal_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5990,-4278.751C5990,-4170.9455 5990,-3618.5282 5990,-3487.0365"/>
<polygon fill="#000000" stroke="#000000" points="5993.5001,-3486.964 5990,-3476.964 5986.5001,-3486.9641 5993.5001,-3486.964"/>
</g>
<!-- raw_99 -->
<g id="node100" class="node">
<title>raw_99</title>
<ellipse fill="none" stroke="#000000" cx="6066" cy="-3458.9201" rx="27" ry="18"/>
<text text-anchor="middle" x="6066" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_91&#45;&gt;raw_99 -->
<g id="edge99" class="edge">
<title>prose_91&#45;&gt;raw_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6005.8376,-4281.0536C6014.682,-4271.0276 6024.9175,-4257.3257 6030,-4243.0357 6129.5673,-3963.0901 6085.6465,-3591.2158 6070.4292,-3487.0714"/>
<polygon fill="#000000" stroke="#000000" points="6073.8692,-3486.4091 6068.9291,-3477.0364 6066.9461,-3487.444 6073.8692,-3486.4091"/>
</g>
<!-- header_104 -->
<g id="node105" class="node">
<title>header_104</title>
<ellipse fill="none" stroke="#000000" cx="6334" cy="-3458.9201" rx="48.4031" ry="18"/>
<text text-anchor="middle" x="6334" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : keybuf</text>
</g>
<!-- section_92&#45;&gt;header_104 -->
<g id="edge104" class="edge">
<title>section_92&#45;&gt;header_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6435.8116,-4281.3187C6419.4848,-4272.5513 6401.929,-4259.9377 6392,-4243.0357 6240.5955,-3985.303 6305.7724,-3594.7642 6327.7892,-3487.2013"/>
<polygon fill="#000000" stroke="#000000" points="6331.2727,-3487.642 6329.8944,-3477.1372 6324.421,-3486.2087 6331.2727,-3487.642"/>
</g>
<!-- prose_105 -->
<g id="node106" class="node">
<title>prose_105</title>
<ellipse fill="none" stroke="#000000" cx="6433" cy="-3458.9201" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6433" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_92&#45;&gt;prose_105 -->
<g id="edge105" class="edge">
<title>section_92&#45;&gt;prose_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6473.1055,-4278.751C6467.8318,-4170.9455 6440.8079,-3618.5282 6434.3754,-3487.0365"/>
<polygon fill="#000000" stroke="#000000" points="6437.8672,-3486.7811 6433.8827,-3476.964 6430.8756,-3487.1231 6437.8672,-3486.7811"/>
</g>
<!-- prose_106 -->
<g id="node107" class="node">
<title>prose_106</title>
<ellipse fill="none" stroke="#000000" cx="6515" cy="-3458.9201" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6515" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_92&#45;&gt;prose_106 -->
<g id="edge106" class="edge">
<title>section_92&#45;&gt;prose_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6474.8945,-4278.751C6480.1682,-4170.9455 6507.1921,-3618.5282 6513.6246,-3487.0365"/>
<polygon fill="#000000" stroke="#000000" points="6517.1244,-3487.1231 6514.1173,-3476.964 6510.1328,-3486.7811 6517.1244,-3487.1231"/>
</g>
<!-- prose_107 -->
<g id="node108" class="node">
<title>prose_107</title>
<ellipse fill="none" stroke="#000000" cx="6665" cy="-3458.9201" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6665" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_92&#45;&gt;prose_107 -->
<g id="edge107" class="edge">
<title>section_92&#45;&gt;prose_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6511.2758,-4281.2498C6527.6156,-4272.4087 6545.4419,-4259.7539 6556,-4243.0357 6716.8828,-3988.2864 6682.1575,-3594.8409 6668.8591,-3487.0485"/>
<polygon fill="#000000" stroke="#000000" points="6672.3108,-3486.4473 6667.5735,-3476.9706 6665.3671,-3487.3331 6672.3108,-3486.4473"/>
</g>
<!-- codeblock_108 -->
<g id="node109" class="node">
<title>codeblock_108</title>
<ellipse fill="none" stroke="#000000" cx="6934" cy="-3458.9201" rx="86.7905" ry="18"/>
<text text-anchor="middle" x="6934" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 201&#45;211</text>
</g>
<!-- section_92&#45;&gt;codeblock_108 -->
<g id="edge108" class="edge">
<title>section_92&#45;&gt;codeblock_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6541.5371,-4288.9483C6601.2934,-4280.4658 6682.5431,-4265.2526 6706,-4243.0357 6933.1167,-4027.9248 6938.1029,-3601.1034 6935.1499,-3487.3363"/>
<polygon fill="#000000" stroke="#000000" points="6938.639,-3486.9208 6934.8364,-3477.0319 6931.6422,-3487.1337 6938.639,-3486.9208"/>
</g>
<!-- header_123 -->
<g id="node124" class="node">
<title>header_123</title>
<ellipse fill="none" stroke="#000000" cx="7338" cy="-3458.9201" rx="84.6634" ry="18"/>
<text text-anchor="middle" x="7338" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : helper functions</text>
</g>
<!-- section_93&#45;&gt;header_123 -->
<g id="edge123" class="edge">
<title>section_93&#45;&gt;header_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7403.5383,-4278.751C7394.9202,-4170.9455 7350.7593,-3618.5282 7340.2477,-3487.0365"/>
<polygon fill="#000000" stroke="#000000" points="7343.7283,-3486.6533 7339.4425,-3476.964 7336.7506,-3487.2112 7343.7283,-3486.6533"/>
</g>
<!-- prose_124 -->
<g id="node125" class="node">
<title>prose_124</title>
<ellipse fill="none" stroke="#000000" cx="7473" cy="-3458.9201" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7473" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_93&#45;&gt;prose_124 -->
<g id="edge124" class="edge">
<title>section_93&#45;&gt;prose_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7416.4882,-4278.7941C7422.2462,-4268.665 7428.6845,-4255.6028 7432,-4243.0357 7507.6577,-3956.2596 7484.3286,-3590.5616 7475.6201,-3487.2347"/>
<polygon fill="#000000" stroke="#000000" points="7479.0836,-3486.6613 7474.7319,-3477.0014 7472.1098,-3487.2667 7479.0836,-3486.6613"/>
</g>
<!-- codeblock_125 -->
<g id="node126" class="node">
<title>codeblock_125</title>
<ellipse fill="none" stroke="#000000" cx="7685" cy="-3458.9201" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7685" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 219&#45;251</text>
</g>
<!-- section_93&#45;&gt;codeblock_125 -->
<g id="edge125" class="edge">
<title>section_93&#45;&gt;codeblock_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7454.1744,-4283.3597C7475.5429,-4275.0218 7499.0565,-4262.1804 7514,-4243.0357 7702.3544,-4001.7276 7693.3583,-3597.0757 7687.0212,-3487.1841"/>
<polygon fill="#000000" stroke="#000000" points="7690.4973,-3486.688 7686.3858,-3476.9234 7683.5107,-3487.1207 7690.4973,-3486.688"/>
</g>
<!-- header_130 -->
<g id="node131" class="node">
<title>header_130</title>
<ellipse fill="none" stroke="#000000" cx="8209" cy="-3458.9201" rx="111.2326" ry="18"/>
<text text-anchor="middle" x="8209" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : process_escapes(seq)</text>
</g>
<!-- section_94&#45;&gt;header_130 -->
<g id="edge130" class="edge">
<title>section_94&#45;&gt;header_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9309.6834,-4295.2723C9087.089,-4289.7447 8445.5958,-4271.4162 8411,-4243.0357 8170.417,-4045.6745 8194.8596,-3603.3561 8205.8797,-3487.2652"/>
<polygon fill="#000000" stroke="#000000" points="8209.3869,-3487.3658 8206.8949,-3477.0682 8202.4213,-3486.6722 8209.3869,-3487.3658"/>
</g>
<!-- prose_131 -->
<g id="node132" class="node">
<title>prose_131</title>
<ellipse fill="none" stroke="#000000" cx="8452" cy="-3458.9201" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8452" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_94&#45;&gt;prose_131 -->
<g id="edge131" class="edge">
<title>section_94&#45;&gt;prose_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9311.5286,-4292.7534C9220.0928,-4286.292 9070.2129,-4271.6412 9023,-4243.0357 8702.84,-4049.0563 8508.1588,-3600.7379 8462.4403,-3486.0359"/>
<polygon fill="#000000" stroke="#000000" points="8465.6347,-3484.5957 8458.7085,-3476.5783 8459.1233,-3487.165 8465.6347,-3484.5957"/>
</g>
<!-- prose_132 -->
<g id="node133" class="node">
<title>prose_132</title>
<ellipse fill="none" stroke="#000000" cx="9064" cy="-3458.9201" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9064" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_94&#45;&gt;prose_132 -->
<g id="edge132" class="edge">
<title>section_94&#45;&gt;prose_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9369.0818,-4279.0084C9360.7854,-4268.9421 9350.9489,-4255.8715 9344,-4243.0357 9193.6374,-3965.2881 9095.9743,-3590.4567 9070.5861,-3486.5925"/>
<polygon fill="#000000" stroke="#000000" points="9073.9854,-3485.7583 9068.2269,-3476.865 9067.1826,-3487.4082 9073.9854,-3485.7583"/>
</g>
<!-- prose_133 -->
<g id="node134" class="node">
<title>prose_133</title>
<ellipse fill="none" stroke="#000000" cx="9385" cy="-3458.9201" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9385" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_94&#45;&gt;prose_133 -->
<g id="edge133" class="edge">
<title>section_94&#45;&gt;prose_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9385,-4278.751C9385,-4170.9455 9385,-3618.5282 9385,-3487.0365"/>
<polygon fill="#000000" stroke="#000000" points="9388.5001,-3486.964 9385,-3476.964 9381.5001,-3486.9641 9388.5001,-3486.964"/>
</g>
<!-- prose_134 -->
<g id="node135" class="node">
<title>prose_134</title>
<ellipse fill="none" stroke="#000000" cx="9779" cy="-3458.9201" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9779" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_94&#45;&gt;prose_134 -->
<g id="edge134" class="edge">
<title>section_94&#45;&gt;prose_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9400.1186,-4279.2665C9408.3723,-4269.0663 9418.4229,-4255.7856 9426,-4243.0357 9592.6448,-3962.6229 9731.9742,-3589.6758 9769.2211,-3486.4209"/>
<polygon fill="#000000" stroke="#000000" points="9772.6077,-3487.3459 9772.6944,-3476.7514 9766.0198,-3484.9795 9772.6077,-3487.3459"/>
</g>
<!-- prose_135 -->
<g id="node136" class="node">
<title>prose_135</title>
<ellipse fill="none" stroke="#000000" cx="9942" cy="-3458.9201" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9942" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_94&#45;&gt;prose_135 -->
<g id="edge135" class="edge">
<title>section_94&#45;&gt;prose_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9458.6144,-4292.6874C9575.8864,-4285.0599 9794.5607,-4267.7021 9820,-4243.0357 10038.7031,-4030.9766 9970.6189,-3600.2593 9948.0038,-3486.8167"/>
<polygon fill="#000000" stroke="#000000" points="9951.398,-3485.9446 9945.9683,-3476.8468 9944.5395,-3487.3449 9951.398,-3485.9446"/>
</g>
<!-- codeblock_136 -->
<g id="node137" class="node">
<title>codeblock_136</title>
<ellipse fill="none" stroke="#000000" cx="10202" cy="-3458.9201" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="10202" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 269&#45;432</text>
</g>
<!-- section_94&#45;&gt;codeblock_136 -->
<g id="edge136" class="edge">
<title>section_94&#45;&gt;codeblock_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9460.2279,-4294.9594C9611.9568,-4290.0994 9943.6192,-4275.8204 9983,-4243.0357 10223.4526,-4042.8578 10211.8156,-3602.5938 10204.2636,-3487.1105"/>
<polygon fill="#000000" stroke="#000000" points="10207.7435,-3486.6989 10203.5541,-3476.9675 10200.7605,-3487.1874 10207.7435,-3486.6989"/>
</g>
<!-- codeblock_137 -->
<g id="node138" class="node">
<title>codeblock_137</title>
<ellipse fill="none" stroke="#000000" cx="10576" cy="-3458.9201" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="10576" y="-3454.7201" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 434&#45;467</text>
</g>
<!-- section_94&#45;&gt;codeblock_137 -->
<g id="edge137" class="edge">
<title>section_94&#45;&gt;codeblock_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9459.9937,-4294.846C9672.3631,-4288.3491 10264.7022,-4268.0652 10298,-4243.0357 10553.8466,-4050.7191 10575.0658,-3603.8016 10576.1489,-3487.1703"/>
<polygon fill="#000000" stroke="#000000" points="10579.6499,-3486.9508 10576.1981,-3476.9341 10572.65,-3486.9171 10579.6499,-3486.9508"/>
</g>
<!-- leaf_100 -->
<g id="node101" class="node">
<title>leaf_100</title>
<polygon fill="none" stroke="#c0c0c0" points="5696,-1408.4037 5414,-1408.4037 5414,-1352.6008 5696,-1352.6008 5696,-1408.4037"/>
<text text-anchor="middle" x="5555" y="-1361.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">The reader takes a stream of data from</text>
</g>
<!-- raw_96&#45;&gt;leaf_100 -->
<g id="edge100" class="edge">
<title>raw_96&#45;&gt;leaf_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5804.4105,-3440.7948C5812.2235,-3336.1442 5846.9878,-2809.1813 5766,-2674.8044 5749.7502,-2647.8423 5722.2031,-2665.1685 5705,-2638.8044 5437.3651,-2228.6484 5521.7645,-1580.3307 5548.3317,-1418.1992"/>
<polygon fill="#000000" stroke="#000000" points="5551.8014,-1418.6701 5549.9937,-1408.2307 5544.8967,-1417.5189 5551.8014,-1418.6701"/>
</g>
<!-- leaf_101 -->
<g id="node102" class="node">
<title>leaf_101</title>
<polygon fill="none" stroke="#c0c0c0" points="5768,-1398.5023 5714,-1398.5023 5714,-1362.5023 5768,-1362.5023 5768,-1398.5023"/>
<text text-anchor="middle" x="5741" y="-1377.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_97&#45;&gt;leaf_101 -->
<g id="edge101" class="edge">
<title>prespace_97&#45;&gt;leaf_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5898.4205,-3440.8344C5919.5532,-3349.9823 6002.6803,-2937.4055 5839,-2674.8044 5822.1451,-2647.7633 5793.2912,-2666.1888 5777,-2638.8044 5712.2225,-2529.9176 5735.2614,-1585.806 5740.1744,-1408.9744"/>
<polygon fill="#000000" stroke="#000000" points="5743.6754,-1408.9857 5740.4582,-1398.8911 5736.6782,-1408.7887 5743.6754,-1408.9857"/>
</g>
<!-- leaf_102 -->
<g id="node103" class="node">
<title>leaf_102</title>
<polygon fill="none" stroke="#c0c0c0" points="5840,-1398.5023 5786,-1398.5023 5786,-1362.5023 5840,-1362.5023 5840,-1398.5023"/>
<text text-anchor="middle" x="5813" y="-1377.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">stdin</text>
</g>
<!-- literal_98&#45;&gt;leaf_102 -->
<g id="edge102" class="edge">
<title>literal_98&#45;&gt;leaf_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5991.6486,-3440.8844C6000.8984,-3335.6173 6042.6639,-2800.9362 5949,-2674.8044 5920.8382,-2636.8806 5876.7116,-2677.0585 5849,-2638.8044 5774.5933,-2536.091 5805.5279,-1584.9834 5811.9408,-1408.5807"/>
<polygon fill="#000000" stroke="#000000" points="5815.4403,-1408.6562 5812.3101,-1398.5343 5808.445,-1408.3989 5815.4403,-1408.6562"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="6273.5,-1407.8027 5858.5,-1407.8027 5858.5,-1353.2018 6273.5,-1353.2018 6273.5,-1407.8027"/>
<text text-anchor="middle" x="6066" y="-1392.7023" font-family="Inconsolata" font-size="14.00" fill="#000000">, asynchronously, and</text>
<text text-anchor="middle" x="6066" y="-1377.3023" font-family="Inconsolata" font-size="14.00" fill="#000000">processes it into tokens, which stream to the recognizer.</text>
</g>
<!-- raw_99&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>raw_99&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6066,-3440.6359C6066,-3253.1853 6066,-1682.1667 6066,-1418.1029"/>
<polygon fill="#000000" stroke="#000000" points="6069.5001,-1417.8825 6066,-1407.8826 6062.5001,-1417.8826 6069.5001,-1417.8825"/>
</g>
<!-- leaf_109 -->
<g id="node110" class="node">
<title>leaf_109</title>
<polygon fill="none" stroke="#c0c0c0" points="6384.5,-1398.5023 6291.5,-1398.5023 6291.5,-1362.5023 6384.5,-1362.5023 6384.5,-1398.5023"/>
<text text-anchor="middle" x="6338" y="-1377.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">**** keybuf</text>
</g>
<!-- header_104&#45;&gt;leaf_109 -->
<g id="edge109" class="edge">
<title>header_104&#45;&gt;leaf_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6334.0352,-3440.6359C6334.4005,-3250.8009 6337.4968,-1641.977 6337.9458,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="6341.4458,-1408.6139 6337.9652,-1398.6072 6334.4458,-1408.6004 6341.4458,-1408.6139"/>
</g>
<!-- raw_110 -->
<g id="node111" class="node">
<title>raw_110</title>
<ellipse fill="none" stroke="#000000" cx="6430" cy="-1380.5023" rx="27" ry="18"/>
<text text-anchor="middle" x="6430" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_105&#45;&gt;raw_110 -->
<g id="edge110" class="edge">
<title>prose_105&#45;&gt;raw_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6432.9736,-3440.6359C6432.6996,-3250.8009 6430.3774,-1641.977 6430.0407,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="6433.5407,-1408.6021 6430.0261,-1398.6072 6426.5407,-1408.6123 6433.5407,-1408.6021"/>
</g>
<!-- raw_112 -->
<g id="node113" class="node">
<title>raw_112</title>
<ellipse fill="none" stroke="#000000" cx="6502" cy="-1380.5023" rx="27" ry="18"/>
<text text-anchor="middle" x="6502" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_106&#45;&gt;raw_112 -->
<g id="edge112" class="edge">
<title>prose_106&#45;&gt;raw_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6514.8856,-3440.6359C6513.6983,-3250.8009 6503.6355,-1641.977 6502.1762,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="6505.6758,-1408.5851 6502.1132,-1398.6072 6498.676,-1408.6289 6505.6758,-1408.5851"/>
</g>
<!-- raw_114 -->
<g id="node115" class="node">
<title>raw_114</title>
<ellipse fill="none" stroke="#000000" cx="6574" cy="-1380.5023" rx="27" ry="18"/>
<text text-anchor="middle" x="6574" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_107&#45;&gt;raw_114 -->
<g id="edge114" class="edge">
<title>prose_107&#45;&gt;raw_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6663.5222,-3440.7519C6656.4063,-3352.6004 6625.3873,-2960.5843 6610,-2638.8044 6586.4698,-2146.7385 6576.4659,-1545.6394 6574.4112,-1409.0251"/>
<polygon fill="#000000" stroke="#000000" points="6577.9049,-1408.5643 6574.2567,-1398.6174 6570.9056,-1408.6683 6577.9049,-1408.5643"/>
</g>
<!-- prespace_115 -->
<g id="node116" class="node">
<title>prespace_115</title>
<ellipse fill="none" stroke="#000000" cx="6665" cy="-1380.5023" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6665" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_107&#45;&gt;prespace_115 -->
<g id="edge115" class="edge">
<title>prose_107&#45;&gt;prespace_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6665,-3440.6359C6665,-3250.8009 6665,-1641.977 6665,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="6668.5001,-1408.6072 6665,-1398.6072 6661.5001,-1408.6072 6668.5001,-1408.6072"/>
</g>
<!-- literal_116 -->
<g id="node117" class="node">
<title>literal_116</title>
<ellipse fill="none" stroke="#000000" cx="6761" cy="-1380.5023" rx="31.481" ry="18"/>
<text text-anchor="middle" x="6761" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_107&#45;&gt;literal_116 -->
<g id="edge116" class="edge">
<title>prose_107&#45;&gt;literal_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6666.4511,-3440.7506C6673.4427,-3352.593 6703.9741,-2960.5531 6720,-2638.8044 6744.5099,-2146.7264 6757.6448,-1545.6365 6760.4336,-1409.0245"/>
<polygon fill="#000000" stroke="#000000" points="6763.9411,-1408.6859 6760.6443,-1398.617 6756.9426,-1408.5441 6763.9411,-1408.6859"/>
</g>
<!-- raw_117 -->
<g id="node118" class="node">
<title>raw_117</title>
<ellipse fill="none" stroke="#000000" cx="6837" cy="-1380.5023" rx="27" ry="18"/>
<text text-anchor="middle" x="6837" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_107&#45;&gt;raw_117 -->
<g id="edge117" class="edge">
<title>prose_107&#45;&gt;raw_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6668.9335,-3440.8574C6687.8252,-3353.196 6769.6178,-2963.1047 6801,-2638.8044 6848.4971,-2147.9744 6840.2334,-1544.8426 6837.6052,-1408.688"/>
<polygon fill="#000000" stroke="#000000" points="6841.1041,-1408.5934 6837.4053,-1398.6652 6834.1055,-1408.733 6841.1041,-1408.5934"/>
</g>
<!-- leaf_122 -->
<g id="node123" class="node">
<title>leaf_122</title>
<polygon fill="none" stroke="#c0c0c0" points="7248,-1446.9031 6882,-1446.9031 6882,-1314.1015 7248,-1314.1015 7248,-1446.9031"/>
<text text-anchor="middle" x="7065" y="-1431.5024" font-family="Inconsolata" font-size="14.00" fill="#000000">local keybuf = {}</text>
<text text-anchor="middle" x="7065" y="-1416.1023" font-family="Inconsolata" font-size="14.00" fill="#000000">local sub, byte = string.sub, string.byte</text>
<text text-anchor="middle" x="7065" y="-1400.7023" font-family="Inconsolata" font-size="14.00" fill="#000000">local concat = table.concat</text>
<text text-anchor="middle" x="7065" y="-1369.3023" font-family="Inconsolata" font-size="14.00" fill="#000000">local linebuf = { line = &quot;&quot;,</text>
<text text-anchor="middle" x="7065" y="-1353.9022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ndx &#160;= 0 }</text>
<text text-anchor="middle" x="7065" y="-1322.5022" font-family="Inconsolata" font-size="14.00" fill="#000000">local max_row, mac_col = uv.tty_get_winsize(stdin)</text>
</g>
<!-- codeblock_108&#45;&gt;leaf_122 -->
<g id="edge122" class="edge">
<title>codeblock_108&#45;&gt;leaf_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6935.1524,-3440.6359C6946.4836,-3260.8576 7038.0269,-1808.4524 7060.184,-1456.9113"/>
<polygon fill="#000000" stroke="#000000" points="7063.6831,-1457.0346 7060.8192,-1446.8342 7056.697,-1456.5942 7063.6831,-1457.0346"/>
</g>
<!-- leaf_111 -->
<g id="node112" class="node">
<title>leaf_111</title>
<polygon fill="none" stroke="#c0c0c0" points="5627,-78.4004 5121,-78.4004 5121,-7.7997 5627,-7.7997 5627,-78.4004"/>
<text text-anchor="middle" x="5374" y="-31.3001" font-family="Inconsolata" font-size="14.00" fill="#000000"> Currently the keybuf is a simple array that holds bytes until we have</text>
<text text-anchor="middle" x="5374" y="-15.9" font-family="Inconsolata" font-size="14.00" fill="#000000">enough for the lexer.</text>
</g>
<!-- raw_110&#45;&gt;leaf_111 -->
<g id="edge111" class="edge">
<title>raw_110&#45;&gt;leaf_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6430.9182,-1362.2641C6438.1794,-1214.3684 6483.7302,-214.5898 6393,-122.2001 6363.4996,-92.1602 5677.87,-90.6246 5636,-86.2001 5619.1387,-84.4183 5601.714,-82.2588 5584.236,-79.8669"/>
<polygon fill="#000000" stroke="#000000" points="5584.3302,-76.3463 5573.9429,-78.4329 5583.3642,-83.2794 5584.3302,-76.3463"/>
</g>
<!-- leaf_113 -->
<g id="node114" class="node">
<title>leaf_113</title>
<polygon fill="none" stroke="#c0c0c0" points="6200.5,-70.4005 5645.5,-70.4005 5645.5,-15.7996 6200.5,-15.7996 6200.5,-70.4005"/>
<text text-anchor="middle" x="5923" y="-39.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">It is cleared and reused, to avoid a glut of allocations and allow the tracer</text>
<text text-anchor="middle" x="5923" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">to follow it.</text>
</g>
<!-- raw_112&#45;&gt;leaf_113 -->
<g id="edge113" class="edge">
<title>raw_112&#45;&gt;leaf_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6502.8613,-1362.3321C6509.6701,-1214.9792 6552.3364,-218.7044 6466,-122.2001 6427.6959,-79.3849 6266.8509,-94.466 6210,-86.2001 6178.7084,-81.6504 6145.511,-76.7412 6113.2227,-71.9222"/>
<polygon fill="#000000" stroke="#000000" points="6113.642,-68.4461 6103.2345,-70.43 6112.6076,-75.3692 6113.642,-68.4461"/>
</g>
<!-- leaf_118 -->
<g id="node119" class="node">
<title>leaf_118</title>
<polygon fill="none" stroke="#c0c0c0" points="6739,-63.0021 6219,-63.0021 6219,-23.198 6739,-23.198 6739,-63.0021"/>
<text text-anchor="middle" x="6479" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Soon I&#39;ll move the remaining local state into an instance table, to make</text>
</g>
<!-- raw_114&#45;&gt;leaf_118 -->
<g id="edge118" class="edge">
<title>raw_114&#45;&gt;leaf_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6574.9708,-1362.2637C6582.0048,-1225.9727 6622.5396,-365.2536 6538,-122.2001 6531.3662,-103.1278 6518.3339,-84.85 6506.2014,-70.678"/>
<polygon fill="#000000" stroke="#000000" points="6508.4808,-67.9747 6499.2171,-62.8333 6503.2526,-72.6295 6508.4808,-67.9747"/>
</g>
<!-- leaf_119 -->
<g id="node120" class="node">
<title>leaf_119</title>
<polygon fill="none" stroke="#c0c0c0" points="6811,-61.1 6757,-61.1 6757,-25.1 6811,-25.1 6811,-61.1"/>
</g>
<!-- prespace_115&#45;&gt;leaf_119 -->
<g id="edge119" class="edge">
<title>prespace_115&#45;&gt;leaf_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6661.7551,-1362.3011C6641.8429,-1246.0992 6542.7929,-597.7719 6721,-122.2001 6722.1881,-119.0295 6744.828,-90.9486 6762.6305,-69.1356"/>
<polygon fill="#000000" stroke="#000000" points="6765.5416,-71.1045 6769.1619,-61.1474 6760.1224,-66.6736 6765.5416,-71.1045"/>
</g>
<!-- leaf_120 -->
<g id="node121" class="node">
<title>leaf_120</title>
<polygon fill="none" stroke="#c0c0c0" points="6883,-61.1 6829,-61.1 6829,-25.1 6883,-25.1 6883,-61.1"/>
<text text-anchor="middle" x="6856" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">femto</text>
</g>
<!-- literal_116&#45;&gt;leaf_120 -->
<g id="edge120" class="edge">
<title>literal_116&#45;&gt;leaf_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6760.1725,-1362.2881C6754.1965,-1226.1759 6720.1213,-366.5222 6801,-122.2001 6804.7378,-110.9089 6821.297,-87.7507 6835.2785,-69.3956"/>
<polygon fill="#000000" stroke="#000000" points="6838.138,-71.4187 6841.4657,-61.36 6832.5916,-67.1482 6838.138,-71.4187"/>
</g>
<!-- leaf_121 -->
<g id="node122" class="node">
<title>leaf_121</title>
<polygon fill="none" stroke="#c0c0c0" points="7001,-61.1 6901,-61.1 6901,-25.1 7001,-25.1 7001,-61.1"/>
<text text-anchor="middle" x="6951" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> re&#45;entrant.</text>
</g>
<!-- raw_117&#45;&gt;leaf_121 -->
<g id="edge121" class="edge">
<title>raw_117&#45;&gt;leaf_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6835.7118,-1362.1409C6826.3526,-1224.9504 6771.9598,-358.8704 6873,-122.2001 6882.2409,-100.5548 6900.3956,-81.5717 6916.8662,-67.6312"/>
<polygon fill="#000000" stroke="#000000" points="6919.2202,-70.2281 6924.77,-61.2031 6914.8034,-64.7974 6919.2202,-70.2281"/>
</g>
<!-- leaf_126 -->
<g id="node127" class="node">
<title>leaf_126</title>
<polygon fill="none" stroke="#c0c0c0" points="7422,-1398.5023 7266,-1398.5023 7266,-1362.5023 7422,-1362.5023 7422,-1398.5023"/>
<text text-anchor="middle" x="7344" y="-1377.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">*** helper functions</text>
</g>
<!-- header_123&#45;&gt;leaf_126 -->
<g id="edge126" class="edge">
<title>header_123&#45;&gt;leaf_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7338.0528,-3440.6359C7338.6008,-3250.8009 7343.2452,-1641.977 7343.9187,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="7347.4188,-1408.6173 7343.9477,-1398.6072 7340.4188,-1408.597 7347.4188,-1408.6173"/>
</g>
<!-- raw_127 -->
<g id="node128" class="node">
<title>raw_127</title>
<ellipse fill="none" stroke="#000000" cx="7467" cy="-1380.5023" rx="27" ry="18"/>
<text text-anchor="middle" x="7467" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_124&#45;&gt;raw_127 -->
<g id="edge127" class="edge">
<title>prose_124&#45;&gt;raw_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7472.9472,-3440.6359C7472.3992,-3250.8009 7467.7548,-1641.977 7467.0813,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="7470.5812,-1408.597 7467.0523,-1398.6072 7463.5812,-1408.6173 7470.5812,-1408.597"/>
</g>
<!-- leaf_129 -->
<g id="node130" class="node">
<title>leaf_129</title>
<polygon fill="none" stroke="#c0c0c0" points="8018,-1627.6872 7512,-1627.6872 7512,-1133.3174 8018,-1133.3174 8018,-1627.6872"/>
<text text-anchor="middle" x="7765" y="-1612.3947" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; This will be called parse_digits and be substantially more complex.</text>
<text text-anchor="middle" x="7765" y="-1596.9947" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;</text>
<text text-anchor="middle" x="7765" y="-1581.5946" font-family="Inconsolata" font-size="14.00" fill="#000000">local function cursor_pos(str)</text>
<text text-anchor="middle" x="7765" y="-1566.1946" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local row, col = core.cleave(str, &quot;;&quot;)</text>
<text text-anchor="middle" x="7765" y="-1550.7946" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return tonumber(row), tonumber(col)</text>
<text text-anchor="middle" x="7765" y="-1535.3945" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="7765" y="-1503.9945" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; more like jumpwrite at this point but w/e</text>
<text text-anchor="middle" x="7765" y="-1488.5945" font-family="Inconsolata" font-size="14.00" fill="#000000">local function colwrite(str, col, row)</text>
<text text-anchor="middle" x="7765" y="-1473.1944" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;col = col or 81</text>
<text text-anchor="middle" x="7765" y="-1457.7944" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;row = row or 1</text>
<text text-anchor="middle" x="7765" y="-1442.3944" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local dash = a.stash()</text>
<text text-anchor="middle" x="7765" y="-1426.9943" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. a.cursor.hide()</text>
<text text-anchor="middle" x="7765" y="-1411.5943" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. a.jump(row, col)</text>
<text text-anchor="middle" x="7765" y="-1396.1943" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. a.erase.right()</text>
<text text-anchor="middle" x="7765" y="-1380.7943" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. str</text>
<text text-anchor="middle" x="7765" y="-1365.3942" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. a.pop()</text>
<text text-anchor="middle" x="7765" y="-1349.9942" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. a.cursor.show()</text>
<text text-anchor="middle" x="7765" y="-1334.5942" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;write(dash)</text>
<text text-anchor="middle" x="7765" y="-1319.1941" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="7765" y="-1287.7941" font-family="Inconsolata" font-size="14.00" fill="#000000">local STAT_ICON = &quot;◉&quot;</text>
<text text-anchor="middle" x="7765" y="-1250.0101" font-family="Inconsolata" font-size="14.00" fill="#000000">local function isnum(char)</text>
<text text-anchor="middle" x="7765" y="-1234.61" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return char &gt;= &quot;0&quot; and char &lt;= &quot;9&quot;</text>
<text text-anchor="middle" x="7765" y="-1219.21" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="7765" y="-1187.81" font-family="Inconsolata" font-size="14.00" fill="#000000">local function isalpha(char)</text>
<text text-anchor="middle" x="7765" y="-1172.4099" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return (char &gt;= &quot;A&quot; and char &lt;= &quot;z&quot;)</text>
<text text-anchor="middle" x="7765" y="-1157.0099" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;or &#160;(char &gt;= &quot;a&quot; and char &lt;= &quot;z&quot;)</text>
<text text-anchor="middle" x="7765" y="-1141.6099" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_125&#45;&gt;leaf_129 -->
<g id="edge129" class="edge">
<title>codeblock_125&#45;&gt;leaf_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7685.7038,-3440.6359C7691.7493,-3283.5706 7735.184,-2155.1294 7755.0857,-1638.079"/>
<polygon fill="#000000" stroke="#000000" points="7758.5914,-1637.9948 7755.4787,-1627.8675 7751.5966,-1637.7255 7758.5914,-1637.9948"/>
</g>
<!-- leaf_128 -->
<g id="node129" class="node">
<title>leaf_128</title>
<polygon fill="none" stroke="#c0c0c0" points="7744.5,-78.4004 7189.5,-78.4004 7189.5,-7.7997 7744.5,-7.7997 7744.5,-78.4004"/>
<text text-anchor="middle" x="7467" y="-31.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">Writes will eventually happen in their own library. &#160;Right now we&#39;re building</text>
<text text-anchor="middle" x="7467" y="-15.9" font-family="Inconsolata" font-size="14.00" fill="#000000">the minimum viable loop.</text>
</g>
<!-- raw_127&#45;&gt;leaf_128 -->
<g id="edge128" class="edge">
<title>raw_127&#45;&gt;leaf_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7467,-1362.3573C7467,-1221.6757 7467,-304.7592 7467,-88.6661"/>
<polygon fill="#000000" stroke="#000000" points="7470.5001,-88.6195 7467,-78.6195 7463.5001,-88.6196 7470.5001,-88.6195"/>
</g>
<!-- leaf_138 -->
<g id="node139" class="node">
<title>leaf_138</title>
<polygon fill="none" stroke="#c0c0c0" points="8220,-1398.5023 8036,-1398.5023 8036,-1362.5023 8220,-1362.5023 8220,-1398.5023"/>
<text text-anchor="middle" x="8128" y="-1377.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">*** process_escapes(seq)</text>
</g>
<!-- header_130&#45;&gt;leaf_138 -->
<g id="edge138" class="edge">
<title>header_130&#45;&gt;leaf_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8208.2874,-3440.6359C8200.8892,-3250.8009 8138.1902,-1641.977 8129.0976,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="8132.5924,-1408.4633 8128.7056,-1398.6072 8125.5978,-1408.7359 8132.5924,-1408.4633"/>
</g>
<!-- raw_139 -->
<g id="node140" class="node">
<title>raw_139</title>
<ellipse fill="none" stroke="#000000" cx="8265" cy="-1380.5023" rx="27" ry="18"/>
<text text-anchor="middle" x="8265" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_131&#45;&gt;raw_139 -->
<g id="edge139" class="edge">
<title>prose_131&#45;&gt;raw_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8452.4229,-3440.9146C8453.8425,-3352.8994 8452.6544,-2960.6211 8329,-2674.8044 8320.9515,-2656.201 8307.8518,-2657.881 8301,-2638.8044 8215.9665,-2402.0559 8254.7553,-1573.5557 8263.4335,-1409.0315"/>
<polygon fill="#000000" stroke="#000000" points="8266.9438,-1408.9299 8263.9822,-1398.7575 8259.9538,-1408.5566 8266.9438,-1408.9299"/>
</g>
<!-- prespace_140 -->
<g id="node141" class="node">
<title>prespace_140</title>
<ellipse fill="none" stroke="#000000" cx="8356" cy="-1380.5023" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="8356" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_131&#45;&gt;prespace_140 -->
<g id="edge140" class="edge">
<title>prose_131&#45;&gt;prespace_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8451.0845,-3440.7384C8446.6485,-3352.5243 8426.9924,-2960.2626 8412,-2638.8044 8389.013,-2145.9312 8363.0428,-1544.3579 8357.2062,-1408.6018"/>
<polygon fill="#000000" stroke="#000000" points="8360.7029,-1408.4492 8356.7767,-1398.6087 8353.7094,-1408.7498 8360.7029,-1408.4492"/>
</g>
<!-- literal_141 -->
<g id="node142" class="node">
<title>literal_141</title>
<ellipse fill="none" stroke="#000000" cx="8452" cy="-1380.5023" rx="31.481" ry="18"/>
<text text-anchor="middle" x="8452" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_131&#45;&gt;literal_141 -->
<g id="edge141" class="edge">
<title>prose_131&#45;&gt;literal_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8452,-3440.6359C8452,-3250.8009 8452,-1641.977 8452,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="8455.5001,-1408.6072 8452,-1398.6072 8448.5001,-1408.6072 8455.5001,-1408.6072"/>
</g>
<!-- raw_142 -->
<g id="node143" class="node">
<title>raw_142</title>
<ellipse fill="none" stroke="#000000" cx="8528" cy="-1380.5023" rx="27" ry="18"/>
<text text-anchor="middle" x="8528" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_131&#45;&gt;raw_142 -->
<g id="edge142" class="edge">
<title>prose_131&#45;&gt;raw_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8453.0224,-3440.7429C8457.9545,-3352.5501 8479.5593,-2960.3715 8492,-2638.8044 8511.0445,-2146.5445 8524.4622,-1545.593 8527.3967,-1409.0168"/>
<polygon fill="#000000" stroke="#000000" points="8530.9045,-1408.6846 8527.6192,-1398.612 8523.9061,-1408.5349 8530.9045,-1408.6846"/>
</g>
<!-- raw_147 -->
<g id="node148" class="node">
<title>raw_147</title>
<ellipse fill="none" stroke="#000000" cx="8873" cy="-1380.5023" rx="27" ry="18"/>
<text text-anchor="middle" x="8873" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_132&#45;&gt;raw_147 -->
<g id="edge147" class="edge">
<title>prose_132&#45;&gt;raw_147</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9062.3197,-3440.6359C9044.8745,-3250.8009 8897.0287,-1641.977 8875.5882,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="8879.0643,-1408.2449 8874.6638,-1398.6072 8872.0937,-1408.8856 8879.0643,-1408.2449"/>
</g>
<!-- raw_149 -->
<g id="node150" class="node">
<title>raw_149</title>
<ellipse fill="none" stroke="#000000" cx="9162" cy="-1380.5023" rx="27" ry="18"/>
<text text-anchor="middle" x="9162" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_133&#45;&gt;raw_149 -->
<g id="edge149" class="edge">
<title>prose_133&#45;&gt;raw_149</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9382.5152,-3440.7608C9370.5015,-3352.6506 9317.5655,-2960.7968 9282,-2638.8044 9227.6383,-2146.64 9175.8811,-1544.5261 9164.3693,-1408.6317"/>
<polygon fill="#000000" stroke="#000000" points="9167.8536,-1408.2978 9163.5233,-1398.6283 9160.8785,-1408.8877 9167.8536,-1408.2978"/>
</g>
<!-- prespace_150 -->
<g id="node151" class="node">
<title>prespace_150</title>
<ellipse fill="none" stroke="#000000" cx="9337" cy="-1380.5023" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="9337" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_133&#45;&gt;prespace_150 -->
<g id="edge150" class="edge">
<title>prose_133&#45;&gt;prespace_150</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9384.5777,-3440.6359C9380.1936,-3250.8009 9343.0386,-1641.977 9337.6504,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="9341.1482,-1408.5237 9337.4181,-1398.6072 9334.15,-1408.6854 9341.1482,-1408.5237"/>
</g>
<!-- literal_151 -->
<g id="node152" class="node">
<title>literal_151</title>
<ellipse fill="none" stroke="#000000" cx="9433" cy="-1380.5023" rx="31.481" ry="18"/>
<text text-anchor="middle" x="9433" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_133&#45;&gt;literal_151 -->
<g id="edge151" class="edge">
<title>prose_133&#45;&gt;literal_151</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9385.4223,-3440.6359C9389.8064,-3250.8009 9426.9614,-1641.977 9432.3496,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="9435.85,-1408.6854 9432.5819,-1398.6072 9428.8518,-1408.5237 9435.85,-1408.6854"/>
</g>
<!-- raw_152 -->
<g id="node153" class="node">
<title>raw_152</title>
<ellipse fill="none" stroke="#000000" cx="9517" cy="-1380.5023" rx="27" ry="18"/>
<text text-anchor="middle" x="9517" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_133&#45;&gt;raw_152 -->
<g id="edge152" class="edge">
<title>prose_133&#45;&gt;raw_152</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9387.4362,-3440.7803C9399.1543,-3352.7606 9450.0918,-2961.2624 9473,-2638.8044 9507.9516,-2146.822 9515.4727,-1544.5692 9516.765,-1408.6394"/>
<polygon fill="#000000" stroke="#000000" points="9520.2648,-1408.665 9516.8567,-1398.6333 9513.2651,-1408.6008 9520.2648,-1408.665"/>
</g>
<!-- raw_157 -->
<g id="node158" class="node">
<title>raw_157</title>
<ellipse fill="none" stroke="#000000" cx="9688" cy="-1380.5023" rx="27" ry="18"/>
<text text-anchor="middle" x="9688" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_134&#45;&gt;raw_157 -->
<g id="edge157" class="edge">
<title>prose_134&#45;&gt;raw_157</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9777.5222,-3440.7519C9770.4063,-3352.6004 9739.3873,-2960.5843 9724,-2638.8044 9700.4698,-2146.7385 9690.4659,-1545.6394 9688.4112,-1409.0251"/>
<polygon fill="#000000" stroke="#000000" points="9691.9049,-1408.5643 9688.2567,-1398.6174 9684.9056,-1408.6683 9691.9049,-1408.5643"/>
</g>
<!-- prespace_158 -->
<g id="node159" class="node">
<title>prespace_158</title>
<ellipse fill="none" stroke="#000000" cx="9779" cy="-1380.5023" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="9779" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_134&#45;&gt;prespace_158 -->
<g id="edge158" class="edge">
<title>prose_134&#45;&gt;prespace_158</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9779,-3440.6359C9779,-3250.8009 9779,-1641.977 9779,-1408.6664"/>
<polygon fill="#000000" stroke="#000000" points="9782.5001,-1408.6072 9779,-1398.6072 9775.5001,-1408.6072 9782.5001,-1408.6072"/>
</g>
<!-- literal_159 -->
<g id="node160" class="node">
<title>literal_159</title>
<ellipse fill="none" stroke="#000000" cx="9875" cy="-1380.5023" rx="31.481" ry="18"/>
<text text-anchor="middle" x="9875" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_134&#45;&gt;literal_159 -->
<g id="edge159" class="edge">
<title>prose_134&#45;&gt;literal_159</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9780.4511,-3440.7506C9787.4427,-3352.593 9817.9741,-2960.5531 9834,-2638.8044 9858.5099,-2146.7264 9871.6448,-1545.6365 9874.4336,-1409.0245"/>
<polygon fill="#000000" stroke="#000000" points="9877.9411,-1408.6859 9874.6443,-1398.617 9870.9426,-1408.5441 9877.9411,-1408.6859"/>
</g>
<!-- raw_160 -->
<g id="node161" class="node">
<title>raw_160</title>
<ellipse fill="none" stroke="#000000" cx="9951" cy="-1380.5023" rx="27" ry="18"/>
<text text-anchor="middle" x="9951" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_134&#45;&gt;raw_160 -->
<g id="edge160" class="edge">
<title>prose_134&#45;&gt;raw_160</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9780.3706,-3440.6696C9787.194,-3353.8564 9820.4356,-2974.4891 9901,-2674.8044 9905.4569,-2658.2258 9911.5936,-2655.6304 9915,-2638.8044 10012.9515,-2154.9651 9966.0749,-1545.3106 9953.6895,-1408.5612"/>
<polygon fill="#000000" stroke="#000000" points="9957.1657,-1408.1402 9952.7628,-1398.5036 9950.1952,-1408.7826 9957.1657,-1408.1402"/>
</g>
<!-- raw_165 -->
<g id="node166" class="node">
<title>raw_165</title>
<ellipse fill="none" stroke="#000000" cx="10023" cy="-1380.5023" rx="27" ry="18"/>
<text text-anchor="middle" x="10023" y="-1376.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_135&#45;&gt;raw_165 -->
<g id="edge165" class="edge">
<title>prose_135&#45;&gt;raw_165</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9943.1742,-3440.7455C9948.8343,-3352.5647 9973.5775,-2960.4335 9987,-2638.8044 10007.541,-2146.6047 10019.8198,-1545.6074 10022.4607,-1409.0193"/>
<polygon fill="#000000" stroke="#000000" points="10025.9678,-1408.6791 10022.6606,-1398.6137 10018.9691,-1408.5446 10025.9678,-1408.6791"/>
</g>
<!-- leaf_167 -->
<g id="node168" class="node">
<title>leaf_167</title>
<polygon fill="none" stroke="#c0c0c0" points="10581.5,-2638.6066 10068.5,-2638.6066 10068.5,-122.3979 10581.5,-122.3979 10581.5,-2638.6066"/>
<text text-anchor="middle" x="10325" y="-2607.6044" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;</text>
<text text-anchor="middle" x="10325" y="-2576.2044" font-family="Inconsolata" font-size="14.00" fill="#000000">local __navigation = { &#160;UP &#160;&#160;&#160;&#160;&#160;&#160;= &quot;\x1b[A&quot;,</text>
<text text-anchor="middle" x="10325" y="-2560.8044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;DOWN &#160;&#160;&#160;&#160;= &quot;\x1b[B&quot;,</text>
<text text-anchor="middle" x="10325" y="-2545.4043" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;RIGHT &#160;&#160;&#160;= &quot;\x1b[C&quot;,</text>
<text text-anchor="middle" x="10325" y="-2530.0043" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;LEFT &#160;&#160;&#160;&#160;= &quot;\x1b[D&quot;,</text>
<text text-anchor="middle" x="10325" y="-2514.6043" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SHIFT_UP = &quot;\x1b[1;2A&quot;,</text>
<text text-anchor="middle" x="10325" y="-2499.2042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SHIFT_DOWN = &quot;\x1b[1;2B&quot;,</text>
<text text-anchor="middle" x="10325" y="-2483.8042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SHIFT_RIGHT = &quot;\x1b[1;2C&quot;,</text>
<text text-anchor="middle" x="10325" y="-2468.4042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SHIFT_LEFT &#160;= &quot;\x1b[1;2D&quot;,</text>
<text text-anchor="middle" x="10325" y="-2453.0042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;HYPER_UP &#160;&#160;&#160;= &quot;\x1b[5~&quot;,</text>
<text text-anchor="middle" x="10325" y="-2437.6041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;HYPER_DOWN &#160;= &quot;\x1b[6~&quot;,</text>
<text text-anchor="middle" x="10325" y="-2422.2041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;HYPER_RIGHT = &quot;\x1b[F&quot;,</text>
<text text-anchor="middle" x="10325" y="-2406.8041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;HYPER_LEFT &#160;= &quot;\x1b[H&quot;,</text>
<text text-anchor="middle" x="10325" y="-2391.404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ALT_UP &#160;&#160;&#160;= &quot;\x1b\x1b[A&quot;,</text>
<text text-anchor="middle" x="10325" y="-2376.004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ALT_DOWN &#160;= &quot;\x1b\x1b[B&quot;,</text>
<text text-anchor="middle" x="10325" y="-2360.604" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ALT_RIGHT = &quot;\x1bf&quot;, &#45;&#45; heh</text>
<text text-anchor="middle" x="10325" y="-2345.2039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ALT_LEFT &#160;= &quot;\x1bb&quot;,</text>
<text text-anchor="middle" x="10325" y="-2329.8039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SHIFT_ALT_UP = &quot;\x1b[1;10A&quot;,</text>
<text text-anchor="middle" x="10325" y="-2314.4039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SHIFT_ALT_DOWN = &quot;\x1b[1;10B&quot;,</text>
<text text-anchor="middle" x="10325" y="-2299.0038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SHIFT_ALT_RIGHT = &quot;\x1b[1;10C&quot;,</text>
<text text-anchor="middle" x="10325" y="-2283.6038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SHIFT_ALT_LEFT &#160;= &quot;\x1b[1;10D&quot;,</text>
<text text-anchor="middle" x="10325" y="-2268.2038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SHIFT_TAB &#160;= &quot;\x1b[Z&quot;,</text>
<text text-anchor="middle" x="10325" y="-2252.8037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ALT_TAB &#160;&#160;&#160;= &quot;\x1b\t&quot;,</text>
<text text-anchor="middle" x="10325" y="-2237.4037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;NEWLINE &#160;&#160;&#160;= &quot;\n&quot;,</text>
<text text-anchor="middle" x="10325" y="-2222.0037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;RETURN &#160;&#160;&#160;&#160;= &quot;\r&quot;,</text>
<text text-anchor="middle" x="10325" y="-2206.6037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TAB &#160;&#160;&#160;&#160;&#160;&#160;&#160;= &quot;\t&quot;</text>
<text text-anchor="middle" x="10325" y="-2191.2036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}</text>
<text text-anchor="middle" x="10325" y="-2159.8036" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; it is possible to coerce a terminal into sending these, apparently:</text>
<text text-anchor="middle" x="10325" y="-2128.4036" font-family="Inconsolata" font-size="14.00" fill="#000000">local __alt_nav = { &#160;UP &#160;&#160;&#160;&#160;&#160;&#160;= &quot;\x1bOA&quot;,</text>
<text text-anchor="middle" x="10325" y="-2113.0035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;DOWN &#160;&#160;&#160;&#160;= &quot;\x1bOB&quot;,</text>
<text text-anchor="middle" x="10325" y="-2097.6035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;RIGHT &#160;&#160;&#160;= &quot;\x1bOC&quot;,</text>
<text text-anchor="middle" x="10325" y="-2082.2035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;LEFT &#160;&#160;&#160;&#160;= &quot;\x1bOD&quot;,</text>
<text text-anchor="middle" x="10325" y="-2066.8034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}</text>
<text text-anchor="middle" x="10325" y="-2035.4034" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; still don&#39;t know how that happened</text>
<text text-anchor="middle" x="10325" y="-2004.0034" font-family="Inconsolata" font-size="14.00" fill="#000000">local __control = { &#160;ZERO = &quot;\0&quot;,</text>
<text text-anchor="middle" x="10325" y="-1988.6033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}</text>
<text text-anchor="middle" x="10325" y="-1957.2033" font-family="Inconsolata" font-size="14.00" fill="#000000">local navigation = {}</text>
<text text-anchor="middle" x="10325" y="-1941.8033" font-family="Inconsolata" font-size="14.00" fill="#000000">local control = {}</text>
<text text-anchor="middle" x="10325" y="-1910.4032" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; &#160;Then invert</text>
<text text-anchor="middle" x="10325" y="-1879.0032" font-family="Inconsolata" font-size="14.00" fill="#000000">for k,v in pairs(__navigation) do</text>
<text text-anchor="middle" x="10325" y="-1863.6032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;navigation[v] = k</text>
<text text-anchor="middle" x="10325" y="-1848.2032" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10325" y="-1832.8031" font-family="Inconsolata" font-size="14.00" fill="#000000">for k,v in pairs(__alt_nav) do</text>
<text text-anchor="middle" x="10325" y="-1817.4031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;navigation[v] = k</text>
<text text-anchor="middle" x="10325" y="-1802.0031" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10325" y="-1770.603" font-family="Inconsolata" font-size="14.00" fill="#000000">__navigation, __alt_nav = nil, nil, nil</text>
<text text-anchor="middle" x="10325" y="-1739.203" font-family="Inconsolata" font-size="14.00" fill="#000000">function pr_mouse(m)</text>
<text text-anchor="middle" x="10325" y="-1723.803" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local phrase = a.magenta(m.button) .. &quot;: &quot;</text>
<text text-anchor="middle" x="10325" y="-1708.4029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. a.bright(kind) .. &quot; &quot; .. ts(m.shift)</text>
<text text-anchor="middle" x="10325" y="-1693.0029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. &quot; &quot; .. ts(m.meta)</text>
<text text-anchor="middle" x="10325" y="-1677.6029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. &quot; &quot; .. ts(m.ctrl) .. &quot; &quot; .. ts(m.moving) .. &quot; &quot;</text>
<text text-anchor="middle" x="10325" y="-1662.2028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. ts(m.scrolling) .. &quot; &quot;</text>
<text text-anchor="middle" x="10325" y="-1646.8028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. a.cyan(m.col) .. &quot;,&quot; .. a.cyan(m.row)</text>
<text text-anchor="middle" x="10325" y="-1631.4028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return phrase</text>
<text text-anchor="middle" x="10325" y="-1616.0027" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10325" y="-1584.6027" font-family="Inconsolata" font-size="14.00" fill="#000000">local act_map = { MOUSE = pr_mouse}</text>
<text text-anchor="middle" x="10325" y="-1553.2027" font-family="Inconsolata" font-size="14.00" fill="#000000">local function act(category, action)</text>
<text text-anchor="middle" x="10325" y="-1537.8027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if act_map[category] then</text>
<text text-anchor="middle" x="10325" y="-1522.4026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;colwrite(act_map[category](action), 81, 2)</text>
<text text-anchor="middle" x="10325" y="-1507.0026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10325" y="-1491.6026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;colwrite(action, 81, 2)</text>
<text text-anchor="middle" x="10325" y="-1476.2025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10325" y="-1460.8025" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10325" y="-1429.4025" font-family="Inconsolata" font-size="14.00" fill="#000000">local function litprint(seq)</text>
<text text-anchor="middle" x="10325" y="-1414.0024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="10325" y="-1398.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i = 1, #seq do</text>
<text text-anchor="middle" x="10325" y="-1383.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;phrase = phrase .. &quot;:&quot; .. byte(seq, i)</text>
<text text-anchor="middle" x="10325" y="-1367.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10325" y="-1352.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return phrase</text>
<text text-anchor="middle" x="10325" y="-1337.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10325" y="-1305.6022" font-family="Inconsolata" font-size="14.00" fill="#000000">local function ismousemove(seq)</text>
<text text-anchor="middle" x="10325" y="-1290.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if sub(seq, 1, 3) == &quot;\x1b[M&quot; then</text>
<text text-anchor="middle" x="10325" y="-1274.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="10325" y="-1259.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10325" y="-1244.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10325" y="-1212.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">local buttons = {[0] =&quot;MB0&quot;, &quot;MB1&quot;, &quot;MB2&quot;, &quot;MBNONE&quot;}</text>
<text text-anchor="middle" x="10325" y="-1181.2021" font-family="Inconsolata" font-size="14.00" fill="#000000">local rshift = bit.rshift</text>
<text text-anchor="middle" x="10325" y="-1165.802" font-family="Inconsolata" font-size="14.00" fill="#000000">local function process_escapes(seq)</text>
<text text-anchor="middle" x="10325" y="-1150.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if navigation[seq] then</text>
<text text-anchor="middle" x="10325" y="-1135.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;act(&quot;NAV&quot;, navigation[seq] )</text>
<text text-anchor="middle" x="10325" y="-1119.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif #seq == 1 then</text>
<text text-anchor="middle" x="10325" y="-1104.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;act(&quot;CTRL&quot;, &quot;ESC&quot;)</text>
<text text-anchor="middle" x="10325" y="-1088.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10325" y="-1073.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if ismousemove(seq) then</text>
<text text-anchor="middle" x="10325" y="-1058.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local kind, col, row = byte(seq,4), byte(seq, 5), byte(seq, 6)</text>
<text text-anchor="middle" x="10325" y="-1042.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;kind = rshift(kind, 32)</text>
<text text-anchor="middle" x="10325" y="-1027.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local m = {row = rshift(row, 5), col = rshift(col, 5)}</text>
<text text-anchor="middle" x="10325" y="-1011.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; Get button</text>
<text text-anchor="middle" x="10325" y="-996.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;m.button = buttons[kind % 4]</text>
<text text-anchor="middle" x="10325" y="-981.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; Get modifiers</text>
<text text-anchor="middle" x="10325" y="-965.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;kind = rshift(kind, 2)</text>
<text text-anchor="middle" x="10325" y="-950.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;m.shift = kind % 2 == 1</text>
<text text-anchor="middle" x="10325" y="-934.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;kind = rshift(kind, 1)</text>
<text text-anchor="middle" x="10325" y="-919.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;m.meta = kind % 2 == 1</text>
<text text-anchor="middle" x="10325" y="-904.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;kind = rshift(kind, 1)</text>
<text text-anchor="middle" x="10325" y="-888.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;m.ctrl = kind % 2 == 1</text>
<text text-anchor="middle" x="10325" y="-873.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;kind = rshift(kind, 1)</text>
<text text-anchor="middle" x="10325" y="-857.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;m.moving = kind % 2 == 1</text>
<text text-anchor="middle" x="10325" y="-842.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; we skip a bit that seems to just mirror the motion</text>
<text text-anchor="middle" x="10325" y="-827.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; it may be pixel level, I can&#39;t tell and idk</text>
<text text-anchor="middle" x="10325" y="-811.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;m.scrolling = kind == 2</text>
<text text-anchor="middle" x="10325" y="-764.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;act(&quot;MOUSE&quot;, m)</text>
<text text-anchor="middle" x="10325" y="-748.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif #seq == 2 and byte(seq[2]) &lt; 128 then</text>
<text text-anchor="middle" x="10325" y="-717.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; Meta</text>
<text text-anchor="middle" x="10325" y="-702.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10325" y="-686.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10325" y="-655.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">local function onseq(err,seq)</text>
<text text-anchor="middle" x="10325" y="-639.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if err then error(err) end</text>
<text text-anchor="middle" x="10325" y="-624.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local head = byte(seq)</text>
<text text-anchor="middle" x="10325" y="-609.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; ^Q hard coded as quit, for now</text>
<text text-anchor="middle" x="10325" y="-593.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head == 17 then</text>
<text text-anchor="middle" x="10325" y="-578.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;femto.cooked()</text>
<text text-anchor="middle" x="10325" y="-562.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;write(a.mouse.track(false))</text>
<text text-anchor="middle" x="10325" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uv.stop()</text>
<text text-anchor="middle" x="10325" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="10325" y="-516.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10325" y="-501.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Escape sequences</text>
<text text-anchor="middle" x="10325" y="-485.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head == 27 then</text>
<text text-anchor="middle" x="10325" y="-470.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local color</text>
<text text-anchor="middle" x="10325" y="-455.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if navigation[seq] or #seq == 1 then</text>
<text text-anchor="middle" x="10325" y="-439.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;color = a.magenta</text>
<text text-anchor="middle" x="10325" y="-424.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10325" y="-408.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;color = a.red</text>
<text text-anchor="middle" x="10325" y="-393.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10325" y="-378.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;colwrite(color(STAT_ICON) .. &quot; : &quot; .. c.ts(seq))</text>
<text text-anchor="middle" x="10325" y="-362.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return process_escapes(seq)</text>
<text text-anchor="middle" x="10325" y="-347.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10325" y="-331.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Control sequences</text>
<text text-anchor="middle" x="10325" y="-316.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head &lt;= 31 and not navigation[seq] then</text>
<text text-anchor="middle" x="10325" y="-301.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local ctrl = &quot;^&quot; .. string.char(head + 64)</text>
<text text-anchor="middle" x="10325" y="-285.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;colwrite(a.blue(STAT_ICON) .. &quot; : &quot; .. ctrl)</text>
<text text-anchor="middle" x="10325" y="-270.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return act(&quot;CTRL&quot;, ctrl)</text>
<text text-anchor="middle" x="10325" y="-254.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif navigation[seq] then</text>
<text text-anchor="middle" x="10325" y="-239.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;colwrite(a.green(STAT_ICON))</text>
<text text-anchor="middle" x="10325" y="-224.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return act(&quot;NAV&quot;, seq)</text>
<text text-anchor="middle" x="10325" y="-208.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10325" y="-177.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;colwrite(a.green(STAT_ICON) .. &quot; : &quot; .. seq)</text>
<text text-anchor="middle" x="10325" y="-161.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return act(&quot;INSERT&quot;, seq)</text>
<text text-anchor="middle" x="10325" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_136&#45;&gt;leaf_167 -->
<g id="edge167" class="edge">
<title>codeblock_136&#45;&gt;leaf_167</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10203.082,-3440.6359C10207.8366,-3360.295 10227.632,-3025.7987 10249.9322,-2648.9758"/>
<polygon fill="#000000" stroke="#000000" points="10253.429,-2649.1314 10250.526,-2638.9421 10246.4413,-2648.7178 10253.429,-2649.1314"/>
</g>
<!-- leaf_168 -->
<g id="node169" class="node">
<title>leaf_168</title>
<polygon fill="none" stroke="#c0c0c0" points="10916.5,-1641.4607 10599.5,-1641.4607 10599.5,-1119.5438 10916.5,-1119.5438 10916.5,-1641.4607"/>
<text text-anchor="middle" x="10758" y="-1626.0314" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Get names for as many values as possible</text>
<text text-anchor="middle" x="10758" y="-1610.6314" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; into the colorizer</text>
<text text-anchor="middle" x="10758" y="-1595.2313" font-family="Inconsolata" font-size="14.00" fill="#000000">c.allNames()</text>
<text text-anchor="middle" x="10758" y="-1579.8313" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; This switches screens and does a wipe,</text>
<text text-anchor="middle" x="10758" y="-1564.4313" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; then puts the cursor at 1,1.</text>
<text text-anchor="middle" x="10758" y="-1549.0312" font-family="Inconsolata" font-size="14.00" fill="#000000">write &quot;\x1b[?47h\x1b[2J\x1b[H&quot;</text>
<text text-anchor="middle" x="10758" y="-1533.6312" font-family="Inconsolata" font-size="14.00" fill="#000000">print &quot;an repl, plz reply uwu 👀&quot;</text>
<text text-anchor="middle" x="10758" y="-1509.4025" font-family="Inconsolata" font-size="14.00" fill="#000000">displayPrompt &#39;👉 &#160;&#39;</text>
<text text-anchor="middle" x="10758" y="-1485.1737" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Crude hack to choose raw mode at runtime</text>
<text text-anchor="middle" x="10758" y="-1469.7737" font-family="Inconsolata" font-size="14.00" fill="#000000">if arg[1] == &quot;&#45;r&quot; then</text>
<text text-anchor="middle" x="10758" y="-1454.3737" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;femto.raw()</text>
<text text-anchor="middle" x="10758" y="-1438.9736" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45;uv.tty_set_mode(stdin, 2)</text>
<text text-anchor="middle" x="10758" y="-1423.5736" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; mouse mode</text>
<text text-anchor="middle" x="10758" y="-1408.1736" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;write(a.mouse.track(true))</text>
<text text-anchor="middle" x="10758" y="-1392.7735" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.read_start(stdin, onseq)</text>
<text text-anchor="middle" x="10758" y="-1377.3735" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="10758" y="-1361.9735" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.read_start(stdin, onread)</text>
<text text-anchor="middle" x="10758" y="-1346.5734" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10758" y="-1283.1734" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; main loop</text>
<text text-anchor="middle" x="10758" y="-1267.7734" font-family="Inconsolata" font-size="14.00" fill="#000000">local retcode = &#160;uv.run(&#39;default&#39;)</text>
<text text-anchor="middle" x="10758" y="-1252.3733" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Restore main screen</text>
<text text-anchor="middle" x="10758" y="-1236.9733" font-family="Inconsolata" font-size="14.00" fill="#000000">print &#39;\x1b[?47l&#39;</text>
<text text-anchor="middle" x="10758" y="-1205.5733" font-family="Inconsolata" font-size="14.00" fill="#000000">if retcode ~= true then</text>
<text text-anchor="middle" x="10758" y="-1190.1732" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;error(retcode)</text>
<text text-anchor="middle" x="10758" y="-1174.7732" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10758" y="-1143.3732" font-family="Inconsolata" font-size="14.00" fill="#000000">print(&quot;kthxbye&quot;)</text>
<text text-anchor="middle" x="10758" y="-1127.9732" font-family="Inconsolata" font-size="14.00" fill="#000000">return retcode</text>
</g>
<!-- codeblock_137&#45;&gt;leaf_168 -->
<g id="edge168" class="edge">
<title>codeblock_137&#45;&gt;leaf_168</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10577.6011,-3440.6359C10591.233,-3284.961 10688.4257,-2175.032 10734.23,-1651.953"/>
<polygon fill="#000000" stroke="#000000" points="10737.7492,-1651.8855 10735.135,-1641.6182 10730.7759,-1651.2748 10737.7492,-1651.8855"/>
</g>
<!-- leaf_143 -->
<g id="node144" class="node">
<title>leaf_143</title>
<polygon fill="none" stroke="#c0c0c0" points="8260,-78.4004 7768,-78.4004 7768,-7.7997 8260,-7.7997 8260,-78.4004"/>
<text text-anchor="middle" x="8014" y="-31.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">After flailing about and writing what was no doubt a good parser for</text>
<text text-anchor="middle" x="8014" y="-15.9" font-family="Inconsolata" font-size="14.00" fill="#000000">individual byte sequences, I discovered that</text>
</g>
<!-- raw_139&#45;&gt;leaf_143 -->
<g id="edge143" class="edge">
<title>raw_139&#45;&gt;leaf_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8265.6838,-1362.4746C8271.0761,-1216.2593 8304.598,-227.3286 8229,-122.2001 8218.653,-107.8113 8189.4535,-93.8544 8155.7817,-81.7725"/>
<polygon fill="#000000" stroke="#000000" points="8156.7727,-78.4113 8146.1778,-78.4157 8154.463,-85.0192 8156.7727,-78.4113"/>
</g>
<!-- leaf_144 -->
<g id="node145" class="node">
<title>leaf_144</title>
<polygon fill="none" stroke="#c0c0c0" points="8332,-61.1 8278,-61.1 8278,-25.1 8332,-25.1 8332,-61.1"/>
<text text-anchor="middle" x="8305" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_140&#45;&gt;leaf_144 -->
<g id="edge144" class="edge">
<title>prespace_140&#45;&gt;leaf_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8355.3081,-1362.3573C8349.7868,-1217.5695 8312.9116,-250.5712 8306.0857,-71.5718"/>
<polygon fill="#000000" stroke="#000000" points="8309.5757,-71.239 8305.6971,-61.3797 8302.5808,-71.5058 8309.5757,-71.239"/>
</g>
<!-- leaf_145 -->
<g id="node146" class="node">
<title>leaf_145</title>
<polygon fill="none" stroke="#c0c0c0" points="8404,-61.1 8350,-61.1 8350,-25.1 8404,-25.1 8404,-61.1"/>
<text text-anchor="middle" x="8377" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">uv</text>
</g>
<!-- literal_141&#45;&gt;leaf_145 -->
<g id="edge145" class="edge">
<title>literal_141&#45;&gt;leaf_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8453.8947,-1362.4483C8465.3536,-1248.4319 8521.2975,-617.1443 8411,-122.2001 8406.9994,-104.248 8398.9897,-85.2791 8391.7491,-70.4183"/>
<polygon fill="#000000" stroke="#000000" points="8394.7785,-68.6522 8387.1519,-61.2979 8388.5276,-71.803 8394.7785,-68.6522"/>
</g>
<!-- leaf_146 -->
<g id="node147" class="node">
<title>leaf_146</title>
<polygon fill="none" stroke="#c0c0c0" points="8634,-62.4006 8422,-62.4006 8422,-23.7995 8634,-23.7995 8634,-62.4006"/>
<text text-anchor="middle" x="8528" y="-47.3001" font-family="Inconsolata" font-size="14.00" fill="#000000"> gives them to me a seq at a</text>
<text text-anchor="middle" x="8528" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">time.</text>
</g>
<!-- raw_142&#45;&gt;leaf_146 -->
<g id="edge146" class="edge">
<title>raw_142&#45;&gt;leaf_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8528,-1362.3573C8528,-1217.9557 8528,-255.7246 8528,-73.0211"/>
<polygon fill="#000000" stroke="#000000" points="8531.5001,-72.8136 8528,-62.8136 8524.5001,-72.8137 8531.5001,-72.8136"/>
</g>
<!-- leaf_148 -->
<g id="node149" class="node">
<title>leaf_148</title>
<polygon fill="none" stroke="#c0c0c0" points="8850,-63.0021 8652,-63.0021 8652,-23.198 8850,-23.198 8850,-63.0021"/>
<text text-anchor="middle" x="8751" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Because of course it does.</text>
</g>
<!-- raw_147&#45;&gt;leaf_148 -->
<g id="edge148" class="edge">
<title>raw_147&#45;&gt;leaf_148</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8871.3448,-1362.3573C8858.1722,-1217.9557 8770.396,-255.7246 8753.7295,-73.0211"/>
<polygon fill="#000000" stroke="#000000" points="8757.1924,-72.4543 8752.7983,-62.8136 8750.2213,-73.0903 8757.1924,-72.4543"/>
</g>
<!-- leaf_153 -->
<g id="node154" class="node">
<title>leaf_153</title>
<polygon fill="none" stroke="#c0c0c0" points="9311.5,-63.0021 8868.5,-63.0021 8868.5,-23.198 9311.5,-23.198 9311.5,-63.0021"/>
<text text-anchor="middle" x="9090" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">So we&#39;re just going to make this a jump table that translates</text>
</g>
<!-- raw_149&#45;&gt;leaf_153 -->
<g id="edge153" class="edge">
<title>raw_149&#45;&gt;leaf_153</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9161.0232,-1362.3573C9153.2492,-1217.9557 9101.4468,-255.7246 9091.6108,-73.0211"/>
<polygon fill="#000000" stroke="#000000" points="9095.0939,-72.611 9091.0613,-62.8136 9088.104,-72.9874 9095.0939,-72.611"/>
</g>
<!-- leaf_154 -->
<g id="node155" class="node">
<title>leaf_154</title>
<polygon fill="none" stroke="#c0c0c0" points="9384,-61.1 9330,-61.1 9330,-25.1 9384,-25.1 9384,-61.1"/>
<text text-anchor="middle" x="9357" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_150&#45;&gt;leaf_154 -->
<g id="edge154" class="edge">
<title>prespace_150&#45;&gt;leaf_154</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9337.2713,-1362.3573C9339.4366,-1217.5695 9353.8974,-250.5712 9356.5742,-71.5718"/>
<polygon fill="#000000" stroke="#000000" points="9360.0766,-71.4309 9356.7266,-61.3797 9353.0774,-71.3262 9360.0766,-71.4309"/>
</g>
<!-- leaf_155 -->
<g id="node156" class="node">
<title>leaf_155</title>
<polygon fill="none" stroke="#c0c0c0" points="9456,-61.1 9402,-61.1 9402,-25.1 9456,-25.1 9456,-61.1"/>
<text text-anchor="middle" x="9429" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">xterm</text>
</g>
<!-- literal_151&#45;&gt;leaf_155 -->
<g id="edge155" class="edge">
<title>literal_151&#45;&gt;leaf_155</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9432.9457,-1362.3573C9432.5127,-1217.5695 9429.6205,-250.5712 9429.0852,-71.5718"/>
<polygon fill="#000000" stroke="#000000" points="9432.5847,-71.3691 9429.0547,-61.3797 9425.5847,-71.3901 9432.5847,-71.3691"/>
</g>
<!-- leaf_156 -->
<g id="node157" class="node">
<title>leaf_156</title>
<polygon fill="none" stroke="#c0c0c0" points="9567.5,-62.4006 9474.5,-62.4006 9474.5,-23.7995 9567.5,-23.7995 9567.5,-62.4006"/>
<text text-anchor="middle" x="9521" y="-47.3001" font-family="Inconsolata" font-size="14.00" fill="#000000"> directly</text>
<text text-anchor="middle" x="9521" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">to english.</text>
</g>
<!-- raw_152&#45;&gt;leaf_156 -->
<g id="edge156" class="edge">
<title>raw_152&#45;&gt;leaf_156</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9517.0543,-1362.3573C9517.4862,-1217.9557 9520.3641,-255.7246 9520.9105,-73.0211"/>
<polygon fill="#000000" stroke="#000000" points="9524.411,-72.8241 9520.941,-62.8136 9517.411,-72.8031 9524.411,-72.8241"/>
</g>
<!-- leaf_161 -->
<g id="node162" class="node">
<title>leaf_161</title>
<polygon fill="none" stroke="#c0c0c0" points="9790.5,-63.0021 9585.5,-63.0021 9585.5,-23.198 9790.5,-23.198 9790.5,-63.0021"/>
<text text-anchor="middle" x="9688" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m also going to switch to</text>
</g>
<!-- raw_157&#45;&gt;leaf_161 -->
<g id="edge161" class="edge">
<title>raw_157&#45;&gt;leaf_161</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9688,-1362.3573C9688,-1217.9557 9688,-255.7246 9688,-73.0211"/>
<polygon fill="#000000" stroke="#000000" points="9691.5001,-72.8136 9688,-62.8136 9684.5001,-72.8137 9691.5001,-72.8136"/>
</g>
<!-- leaf_162 -->
<g id="node163" class="node">
<title>leaf_162</title>
<polygon fill="none" stroke="#c0c0c0" points="9863,-61.1 9809,-61.1 9809,-25.1 9863,-25.1 9863,-61.1"/>
<text text-anchor="middle" x="9836" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_158&#45;&gt;leaf_162 -->
<g id="edge162" class="edge">
<title>prespace_158&#45;&gt;leaf_162</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9779.7733,-1362.3573C9785.9442,-1217.5695 9827.1576,-250.5712 9834.7865,-71.5718"/>
<polygon fill="#000000" stroke="#000000" points="9838.2918,-71.5197 9835.2209,-61.3797 9831.2982,-71.2215 9838.2918,-71.5197"/>
</g>
<!-- leaf_163 -->
<g id="node164" class="node">
<title>leaf_163</title>
<polygon fill="none" stroke="#c0c0c0" points="9935,-61.1 9881,-61.1 9881,-25.1 9935,-25.1 9935,-61.1"/>
<text text-anchor="middle" x="9908" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">x1b</text>
</g>
<!-- literal_159&#45;&gt;leaf_163 -->
<g id="edge163" class="edge">
<title>literal_159&#45;&gt;leaf_163</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9875.4477,-1362.3573C9879.0203,-1217.5695 9902.8807,-250.5712 9907.2975,-71.5718"/>
<polygon fill="#000000" stroke="#000000" points="9910.8011,-71.463 9907.549,-61.3797 9903.8033,-71.2903 9910.8011,-71.463"/>
</g>
<!-- leaf_164 -->
<g id="node165" class="node">
<title>leaf_164</title>
<polygon fill="none" stroke="#c0c0c0" points="10242.5,-61.1 9953.5,-61.1 9953.5,-25.1 10242.5,-25.1 10242.5,-61.1"/>
<text text-anchor="middle" x="10098" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">, which is more visually distinguished.</text>
</g>
<!-- raw_160&#45;&gt;leaf_164 -->
<g id="edge164" class="edge">
<title>raw_160&#45;&gt;leaf_164</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9949.3638,-1362.3944C9937.2852,-1225.2649 9865.733,-349.4818 9987,-122.2001 10000.079,-97.687 10024.5105,-79.0204 10047.1296,-65.9937"/>
<polygon fill="#000000" stroke="#000000" points="10048.9388,-68.9931 10056.0106,-61.1038 10045.5625,-62.8611 10048.9388,-68.9931"/>
</g>
<!-- leaf_166 -->
<g id="node167" class="node">
<title>leaf_166</title>
<polygon fill="none" stroke="#c0c0c0" points="10801.5,-70.4005 10260.5,-70.4005 10260.5,-15.7996 10801.5,-15.7996 10801.5,-70.4005"/>
<text text-anchor="middle" x="10531" y="-39.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">To avoid extraneous quoting, we define the tokens as keys, and their escape</text>
<text text-anchor="middle" x="10531" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">strings as values.</text>
</g>
<!-- raw_165&#45;&gt;leaf_166 -->
<g id="edge166" class="edge">
<title>raw_165&#45;&gt;leaf_166</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10022.1599,-1362.3507C10015.5196,-1215.1466 9973.9416,-219.8328 10059,-122.2001 10063.9162,-116.5571 10212.8905,-92.1982 10342.1641,-71.9848"/>
<polygon fill="#000000" stroke="#000000" points="10342.8843,-75.4149 10352.2246,-70.4139 10341.8043,-68.4987 10342.8843,-75.4149"/>
</g>
</g>
</svg>
