<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="9423pt" height="2258pt"
 viewBox="0.00 0.00 9422.50 2258.43" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2254.432)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2254.432 9418.5,-2254.432 9418.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="2509" cy="-2232.432" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="2509" y="-2228.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 309</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="2509" cy="-2160.432" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2509" y="-2156.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;213</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2509,-2214.2633C2509,-2206.5629 2509,-2197.4063 2509,-2188.8486"/>
<polygon fill="#000000" stroke="#000000" points="2512.5001,-2188.8452 2509,-2178.8452 2505.5001,-2188.8453 2512.5001,-2188.8452"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="767" cy="-2088.432" rx="47.4168" ry="18"/>
<text text-anchor="middle" x="767" y="-2084.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Femto</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2443.3198,-2159.7367C2228.0674,-2157.1224 1524.4456,-2145.9159 944,-2106.432 903.1905,-2103.656 857.2378,-2098.9353 822.3835,-2095.0247"/>
<polygon fill="#000000" stroke="#000000" points="822.7326,-2091.5419 812.4019,-2093.893 821.9439,-2098.4974 822.7326,-2091.5419"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="985" cy="-2088.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="985" y="-2084.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2443.2134,-2159.1462C2200.3466,-2154.2111 1354.3923,-2135.3002 1086,-2106.432 1065.8285,-2104.2623 1043.6118,-2100.4598 1025.1633,-2096.9071"/>
<polygon fill="#000000" stroke="#000000" points="1025.8269,-2093.4706 1015.3388,-2094.971 1024.4734,-2100.3385 1025.8269,-2093.4706"/>
</g>
<!-- section_4 -->
<g id="node5" class="node">
<title>section_4</title>
<ellipse fill="none" stroke="#000000" cx="1156" cy="-2088.432" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="1156" y="-2084.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 6&#45;26</text>
</g>
<!-- section_1&#45;&gt;section_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;section_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2444.1978,-2156.9835C2217.4805,-2144.9187 1460.9617,-2104.6605 1226.139,-2092.1644"/>
<polygon fill="#000000" stroke="#000000" points="1226.1875,-2088.6621 1216.0156,-2091.6257 1225.8154,-2095.6522 1226.1875,-2088.6621"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="3841" cy="-2088.432" rx="69.851" ry="18"/>
<text text-anchor="middle" x="3841" y="-2084.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 33&#45;112</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2573.6953,-2156.9349C2794.9362,-2144.976 3520.9597,-2105.7314 3762.246,-2092.6889"/>
<polygon fill="#000000" stroke="#000000" points="3762.5438,-2096.1781 3772.3402,-2092.1433 3762.1659,-2089.1883 3762.5438,-2096.1781"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="6085" cy="-2088.432" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="6085" y="-2084.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 126&#45;213</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2574.5072,-2159.113C3011.6064,-2150.3124 5503.2014,-2100.146 5999.1504,-2090.1605"/>
<polygon fill="#000000" stroke="#000000" points="5999.5262,-2093.6537 6009.4537,-2089.953 5999.3852,-2086.6551 5999.5262,-2093.6537"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="7675" cy="-2088.432" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7675" y="-2084.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 214&#45;218</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2574.7873,-2159.5151C3125.5846,-2151.8385 6964.4711,-2098.3348 7589.1683,-2089.6282"/>
<polygon fill="#000000" stroke="#000000" points="7589.4923,-2093.1241 7599.4425,-2089.485 7589.3947,-2086.1248 7589.4923,-2093.1241"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="742,-2034.432 670,-2034.432 670,-1998.432 742,-1998.432 742,-2034.432"/>
<text text-anchor="middle" x="706" y="-2012.932" font-family="Inconsolata" font-size="14.00" fill="#000000">* &#160;Femto</text>
</g>
<!-- header_2&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>header_2&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M752.2336,-2071.0028C744.9061,-2062.354 735.9103,-2051.7359 727.8075,-2042.172"/>
<polygon fill="#000000" stroke="#000000" points="730.4021,-2039.82 721.2674,-2034.4526 725.0612,-2044.3449 730.4021,-2039.82"/>
</g>
<!-- raw_9 -->
<g id="node10" class="node">
<title>raw_9</title>
<ellipse fill="none" stroke="#000000" cx="787" cy="-2016.432" rx="27" ry="18"/>
<text text-anchor="middle" x="787" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_9 -->
<g id="edge9" class="edge">
<title>prose_3&#45;&gt;raw_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M956.1649,-2080.1727C923.4143,-2070.4824 868.6038,-2053.3217 823,-2034.432 821.2085,-2033.6899 819.3824,-2032.8972 817.5502,-2032.0736"/>
<polygon fill="#000000" stroke="#000000" points="819.0084,-2028.8916 808.4711,-2027.7889 816.0208,-2035.2221 819.0084,-2028.8916"/>
</g>
<!-- header_11 -->
<g id="node12" class="node">
<title>header_11</title>
<ellipse fill="none" stroke="#000000" cx="887" cy="-2016.432" rx="54.6851" ry="18"/>
<text text-anchor="middle" x="887" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : includes</text>
</g>
<!-- section_4&#45;&gt;header_11 -->
<g id="edge11" class="edge">
<title>section_4&#45;&gt;header_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1109.9405,-2076.5325C1068.3543,-2065.7332 1005.5097,-2049.2756 951,-2034.432 946.9282,-2033.3232 942.7139,-2032.1639 938.481,-2030.9912"/>
<polygon fill="#000000" stroke="#000000" points="939.201,-2027.5586 928.6287,-2028.2481 937.3234,-2034.3021 939.201,-2027.5586"/>
</g>
<!-- prose_12 -->
<g id="node13" class="node">
<title>prose_12</title>
<ellipse fill="none" stroke="#000000" cx="992" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="992" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_12 -->
<g id="edge12" class="edge">
<title>section_4&#45;&gt;prose_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1121.6202,-2073.3384C1093.8097,-2061.1289 1054.8158,-2044.0096 1026.8739,-2031.7425"/>
<polygon fill="#000000" stroke="#000000" points="1028.0513,-2028.437 1017.4879,-2027.6218 1025.2374,-2034.8465 1028.0513,-2028.437"/>
</g>
<!-- prose_13 -->
<g id="node14" class="node">
<title>prose_13</title>
<ellipse fill="none" stroke="#000000" cx="1074" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1074" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_13 -->
<g id="edge13" class="edge">
<title>section_4&#45;&gt;prose_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1136.5671,-2071.369C1125.3006,-2061.4764 1110.9965,-2048.9167 1098.9098,-2038.304"/>
<polygon fill="#000000" stroke="#000000" points="1101.1653,-2035.6267 1091.3415,-2031.6587 1096.5466,-2040.8868 1101.1653,-2035.6267"/>
</g>
<!-- prose_14 -->
<g id="node15" class="node">
<title>prose_14</title>
<ellipse fill="none" stroke="#000000" cx="1156" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1156" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_14 -->
<g id="edge14" class="edge">
<title>section_4&#45;&gt;prose_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1156,-2070.2633C1156,-2062.5629 1156,-2053.4063 1156,-2044.8486"/>
<polygon fill="#000000" stroke="#000000" points="1159.5001,-2044.8452 1156,-2034.8452 1152.5001,-2044.8453 1159.5001,-2044.8452"/>
</g>
<!-- codeblock_15 -->
<g id="node16" class="node">
<title>codeblock_15</title>
<ellipse fill="none" stroke="#000000" cx="1287" cy="-2016.432" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1287" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 15&#45;24</text>
</g>
<!-- section_4&#45;&gt;codeblock_15 -->
<g id="edge15" class="edge">
<title>section_4&#45;&gt;codeblock_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1185.0731,-2072.4528C1203.5067,-2062.3214 1227.584,-2049.0881 1247.7086,-2038.0272"/>
<polygon fill="#000000" stroke="#000000" points="1249.5647,-2041.0009 1256.6425,-2033.117 1246.193,-2034.8664 1249.5647,-2041.0009"/>
</g>
<!-- section_16 -->
<g id="node17" class="node">
<title>section_16</title>
<ellipse fill="none" stroke="#000000" cx="1547" cy="-2016.432" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1547" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 27&#45;32</text>
</g>
<!-- section_4&#45;&gt;section_16 -->
<g id="edge16" class="edge">
<title>section_4&#45;&gt;section_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1207.9218,-2078.8709C1278.6973,-2065.8381 1405.4252,-2042.502 1482.3002,-2028.346"/>
<polygon fill="#000000" stroke="#000000" points="1483.143,-2031.7497 1492.3438,-2026.4965 1481.8752,-2024.8655 1483.143,-2031.7497"/>
</g>
<!-- header_30 -->
<g id="node31" class="node">
<title>header_30</title>
<ellipse fill="none" stroke="#000000" cx="1914" cy="-2016.432" rx="39.6991" ry="18"/>
<text text-anchor="middle" x="1914" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : core</text>
</g>
<!-- section_5&#45;&gt;header_30 -->
<g id="edge30" class="edge">
<title>section_5&#45;&gt;header_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3770.894,-2087.2704C3483.3527,-2082.3589 2393.394,-2062.2612 2050,-2034.432 2020.4503,-2032.0372 1987.4829,-2027.7156 1961.4078,-2023.9072"/>
<polygon fill="#000000" stroke="#000000" points="1961.818,-2020.4298 1951.4124,-2022.4234 1960.79,-2027.3539 1961.818,-2020.4298"/>
</g>
<!-- prose_31 -->
<g id="node32" class="node">
<title>prose_31</title>
<ellipse fill="none" stroke="#000000" cx="2091" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2091" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_31 -->
<g id="edge31" class="edge">
<title>section_5&#45;&gt;prose_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3771.8589,-2085.5873C3481.5939,-2073.645 2365.8139,-2027.7386 2133.5194,-2018.1813"/>
<polygon fill="#000000" stroke="#000000" points="2133.5765,-2014.6808 2123.441,-2017.7667 2133.2886,-2021.6749 2133.5765,-2014.6808"/>
</g>
<!-- prose_32 -->
<g id="node33" class="node">
<title>prose_32</title>
<ellipse fill="none" stroke="#000000" cx="2875" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2875" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_32 -->
<g id="edge32" class="edge">
<title>section_5&#45;&gt;prose_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3773.4567,-2083.3977C3587.1725,-2069.5131 3069.8554,-2030.9553 2917.6482,-2019.6107"/>
<polygon fill="#000000" stroke="#000000" points="2917.5623,-2016.0947 2907.3298,-2018.8416 2917.042,-2023.0753 2917.5623,-2016.0947"/>
</g>
<!-- codeblock_33 -->
<g id="node34" class="node">
<title>codeblock_33</title>
<ellipse fill="none" stroke="#000000" cx="3483" cy="-2016.432" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3483" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 40&#45;57</text>
</g>
<!-- section_5&#45;&gt;codeblock_33 -->
<g id="edge33" class="edge">
<title>section_5&#45;&gt;codeblock_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3785.8471,-2077.3398C3722.9765,-2064.6954 3620.1251,-2044.0102 3551.9965,-2030.3084"/>
<polygon fill="#000000" stroke="#000000" points="3552.2829,-2026.7959 3541.7891,-2028.2555 3550.9026,-2033.6585 3552.2829,-2026.7959"/>
</g>
<!-- prose_34 -->
<g id="node35" class="node">
<title>prose_34</title>
<ellipse fill="none" stroke="#000000" cx="3671" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3671" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_34 -->
<g id="edge34" class="edge">
<title>section_5&#45;&gt;prose_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3804.5307,-2072.9862C3775.4299,-2060.6611 3734.9159,-2043.5022 3706.1637,-2031.3248"/>
<polygon fill="#000000" stroke="#000000" points="3707.4705,-2028.0774 3696.8974,-2027.4003 3704.7405,-2034.5231 3707.4705,-2028.0774"/>
</g>
<!-- prose_35 -->
<g id="node36" class="node">
<title>prose_35</title>
<ellipse fill="none" stroke="#000000" cx="3841" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3841" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_35 -->
<g id="edge35" class="edge">
<title>section_5&#45;&gt;prose_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3841,-2070.2633C3841,-2062.5629 3841,-2053.4063 3841,-2044.8486"/>
<polygon fill="#000000" stroke="#000000" points="3844.5001,-2044.8452 3841,-2034.8452 3837.5001,-2044.8453 3844.5001,-2044.8452"/>
</g>
<!-- codeblock_36 -->
<g id="node37" class="node">
<title>codeblock_36</title>
<ellipse fill="none" stroke="#000000" cx="4058" cy="-2016.432" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="4058" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 64&#45;71</text>
</g>
<!-- section_5&#45;&gt;codeblock_36 -->
<g id="edge36" class="edge">
<title>section_5&#45;&gt;codeblock_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3883.8722,-2074.2071C3918.2277,-2062.808 3966.6447,-2046.7434 4003.7064,-2034.4464"/>
<polygon fill="#000000" stroke="#000000" points="4004.9629,-2037.7172 4013.3519,-2031.2461 4002.7585,-2031.0734 4004.9629,-2037.7172"/>
</g>
<!-- prose_37 -->
<g id="node38" class="node">
<title>prose_37</title>
<ellipse fill="none" stroke="#000000" cx="4334" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4334" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_37 -->
<g id="edge37" class="edge">
<title>section_5&#45;&gt;prose_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3901.9459,-2079.5311C4003.6926,-2064.6716 4205.5513,-2035.1912 4292.5321,-2022.4881"/>
<polygon fill="#000000" stroke="#000000" points="4293.1663,-2025.9327 4302.5556,-2021.0243 4292.1547,-2019.0062 4293.1663,-2025.9327"/>
</g>
<!-- prose_38 -->
<g id="node39" class="node">
<title>prose_38</title>
<ellipse fill="none" stroke="#000000" cx="4497" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4497" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_38 -->
<g id="edge38" class="edge">
<title>section_5&#45;&gt;prose_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3907.7101,-2082.6728C4008.8962,-2073.7144 4207.1671,-2055.288 4375,-2034.432 4402.0211,-2031.0741 4432.3046,-2026.6101 4455.9401,-2022.9677"/>
<polygon fill="#000000" stroke="#000000" points="4456.6197,-2026.4042 4465.964,-2021.4109 4455.5453,-2019.4872 4456.6197,-2026.4042"/>
</g>
<!-- codeblock_39 -->
<g id="node40" class="node">
<title>codeblock_39</title>
<ellipse fill="none" stroke="#000000" cx="4714" cy="-2016.432" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="4714" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 78&#45;99</text>
</g>
<!-- section_5&#45;&gt;codeblock_39 -->
<g id="edge39" class="edge">
<title>section_5&#45;&gt;codeblock_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3908.82,-2083.7342C4033.4824,-2074.9752 4307.4166,-2055.1522 4538,-2034.432 4569.1951,-2031.6288 4603.4638,-2028.2028 4633.4077,-2025.0949"/>
<polygon fill="#000000" stroke="#000000" points="4633.803,-2028.5727 4643.3861,-2024.0545 4633.0771,-2021.6105 4633.803,-2028.5727"/>
</g>
<!-- codeblock_40 -->
<g id="node41" class="node">
<title>codeblock_40</title>
<ellipse fill="none" stroke="#000000" cx="5042" cy="-2016.432" rx="86.7905" ry="18"/>
<text text-anchor="middle" x="5042" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 101&#45;110</text>
</g>
<!-- section_5&#45;&gt;codeblock_40 -->
<g id="edge40" class="edge">
<title>section_5&#45;&gt;codeblock_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3909.929,-2084.9771C4067.5779,-2076.9822 4466.5721,-2056.2178 4800,-2034.432 4849.8325,-2031.176 4905.4009,-2027.0761 4950.7096,-2023.6119"/>
<polygon fill="#000000" stroke="#000000" points="4951.1037,-2027.092 4960.8067,-2022.8374 4950.5683,-2020.1125 4951.1037,-2027.092"/>
</g>
<!-- section_41 -->
<g id="node42" class="node">
<title>section_41</title>
<ellipse fill="none" stroke="#000000" cx="5500" cy="-2016.432" rx="74.6878" ry="18"/>
<text text-anchor="middle" x="5500" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 113&#45;125</text>
</g>
<!-- section_5&#45;&gt;section_41 -->
<g id="edge41" class="edge">
<title>section_5&#45;&gt;section_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3910.2547,-2085.7455C4104.1405,-2078.1821 4668.8772,-2055.8607 5138,-2034.432 5233.4565,-2030.0717 5343.0446,-2024.5506 5416.4097,-2020.7801"/>
<polygon fill="#000000" stroke="#000000" points="5416.7093,-2024.2694 5426.5162,-2020.26 5416.3495,-2017.2787 5416.7093,-2024.2694"/>
</g>
<!-- header_96 -->
<g id="node97" class="node">
<title>header_96</title>
<ellipse fill="none" stroke="#000000" cx="5866" cy="-2016.432" rx="75.4657" ry="18"/>
<text text-anchor="middle" x="5866" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Modeselektor</text>
</g>
<!-- section_6&#45;&gt;header_96 -->
<g id="edge96" class="edge">
<title>section_6&#45;&gt;header_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6040.4181,-2073.7749C6005.6325,-2062.3385 5957.1669,-2046.4047 5920.1507,-2034.2349"/>
<polygon fill="#000000" stroke="#000000" points="5921.1124,-2030.8669 5910.5195,-2031.0685 5918.9261,-2037.5167 5921.1124,-2030.8669"/>
</g>
<!-- prose_97 -->
<g id="node98" class="node">
<title>prose_97</title>
<ellipse fill="none" stroke="#000000" cx="6004" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6004" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_97 -->
<g id="edge97" class="edge">
<title>section_6&#45;&gt;prose_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6065.3922,-2071.0028C6054.4361,-2061.2641 6040.6711,-2049.0285 6028.9532,-2038.6126"/>
<polygon fill="#000000" stroke="#000000" points="6031.027,-2035.7731 6021.2276,-2031.7454 6026.3764,-2041.005 6031.027,-2035.7731"/>
</g>
<!-- codeblock_98 -->
<g id="node99" class="node">
<title>codeblock_98</title>
<ellipse fill="none" stroke="#000000" cx="6165" cy="-2016.432" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6165" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 128&#45;134</text>
</g>
<!-- section_6&#45;&gt;codeblock_98 -->
<g id="edge98" class="edge">
<title>section_6&#45;&gt;codeblock_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6104.3658,-2071.0028C6114.3383,-2062.0275 6126.6671,-2050.9315 6137.5981,-2041.0937"/>
<polygon fill="#000000" stroke="#000000" points="6140.1652,-2043.4921 6145.2568,-2034.2008 6135.4824,-2038.289 6140.1652,-2043.4921"/>
</g>
<!-- codeblock_99 -->
<g id="node100" class="node">
<title>codeblock_99</title>
<ellipse fill="none" stroke="#000000" cx="6542" cy="-2016.432" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6542" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 136&#45;198</text>
</g>
<!-- section_6&#45;&gt;codeblock_99 -->
<g id="edge99" class="edge">
<title>section_6&#45;&gt;codeblock_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6148.0641,-2078.4963C6229.9945,-2065.5882 6373.0856,-2043.0443 6462.4054,-2028.972"/>
<polygon fill="#000000" stroke="#000000" points="6463.1528,-2032.3975 6472.4862,-2027.3838 6462.0633,-2025.4828 6463.1528,-2032.3975"/>
</g>
<!-- codeblock_100 -->
<g id="node101" class="node">
<title>codeblock_100</title>
<ellipse fill="none" stroke="#000000" cx="6980" cy="-2016.432" rx="86.7905" ry="18"/>
<text text-anchor="middle" x="6980" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 200&#45;211</text>
</g>
<!-- section_6&#45;&gt;codeblock_100 -->
<g id="edge100" class="edge">
<title>section_6&#45;&gt;codeblock_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6156.7287,-2082.6616C6318.2703,-2069.6661 6710.3706,-2038.1228 6888.8323,-2023.7661"/>
<polygon fill="#000000" stroke="#000000" points="6889.2936,-2027.2404 6898.9807,-2022.9497 6888.7322,-2020.263 6889.2936,-2027.2404"/>
</g>
<!-- header_107 -->
<g id="node108" class="node">
<title>header_107</title>
<ellipse fill="none" stroke="#000000" cx="7539" cy="-2016.432" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="7539" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Reader</text>
</g>
<!-- section_7&#45;&gt;header_107 -->
<g id="edge107" class="edge">
<title>section_7&#45;&gt;header_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7643.7989,-2071.9137C7623.8516,-2061.3534 7597.8588,-2047.5925 7576.7503,-2036.4174"/>
<polygon fill="#000000" stroke="#000000" points="7578.2111,-2033.2306 7567.7356,-2031.6449 7574.9359,-2039.4171 7578.2111,-2033.2306"/>
</g>
<!-- prose_108 -->
<g id="node109" class="node">
<title>prose_108</title>
<ellipse fill="none" stroke="#000000" cx="7781" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7781" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_108 -->
<g id="edge108" class="edge">
<title>section_7&#45;&gt;prose_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7700.1205,-2071.369C7715.6173,-2060.8428 7735.5596,-2047.2971 7751.7642,-2036.2903"/>
<polygon fill="#000000" stroke="#000000" points="7754.0246,-2038.986 7760.3302,-2030.4718 7750.0914,-2033.1954 7754.0246,-2038.986"/>
</g>
<!-- section_109 -->
<g id="node110" class="node">
<title>section_109</title>
<ellipse fill="none" stroke="#000000" cx="8504" cy="-2016.432" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8504" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 219&#45;309</text>
</g>
<!-- section_7&#45;&gt;section_109 -->
<g id="edge109" class="edge">
<title>section_7&#45;&gt;section_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7746.0384,-2082.2622C7899.3366,-2068.948 8260.397,-2037.5893 8422.5979,-2023.5019"/>
<polygon fill="#000000" stroke="#000000" points="8423.3303,-2026.9515 8432.9899,-2022.5993 8422.7246,-2019.9778 8423.3303,-2026.9515"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="812,-1517.3168 758,-1517.3168 758,-1445.3168 812,-1445.3168 812,-1517.3168"/>
</g>
<!-- raw_9&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>raw_9&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M786.9323,-1998.3211C786.6541,-1923.8757 785.5934,-1640.078 785.173,-1527.6155"/>
<polygon fill="#000000" stroke="#000000" points="788.673,-1527.582 785.1356,-1517.5952 781.6731,-1527.6083 788.673,-1527.582"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="930,-1499.3168 830,-1499.3168 830,-1463.3168 930,-1463.3168 930,-1499.3168"/>
<text text-anchor="middle" x="880" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">** &#160;includes</text>
</g>
<!-- header_11&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>header_11&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M886.7631,-1998.3211C885.7317,-1919.4783 881.6287,-1605.8205 880.3694,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="883.8675,-1509.3765 880.2369,-1499.4232 876.8681,-1509.4681 883.8675,-1509.3765"/>
</g>
<!-- raw_18 -->
<g id="node19" class="node">
<title>raw_18</title>
<ellipse fill="none" stroke="#000000" cx="975" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="975" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_12&#45;&gt;raw_18 -->
<g id="edge18" class="edge">
<title>prose_12&#45;&gt;raw_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M991.4246,-1998.3211C988.9199,-1919.4783 978.9553,-1605.8205 975.8972,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="979.3911,-1509.307 975.5752,-1499.4232 972.3946,-1509.5293 979.3911,-1509.307"/>
</g>
<!-- raw_20 -->
<g id="node21" class="node">
<title>raw_20</title>
<ellipse fill="none" stroke="#000000" cx="1047" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="1047" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_13&#45;&gt;raw_20 -->
<g id="edge20" class="edge">
<title>prose_13&#45;&gt;raw_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1073.0862,-1998.3211C1069.1081,-1919.4783 1053.282,-1605.8205 1048.425,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="1051.9132,-1509.2341 1047.9136,-1499.4232 1044.922,-1509.5869 1051.9132,-1509.2341"/>
</g>
<!-- raw_22 -->
<g id="node23" class="node">
<title>raw_22</title>
<ellipse fill="none" stroke="#000000" cx="1119" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="1119" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_14&#45;&gt;raw_22 -->
<g id="edge22" class="edge">
<title>prose_14&#45;&gt;raw_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1154.7477,-1998.3211C1149.2962,-1919.4783 1127.6087,-1605.8205 1120.9527,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="1124.4335,-1509.1579 1120.2519,-1499.4232 1117.4502,-1509.6408 1124.4335,-1509.1579"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="1418,-1547.0172 1164,-1547.0172 1164,-1415.6164 1418,-1415.6164 1418,-1547.0172"/>
<text text-anchor="middle" x="1291" y="-1531.7169" font-family="Inconsolata" font-size="14.00" fill="#000000">L &#160;&#160;= require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1291" y="-1516.3169" font-family="Inconsolata" font-size="14.00" fill="#000000">lfs = require &quot;lfs&quot;</text>
<text text-anchor="middle" x="1291" y="-1500.9169" font-family="Inconsolata" font-size="14.00" fill="#000000">ffi = require &quot;ffi&quot;</text>
<text text-anchor="middle" x="1291" y="-1485.5168" font-family="Inconsolata" font-size="14.00" fill="#000000">bit = require &quot;bit&quot;</text>
<text text-anchor="middle" x="1291" y="-1470.1168" font-family="Inconsolata" font-size="14.00" fill="#000000">uv &#160;= require &quot;luv&quot;</text>
<text text-anchor="middle" x="1291" y="-1454.7168" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; sqlayer uses this monkey patch:</text>
<text text-anchor="middle" x="1291" y="-1439.3167" font-family="Inconsolata" font-size="14.00" fill="#000000">ffi.reflect = require &quot;reflect&quot;</text>
<text text-anchor="middle" x="1291" y="-1423.9167" font-family="Inconsolata" font-size="14.00" fill="#000000">sql = require &quot;sqlayer&quot;</text>
</g>
<!-- codeblock_15&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>codeblock_15&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1287.1354,-1998.3211C1287.6477,-1929.7771 1289.4868,-1683.7568 1290.4313,-1557.4012"/>
<polygon fill="#000000" stroke="#000000" points="1293.9338,-1557.0609 1290.5088,-1547.035 1286.934,-1557.0086 1293.9338,-1557.0609"/>
</g>
<!-- header_25 -->
<g id="node26" class="node">
<title>header_25</title>
<ellipse fill="none" stroke="#000000" cx="1547" cy="-1481.3168" rx="110.7308" ry="18"/>
<text text-anchor="middle" x="1547" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Djikstra Insertion Point</text>
</g>
<!-- section_16&#45;&gt;header_25 -->
<g id="edge25" class="edge">
<title>section_16&#45;&gt;header_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1547,-1998.3211C1547,-1919.4783 1547,-1605.8205 1547,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="1550.5001,-1509.4231 1547,-1499.4232 1543.5001,-1509.4232 1550.5001,-1509.4231"/>
</g>
<!-- prose_26 -->
<g id="node27" class="node">
<title>prose_26</title>
<ellipse fill="none" stroke="#000000" cx="1708" cy="-1481.3168" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1708" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_16&#45;&gt;prose_26 -->
<g id="edge26" class="edge">
<title>section_16&#45;&gt;prose_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1599.8131,-2005.647C1624.2472,-1997.8417 1651.2819,-1984.6137 1667,-1962.432 1768.3754,-1819.3686 1731.4651,-1588.912 1714.5653,-1509.372"/>
<polygon fill="#000000" stroke="#000000" points="1717.8902,-1508.1935 1712.33,-1499.175 1711.0525,-1509.6925 1717.8902,-1508.1935"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="548,-578.5012 0,-578.5012 0,-507.9005 548,-507.9005 548,-578.5012"/>
<text text-anchor="middle" x="274" y="-531.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">This all goes into global space for now. &#160;Our more sophisticated loader will</text>
<text text-anchor="middle" x="274" y="-516.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">handle namespace isolation. Meanwhile we&#39;re building a repl, so.</text>
</g>
<!-- raw_18&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>raw_18&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M976.5759,-1463.254C983.0821,-1383.8793 1004.5458,-1067.0233 939,-1000.2017 879.2924,-939.3319 630.287,-1007.7807 557,-964.2017 409.2519,-876.3455 322.2907,-677.7283 289.3112,-588.3173"/>
<polygon fill="#000000" stroke="#000000" points="292.5338,-586.9377 285.8294,-578.7339 285.9546,-589.328 292.5338,-586.9377"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="1086,-563.103 566,-563.103 566,-523.2988 1086,-523.2988 1086,-563.103"/>
<text text-anchor="middle" x="826" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">First we load everything that might reasonable expect a stock namespace.</text>
</g>
<!-- raw_20&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>raw_20&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1047.6418,-1463.1008C1049.4874,-1398.7932 1052.2831,-1176.7814 1011,-1000.2017 971.4523,-831.045 878.3353,-642.8677 841.4437,-572.146"/>
<polygon fill="#000000" stroke="#000000" points="844.3692,-570.1885 836.6227,-562.9606 838.171,-573.4417 844.3692,-570.1885"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="1414,-563.103 1104,-563.103 1104,-523.2988 1414,-523.2988 1414,-563.103"/>
<text text-anchor="middle" x="1259" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">All of these are exceedingly well&#45;behaved.</text>
</g>
<!-- raw_22&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>raw_22&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1119.3812,-1463.2969C1120.9326,-1399.6407 1128.0399,-1179.5277 1155,-1000.2017 1179.5591,-836.8458 1230.5712,-645.176 1250.6352,-572.8337"/>
<polygon fill="#000000" stroke="#000000" points="1254.0504,-573.6163 1253.364,-563.0437 1247.3074,-571.7367 1254.0504,-573.6163"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="1644,-561.2009 1432,-561.2009 1432,-525.2009 1644,-525.2009 1644,-561.2009"/>
<text text-anchor="middle" x="1538" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Djikstra Insertion Point</text>
</g>
<!-- header_25&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>header_25&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1546.8243,-1462.9982C1545.7098,-1346.8311 1539.6291,-713.0109 1538.2697,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="1541.7691,-571.2199 1538.1732,-561.254 1534.7694,-571.2871 1541.7691,-571.2199"/>
</g>
<!-- raw_28 -->
<g id="node29" class="node">
<title>raw_28</title>
<ellipse fill="none" stroke="#000000" cx="1689" cy="-543.2009" rx="27" ry="18"/>
<text text-anchor="middle" x="1689" y="-539.0009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_26&#45;&gt;raw_28 -->
<g id="edge28" class="edge">
<title>prose_26&#45;&gt;raw_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1707.629,-1462.9982C1705.2762,-1346.8311 1692.4392,-713.0109 1689.5693,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="1693.0675,-571.181 1689.3656,-561.254 1686.0689,-571.3228 1693.0675,-571.181"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="1970,-86.3004 1408,-86.3004 1408,.1003 1970,.1003 1970,-86.3004"/>
<text text-anchor="middle" x="1689" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">Although we&#39;re not doing so yet, this is where we will set up Djikstra mode</text>
<text text-anchor="middle" x="1689" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">for participating code. &#160;We then push that up through the layers, and it lands</text>
<text text-anchor="middle" x="1689" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">as close to C level as practical.</text>
</g>
<!-- raw_28&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>raw_28&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1689,-525.1066C1689,-455.978 1689,-206.9052 1689,-96.4674"/>
<polygon fill="#000000" stroke="#000000" points="1692.5001,-96.2233 1689,-86.2233 1685.5001,-96.2233 1692.5001,-96.2233"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="1858.5,-1499.3168 1793.5,-1499.3168 1793.5,-1463.3168 1858.5,-1463.3168 1858.5,-1499.3168"/>
<text text-anchor="middle" x="1826" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">** core</text>
</g>
<!-- header_30&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>header_30&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1895.5639,-2000.3383C1885.5852,-1990.4738 1874.0852,-1976.9738 1868,-1962.432 1801.0572,-1802.4596 1814.8685,-1586.9353 1822.644,-1510.0425"/>
<polygon fill="#000000" stroke="#000000" points="1826.1638,-1510.0399 1823.7371,-1499.7267 1819.2028,-1509.3022 1826.1638,-1510.0399"/>
</g>
<!-- raw_43 -->
<g id="node44" class="node">
<title>raw_43</title>
<ellipse fill="none" stroke="#000000" cx="1904" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="1904" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_31&#45;&gt;raw_43 -->
<g id="edge43" class="edge">
<title>prose_31&#45;&gt;raw_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2061.0015,-2009.778C2021.3999,-2000.343 1954.9315,-1982.0318 1940,-1962.432 1833.615,-1822.7852 1877.2967,-1589.3139 1896.6312,-1509.2516"/>
<polygon fill="#000000" stroke="#000000" points="1900.0599,-1509.9666 1899.0724,-1499.4179 1893.2661,-1508.28 1900.0599,-1509.9666"/>
</g>
<!-- prespace_44 -->
<g id="node45" class="node">
<title>prespace_44</title>
<ellipse fill="none" stroke="#000000" cx="1995" cy="-1481.3168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="1995" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_31&#45;&gt;prespace_44 -->
<g id="edge44" class="edge">
<title>prose_31&#45;&gt;prespace_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2075.5235,-2000.3143C2066.8071,-1990.2402 2056.5794,-1976.5354 2051,-1962.432 1987.0196,-1800.7041 1989.8683,-1586.2609 1993.323,-1509.8482"/>
<polygon fill="#000000" stroke="#000000" points="1996.8316,-1509.759 1993.8293,-1499.5985 1989.8401,-1509.4136 1996.8316,-1509.759"/>
</g>
<!-- literal_45 -->
<g id="node46" class="node">
<title>literal_45</title>
<ellipse fill="none" stroke="#000000" cx="2091" cy="-1481.3168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2091" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_31&#45;&gt;literal_45 -->
<g id="edge45" class="edge">
<title>prose_31&#45;&gt;literal_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2091,-1998.3211C2091,-1919.4783 2091,-1605.8205 2091,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="2094.5001,-1509.4231 2091,-1499.4232 2087.5001,-1509.4232 2094.5001,-1509.4231"/>
</g>
<!-- raw_46 -->
<g id="node47" class="node">
<title>raw_46</title>
<ellipse fill="none" stroke="#000000" cx="2184" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="2184" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_31&#45;&gt;raw_46 -->
<g id="edge46" class="edge">
<title>prose_31&#45;&gt;raw_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2106.5081,-2000.3268C2115.2356,-1990.257 2125.4641,-1976.5525 2131,-1962.432 2194.438,-1800.6208 2189.9652,-1586.2289 2185.9065,-1509.839"/>
<polygon fill="#000000" stroke="#000000" points="2189.3857,-1509.3755 2185.3188,-1499.5924 2182.3972,-1509.7764 2189.3857,-1509.3755"/>
</g>
<!-- raw_51 -->
<g id="node52" class="node">
<title>raw_51</title>
<ellipse fill="none" stroke="#000000" cx="2553" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="2553" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_32&#45;&gt;raw_51 -->
<g id="edge51" class="edge">
<title>prose_32&#45;&gt;raw_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2842.9141,-2014.7018C2778.0687,-2010.4968 2634.8662,-1997.3885 2603,-1962.432 2483.8854,-1831.7658 2526.881,-1590.5952 2545.9039,-1509.0741"/>
<polygon fill="#000000" stroke="#000000" points="2549.3711,-1509.6247 2548.3043,-1499.0837 2542.5649,-1507.9892 2549.3711,-1509.6247"/>
</g>
<!-- prespace_52 -->
<g id="node53" class="node">
<title>prespace_52</title>
<ellipse fill="none" stroke="#000000" cx="2658" cy="-1481.3168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2658" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_32&#45;&gt;prespace_52 -->
<g id="edge52" class="edge">
<title>prose_32&#45;&gt;prespace_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2844.577,-2010.2764C2802.7136,-2001.16 2730.6228,-1982.9237 2714,-1962.432 2602.9684,-1825.5576 2636.2062,-1590.3191 2651.9067,-1509.525"/>
<polygon fill="#000000" stroke="#000000" points="2655.3624,-1510.0929 2653.9007,-1499.5994 2648.4996,-1508.7141 2655.3624,-1510.0929"/>
</g>
<!-- literal_53 -->
<g id="node54" class="node">
<title>literal_53</title>
<ellipse fill="none" stroke="#000000" cx="2754" cy="-1481.3168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2754" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_32&#45;&gt;literal_53 -->
<g id="edge53" class="edge">
<title>prose_32&#45;&gt;literal_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2848.3711,-2006.1419C2829.7804,-1997.4576 2806.1919,-1983.1039 2794,-1962.432 2705.3479,-1812.1183 2734.44,-1588.0637 2748.3923,-1509.6446"/>
<polygon fill="#000000" stroke="#000000" points="2751.8788,-1510.0371 2750.2468,-1499.5687 2744.9944,-1508.77 2751.8788,-1510.0371"/>
</g>
<!-- raw_54 -->
<g id="node55" class="node">
<title>raw_54</title>
<ellipse fill="none" stroke="#000000" cx="2830" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="2830" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_32&#45;&gt;raw_54 -->
<g id="edge54" class="edge">
<title>prose_32&#45;&gt;raw_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2871.5915,-1998.4906C2869.7054,-1988.0101 2867.4554,-1974.5101 2866,-1962.432 2845.3707,-1791.2286 2834.639,-1584.2338 2831.2274,-1509.7379"/>
<polygon fill="#000000" stroke="#000000" points="2834.723,-1509.5606 2830.7768,-1499.7281 2827.7301,-1509.8754 2834.723,-1509.5606"/>
</g>
<!-- prespace_55 -->
<g id="node56" class="node">
<title>prespace_55</title>
<ellipse fill="none" stroke="#000000" cx="2921" cy="-1481.3168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2921" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_32&#45;&gt;prespace_55 -->
<g id="edge55" class="edge">
<title>prose_32&#45;&gt;prespace_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2876.5569,-1998.3211C2883.3344,-1919.4783 2910.2973,-1605.8205 2918.5723,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="2922.0741,-1509.6862 2919.4435,-1499.4232 2915.0998,-1509.0866 2922.0741,-1509.6862"/>
</g>
<!-- literal_56 -->
<g id="node57" class="node">
<title>literal_56</title>
<ellipse fill="none" stroke="#000000" cx="3017" cy="-1481.3168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3017" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_32&#45;&gt;literal_56 -->
<g id="edge56" class="edge">
<title>prose_32&#45;&gt;literal_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2904.6432,-2008.9841C2928.1629,-2001.408 2959.7042,-1987.1742 2976,-1962.432 3072.2238,-1816.3332 3038.8142,-1588.721 3023.1772,-1509.5746"/>
<polygon fill="#000000" stroke="#000000" points="3026.533,-1508.5142 3021.104,-1499.416 3019.6743,-1509.9139 3026.533,-1508.5142"/>
</g>
<!-- raw_57 -->
<g id="node58" class="node">
<title>raw_57</title>
<ellipse fill="none" stroke="#000000" cx="3123" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="3123" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_32&#45;&gt;raw_57 -->
<g id="edge57" class="edge">
<title>prose_32&#45;&gt;raw_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2906.1657,-2011.3454C2952.7953,-2003.0764 3037.3574,-1985.3148 3057,-1962.432 3172.3568,-1828.0456 3142.8359,-1590.2494 3128.529,-1509.2445"/>
<polygon fill="#000000" stroke="#000000" points="3131.953,-1508.5111 3126.7085,-1499.3054 3125.0676,-1509.7723 3131.953,-1508.5111"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="3580.5,-1608.8173 3179.5,-1608.8173 3179.5,-1353.8163 3580.5,-1353.8163 3580.5,-1608.8173"/>
<text text-anchor="middle" x="3380" y="-1593.617" font-family="Inconsolata" font-size="14.00" fill="#000000">core = require &quot;core&quot;</text>
<text text-anchor="middle" x="3380" y="-1578.217" font-family="Inconsolata" font-size="14.00" fill="#000000">string.cleave, string.litpat = core.cleave, core.litpat</text>
<text text-anchor="middle" x="3380" y="-1562.817" font-family="Inconsolata" font-size="14.00" fill="#000000">string.utf8 = core.utf8</text>
<text text-anchor="middle" x="3380" y="-1547.417" font-family="Inconsolata" font-size="14.00" fill="#000000">string.codepoints = core.codepoints</text>
<text text-anchor="middle" x="3380" y="-1532.0169" font-family="Inconsolata" font-size="14.00" fill="#000000">table.splice = core.splice</text>
<text text-anchor="middle" x="3380" y="-1516.6169" font-family="Inconsolata" font-size="14.00" fill="#000000">table.clone = core.clone</text>
<text text-anchor="middle" x="3380" y="-1501.2169" font-family="Inconsolata" font-size="14.00" fill="#000000">table.arrayof = core.arrayof</text>
<text text-anchor="middle" x="3380" y="-1485.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">table.select = core.select</text>
<text text-anchor="middle" x="3380" y="-1470.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">table.reverse = core.reverse</text>
<text text-anchor="middle" x="3380" y="-1455.0168" font-family="Inconsolata" font-size="14.00" fill="#000000">utf8 = core.utf8</text>
<text text-anchor="middle" x="3380" y="-1439.6167" font-family="Inconsolata" font-size="14.00" fill="#000000">codepoints = core.codepoints</text>
<text text-anchor="middle" x="3380" y="-1424.2167" font-family="Inconsolata" font-size="14.00" fill="#000000">_G.meta = core.meta</text>
<text text-anchor="middle" x="3380" y="-1408.8167" font-family="Inconsolata" font-size="14.00" fill="#000000">getmeta, setmeta = getmetatable, setmetatable</text>
<text text-anchor="middle" x="3380" y="-1393.4166" font-family="Inconsolata" font-size="14.00" fill="#000000">coro = coroutine</text>
<text text-anchor="middle" x="3380" y="-1362.0166" font-family="Inconsolata" font-size="14.00" fill="#000000">local concat = table.concat</text>
</g>
<!-- codeblock_33&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>codeblock_33&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3479.514,-1998.3211C3468.2263,-1939.6784 3431.9341,-1751.1296 3406.454,-1618.7532"/>
<polygon fill="#000000" stroke="#000000" points="3409.8891,-1618.0817 3404.562,-1608.9235 3403.0153,-1619.4048 3409.8891,-1618.0817"/>
</g>
<!-- raw_66 -->
<g id="node67" class="node">
<title>raw_66</title>
<ellipse fill="none" stroke="#000000" cx="3626" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="3626" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_34&#45;&gt;raw_66 -->
<g id="edge66" class="edge">
<title>prose_34&#45;&gt;raw_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3667.5915,-1998.4906C3665.7054,-1988.0101 3663.4554,-1974.5101 3662,-1962.432 3641.3707,-1791.2286 3630.639,-1584.2338 3627.2274,-1509.7379"/>
<polygon fill="#000000" stroke="#000000" points="3630.723,-1509.5606 3626.7768,-1499.7281 3623.7301,-1509.8754 3630.723,-1509.5606"/>
</g>
<!-- raw_68 -->
<g id="node69" class="node">
<title>raw_68</title>
<ellipse fill="none" stroke="#000000" cx="3698" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="3698" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_35&#45;&gt;raw_68 -->
<g id="edge68" class="edge">
<title>prose_35&#45;&gt;raw_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3810.5746,-2009.8158C3785.5465,-2002.6499 3751.4562,-1988.5567 3734,-1962.432 3636.8885,-1817.0955 3674.1802,-1589.0028 3691.2826,-1509.6527"/>
<polygon fill="#000000" stroke="#000000" points="3694.7933,-1509.9885 3693.5457,-1499.4674 3687.9599,-1508.4701 3694.7933,-1509.9885"/>
</g>
<!-- prespace_69 -->
<g id="node70" class="node">
<title>prespace_69</title>
<ellipse fill="none" stroke="#000000" cx="3789" cy="-1481.3168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="3789" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_35&#45;&gt;prespace_69 -->
<g id="edge69" class="edge">
<title>prose_35&#45;&gt;prespace_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3839.2401,-1998.3211C3831.5785,-1919.4783 3801.0987,-1605.8205 3791.7444,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="3795.2104,-1509.0377 3790.7595,-1499.4232 3788.2432,-1509.7148 3795.2104,-1509.0377"/>
</g>
<!-- literal_70 -->
<g id="node71" class="node">
<title>literal_70</title>
<ellipse fill="none" stroke="#000000" cx="3885" cy="-1481.3168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3885" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_35&#45;&gt;literal_70 -->
<g id="edge70" class="edge">
<title>prose_35&#45;&gt;literal_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3842.4892,-1998.3211C3848.972,-1919.4783 3874.7627,-1605.8205 3882.6778,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="3886.1799,-1509.6764 3883.5112,-1499.4232 3879.2034,-1509.1027 3886.1799,-1509.6764"/>
</g>
<!-- raw_71 -->
<g id="node72" class="node">
<title>raw_71</title>
<ellipse fill="none" stroke="#000000" cx="3961" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="3961" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_35&#45;&gt;raw_71 -->
<g id="edge71" class="edge">
<title>prose_35&#45;&gt;raw_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3868.237,-2006.6073C3887.5922,-1998.0864 3912.316,-1983.7332 3925,-1962.432 4014.4292,-1812.2463 3981.98,-1587.2103 3966.9301,-1509.1558"/>
<polygon fill="#000000" stroke="#000000" points="3970.3215,-1508.2648 3964.9365,-1499.1405 3963.4562,-1509.6314 3970.3215,-1508.2648"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="4197.5,-1523.817 4006.5,-1523.817 4006.5,-1438.8167 4197.5,-1438.8167 4197.5,-1523.817"/>
<text text-anchor="middle" x="4102" y="-1508.6169" font-family="Inconsolata" font-size="14.00" fill="#000000">a = require &quot;anterm&quot;</text>
<text text-anchor="middle" x="4102" y="-1493.2169" font-family="Inconsolata" font-size="14.00" fill="#000000">color = require &quot;color&quot;</text>
<text text-anchor="middle" x="4102" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">ts = color.ts</text>
<text text-anchor="middle" x="4102" y="-1462.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">c = color.color</text>
<text text-anchor="middle" x="4102" y="-1447.0168" font-family="Inconsolata" font-size="14.00" fill="#000000">watch = require &quot;watcher&quot;</text>
</g>
<!-- codeblock_36&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>codeblock_36&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4059.4892,-1998.3211C4065.4928,-1925.3071 4088.0548,-1650.914 4097.6443,-1534.2898"/>
<polygon fill="#000000" stroke="#000000" points="4101.1449,-1534.4245 4098.4763,-1524.1713 4094.1685,-1533.8508 4101.1449,-1534.4245"/>
</g>
<!-- raw_77 -->
<g id="node78" class="node">
<title>raw_77</title>
<ellipse fill="none" stroke="#000000" cx="4243" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="4243" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_37&#45;&gt;raw_77 -->
<g id="edge77" class="edge">
<title>prose_37&#45;&gt;raw_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4313.5765,-2002.4104C4301.2658,-1992.729 4286.5504,-1978.6961 4279,-1962.432 4205.8849,-1804.9366 4227.5777,-1587.0244 4238.4758,-1509.8221"/>
<polygon fill="#000000" stroke="#000000" points="4242.0048,-1509.8786 4239.9928,-1499.4765 4235.0789,-1508.8629 4242.0048,-1509.8786"/>
</g>
<!-- prespace_78 -->
<g id="node79" class="node">
<title>prespace_78</title>
<ellipse fill="none" stroke="#000000" cx="4334" cy="-1481.3168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4334" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_37&#45;&gt;prespace_78 -->
<g id="edge78" class="edge">
<title>prose_37&#45;&gt;prespace_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4334,-1998.3211C4334,-1919.4783 4334,-1605.8205 4334,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="4337.5001,-1509.4231 4334,-1499.4232 4330.5001,-1509.4232 4337.5001,-1509.4231"/>
</g>
<!-- literal_79 -->
<g id="node80" class="node">
<title>literal_79</title>
<ellipse fill="none" stroke="#000000" cx="4430" cy="-1481.3168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4430" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_37&#45;&gt;literal_79 -->
<g id="edge79" class="edge">
<title>prose_37&#45;&gt;literal_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4354.3663,-2002.3837C4366.6543,-1992.6917 4381.3657,-1978.6569 4389,-1962.432 4462.9884,-1805.1863 4444.0333,-1587.1194 4434.1451,-1509.8492"/>
<polygon fill="#000000" stroke="#000000" points="4437.5555,-1508.9438 4432.7641,-1499.4943 4430.6169,-1509.8693 4437.5555,-1508.9438"/>
</g>
<!-- raw_80 -->
<g id="node81" class="node">
<title>raw_80</title>
<ellipse fill="none" stroke="#000000" cx="4506" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="4506" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_37&#45;&gt;raw_80 -->
<g id="edge80" class="edge">
<title>prose_37&#45;&gt;raw_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4365.9822,-2013.3045C4397.9372,-2008.3311 4445.7043,-1995.4925 4470,-1962.432 4573.9586,-1820.9696 4531.8236,-1588.6556 4513.1296,-1509.0726"/>
<polygon fill="#000000" stroke="#000000" points="4516.5189,-1508.1976 4510.7687,-1499.299 4509.7146,-1509.8412 4516.5189,-1508.1976"/>
</g>
<!-- raw_85 -->
<g id="node86" class="node">
<title>raw_85</title>
<ellipse fill="none" stroke="#000000" cx="4578" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="4578" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_38&#45;&gt;raw_85 -->
<g id="edge85" class="edge">
<title>prose_38&#45;&gt;raw_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4514.6458,-2000.7515C4524.5349,-1990.8323 4536.0461,-1977.1369 4542,-1962.432 4607.0158,-1801.8546 4590.4747,-1586.7029 4581.7217,-1509.9756"/>
<polygon fill="#000000" stroke="#000000" points="4585.1541,-1509.1991 4580.4974,-1499.6825 4578.2031,-1510.0259 4585.1541,-1509.1991"/>
</g>
<!-- leaf_87 -->
<g id="node88" class="node">
<title>leaf_87</title>
<polygon fill="none" stroke="#c0c0c0" points="4982.5,-1640.1174 4623.5,-1640.1174 4623.5,-1322.5162 4982.5,-1322.5162 4982.5,-1640.1174"/>
<text text-anchor="middle" x="4803" y="-1625.0171" font-family="Inconsolata" font-size="14.00" fill="#000000">local usecolors</text>
<text text-anchor="middle" x="4803" y="-1609.617" font-family="Inconsolata" font-size="14.00" fill="#000000">stdout = &quot;&quot;</text>
<text text-anchor="middle" x="4803" y="-1578.217" font-family="Inconsolata" font-size="14.00" fill="#000000">if uv.guess_handle(1) == &quot;tty&quot; then</text>
<text text-anchor="middle" x="4803" y="-1562.817" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;stdout = uv.new_tty(1, false)</text>
<text text-anchor="middle" x="4803" y="-1547.417" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;usecolors = true</text>
<text text-anchor="middle" x="4803" y="-1532.0169" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="4803" y="-1516.6169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;stdout = uv.new_pipe(false)</text>
<text text-anchor="middle" x="4803" y="-1501.2169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.pipe_open(utils.stdout, 1)</text>
<text text-anchor="middle" x="4803" y="-1485.8168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;usecolors = false</text>
<text text-anchor="middle" x="4803" y="-1470.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4803" y="-1439.0168" font-family="Inconsolata" font-size="14.00" fill="#000000">if not usecolors then</text>
<text text-anchor="middle" x="4803" y="-1423.6167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;ts = tostring</text>
<text text-anchor="middle" x="4803" y="-1408.2167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; #todo make this properly black and white ts</text>
<text text-anchor="middle" x="4803" y="-1392.8167" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4803" y="-1361.4166" font-family="Inconsolata" font-size="14.00" fill="#000000">function write(str)</text>
<text text-anchor="middle" x="4803" y="-1346.0166" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.write(stdout, str)</text>
<text text-anchor="middle" x="4803" y="-1330.6166" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_39&#45;&gt;leaf_87 -->
<g id="edge87" class="edge">
<title>codeblock_39&#45;&gt;leaf_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4717.0122,-1998.3211C4726.016,-1944.1854 4753.4323,-1779.3441 4774.9139,-1650.1855"/>
<polygon fill="#000000" stroke="#000000" points="4778.3921,-1650.605 4776.5803,-1640.1662 4771.487,-1649.4564 4778.3921,-1650.605"/>
</g>
<!-- leaf_88 -->
<g id="node89" class="node">
<title>leaf_88</title>
<polygon fill="none" stroke="#c0c0c0" points="5373.5,-1547.0172 5000.5,-1547.0172 5000.5,-1415.6164 5373.5,-1415.6164 5373.5,-1547.0172"/>
<text text-anchor="middle" x="5187" y="-1531.7169" font-family="Inconsolata" font-size="14.00" fill="#000000">function print(...)</text>
<text text-anchor="middle" x="5187" y="-1516.3169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local n = select(&#39;#&#39;, ...)</text>
<text text-anchor="middle" x="5187" y="-1500.9169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local arguments = {...}</text>
<text text-anchor="middle" x="5187" y="-1485.5168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 1, n do</text>
<text text-anchor="middle" x="5187" y="-1470.1168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;arguments[i] = tostring(arguments[i])</text>
<text text-anchor="middle" x="5187" y="-1454.7168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="5187" y="-1439.3167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.write(stdout, concat(arguments, &quot;\t&quot;) .. &quot;\n&quot;)</text>
<text text-anchor="middle" x="5187" y="-1423.9167" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_40&#45;&gt;leaf_88 -->
<g id="edge88" class="edge">
<title>codeblock_40&#45;&gt;leaf_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5046.9075,-1998.3211C5065.4995,-1929.7083 5132.2788,-1683.2626 5166.4865,-1557.021"/>
<polygon fill="#000000" stroke="#000000" points="5169.9551,-1557.6024 5169.1924,-1547.035 5163.1987,-1555.7716 5169.9551,-1557.6024"/>
</g>
<!-- header_89 -->
<g id="node90" class="node">
<title>header_89</title>
<ellipse fill="none" stroke="#000000" cx="5447" cy="-1481.3168" rx="55.6456" ry="18"/>
<text text-anchor="middle" x="5447" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : tty setup</text>
</g>
<!-- section_41&#45;&gt;header_89 -->
<g id="edge89" class="edge">
<title>section_41&#45;&gt;header_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5498.2062,-1998.3211C5490.3973,-1919.4783 5459.3314,-1605.8205 5449.7972,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="5453.262,-1509.0295 5448.7933,-1499.4232 5446.2961,-1509.7195 5453.262,-1509.0295"/>
</g>
<!-- prose_90 -->
<g id="node91" class="node">
<title>prose_90</title>
<ellipse fill="none" stroke="#000000" cx="5553" cy="-1481.3168" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5553" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_41&#45;&gt;prose_90 -->
<g id="edge90" class="edge">
<title>section_41&#45;&gt;prose_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5504.7246,-1998.0528C5507.2341,-1987.6617 5510.1697,-1974.3934 5512,-1962.432 5538.1116,-1791.7888 5548.7444,-1584.3624 5551.9049,-1509.749"/>
<polygon fill="#000000" stroke="#000000" points="5555.4194,-1509.4667 5552.3336,-1499.3312 5548.4253,-1509.1788 5555.4194,-1509.4667"/>
</g>
<!-- codeblock_91 -->
<g id="node92" class="node">
<title>codeblock_91</title>
<ellipse fill="none" stroke="#000000" cx="5690" cy="-1481.3168" rx="86.7905" ry="18"/>
<text text-anchor="middle" x="5690" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 115&#45;123</text>
</g>
<!-- section_41&#45;&gt;codeblock_91 -->
<g id="edge91" class="edge">
<title>section_41&#45;&gt;codeblock_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5542.1585,-2001.5524C5560.7641,-1992.9098 5581.2589,-1980.1604 5594,-1962.432 5697.7315,-1818.0966 5696.1374,-1589.3729 5692.0046,-1509.7553"/>
<polygon fill="#000000" stroke="#000000" points="5695.4852,-1509.3167 5691.4153,-1499.5348 5688.4968,-1509.7198 5695.4852,-1509.3167"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="1788,-571.1024 1734,-571.1024 1734,-515.2994 1788,-515.2994 1788,-571.1024"/>
<text text-anchor="middle" x="1761" y="-523.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">The</text>
</g>
<!-- raw_43&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>raw_43&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1908.3699,-1463.186C1923.6234,-1395.3602 1968.2711,-1152.6803 1867,-1000.2017 1847.6447,-971.0594 1816.4797,-993.2609 1797,-964.2017 1716.57,-844.2186 1738.571,-659.7341 1753.0129,-580.96"/>
<polygon fill="#000000" stroke="#000000" points="1756.4763,-581.4816 1754.9025,-571.0043 1749.5991,-580.1763 1756.4763,-581.4816"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="1860,-561.2009 1806,-561.2009 1806,-525.2009 1860,-525.2009 1860,-561.2009"/>
<text text-anchor="middle" x="1833" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_44&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>prespace_44&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1998.5569,-1463.0785C2010.7943,-1394.8711 2044.8829,-1151.011 1940,-1000.2017 1919.7993,-971.1554 1888.7845,-993.533 1869,-964.2017 1784.7209,-839.254 1812.5312,-643.6984 1826.7991,-571.3452"/>
<polygon fill="#000000" stroke="#000000" points="1830.2987,-571.7011 1828.8724,-561.2027 1823.4405,-570.2991 1830.2987,-571.7011"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="1932,-561.2009 1878,-561.2009 1878,-525.2009 1932,-525.2009 1932,-561.2009"/>
<text text-anchor="middle" x="1905" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">core</text>
</g>
<!-- literal_45&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>literal_45&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2095.8083,-1463.1007C2112.8931,-1393.943 2163.7756,-1144.2826 2050,-1000.2017 2018.3821,-960.162 1972.6237,-1004.2367 1941,-964.2017 1847.171,-845.4157 1881.2153,-644.5886 1897.9495,-571.16"/>
<polygon fill="#000000" stroke="#000000" points="1901.3918,-571.8114 1900.2756,-561.2756 1894.5779,-570.2079 1901.3918,-571.8114"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="2435.5,-562.5014 1950.5,-562.5014 1950.5,-523.9003 2435.5,-523.9003 2435.5,-562.5014"/>
<text text-anchor="middle" x="2193" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> library is shaping up as a place to keep alterations to the global</text>
<text text-anchor="middle" x="2193" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">namespace and standard library.</text>
</g>
<!-- raw_46&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>raw_46&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2184.1757,-1462.9982C2185.2854,-1347.3297 2191.3188,-718.4419 2192.7126,-573.1606"/>
<polygon fill="#000000" stroke="#000000" points="2196.2157,-572.8414 2192.8119,-562.8083 2189.216,-572.7742 2196.2157,-572.8414"/>
</g>
<!-- leaf_58 -->
<g id="node59" class="node">
<title>leaf_58</title>
<polygon fill="none" stroke="#c0c0c0" points="2630.5,-563.103 2453.5,-563.103 2453.5,-523.2988 2630.5,-523.2988 2630.5,-563.103"/>
<text text-anchor="middle" x="2542" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">This prelude belongs in</text>
</g>
<!-- raw_51&#45;&gt;leaf_58 -->
<g id="edge58" class="edge">
<title>raw_51&#45;&gt;leaf_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2552.7852,-1462.9982C2551.4304,-1347.4543 2544.0707,-719.7966 2542.3568,-573.6319"/>
<polygon fill="#000000" stroke="#000000" points="2545.8517,-573.1644 2542.2346,-563.2062 2538.8522,-573.2466 2545.8517,-573.1644"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="2703,-561.2009 2649,-561.2009 2649,-525.2009 2703,-525.2009 2703,-561.2009"/>
<text text-anchor="middle" x="2676" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_52&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>prespace_52&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2658.3515,-1462.9982C2660.5804,-1346.8311 2672.7418,-713.0109 2675.4607,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="2678.961,-571.3193 2675.6536,-561.254 2671.9623,-571.1849 2678.961,-571.3193"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="2775,-561.2009 2721,-561.2009 2721,-525.2009 2775,-525.2009 2775,-561.2009"/>
<text text-anchor="middle" x="2748" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">pylon</text>
</g>
<!-- literal_53&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>literal_53&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2753.8828,-1462.9982C2753.1399,-1346.8311 2749.0861,-713.0109 2748.1798,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="2751.6794,-571.2313 2748.1155,-561.254 2744.6796,-571.2762 2751.6794,-571.2313"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="2872.5,-561.2009 2793.5,-561.2009 2793.5,-525.2009 2872.5,-525.2009 2872.5,-561.2009"/>
<text text-anchor="middle" x="2833" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">; it, and</text>
</g>
<!-- raw_54&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>raw_54&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2830.0586,-1462.9982C2830.4301,-1346.8311 2832.457,-713.0109 2832.9101,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="2836.4102,-571.2651 2832.9423,-561.254 2829.4102,-571.2427 2836.4102,-571.2651"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="2945,-561.2009 2891,-561.2009 2891,-525.2009 2945,-525.2009 2945,-561.2009"/>
<text text-anchor="middle" x="2918" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_55&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>prespace_55&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2920.9414,-1462.9982C2920.5699,-1346.8311 2918.543,-713.0109 2918.0899,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="2921.5898,-571.2427 2918.0577,-561.254 2914.5898,-571.2651 2921.5898,-571.2427"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="3017,-561.2009 2963,-561.2009 2963,-525.2009 3017,-525.2009 3017,-561.2009"/>
<text text-anchor="middle" x="2990" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">core</text>
</g>
<!-- literal_56&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>literal_56&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3016.4728,-1462.9982C3013.1294,-1346.8311 2994.8873,-713.0109 2990.809,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="2994.3059,-571.1491 2990.5196,-561.254 2987.3088,-571.3505 2994.3059,-571.1491"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="3268.5,-561.2009 3035.5,-561.2009 3035.5,-525.2009 3268.5,-525.2009 3268.5,-561.2009"/>
<text text-anchor="middle" x="3152" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">, will eventually end up there.</text>
</g>
<!-- raw_57&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>raw_57&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3123.5663,-1462.9982C3127.1574,-1346.8311 3146.7507,-713.0109 3151.1311,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="3154.6312,-571.3574 3151.4419,-561.254 3147.6345,-571.141 3154.6312,-571.3574"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="3561.5,-563.103 3286.5,-563.103 3286.5,-523.2988 3561.5,-523.2988 3561.5,-563.103"/>
<text text-anchor="middle" x="3424" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">Primitives for terminal manipulation.</text>
</g>
<!-- raw_66&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>raw_66&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3627.2239,-1462.9342C3630.9943,-1398.0733 3639.3296,-1174.4484 3589,-1000.2017 3583.9796,-982.8205 3577.2068,-980.7959 3570,-964.2017 3507.8585,-821.1162 3453.0271,-642.2328 3432.5455,-572.7247"/>
<polygon fill="#000000" stroke="#000000" points="3435.8385,-571.5159 3429.6665,-562.9045 3429.1213,-573.4853 3435.8385,-571.5159"/>
</g>
<!-- leaf_72 -->
<g id="node73" class="node">
<title>leaf_72</title>
<polygon fill="none" stroke="#c0c0c0" points="3784.5,-563.103 3579.5,-563.103 3579.5,-523.2988 3784.5,-523.2988 3784.5,-563.103"/>
<text text-anchor="middle" x="3682" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">Arguably don&#39;t belong here.</text>
</g>
<!-- raw_68&#45;&gt;leaf_72 -->
<g id="edge72" class="edge">
<title>raw_68&#45;&gt;leaf_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3697.6876,-1462.9982C3695.7169,-1347.4543 3685.0119,-719.7966 3682.519,-573.6319"/>
<polygon fill="#000000" stroke="#000000" points="3686.0113,-573.145 3682.3412,-563.2062 3679.0123,-573.2645 3686.0113,-573.145"/>
</g>
<!-- leaf_73 -->
<g id="node74" class="node">
<title>leaf_73</title>
<polygon fill="none" stroke="#c0c0c0" points="3857,-561.2009 3803,-561.2009 3803,-525.2009 3857,-525.2009 3857,-561.2009"/>
<text text-anchor="middle" x="3830" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_69&#45;&gt;leaf_73 -->
<g id="edge73" class="edge">
<title>prespace_69&#45;&gt;leaf_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3789.8006,-1462.9982C3794.8776,-1346.8311 3822.5785,-713.0109 3828.7715,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="3832.2709,-571.3973 3829.211,-561.254 3825.2776,-571.0916 3832.2709,-571.3973"/>
</g>
<!-- leaf_74 -->
<g id="node75" class="node">
<title>leaf_74</title>
<polygon fill="none" stroke="#c0c0c0" points="3929,-561.2009 3875,-561.2009 3875,-525.2009 3929,-525.2009 3929,-561.2009"/>
<text text-anchor="middle" x="3902" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">watch</text>
</g>
<!-- literal_70&#45;&gt;leaf_74 -->
<g id="edge74" class="edge">
<title>literal_70&#45;&gt;leaf_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3885.332,-1462.9982C3887.4371,-1346.8311 3898.9228,-713.0109 3901.4906,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="3904.991,-571.3158 3901.6729,-561.254 3897.9921,-571.1889 3904.991,-571.3158"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="4243,-562.5014 3947,-562.5014 3947,-523.9003 4243,-523.9003 4243,-562.5014"/>
<text text-anchor="middle" x="4095" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> is unused at present, it will be useful</text>
<text text-anchor="middle" x="4095" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">in Orb relatively soon.</text>
</g>
<!-- raw_71&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>raw_71&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3961.4614,-1463.3087C3963.2791,-1399.6917 3971.1628,-1179.693 3997,-1000.2017 4020.5263,-836.7642 4068.5724,-644.3998 4087.292,-572.3643"/>
<polygon fill="#000000" stroke="#000000" points="4090.6945,-573.1869 4089.8347,-562.627 4083.9216,-571.4183 4090.6945,-573.1869"/>
</g>
<!-- leaf_81 -->
<g id="node82" class="node">
<title>leaf_81</title>
<polygon fill="none" stroke="#c0c0c0" points="4417,-563.103 4261,-563.103 4261,-523.2988 4417,-523.2988 4417,-563.103"/>
<text text-anchor="middle" x="4339" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">This is all from the</text>
</g>
<!-- raw_77&#45;&gt;leaf_81 -->
<g id="edge81" class="edge">
<title>raw_77&#45;&gt;leaf_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4244.0047,-1462.931C4247.5796,-1398.9552 4260.4671,-1180.1725 4279,-1000.2017 4295.6071,-838.9316 4323.5076,-646.6919 4334.4248,-573.5085"/>
<polygon fill="#000000" stroke="#000000" points="4337.9489,-573.6075 4335.968,-563.1995 4331.0261,-572.5711 4337.9489,-573.6075"/>
</g>
<!-- leaf_82 -->
<g id="node83" class="node">
<title>leaf_82</title>
<polygon fill="none" stroke="#c0c0c0" points="4489,-561.2009 4435,-561.2009 4435,-525.2009 4489,-525.2009 4489,-561.2009"/>
<text text-anchor="middle" x="4462" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_78&#45;&gt;leaf_82 -->
<g id="edge82" class="edge">
<title>prespace_78&#45;&gt;leaf_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4332.0137,-1463.1162C4325.6173,-1397.0082 4310.341,-1164.8406 4390,-1000.2017 4399.8551,-979.8331 4416.4574,-984.7184 4426,-964.2017 4488.9896,-828.7731 4474.5552,-642.4568 4466.0086,-571.8668"/>
<polygon fill="#000000" stroke="#000000" points="4469.4314,-571.0365 4464.7002,-561.5567 4462.4871,-571.9178 4469.4314,-571.0365"/>
</g>
<!-- leaf_83 -->
<g id="node84" class="node">
<title>leaf_83</title>
<polygon fill="none" stroke="#c0c0c0" points="4561,-561.2009 4507,-561.2009 4507,-525.2009 4561,-525.2009 4561,-561.2009"/>
<text text-anchor="middle" x="4534" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">luv</text>
</g>
<!-- literal_79&#45;&gt;leaf_83 -->
<g id="edge83" class="edge">
<title>literal_79&#45;&gt;leaf_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4427.8993,-1463.0182C4421.1167,-1397.519 4403.8914,-1169.6406 4470,-1000.2017 4477.3676,-981.3182 4490.6102,-983.0764 4498,-964.2017 4552.4527,-825.1208 4543.0609,-640.9618 4536.9359,-571.4078"/>
<polygon fill="#000000" stroke="#000000" points="4540.4025,-570.8861 4535.9912,-561.2533 4533.4326,-571.5346 4540.4025,-570.8861"/>
</g>
<!-- leaf_84 -->
<g id="node85" class="node">
<title>leaf_84</title>
<polygon fill="none" stroke="#c0c0c0" points="4959,-562.5014 4579,-562.5014 4579,-523.9003 4959,-523.9003 4959,-562.5014"/>
<text text-anchor="middle" x="4769" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> repl example, which has been an excellent launching</text>
<text text-anchor="middle" x="4769" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">off point. &#160;Thanks Tim Caswell!</text>
</g>
<!-- raw_80&#45;&gt;leaf_84 -->
<g id="edge84" class="edge">
<title>raw_80&#45;&gt;leaf_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4503.7008,-1463.0294C4496.2172,-1397.568 4476.6347,-1169.8016 4542,-1000.2017 4549.2895,-981.288 4559.3828,-981.4684 4570,-964.2017 4655.7669,-824.7194 4730.3852,-642.4208 4757.8102,-572.3642"/>
<polygon fill="#000000" stroke="#000000" points="4761.1435,-573.4494 4761.5098,-562.8609 4754.6204,-570.9099 4761.1435,-573.4494"/>
</g>
<!-- leaf_86 -->
<g id="node87" class="node">
<title>leaf_86</title>
<polygon fill="none" stroke="#c0c0c0" points="5238.5,-563.103 4977.5,-563.103 4977.5,-523.2988 5238.5,-523.2988 5238.5,-563.103"/>
<text text-anchor="middle" x="5108" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">It&#39;s getting phased out bit by bit.</text>
</g>
<!-- raw_85&#45;&gt;leaf_86 -->
<g id="edge86" class="edge">
<title>raw_85&#45;&gt;leaf_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4576.436,-1463.2657C4569.9807,-1383.9406 4548.7013,-1067.2648 4614,-1000.2017 4669.1624,-943.5487 4906.295,-1013.6479 4968,-964.2017 5092.0008,-864.8358 5107.0648,-652.2238 5108.2399,-573.411"/>
<polygon fill="#000000" stroke="#000000" points="5111.7414,-573.2322 5108.3235,-563.2038 5104.7417,-573.1748 5111.7414,-573.2322"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="5500.5,-561.2009 5393.5,-561.2009 5393.5,-525.2009 5500.5,-525.2009 5500.5,-561.2009"/>
<text text-anchor="middle" x="5447" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">*** tty setup</text>
</g>
<!-- header_89&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>header_89&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5447,-1462.9982C5447,-1346.8311 5447,-713.0109 5447,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="5450.5001,-571.2539 5447,-561.254 5443.5001,-571.254 5450.5001,-571.2539"/>
</g>
<!-- raw_93 -->
<g id="node94" class="node">
<title>raw_93</title>
<ellipse fill="none" stroke="#000000" cx="5549" cy="-543.2009" rx="27" ry="18"/>
<text text-anchor="middle" x="5549" y="-539.0009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_90&#45;&gt;raw_93 -->
<g id="edge93" class="edge">
<title>prose_90&#45;&gt;raw_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5552.9219,-1462.9982C5552.4266,-1346.8311 5549.724,-713.0109 5549.1198,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="5552.6197,-571.2389 5549.077,-561.254 5545.6197,-571.2688 5552.6197,-571.2389"/>
</g>
<!-- leaf_95 -->
<g id="node96" class="node">
<title>leaf_95</title>
<polygon fill="none" stroke="#c0c0c0" points="5869.5,-601.6018 5594.5,-601.6018 5594.5,-484.8 5869.5,-484.8 5869.5,-601.6018"/>
<text text-anchor="middle" x="5732" y="-586.201" font-family="Inconsolata" font-size="14.00" fill="#000000">if uv.guess_handle(0) ~= &quot;tty&quot; or</text>
<text text-anchor="middle" x="5732" y="-570.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.guess_handle(1) ~= &quot;tty&quot; then</text>
<text text-anchor="middle" x="5732" y="-555.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; Entry point for other consumers!</text>
<text text-anchor="middle" x="5732" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;error &quot;stdio must be a tty&quot;</text>
<text text-anchor="middle" x="5732" y="-524.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5732" y="-493.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">local stdin = uv.new_tty(0, true)</text>
</g>
<!-- codeblock_91&#45;&gt;leaf_95 -->
<g id="edge95" class="edge">
<title>codeblock_91&#45;&gt;leaf_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5690.8201,-1462.9982C5695.6268,-1355.6371 5720.2285,-806.1298 5728.9387,-611.578"/>
<polygon fill="#000000" stroke="#000000" points="5732.4399,-611.6269 5729.3908,-601.4804 5725.4469,-611.3138 5732.4399,-611.6269"/>
</g>
<!-- leaf_94 -->
<g id="node95" class="node">
<title>leaf_94</title>
<polygon fill="none" stroke="#c0c0c0" points="5576,-61.1 5522,-61.1 5522,-25.1 5576,-25.1 5576,-61.1"/>
</g>
<!-- raw_93&#45;&gt;leaf_94 -->
<g id="edge94" class="edge">
<title>raw_93&#45;&gt;leaf_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5549,-525.1066C5549,-450.057 5549,-162.9178 5549,-71.3411"/>
<polygon fill="#000000" stroke="#000000" points="5552.5001,-71.17 5549,-61.17 5545.5001,-71.1701 5552.5001,-71.17"/>
</g>
<!-- leaf_101 -->
<g id="node102" class="node">
<title>leaf_101</title>
<polygon fill="none" stroke="#c0c0c0" points="5915.5,-1499.3168 5794.5,-1499.3168 5794.5,-1463.3168 5915.5,-1463.3168 5915.5,-1499.3168"/>
<text text-anchor="middle" x="5855" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">** Modeselektor</text>
</g>
<!-- header_96&#45;&gt;leaf_101 -->
<g id="edge101" class="edge">
<title>header_96&#45;&gt;leaf_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5865.6277,-1998.3211C5864.007,-1919.4783 5857.5593,-1605.8205 5855.5805,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="5859.0771,-1509.3491 5855.3722,-1499.4232 5852.0786,-1509.493 5859.0771,-1509.3491"/>
</g>
<!-- raw_102 -->
<g id="node103" class="node">
<title>raw_102</title>
<ellipse fill="none" stroke="#000000" cx="5961" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="5961" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_97&#45;&gt;raw_102 -->
<g id="edge102" class="edge">
<title>prose_97&#45;&gt;raw_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6001.4223,-1998.4603C5999.9797,-1987.9697 5998.2297,-1974.4697 5997,-1962.432 5979.4759,-1790.8829 5966.855,-1584.0984 5962.5845,-1509.6981"/>
<polygon fill="#000000" stroke="#000000" points="5966.0782,-1509.4864 5962.0154,-1499.7016 5959.0895,-1509.8843 5966.0782,-1509.4864"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="6414,-1523.817 6006,-1523.817 6006,-1438.8167 6414,-1438.8167 6414,-1523.817"/>
<text text-anchor="middle" x="6210" y="-1508.6169" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; This switches screens and does a wipe,</text>
<text text-anchor="middle" x="6210" y="-1493.2169" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; then puts the cursor at 1,1.</text>
<text text-anchor="middle" x="6210" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">write &quot;\x1b[?47h\x1b[2J\x1b[H&quot;</text>
<text text-anchor="middle" x="6210" y="-1462.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">modeS = require &quot;modeselektor&quot; ()</text>
<text text-anchor="middle" x="6210" y="-1447.0168" font-family="Inconsolata" font-size="14.00" fill="#000000">modeS.max_row, modeS.max_col = uv.tty_get_winsize(stdin)</text>
</g>
<!-- codeblock_98&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>codeblock_98&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6166.523,-1998.3211C6172.6631,-1925.3071 6195.7379,-1650.914 6205.5453,-1534.2898"/>
<polygon fill="#000000" stroke="#000000" points="6209.0458,-1534.4295 6206.3962,-1524.1713 6202.0704,-1533.8428 6209.0458,-1534.4295"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="7022,-1962.5472 6432,-1962.5472 6432,-1000.0865 7022,-1000.0865 7022,-1962.5472"/>
<text text-anchor="middle" x="6727" y="-1931.232" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; &#160;*** utilities</text>
<text text-anchor="middle" x="6727" y="-1899.8319" font-family="Inconsolata" font-size="14.00" fill="#000000">local function gatherResults(success, ...)</text>
<text text-anchor="middle" x="6727" y="-1884.4319" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local n = select(&#39;#&#39;, ...)</text>
<text text-anchor="middle" x="6727" y="-1869.0319" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return success, { n = n, ... }</text>
<text text-anchor="middle" x="6727" y="-1853.6318" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6727" y="-1822.2318" font-family="Inconsolata" font-size="14.00" fill="#000000">local function printResults(results)</text>
<text text-anchor="middle" x="6727" y="-1806.8318" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 1, results.n do</text>
<text text-anchor="middle" x="6727" y="-1791.4317" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;results[i] = ts(results[i])</text>
<text text-anchor="middle" x="6727" y="-1776.0317" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="6727" y="-1760.6317" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;print(concat(results, &#39;\t&#39;))</text>
<text text-anchor="middle" x="6727" y="-1745.2317" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6727" y="-1713.8316" font-family="Inconsolata" font-size="14.00" fill="#000000">local buffer = &#39;&#39;</text>
<text text-anchor="middle" x="6727" y="-1682.4316" font-family="Inconsolata" font-size="14.00" fill="#000000">local function evaluateLine(line)</text>
<text text-anchor="middle" x="6727" y="-1667.0316" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if string.byte(line) == 17 then &#45;&#45; ^Q</text>
<text text-anchor="middle" x="6727" y="-1651.6315" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; move this to modeselektor asap</text>
<text text-anchor="middle" x="6727" y="-1636.2315" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;modeS.hist.conn:close()</text>
<text text-anchor="middle" x="6727" y="-1620.8315" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uv.stop()</text>
<text text-anchor="middle" x="6727" y="-1605.4314" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="6727" y="-1590.0314" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6727" y="-1574.6314" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local chunk &#160;= buffer .. line</text>
<text text-anchor="middle" x="6727" y="-1559.2313" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local f, err = loadstring(&#39;return &#39; .. chunk, &#39;REPL&#39;) &#45;&#45; first we prefix return</text>
<text text-anchor="middle" x="6727" y="-1527.8313" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not f then</text>
<text text-anchor="middle" x="6727" y="-1512.4313" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;f, err = loadstring(chunk, &#39;REPL&#39;) &#45;&#45; try again without return</text>
<text text-anchor="middle" x="6727" y="-1497.0312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6727" y="-1465.6312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if f then</text>
<text text-anchor="middle" x="6727" y="-1450.2312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;buffer = &#39;&#39;</text>
<text text-anchor="middle" x="6727" y="-1434.8312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local success, results = gatherResults(xpcall(f, debug.traceback))</text>
<text text-anchor="middle" x="6727" y="-1403.4311" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if success then</text>
<text text-anchor="middle" x="6727" y="-1388.0311" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; successful call</text>
<text text-anchor="middle" x="6727" y="-1372.6311" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if results.n &gt; 0 then</text>
<text text-anchor="middle" x="6727" y="-1357.231" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;printResults(results)</text>
<text text-anchor="middle" x="6727" y="-1341.831" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6727" y="-1326.431" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="6727" y="-1311.0309" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; error</text>
<text text-anchor="middle" x="6727" y="-1295.6309" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;print(results[1])</text>
<text text-anchor="middle" x="6727" y="-1280.2309" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6727" y="-1264.8308" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="6727" y="-1249.4308" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if err:match &quot;&#39;&lt;eof&gt;&#39;$&quot; then</text>
<text text-anchor="middle" x="6727" y="-1234.0308" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Lua expects some more input; stow it away for next time</text>
<text text-anchor="middle" x="6727" y="-1218.6307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;buffer = chunk .. &#39;\n&#39;</text>
<text text-anchor="middle" x="6727" y="-1203.2307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return &#39;...&#39;</text>
<text text-anchor="middle" x="6727" y="-1187.8307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="6727" y="-1172.4307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;print(err)</text>
<text text-anchor="middle" x="6727" y="-1157.0306" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;buffer = &#39;&#39;</text>
<text text-anchor="middle" x="6727" y="-1141.6306" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6727" y="-1126.2306" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6727" y="-1094.8305" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return &#39; &#39;</text>
<text text-anchor="middle" x="6727" y="-1070.6018" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6727" y="-1039.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">local function displayPrompt(prompt)</text>
<text text-anchor="middle" x="6727" y="-1023.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.write(stdout, prompt)</text>
<text text-anchor="middle" x="6727" y="-1008.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_99&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>codeblock_99&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6548.2613,-1998.3211C6550.6777,-1991.3315 6553.7322,-1982.4964 6557.3158,-1972.1309"/>
<polygon fill="#000000" stroke="#000000" points="6560.6388,-1973.2306 6560.5984,-1962.6358 6554.023,-1970.9433 6560.6388,-1973.2306"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="7413.5,-1562.3171 7040.5,-1562.3171 7040.5,-1400.3165 7413.5,-1400.3165 7413.5,-1562.3171"/>
<text text-anchor="middle" x="7227" y="-1547.117" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Deprecated, but useful if I want, y&#39;know, a REPL</text>
<text text-anchor="middle" x="7227" y="-1531.7169" font-family="Inconsolata" font-size="14.00" fill="#000000">local function onread(err, line)</text>
<text text-anchor="middle" x="7227" y="-1516.3169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if err then error(err) end</text>
<text text-anchor="middle" x="7227" y="-1500.9169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if line then</text>
<text text-anchor="middle" x="7227" y="-1485.5168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local prompt = evaluateLine(line)</text>
<text text-anchor="middle" x="7227" y="-1470.1168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;displayPrompt(prompt)</text>
<text text-anchor="middle" x="7227" y="-1454.7168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="7227" y="-1439.3167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;uv.close(stdin)</text>
<text text-anchor="middle" x="7227" y="-1423.9167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="7227" y="-1408.5167" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_100&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>codeblock_100&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6999.7927,-1998.8915C7010.1104,-1988.9677 7022.3464,-1975.8781 7031,-1962.432 7111.7765,-1836.9201 7170.0243,-1672.6284 7201.1149,-1572.1447"/>
<polygon fill="#000000" stroke="#000000" points="7204.5413,-1572.9094 7204.1303,-1562.3225 7197.8496,-1570.855 7204.5413,-1572.9094"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="5988,-561.2009 5934,-561.2009 5934,-525.2009 5988,-525.2009 5988,-561.2009"/>
</g>
<!-- raw_102&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>raw_102&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5961,-1462.9982C5961,-1346.8311 5961,-713.0109 5961,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="5964.5001,-571.2539 5961,-561.254 5957.5001,-571.254 5964.5001,-571.2539"/>
</g>
<!-- leaf_110 -->
<g id="node111" class="node">
<title>leaf_110</title>
<polygon fill="none" stroke="#c0c0c0" points="7510.5,-1499.3168 7431.5,-1499.3168 7431.5,-1463.3168 7510.5,-1463.3168 7510.5,-1499.3168"/>
<text text-anchor="middle" x="7471" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">** Reader</text>
</g>
<!-- header_107&#45;&gt;leaf_110 -->
<g id="edge110" class="edge">
<title>header_107&#45;&gt;leaf_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7531.3906,-1998.2535C7527.3771,-1987.9251 7522.7317,-1974.6528 7520,-1962.432 7482.2067,-1793.3536 7473.5038,-1584.2532 7471.5497,-1509.5072"/>
<polygon fill="#000000" stroke="#000000" points="7475.0479,-1509.3874 7471.3077,-1499.4747 7468.0499,-1509.5562 7475.0479,-1509.3874"/>
</g>
<!-- raw_111 -->
<g id="node112" class="node">
<title>raw_111</title>
<ellipse fill="none" stroke="#000000" cx="7556" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="7556" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_108&#45;&gt;raw_111 -->
<g id="edge111" class="edge">
<title>prose_108&#45;&gt;raw_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7749.6586,-2011.8597C7701.2754,-2004.1141 7611.8827,-1986.8393 7592,-1962.432 7480.8705,-1826.0131 7527.8816,-1589.52 7548.3285,-1509.0482"/>
<polygon fill="#000000" stroke="#000000" points="7551.7663,-1509.7356 7550.9052,-1499.1758 7544.9932,-1507.9678 7551.7663,-1509.7356"/>
</g>
<!-- prespace_112 -->
<g id="node113" class="node">
<title>prespace_112</title>
<ellipse fill="none" stroke="#000000" cx="7647" cy="-1481.3168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="7647" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_108&#45;&gt;prespace_112 -->
<g id="edge112" class="edge">
<title>prose_108&#45;&gt;prespace_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7755.156,-2005.5856C7737.3993,-1996.7029 7714.951,-1982.3438 7703,-1962.432 7612.8989,-1812.3124 7632.3155,-1588.1362 7642.7056,-1509.6649"/>
<polygon fill="#000000" stroke="#000000" points="7646.197,-1509.9673 7644.0994,-1499.5822 7639.2629,-1509.0086 7646.197,-1509.9673"/>
</g>
<!-- literal_113 -->
<g id="node114" class="node">
<title>literal_113</title>
<ellipse fill="none" stroke="#000000" cx="7743" cy="-1481.3168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="7743" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_108&#45;&gt;literal_113 -->
<g id="edge113" class="edge">
<title>prose_108&#45;&gt;literal_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7779.7139,-1998.3211C7774.1151,-1919.4783 7751.8413,-1605.8205 7745.0055,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="7748.4854,-1509.1501 7744.2858,-1499.4232 7741.503,-1509.646 7748.4854,-1509.1501"/>
</g>
<!-- raw_114 -->
<g id="node115" class="node">
<title>raw_114</title>
<ellipse fill="none" stroke="#000000" cx="7819" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="7819" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_108&#45;&gt;raw_114 -->
<g id="edge114" class="edge">
<title>prose_108&#45;&gt;raw_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7782.2861,-1998.3211C7787.8849,-1919.4783 7810.1587,-1605.8205 7816.9945,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="7820.497,-1509.646 7817.7142,-1499.4232 7813.5146,-1509.1501 7820.497,-1509.646"/>
</g>
<!-- prespace_115 -->
<g id="node116" class="node">
<title>prespace_115</title>
<ellipse fill="none" stroke="#000000" cx="7969" cy="-1481.3168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="7969" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_108&#45;&gt;prespace_115 -->
<g id="edge115" class="edge">
<title>prose_108&#45;&gt;prespace_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7805.5751,-2004.4414C7821.9997,-1995.1817 7842.7645,-1980.844 7855,-1962.432 7953.9189,-1813.5782 7967.3423,-1588.6088 7968.9067,-1509.7973"/>
<polygon fill="#000000" stroke="#000000" points="7972.4081,-1509.7204 7969.0564,-1499.6698 7965.4089,-1509.6169 7972.4081,-1509.7204"/>
</g>
<!-- literal_116 -->
<g id="node117" class="node">
<title>literal_116</title>
<ellipse fill="none" stroke="#000000" cx="8095" cy="-1481.3168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="8095" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_108&#45;&gt;literal_116 -->
<g id="edge116" class="edge">
<title>prose_108&#45;&gt;literal_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7813.2065,-2013.7342C7872.5439,-2008.0737 7995.6672,-1992.8865 8024,-1962.432 8144.9334,-1832.4422 8115.0989,-1591.3833 8100.5862,-1509.4308"/>
<polygon fill="#000000" stroke="#000000" points="8104.0285,-1508.7975 8098.7801,-1499.594 8097.1436,-1510.0617 8104.0285,-1508.7975"/>
</g>
<!-- raw_117 -->
<g id="node118" class="node">
<title>raw_117</title>
<ellipse fill="none" stroke="#000000" cx="8186" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="8186" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_108&#45;&gt;raw_117 -->
<g id="edge117" class="edge">
<title>prose_108&#45;&gt;raw_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7813.101,-2013.759C7896.0899,-2006.543 8112.8307,-1985.6398 8135,-1962.432 8257.2815,-1834.422 8212.7852,-1591.0888 8193.2406,-1509.0864"/>
<polygon fill="#000000" stroke="#000000" points="8196.6112,-1508.1353 8190.8305,-1499.2564 8189.8125,-1509.8022 8196.6112,-1508.1353"/>
</g>
<!-- header_125 -->
<g id="node126" class="node">
<title>header_125</title>
<ellipse fill="none" stroke="#000000" cx="8342" cy="-1481.3168" rx="111.2326" ry="18"/>
<text text-anchor="middle" x="8342" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : process_escapes(seq)</text>
</g>
<!-- section_109&#45;&gt;header_125 -->
<g id="edge125" class="edge">
<title>section_109&#45;&gt;header_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8487.5811,-1998.6603C8479.138,-1988.6689 8469.3211,-1975.5883 8463,-1962.432 8385.8544,-1801.8662 8354.3827,-1586.7074 8345.1389,-1509.9769"/>
<polygon fill="#000000" stroke="#000000" points="8348.573,-1509.2084 8343.9336,-1499.6834 8341.6205,-1510.0226 8348.573,-1509.2084"/>
</g>
<!-- prose_126 -->
<g id="node127" class="node">
<title>prose_126</title>
<ellipse fill="none" stroke="#000000" cx="8504" cy="-1481.3168" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8504" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_109&#45;&gt;prose_126 -->
<g id="edge126" class="edge">
<title>section_109&#45;&gt;prose_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8504,-1998.3211C8504,-1919.4783 8504,-1605.8205 8504,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="8507.5001,-1509.4231 8504,-1499.4232 8500.5001,-1509.4232 8507.5001,-1509.4231"/>
</g>
<!-- codeblock_127 -->
<g id="node128" class="node">
<title>codeblock_127</title>
<ellipse fill="none" stroke="#000000" cx="8722" cy="-1481.3168" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="8722" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 221&#45;276</text>
</g>
<!-- section_109&#45;&gt;codeblock_127 -->
<g id="edge127" class="edge">
<title>section_109&#45;&gt;codeblock_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8519.8693,-1998.3781C8528.1515,-1988.304 8537.9899,-1975.2345 8545,-1962.432 8633.5883,-1800.6432 8694.747,-1585.4849 8714.8267,-1509.4096"/>
<polygon fill="#000000" stroke="#000000" points="8718.2433,-1510.1783 8717.386,-1499.6182 8711.4709,-1508.4081 8718.2433,-1510.1783"/>
</g>
<!-- codeblock_128 -->
<g id="node129" class="node">
<title>codeblock_128</title>
<ellipse fill="none" stroke="#000000" cx="9085" cy="-1481.3168" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9085" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 278&#45;309</text>
</g>
<!-- section_109&#45;&gt;codeblock_128 -->
<g id="edge128" class="edge">
<title>section_109&#45;&gt;codeblock_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8576.37,-2011.2093C8656.7217,-2004.1763 8780.1094,-1989.3243 8818,-1962.432 8982.7264,-1845.5197 9057.4925,-1593.493 9078.5238,-1509.3275"/>
<polygon fill="#000000" stroke="#000000" points="9081.958,-1510.018 9080.9303,-1499.4732 9075.1578,-1508.3574 9081.958,-1510.018"/>
</g>
<!-- leaf_118 -->
<g id="node119" class="node">
<title>leaf_118</title>
<polygon fill="none" stroke="#c0c0c0" points="7476,-571.1024 7194,-571.1024 7194,-515.2994 7476,-515.2994 7476,-571.1024"/>
<text text-anchor="middle" x="7335" y="-523.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">The reader takes a stream of data from</text>
</g>
<!-- raw_111&#45;&gt;leaf_118 -->
<g id="edge118" class="edge">
<title>raw_111&#45;&gt;leaf_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7558.7462,-1463.2499C7567.8945,-1397.6008 7592.7633,-1166.8107 7519,-1000.2017 7510.0905,-980.0779 7496.4948,-982.969 7485,-964.2017 7405.8467,-834.9697 7360.16,-657.8739 7342.9474,-581.1727"/>
<polygon fill="#000000" stroke="#000000" points="7346.2819,-580.0411 7340.7071,-571.0315 7339.4467,-581.5511 7346.2819,-580.0411"/>
</g>
<!-- leaf_119 -->
<g id="node120" class="node">
<title>leaf_119</title>
<polygon fill="none" stroke="#c0c0c0" points="7548,-561.2009 7494,-561.2009 7494,-525.2009 7548,-525.2009 7548,-561.2009"/>
<text text-anchor="middle" x="7521" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_112&#45;&gt;leaf_119 -->
<g id="edge119" class="edge">
<title>prespace_112&#45;&gt;leaf_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7648.9558,-1463.1568C7655.2551,-1397.1882 7670.3096,-1165.4388 7592,-1000.2017 7582.4432,-980.0363 7566.2683,-984.5013 7557,-964.2017 7494.9656,-828.3329 7508.8358,-642.2766 7517.1114,-571.8115"/>
<polygon fill="#000000" stroke="#000000" points="7520.6302,-571.873 7518.3791,-561.5201 7513.6827,-571.0172 7520.6302,-571.873"/>
</g>
<!-- leaf_120 -->
<g id="node121" class="node">
<title>leaf_120</title>
<polygon fill="none" stroke="#c0c0c0" points="7620,-561.2009 7566,-561.2009 7566,-525.2009 7620,-525.2009 7620,-561.2009"/>
<text text-anchor="middle" x="7593" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">stdin</text>
</g>
<!-- literal_113&#45;&gt;leaf_120 -->
<g id="edge120" class="edge">
<title>literal_113&#45;&gt;leaf_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7747.2648,-1463.1099C7762.1162,-1395.0137 7805.2471,-1151.4977 7702,-1000.2017 7681.609,-970.3211 7649.3954,-994.0793 7629,-964.2017 7544.0279,-839.7242 7572.2576,-643.8841 7586.7181,-571.4001"/>
<polygon fill="#000000" stroke="#000000" points="7590.2217,-571.7405 7588.819,-561.2389 7583.3667,-570.3231 7590.2217,-571.7405"/>
</g>
<!-- leaf_121 -->
<g id="node122" class="node">
<title>leaf_121</title>
<polygon fill="none" stroke="#c0c0c0" points="7969.5,-562.5014 7638.5,-562.5014 7638.5,-523.9003 7969.5,-523.9003 7969.5,-562.5014"/>
<text text-anchor="middle" x="7804" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">, asynchronously, and</text>
<text text-anchor="middle" x="7804" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">processes it into tokens, which stream to the</text>
</g>
<!-- raw_114&#45;&gt;leaf_121 -->
<g id="edge121" class="edge">
<title>raw_114&#45;&gt;leaf_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7818.7071,-1462.9982C7816.8576,-1347.3297 7806.802,-718.4419 7804.479,-573.1606"/>
<polygon fill="#000000" stroke="#000000" points="7807.973,-572.751 7804.3135,-562.8083 7800.9739,-572.863 7807.973,-572.751"/>
</g>
<!-- leaf_122 -->
<g id="node123" class="node">
<title>leaf_122</title>
<polygon fill="none" stroke="#c0c0c0" points="8042,-561.2009 7988,-561.2009 7988,-525.2009 8042,-525.2009 8042,-561.2009"/>
<text text-anchor="middle" x="8015" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_115&#45;&gt;leaf_122 -->
<g id="edge122" class="edge">
<title>prespace_115&#45;&gt;leaf_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7969.8982,-1462.9982C7975.5944,-1346.8311 8006.6735,-713.0109 8013.6217,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="8017.1207,-571.4134 8014.1148,-561.254 8010.1291,-571.0705 8017.1207,-571.4134"/>
</g>
<!-- leaf_123 -->
<g id="node124" class="node">
<title>leaf_123</title>
<polygon fill="none" stroke="#c0c0c0" points="8160,-561.2009 8060,-561.2009 8060,-525.2009 8160,-525.2009 8160,-561.2009"/>
<text text-anchor="middle" x="8110" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">modeselektor</text>
</g>
<!-- literal_116&#45;&gt;leaf_123 -->
<g id="edge123" class="edge">
<title>literal_116&#45;&gt;leaf_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8095.2929,-1462.9982C8097.1504,-1346.8311 8107.2848,-713.0109 8109.5506,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="8113.0509,-571.3087 8109.7113,-561.254 8106.0518,-571.1967 8113.0509,-571.3087"/>
</g>
<!-- leaf_124 -->
<g id="node125" class="node">
<title>leaf_124</title>
<polygon fill="none" stroke="#c0c0c0" points="8232,-561.2009 8178,-561.2009 8178,-525.2009 8232,-525.2009 8232,-561.2009"/>
<text text-anchor="middle" x="8205" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_117&#45;&gt;leaf_124 -->
<g id="edge124" class="edge">
<title>raw_117&#45;&gt;leaf_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8186.371,-1462.9982C8188.7238,-1346.8311 8201.5608,-713.0109 8204.4307,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="8207.9311,-571.3228 8204.6344,-561.254 8200.9325,-571.181 8207.9311,-571.3228"/>
</g>
<!-- leaf_129 -->
<g id="node130" class="node">
<title>leaf_129</title>
<polygon fill="none" stroke="#c0c0c0" points="8434,-561.2009 8250,-561.2009 8250,-525.2009 8434,-525.2009 8434,-561.2009"/>
<text text-anchor="middle" x="8342" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">*** process_escapes(seq)</text>
</g>
<!-- header_125&#45;&gt;leaf_129 -->
<g id="edge129" class="edge">
<title>header_125&#45;&gt;leaf_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8342,-1462.9982C8342,-1346.8311 8342,-713.0109 8342,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="8345.5001,-571.2539 8342,-561.254 8338.5001,-571.254 8345.5001,-571.2539"/>
</g>
<!-- raw_130 -->
<g id="node131" class="node">
<title>raw_130</title>
<ellipse fill="none" stroke="#000000" cx="8479" cy="-543.2009" rx="27" ry="18"/>
<text text-anchor="middle" x="8479" y="-539.0009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_126&#45;&gt;raw_130 -->
<g id="edge130" class="edge">
<title>prose_126&#45;&gt;raw_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8503.5118,-1462.9982C8500.4161,-1346.8311 8483.5253,-713.0109 8479.7491,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="8483.2464,-571.1571 8479.4811,-561.254 8476.2488,-571.3437 8483.2464,-571.1571"/>
</g>
<!-- leaf_132 -->
<g id="node133" class="node">
<title>leaf_132</title>
<polygon fill="none" stroke="#c0c0c0" points="9079.5,-964.2024 8524.5,-964.2024 8524.5,-122.1993 9079.5,-122.1993 9079.5,-964.2024"/>
<text text-anchor="middle" x="8802" y="-933.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">local byte, sub = string.byte, string.sub</text>
<text text-anchor="middle" x="8802" y="-917.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">local m_parse, is_mouse = a.mouse.parse_fast, a.mouse.ismousemove</text>
<text text-anchor="middle" x="8802" y="-902.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">local navigation, is_nav = a.navigation, a.is_nav</text>
<text text-anchor="middle" x="8802" y="-870.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">local function process_escapes(seq)</text>
<text text-anchor="middle" x="8802" y="-855.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if is_nav(seq) then</text>
<text text-anchor="middle" x="8802" y="-840.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NAV&quot;, navigation[seq] )</text>
<text text-anchor="middle" x="8802" y="-824.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif #seq == 1 then</text>
<text text-anchor="middle" x="8802" y="-809.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;modeS(&quot;NAV&quot;, &quot;ESC&quot;) &#45;&#45; I think of escape as navigation in modal systems</text>
<text text-anchor="middle" x="8802" y="-793.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8802" y="-778.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if is_mouse(seq) then</text>
<text text-anchor="middle" x="8802" y="-763.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local m = m_parse(seq)</text>
<text text-anchor="middle" x="8802" y="-747.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;MOUSE&quot;, m)</text>
<text text-anchor="middle" x="8802" y="-732.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif #seq == 2 and byte(sub(seq,2,2)) &lt; 128 then</text>
<text text-anchor="middle" x="8802" y="-716.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; Meta</text>
<text text-anchor="middle" x="8802" y="-701.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local key = &quot;M&#45;&quot; .. sub(seq,2,2)</text>
<text text-anchor="middle" x="8802" y="-686.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;ALT&quot;, key)</text>
<text text-anchor="middle" x="8802" y="-670.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8802" y="-655.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NYI&quot;, seq)</text>
<text text-anchor="middle" x="8802" y="-639.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8802" y="-624.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="8802" y="-593.001" font-family="Inconsolata" font-size="14.00" fill="#000000">local navigation = a.navigation</text>
<text text-anchor="middle" x="8802" y="-561.601" font-family="Inconsolata" font-size="14.00" fill="#000000">local function onseq(err,seq)</text>
<text text-anchor="middle" x="8802" y="-546.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if err then error(err) end</text>
<text text-anchor="middle" x="8802" y="-530.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local head = byte(seq)</text>
<text text-anchor="middle" x="8802" y="-515.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; ^Q hard coded as quit, for now</text>
<text text-anchor="middle" x="8802" y="-500.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head == 17 then</text>
<text text-anchor="middle" x="8802" y="-484.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;femto.cooked()</text>
<text text-anchor="middle" x="8802" y="-469.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;write(a.mouse.track(false))</text>
<text text-anchor="middle" x="8802" y="-453.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uv.stop()</text>
<text text-anchor="middle" x="8802" y="-438.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="8802" y="-423.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8802" y="-407.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Escape sequences</text>
<text text-anchor="middle" x="8802" y="-392.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head == 27 then</text>
<text text-anchor="middle" x="8802" y="-376.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return process_escapes(seq)</text>
<text text-anchor="middle" x="8802" y="-361.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8802" y="-346.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Control sequences</text>
<text text-anchor="middle" x="8802" y="-330.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head &lt;= 31 and not navigation[seq] then</text>
<text text-anchor="middle" x="8802" y="-315.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local ctrl = &quot;^&quot; .. string.char(head + 64)</text>
<text text-anchor="middle" x="8802" y="-299.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;CTRL&quot;, ctrl)</text>
<text text-anchor="middle" x="8802" y="-284.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif navigation[seq] then</text>
<text text-anchor="middle" x="8802" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NAV&quot;, navigation[seq])</text>
<text text-anchor="middle" x="8802" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8802" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Printables</text>
<text text-anchor="middle" x="8802" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head &gt; 31 and head &lt; 127 then</text>
<text text-anchor="middle" x="8802" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;ASCII&quot;, seq)</text>
<text text-anchor="middle" x="8802" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8802" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; wchars go here</text>
<text text-anchor="middle" x="8802" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NYI&quot;, seq)</text>
<text text-anchor="middle" x="8802" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8802" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_127&#45;&gt;leaf_132 -->
<g id="edge132" class="edge">
<title>codeblock_127&#45;&gt;leaf_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8723.5622,-1462.9982C8728.9676,-1399.6117 8747.5162,-1182.1027 8765.2186,-974.5165"/>
<polygon fill="#000000" stroke="#000000" points="8768.7251,-974.5874 8766.0876,-964.3262 8761.7504,-973.9926 8768.7251,-974.5874"/>
</g>
<!-- leaf_133 -->
<g id="node134" class="node">
<title>leaf_133</title>
<polygon fill="none" stroke="#c0c0c0" points="9414.5,-788.9591 9097.5,-788.9591 9097.5,-297.4426 9414.5,-297.4426 9414.5,-788.9591"/>
<text text-anchor="middle" x="9256" y="-773.63" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Get names for as many values as possible</text>
<text text-anchor="middle" x="9256" y="-758.2299" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; into the colorizer</text>
<text text-anchor="middle" x="9256" y="-742.8299" font-family="Inconsolata" font-size="14.00" fill="#000000">color.allNames()</text>
<text text-anchor="middle" x="9256" y="-711.4299" font-family="Inconsolata" font-size="14.00" fill="#000000">print &quot;an repl, plz reply uwu &quot;</text>
<text text-anchor="middle" x="9256" y="-687.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">displayPrompt &#39; &#160;&#39;</text>
<text text-anchor="middle" x="9256" y="-662.9724" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Crude hack to choose raw mode at runtime</text>
<text text-anchor="middle" x="9256" y="-647.5723" font-family="Inconsolata" font-size="14.00" fill="#000000">if arg[1] == &quot;&#45;r&quot; then</text>
<text text-anchor="middle" x="9256" y="-632.1723" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;femto.raw()</text>
<text text-anchor="middle" x="9256" y="-616.7723" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45;uv.tty_set_mode(stdin, 2)</text>
<text text-anchor="middle" x="9256" y="-601.3722" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; mouse mode</text>
<text text-anchor="middle" x="9256" y="-585.9722" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;write(a.mouse.track(true))</text>
<text text-anchor="middle" x="9256" y="-570.5722" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.read_start(stdin, onseq)</text>
<text text-anchor="middle" x="9256" y="-555.1722" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="9256" y="-539.7721" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.read_start(stdin, onread)</text>
<text text-anchor="middle" x="9256" y="-524.3721" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="9256" y="-460.9721" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; main loop</text>
<text text-anchor="middle" x="9256" y="-445.572" font-family="Inconsolata" font-size="14.00" fill="#000000">local retcode = &#160;uv.run(&#39;default&#39;)</text>
<text text-anchor="middle" x="9256" y="-430.172" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Restore main screen</text>
<text text-anchor="middle" x="9256" y="-414.772" font-family="Inconsolata" font-size="14.00" fill="#000000">print &#39;\x1b[?47l&#39;</text>
<text text-anchor="middle" x="9256" y="-383.3719" font-family="Inconsolata" font-size="14.00" fill="#000000">if retcode ~= true then</text>
<text text-anchor="middle" x="9256" y="-367.9719" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;error(retcode)</text>
<text text-anchor="middle" x="9256" y="-352.5719" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="9256" y="-321.1718" font-family="Inconsolata" font-size="14.00" fill="#000000">print(&quot;kthxbye&quot;)</text>
<text text-anchor="middle" x="9256" y="-305.7718" font-family="Inconsolata" font-size="14.00" fill="#000000">return retcode</text>
</g>
<!-- codeblock_128&#45;&gt;leaf_133 -->
<g id="edge133" class="edge">
<title>codeblock_128&#45;&gt;leaf_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9088.3391,-1462.9982C9103.2731,-1381.0693 9165.1411,-1041.6583 9209.3737,-798.9952"/>
<polygon fill="#000000" stroke="#000000" points="9212.8527,-799.4266 9211.2028,-788.961 9205.9662,-798.1712 9212.8527,-799.4266"/>
</g>
<!-- leaf_131 -->
<g id="node132" class="node">
<title>leaf_131</title>
<polygon fill="none" stroke="#c0c0c0" points="8506,-61.1 8452,-61.1 8452,-25.1 8506,-25.1 8506,-61.1"/>
</g>
<!-- raw_130&#45;&gt;leaf_131 -->
<g id="edge131" class="edge">
<title>raw_130&#45;&gt;leaf_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8479,-525.1066C8479,-450.057 8479,-162.9178 8479,-71.3411"/>
<polygon fill="#000000" stroke="#000000" points="8482.5001,-71.17 8479,-61.17 8475.5001,-71.1701 8482.5001,-71.17"/>
</g>
</g>
</svg>
