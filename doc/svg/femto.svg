<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="9428pt" height="2228pt"
 viewBox="0.00 0.00 9427.50 2227.63" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2223.6319)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2223.6319 9423.5,-2223.6319 9423.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="2469" cy="-2201.6319" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="2469" y="-2197.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 302</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="2469" cy="-2129.6319" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2469" y="-2125.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;204</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2469,-2183.4633C2469,-2175.7629 2469,-2166.6063 2469,-2158.0485"/>
<polygon fill="#000000" stroke="#000000" points="2472.5001,-2158.0451 2469,-2148.0452 2465.5001,-2158.0452 2472.5001,-2158.0451"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="785" cy="-2057.6319" rx="47.4168" ry="18"/>
<text text-anchor="middle" x="785" y="-2053.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Femto</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2403.1879,-2128.8127C2192.9405,-2125.8663 1518.6493,-2113.868 962,-2075.6319 921.1923,-2072.8288 875.2396,-2068.1091 840.3848,-2064.2057"/>
<polygon fill="#000000" stroke="#000000" points="840.7332,-2060.7229 830.4031,-2063.0763 839.9461,-2067.6785 840.7332,-2060.7229"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="1003" cy="-2057.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1003" y="-2053.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2403.4736,-2128.2298C2167.3577,-2122.9919 1360.5624,-2103.4367 1104,-2075.6319 1083.8302,-2073.446 1061.6137,-2069.6418 1043.165,-2066.092"/>
<polygon fill="#000000" stroke="#000000" points="1043.8279,-2062.6555 1033.3402,-2064.1581 1042.4759,-2069.5236 1043.8279,-2062.6555"/>
</g>
<!-- section_4 -->
<g id="node5" class="node">
<title>section_4</title>
<ellipse fill="none" stroke="#000000" cx="1174" cy="-2057.6319" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="1174" y="-2053.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 6&#45;25</text>
</g>
<!-- section_1&#45;&gt;section_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;section_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2404.3377,-2126.0368C2185.147,-2113.8501 1471.3518,-2074.1642 1244.138,-2061.5315"/>
<polygon fill="#000000" stroke="#000000" points="1244.1889,-2058.029 1234.01,-2060.9684 1243.8002,-2065.0182 1244.1889,-2058.029"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="3835" cy="-2057.6319" rx="70.655" ry="18"/>
<text text-anchor="middle" x="3835" y="-2053.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 32&#45;108</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2533.5087,-2126.2317C2758.4723,-2114.3742 3508.0308,-2074.866 3755.1846,-2061.8389"/>
<polygon fill="#000000" stroke="#000000" points="3755.7188,-2065.3157 3765.5207,-2061.2941 3755.3503,-2058.3254 3755.7188,-2065.3157"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="6115" cy="-2057.6319" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="6115" y="-2053.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 122&#45;204</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2534.6109,-2128.3362C2977.4918,-2119.5904 5527.6535,-2069.2306 6029.3358,-2059.3236"/>
<polygon fill="#000000" stroke="#000000" points="6029.4736,-2062.8216 6039.4025,-2059.1248 6029.3353,-2055.823 6029.4736,-2062.8216"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="7673" cy="-2057.6319" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7673" y="-2053.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 205&#45;209</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2534.7978,-2128.7216C3088.0498,-2121.067 6958.9312,-2067.5114 7586.9917,-2058.8219"/>
<polygon fill="#000000" stroke="#000000" points="7587.3695,-2062.3171 7597.3201,-2058.679 7587.2726,-2055.3177 7587.3695,-2062.3171"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="760,-2003.6319 688,-2003.6319 688,-1967.6319 760,-1967.6319 760,-2003.6319"/>
<text text-anchor="middle" x="724" y="-1982.1319" font-family="Inconsolata" font-size="14.00" fill="#000000">* &#160;Femto</text>
</g>
<!-- header_2&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>header_2&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M770.2336,-2040.2027C762.9061,-2031.5539 753.9103,-2020.9358 745.8075,-2011.3719"/>
<polygon fill="#000000" stroke="#000000" points="748.4021,-2009.0199 739.2674,-2003.6525 743.0612,-2013.5448 748.4021,-2009.0199"/>
</g>
<!-- raw_9 -->
<g id="node10" class="node">
<title>raw_9</title>
<ellipse fill="none" stroke="#000000" cx="805" cy="-1985.6319" rx="27" ry="18"/>
<text text-anchor="middle" x="805" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_9 -->
<g id="edge9" class="edge">
<title>prose_3&#45;&gt;raw_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M974.1649,-2049.3727C941.4143,-2039.6824 886.6038,-2022.5216 841,-2003.6319 839.2085,-2002.8898 837.3824,-2002.0972 835.5502,-2001.2735"/>
<polygon fill="#000000" stroke="#000000" points="837.0084,-1998.0915 826.4711,-1996.9889 834.0208,-2004.422 837.0084,-1998.0915"/>
</g>
<!-- header_11 -->
<g id="node12" class="node">
<title>header_11</title>
<ellipse fill="none" stroke="#000000" cx="905" cy="-1985.6319" rx="54.6851" ry="18"/>
<text text-anchor="middle" x="905" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : includes</text>
</g>
<!-- section_4&#45;&gt;header_11 -->
<g id="edge11" class="edge">
<title>section_4&#45;&gt;header_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1127.9405,-2045.7324C1086.3543,-2034.9331 1023.5097,-2018.4756 969,-2003.6319 964.9282,-2002.5231 960.7139,-2001.3638 956.481,-2000.1912"/>
<polygon fill="#000000" stroke="#000000" points="957.201,-1996.7586 946.6287,-1997.448 955.3234,-2003.5021 957.201,-1996.7586"/>
</g>
<!-- prose_12 -->
<g id="node13" class="node">
<title>prose_12</title>
<ellipse fill="none" stroke="#000000" cx="1010" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1010" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_12 -->
<g id="edge12" class="edge">
<title>section_4&#45;&gt;prose_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1139.6202,-2042.5383C1111.8097,-2030.3289 1072.8158,-2013.2096 1044.8739,-2000.9424"/>
<polygon fill="#000000" stroke="#000000" points="1046.0513,-1997.6369 1035.4879,-1996.8217 1043.2374,-2004.0464 1046.0513,-1997.6369"/>
</g>
<!-- prose_13 -->
<g id="node14" class="node">
<title>prose_13</title>
<ellipse fill="none" stroke="#000000" cx="1092" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1092" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_13 -->
<g id="edge13" class="edge">
<title>section_4&#45;&gt;prose_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1154.5671,-2040.5689C1143.3006,-2030.6763 1128.9965,-2018.1166 1116.9098,-2007.5039"/>
<polygon fill="#000000" stroke="#000000" points="1119.1653,-2004.8266 1109.3415,-2000.8586 1114.5466,-2010.0867 1119.1653,-2004.8266"/>
</g>
<!-- prose_14 -->
<g id="node15" class="node">
<title>prose_14</title>
<ellipse fill="none" stroke="#000000" cx="1174" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1174" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_14 -->
<g id="edge14" class="edge">
<title>section_4&#45;&gt;prose_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1174,-2039.4633C1174,-2031.7629 1174,-2022.6063 1174,-2014.0485"/>
<polygon fill="#000000" stroke="#000000" points="1177.5001,-2014.0451 1174,-2004.0452 1170.5001,-2014.0452 1177.5001,-2014.0451"/>
</g>
<!-- codeblock_15 -->
<g id="node16" class="node">
<title>codeblock_15</title>
<ellipse fill="none" stroke="#000000" cx="1302" cy="-1985.6319" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1302" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 15&#45;23</text>
</g>
<!-- section_4&#45;&gt;codeblock_15 -->
<g id="edge15" class="edge">
<title>section_4&#45;&gt;codeblock_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1202.4073,-2041.6528C1220.4187,-2031.5214 1243.9447,-2018.288 1263.6084,-2007.2272"/>
<polygon fill="#000000" stroke="#000000" points="1265.3378,-2010.2701 1272.3377,-2002.317 1261.906,-2004.1691 1265.3378,-2010.2701"/>
</g>
<!-- section_16 -->
<g id="node17" class="node">
<title>section_16</title>
<ellipse fill="none" stroke="#000000" cx="1547" cy="-1985.6319" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1547" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 26&#45;31</text>
</g>
<!-- section_4&#45;&gt;section_16 -->
<g id="edge16" class="edge">
<title>section_4&#45;&gt;section_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1225.082,-2047.7716C1292.2541,-2034.8054 1410.2762,-2012.0236 1483.2323,-1997.9409"/>
<polygon fill="#000000" stroke="#000000" points="1484.0623,-2001.3454 1493.2177,-1996.0135 1482.7355,-1994.4723 1484.0623,-2001.3454"/>
</g>
<!-- header_30 -->
<g id="node31" class="node">
<title>header_30</title>
<ellipse fill="none" stroke="#000000" cx="1913" cy="-1985.6319" rx="39.6991" ry="18"/>
<text text-anchor="middle" x="1913" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : core</text>
</g>
<!-- section_5&#45;&gt;header_30 -->
<g id="edge30" class="edge">
<title>section_5&#45;&gt;header_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3764.1561,-2056.4405C3476.1031,-2051.4488 2391.87,-2031.1916 2050,-2003.6319 2020.1302,-2001.224 1986.7905,-1996.8801 1960.4794,-1993.0629"/>
<polygon fill="#000000" stroke="#000000" points="1960.8012,-1989.5726 1950.3976,-1991.5764 1959.7801,-1996.4977 1960.8012,-1989.5726"/>
</g>
<!-- prose_31 -->
<g id="node32" class="node">
<title>prose_31</title>
<ellipse fill="none" stroke="#000000" cx="2091" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2091" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_31 -->
<g id="edge31" class="edge">
<title>section_5&#45;&gt;prose_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3765.2867,-2054.7538C3474.7299,-2042.7584 2364.4382,-1996.9206 2133.3054,-1987.3785"/>
<polygon fill="#000000" stroke="#000000" points="2133.4134,-1983.88 2123.2775,-1986.9645 2133.1246,-1990.8741 2133.4134,-1983.88"/>
</g>
<!-- prose_32 -->
<g id="node33" class="node">
<title>prose_32</title>
<ellipse fill="none" stroke="#000000" cx="2876" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2876" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_32 -->
<g id="edge32" class="edge">
<title>section_5&#45;&gt;prose_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3767.1829,-2052.5403C3581.5644,-2038.6044 3069.023,-2000.1237 2918.2451,-1988.8036"/>
<polygon fill="#000000" stroke="#000000" points="2918.2577,-1985.2948 2908.0237,-1988.0362 2917.7336,-1992.2751 2918.2577,-1985.2948"/>
</g>
<!-- codeblock_33 -->
<g id="node34" class="node">
<title>codeblock_33</title>
<ellipse fill="none" stroke="#000000" cx="3459" cy="-1985.6319" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3459" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 39&#45;53</text>
</g>
<!-- section_5&#45;&gt;codeblock_33 -->
<g id="edge33" class="edge">
<title>section_5&#45;&gt;codeblock_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3778.3019,-2046.7748C3711.5849,-2033.9992 3600.8033,-2012.7857 3528.8495,-1999.0073"/>
<polygon fill="#000000" stroke="#000000" points="3529.4426,-1995.5574 3518.9628,-1997.1141 3528.1261,-2002.4325 3529.4426,-1995.5574"/>
</g>
<!-- prose_34 -->
<g id="node35" class="node">
<title>prose_34</title>
<ellipse fill="none" stroke="#000000" cx="3713" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3713" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_34 -->
<g id="edge34" class="edge">
<title>section_5&#45;&gt;prose_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3806.7041,-2040.9327C3787.9879,-2029.887 3763.4398,-2015.3997 3744.1647,-2004.0242"/>
<polygon fill="#000000" stroke="#000000" points="3745.8387,-2000.9481 3735.4477,-1998.8797 3742.2809,-2006.9766 3745.8387,-2000.9481"/>
</g>
<!-- prose_35 -->
<g id="node36" class="node">
<title>prose_35</title>
<ellipse fill="none" stroke="#000000" cx="3835" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3835" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_35 -->
<g id="edge35" class="edge">
<title>section_5&#45;&gt;prose_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3835,-2039.4633C3835,-2031.7629 3835,-2022.6063 3835,-2014.0485"/>
<polygon fill="#000000" stroke="#000000" points="3838.5001,-2014.0451 3835,-2004.0452 3831.5001,-2014.0452 3838.5001,-2014.0451"/>
</g>
<!-- codeblock_36 -->
<g id="node37" class="node">
<title>codeblock_36</title>
<ellipse fill="none" stroke="#000000" cx="4010" cy="-1985.6319" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="4010" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 60&#45;67</text>
</g>
<!-- section_5&#45;&gt;codeblock_36 -->
<g id="edge36" class="edge">
<title>section_5&#45;&gt;codeblock_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3872.5419,-2042.1861C3898.7991,-2031.3831 3934.0826,-2016.8665 3962.3276,-2005.2457"/>
<polygon fill="#000000" stroke="#000000" points="3963.6971,-2008.467 3971.6133,-2001.4253 3961.0337,-2001.9934 3963.6971,-2008.467"/>
</g>
<!-- prose_37 -->
<g id="node38" class="node">
<title>prose_37</title>
<ellipse fill="none" stroke="#000000" cx="4334" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4334" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_37 -->
<g id="edge37" class="edge">
<title>section_5&#45;&gt;prose_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3896.4372,-2048.7672C3999.5723,-2033.886 4204.8366,-2004.2687 4292.6197,-1991.6026"/>
<polygon fill="#000000" stroke="#000000" points="4293.3301,-1995.0364 4302.7278,-1990.1441 4292.3304,-1988.1082 4293.3301,-1995.0364"/>
</g>
<!-- prose_38 -->
<g id="node39" class="node">
<title>prose_38</title>
<ellipse fill="none" stroke="#000000" cx="4497" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4497" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_38 -->
<g id="edge38" class="edge">
<title>section_5&#45;&gt;prose_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3902.0392,-2051.9445C4004.2345,-2043.045 4205.0549,-2024.6544 4375,-2003.6319 4402.023,-2000.2891 4432.3065,-1995.8252 4455.9415,-1992.1791"/>
<polygon fill="#000000" stroke="#000000" points="4456.6218,-1995.6155 4465.9652,-1990.6204 4455.5462,-1988.6986 4456.6218,-1995.6155"/>
</g>
<!-- codeblock_39 -->
<g id="node40" class="node">
<title>codeblock_39</title>
<ellipse fill="none" stroke="#000000" cx="4714" cy="-1985.6319" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="4714" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 74&#45;95</text>
</g>
<!-- section_5&#45;&gt;codeblock_39 -->
<g id="edge39" class="edge">
<title>section_5&#45;&gt;codeblock_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3903.4048,-2052.9538C4029.1419,-2044.2266 4305.4366,-2024.453 4538,-2003.6319 4569.1961,-2000.839 4603.4649,-1997.415 4633.4087,-1994.306"/>
<polygon fill="#000000" stroke="#000000" points="4633.8042,-1997.7838 4643.3871,-1993.265 4633.0779,-1990.8216 4633.8042,-1997.7838"/>
</g>
<!-- codeblock_40 -->
<g id="node41" class="node">
<title>codeblock_40</title>
<ellipse fill="none" stroke="#000000" cx="5040" cy="-1985.6319" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="5040" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 97&#45;106</text>
</g>
<!-- section_5&#45;&gt;codeblock_40 -->
<g id="edge40" class="edge">
<title>section_5&#45;&gt;codeblock_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3904.3616,-2054.2027C4062.9996,-2046.2606 4464.4955,-2025.5985 4800,-2003.6319 4850.4885,-2000.3263 4906.9117,-1996.1205 4952.3588,-1992.6057"/>
<polygon fill="#000000" stroke="#000000" points="4952.7754,-1996.084 4962.4746,-1991.8208 4952.2338,-1989.105 4952.7754,-1996.084"/>
</g>
<!-- section_41 -->
<g id="node42" class="node">
<title>section_41</title>
<ellipse fill="none" stroke="#000000" cx="5500" cy="-1985.6319" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="5500" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 109&#45;121</text>
</g>
<!-- section_5&#45;&gt;section_41 -->
<g id="edge41" class="edge">
<title>section_5&#45;&gt;section_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3904.8991,-2054.8941C4099.2877,-2047.2427 4662.791,-2024.8057 5131,-2003.6319 5228.7589,-1999.211 5341.0617,-1993.666 5415.8479,-1989.9072"/>
<polygon fill="#000000" stroke="#000000" points="5416.3347,-1993.3872 5426.1461,-1989.389 5415.9828,-1986.3961 5416.3347,-1993.3872"/>
</g>
<!-- header_96 -->
<g id="node97" class="node">
<title>header_96</title>
<ellipse fill="none" stroke="#000000" cx="5864" cy="-1985.6319" rx="75.4657" ry="18"/>
<text text-anchor="middle" x="5864" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Modeselektor</text>
</g>
<!-- section_6&#45;&gt;header_96 -->
<g id="edge96" class="edge">
<title>section_6&#45;&gt;header_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6066.6047,-2043.7496C6025.4159,-2031.9345 5966.136,-2014.9299 5922.3328,-2002.3648"/>
<polygon fill="#000000" stroke="#000000" points="5923.2518,-1998.9873 5912.6743,-1999.5943 5921.3216,-2005.716 5923.2518,-1998.9873"/>
</g>
<!-- prose_97 -->
<g id="node98" class="node">
<title>prose_97</title>
<ellipse fill="none" stroke="#000000" cx="6035" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6035" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_97 -->
<g id="edge97" class="edge">
<title>section_6&#45;&gt;prose_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6095.6342,-2040.2027C6084.8135,-2030.464 6071.2184,-2018.2285 6059.6452,-2007.8126"/>
<polygon fill="#000000" stroke="#000000" points="6061.7892,-2005.0334 6052.0149,-2000.9453 6057.1065,-2010.2365 6061.7892,-2005.0334"/>
</g>
<!-- codeblock_98 -->
<g id="node99" class="node">
<title>codeblock_98</title>
<ellipse fill="none" stroke="#000000" cx="6196" cy="-1985.6319" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6196" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 124&#45;127</text>
</g>
<!-- section_6&#45;&gt;codeblock_98 -->
<g id="edge98" class="edge">
<title>section_6&#45;&gt;codeblock_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6134.6078,-2040.2027C6144.705,-2031.2275 6157.188,-2020.1315 6168.2556,-2010.2936"/>
<polygon fill="#000000" stroke="#000000" points="6170.8612,-2012.6604 6176.01,-2003.4008 6166.2106,-2007.4285 6170.8612,-2012.6604"/>
</g>
<!-- codeblock_99 -->
<g id="node100" class="node">
<title>codeblock_99</title>
<ellipse fill="none" stroke="#000000" cx="6552" cy="-1985.6319" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6552" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 129&#45;189</text>
</g>
<!-- section_6&#45;&gt;codeblock_99 -->
<g id="edge99" class="edge">
<title>section_6&#45;&gt;codeblock_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6177.1474,-2047.3925C6255.0413,-2034.5587 6388.6067,-2012.5525 6473.4881,-1998.5675"/>
<polygon fill="#000000" stroke="#000000" points="6474.2932,-2001.9821 6483.5912,-1996.9029 6473.1552,-1995.0752 6474.2932,-2001.9821"/>
</g>
<!-- codeblock_100 -->
<g id="node101" class="node">
<title>codeblock_100</title>
<ellipse fill="none" stroke="#000000" cx="6985" cy="-1985.6319" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6985" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 191&#45;202</text>
</g>
<!-- section_6&#45;&gt;codeblock_100 -->
<g id="edge100" class="edge">
<title>section_6&#45;&gt;codeblock_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6186.5654,-2051.7092C6343.885,-2038.6897 6719.6158,-2007.5947 6893.6483,-1993.192"/>
<polygon fill="#000000" stroke="#000000" points="6894.128,-1996.6644 6903.8052,-1992.3515 6893.5506,-1989.6883 6894.128,-1996.6644"/>
</g>
<!-- header_107 -->
<g id="node108" class="node">
<title>header_107</title>
<ellipse fill="none" stroke="#000000" cx="7537" cy="-1985.6319" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="7537" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Reader</text>
</g>
<!-- section_7&#45;&gt;header_107 -->
<g id="edge107" class="edge">
<title>section_7&#45;&gt;header_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7641.7989,-2041.1137C7621.8516,-2030.5533 7595.8588,-2016.7924 7574.7503,-2005.6174"/>
<polygon fill="#000000" stroke="#000000" points="7576.2111,-2002.4305 7565.7356,-2000.8449 7572.9359,-2008.6171 7576.2111,-2002.4305"/>
</g>
<!-- prose_108 -->
<g id="node109" class="node">
<title>prose_108</title>
<ellipse fill="none" stroke="#000000" cx="7779" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7779" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_108 -->
<g id="edge108" class="edge">
<title>section_7&#45;&gt;prose_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7698.1205,-2040.5689C7713.6173,-2030.0428 7733.5596,-2016.4971 7749.7642,-2005.4902"/>
<polygon fill="#000000" stroke="#000000" points="7752.0246,-2008.1859 7758.3302,-1999.6718 7748.0914,-2002.3954 7752.0246,-2008.1859"/>
</g>
<!-- section_109 -->
<g id="node110" class="node">
<title>section_109</title>
<ellipse fill="none" stroke="#000000" cx="8509" cy="-1985.6319" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8509" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 210&#45;302</text>
</g>
<!-- section_7&#45;&gt;section_109 -->
<g id="edge109" class="edge">
<title>section_7&#45;&gt;section_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7744.2769,-2051.4932C7898.9817,-2038.1694 8264.7197,-2006.6704 8427.9226,-1992.6146"/>
<polygon fill="#000000" stroke="#000000" points="8428.2408,-1996.1003 8437.9035,-1991.755 8427.64,-1989.1261 8428.2408,-1996.1003"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="832,-1501.9168 778,-1501.9168 778,-1429.9168 832,-1429.9168 832,-1501.9168"/>
</g>
<!-- raw_9&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>raw_9&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M805,-1967.4397C805,-1894.5146 805,-1622.0057 805,-1512.2015"/>
<polygon fill="#000000" stroke="#000000" points="808.5001,-1512.0953 805,-1502.0954 801.5001,-1512.0954 808.5001,-1512.0953"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="951,-1483.9168 851,-1483.9168 851,-1447.9168 951,-1447.9168 951,-1483.9168"/>
<text text-anchor="middle" x="901" y="-1462.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">** &#160;includes</text>
</g>
<!-- header_11&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>header_11&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M904.86,-1967.4397C904.2648,-1890.1039 901.942,-1588.3115 901.2172,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="904.7158,-1493.934 901.1389,-1483.9613 897.716,-1493.988 904.7158,-1493.934"/>
</g>
<!-- raw_18 -->
<g id="node19" class="node">
<title>raw_18</title>
<ellipse fill="none" stroke="#000000" cx="996" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="996" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_12&#45;&gt;raw_18 -->
<g id="edge18" class="edge">
<title>prose_12&#45;&gt;raw_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1009.5099,-1967.4397C1007.4267,-1890.1039 999.297,-1588.3115 996.7604,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="1000.2542,-1493.8634 996.4861,-1483.9613 993.2567,-1494.052 1000.2542,-1493.8634"/>
</g>
<!-- raw_20 -->
<g id="node21" class="node">
<title>raw_20</title>
<ellipse fill="none" stroke="#000000" cx="1068" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="1068" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_13&#45;&gt;raw_20 -->
<g id="edge20" class="edge">
<title>prose_13&#45;&gt;raw_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1091.1599,-1967.4397C1087.5886,-1890.1039 1073.6521,-1588.3115 1069.3035,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="1072.7909,-1493.7892 1068.8333,-1483.9613 1065.7984,-1494.1122 1072.7909,-1493.7892"/>
</g>
<!-- raw_22 -->
<g id="node23" class="node">
<title>raw_22</title>
<ellipse fill="none" stroke="#000000" cx="1140" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="1140" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_14&#45;&gt;raw_22 -->
<g id="edge22" class="edge">
<title>prose_14&#45;&gt;raw_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1172.8099,-1967.4397C1167.7505,-1890.1039 1148.0071,-1588.3115 1141.8466,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="1145.3259,-1493.7115 1141.1805,-1483.9613 1138.3408,-1494.1685 1145.3259,-1493.7115"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="1418.5,-1523.7172 1185.5,-1523.7172 1185.5,-1408.1164 1418.5,-1408.1164 1418.5,-1523.7172"/>
<text text-anchor="middle" x="1302" y="-1508.6169" font-family="Inconsolata" font-size="14.00" fill="#000000">sql = require &quot;sqlite&quot;</text>
<text text-anchor="middle" x="1302" y="-1493.2169" font-family="Inconsolata" font-size="14.00" fill="#000000">L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1302" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">lfs = require &quot;lfs&quot;</text>
<text text-anchor="middle" x="1302" y="-1462.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">ffi = require &quot;ffi&quot;</text>
<text text-anchor="middle" x="1302" y="-1447.0168" font-family="Inconsolata" font-size="14.00" fill="#000000">bit = require &quot;bit&quot;</text>
<text text-anchor="middle" x="1302" y="-1431.6167" font-family="Inconsolata" font-size="14.00" fill="#000000">ffi.reflect = require &quot;reflect&quot;</text>
<text text-anchor="middle" x="1302" y="-1416.2167" font-family="Inconsolata" font-size="14.00" fill="#000000">uv = require &quot;luv&quot;</text>
</g>
<!-- codeblock_15&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>codeblock_15&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1302,-1967.4397C1302,-1899.0075 1302,-1654.8266 1302,-1534.2646"/>
<polygon fill="#000000" stroke="#000000" points="1305.5001,-1534.0454 1302,-1524.0454 1298.5001,-1534.0455 1305.5001,-1534.0454"/>
</g>
<!-- header_25 -->
<g id="node26" class="node">
<title>header_25</title>
<ellipse fill="none" stroke="#000000" cx="1547" cy="-1465.9168" rx="110.7308" ry="18"/>
<text text-anchor="middle" x="1547" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Djikstra Insertion Point</text>
</g>
<!-- section_16&#45;&gt;header_25 -->
<g id="edge25" class="edge">
<title>section_16&#45;&gt;header_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1547,-1967.4397C1547,-1890.1039 1547,-1588.3115 1547,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="1550.5001,-1493.9613 1547,-1483.9613 1543.5001,-1493.9614 1550.5001,-1493.9613"/>
</g>
<!-- prose_26 -->
<g id="node27" class="node">
<title>prose_26</title>
<ellipse fill="none" stroke="#000000" cx="1708" cy="-1465.9168" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1708" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_16&#45;&gt;prose_26 -->
<g id="edge26" class="edge">
<title>section_16&#45;&gt;prose_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1599.7864,-1974.8281C1624.214,-1967.0181 1651.2509,-1953.7917 1667,-1931.6319 1764.8988,-1793.8836 1730.674,-1572.142 1714.483,-1494.1486"/>
<polygon fill="#000000" stroke="#000000" points="1717.8518,-1493.1655 1712.3336,-1484.1211 1711.0073,-1494.6326 1717.8518,-1493.1655"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="548,-578.5012 0,-578.5012 0,-507.9005 548,-507.9005 548,-578.5012"/>
<text text-anchor="middle" x="274" y="-531.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">This all goes into global space for now. &#160;Our more sophisticated loader will</text>
<text text-anchor="middle" x="274" y="-516.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">handle namespace isolation. Meanwhile we&#39;re building a repl, so.</text>
</g>
<!-- raw_18&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>raw_18&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M997.5278,-1447.9021C1003.7019,-1370.1702 1023.5538,-1064.5193 960,-1000.2017 896.8034,-936.2455 634.393,-1009.9676 557,-964.2017 409.0385,-876.7055 322.1892,-677.8993 289.275,-588.3782"/>
<polygon fill="#000000" stroke="#000000" points="292.4961,-586.9937 285.8004,-578.7828 285.9144,-589.3771 292.4961,-586.9937"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="1086,-563.103 566,-563.103 566,-523.2988 1086,-523.2988 1086,-563.103"/>
<text text-anchor="middle" x="826" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">First we load everything that might reasonable expect a stock namespace.</text>
</g>
<!-- raw_20&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>raw_20&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1068.8159,-1447.7895C1071.1884,-1384.7836 1075.3904,-1169.9066 1032,-1000.2017 988.2607,-829.1322 884.4587,-642.1698 843.272,-571.9585"/>
<polygon fill="#000000" stroke="#000000" points="846.2112,-570.0525 838.1141,-563.2196 840.1828,-573.6105 846.2112,-570.0525"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="1414,-563.103 1104,-563.103 1104,-523.2988 1414,-523.2988 1414,-563.103"/>
<text text-anchor="middle" x="1259" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">All of these are exceedingly well&#45;behaved.</text>
</g>
<!-- raw_22&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>raw_22&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1140.7377,-1447.6504C1143.409,-1385.0572 1153.6219,-1173.5217 1176,-1000.2017 1196.9631,-837.841 1236.8759,-645.5879 1252.4994,-572.9616"/>
<polygon fill="#000000" stroke="#000000" points="1255.9323,-573.6457 1254.6231,-563.1321 1249.0901,-572.1674 1255.9323,-573.6457"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="1644,-561.2009 1432,-561.2009 1432,-525.2009 1644,-525.2009 1644,-561.2009"/>
<text text-anchor="middle" x="1538" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Djikstra Insertion Point</text>
</g>
<!-- header_25&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>header_25&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1546.8243,-1447.8989C1545.7121,-1333.8757 1539.6543,-712.8069 1538.2782,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="1541.7743,-571.2996 1538.1769,-561.3343 1534.7747,-571.368 1541.7743,-571.2996"/>
</g>
<!-- raw_28 -->
<g id="node29" class="node">
<title>raw_28</title>
<ellipse fill="none" stroke="#000000" cx="1689" cy="-543.2009" rx="27" ry="18"/>
<text text-anchor="middle" x="1689" y="-539.0009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_26&#45;&gt;raw_28 -->
<g id="edge28" class="edge">
<title>prose_26&#45;&gt;raw_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1707.629,-1447.8989C1705.2811,-1333.8757 1692.4924,-712.8069 1689.5873,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="1693.0786,-571.26 1689.3734,-561.3343 1686.0801,-571.4042 1693.0786,-571.26"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="1970,-86.3004 1408,-86.3004 1408,.1003 1970,.1003 1970,-86.3004"/>
<text text-anchor="middle" x="1689" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">Although we&#39;re not doing so yet, this is where we will set up Djikstra mode</text>
<text text-anchor="middle" x="1689" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">for participating code. &#160;We then push that up through the layers, and it lands</text>
<text text-anchor="middle" x="1689" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">as close to C level as practical.</text>
</g>
<!-- raw_28&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>raw_28&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1689,-525.1066C1689,-455.978 1689,-206.9052 1689,-96.4674"/>
<polygon fill="#000000" stroke="#000000" points="1692.5001,-96.2233 1689,-86.2233 1685.5001,-96.2233 1692.5001,-96.2233"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="1858.5,-1483.9168 1793.5,-1483.9168 1793.5,-1447.9168 1858.5,-1447.9168 1858.5,-1483.9168"/>
<text text-anchor="middle" x="1826" y="-1462.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">** core</text>
</g>
<!-- header_30&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>header_30&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1894.9794,-1969.4571C1885.2225,-1959.5655 1873.9725,-1946.0655 1868,-1931.6319 1803.9488,-1776.8413 1815.8671,-1569.001 1822.8991,-1494.2063"/>
<polygon fill="#000000" stroke="#000000" points="1826.3915,-1494.4542 1823.8915,-1484.1586 1819.4254,-1493.7661 1826.3915,-1494.4542"/>
</g>
<!-- raw_43 -->
<g id="node44" class="node">
<title>raw_43</title>
<ellipse fill="none" stroke="#000000" cx="1904" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="1904" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_31&#45;&gt;raw_43 -->
<g id="edge43" class="edge">
<title>prose_31&#45;&gt;raw_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2061.0084,-1978.9727C2021.4148,-1969.5316 1954.9556,-1951.2134 1940,-1931.6319 1837.2804,-1797.14 1878.1072,-1572.4449 1896.7079,-1493.9803"/>
<polygon fill="#000000" stroke="#000000" points="1900.1963,-1494.4485 1899.1677,-1483.9037 1893.396,-1492.7884 1900.1963,-1494.4485"/>
</g>
<!-- prespace_44 -->
<g id="node45" class="node">
<title>prespace_44</title>
<ellipse fill="none" stroke="#000000" cx="1995" cy="-1465.9168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="1995" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_31&#45;&gt;prespace_44 -->
<g id="edge44" class="edge">
<title>prose_31&#45;&gt;prespace_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2075.5429,-1969.5065C2066.8335,-1959.4297 2056.6061,-1945.7247 2051,-1931.6319 1988.8861,-1775.4889 1990.5223,-1568.4765 1993.4931,-1494.0537"/>
<polygon fill="#000000" stroke="#000000" points="1996.9899,-1494.2017 1993.9337,-1484.0572 1989.9967,-1493.8934 1996.9899,-1494.2017"/>
</g>
<!-- literal_45 -->
<g id="node46" class="node">
<title>literal_45</title>
<ellipse fill="none" stroke="#000000" cx="2091" cy="-1465.9168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2091" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_31&#45;&gt;literal_45 -->
<g id="edge45" class="edge">
<title>prose_31&#45;&gt;literal_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2091,-1967.4397C2091,-1890.1039 2091,-1588.3115 2091,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="2094.5001,-1493.9613 2091,-1483.9613 2087.5001,-1493.9614 2094.5001,-1493.9613"/>
</g>
<!-- raw_46 -->
<g id="node47" class="node">
<title>raw_46</title>
<ellipse fill="none" stroke="#000000" cx="2184" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="2184" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_31&#45;&gt;raw_46 -->
<g id="edge46" class="edge">
<title>prose_31&#45;&gt;raw_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2106.4896,-1969.5194C2115.2106,-1959.4471 2125.4387,-1945.7425 2131,-1931.6319 2192.5717,-1775.4086 2189.3182,-1568.4453 2185.7404,-1494.0446"/>
<polygon fill="#000000" stroke="#000000" points="2189.2354,-1493.8548 2185.2179,-1484.0512 2182.2449,-1494.2203 2189.2354,-1493.8548"/>
</g>
<!-- raw_51 -->
<g id="node52" class="node">
<title>raw_51</title>
<ellipse fill="none" stroke="#000000" cx="2553" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="2553" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_32&#45;&gt;raw_51 -->
<g id="edge51" class="edge">
<title>prose_32&#45;&gt;raw_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2843.8071,-1983.9111C2778.7437,-1979.7237 2635.0507,-1966.6465 2603,-1931.6319 2487.9231,-1805.9135 2527.7612,-1573.8864 2545.9877,-1493.89"/>
<polygon fill="#000000" stroke="#000000" points="2549.4178,-1494.5931 2548.2961,-1484.0578 2542.6031,-1492.9931 2549.4178,-1494.5931"/>
</g>
<!-- prespace_52 -->
<g id="node53" class="node">
<title>prespace_52</title>
<ellipse fill="none" stroke="#000000" cx="2658" cy="-1465.9168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2658" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_32&#45;&gt;prespace_52 -->
<g id="edge52" class="edge">
<title>prose_32&#45;&gt;prespace_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2845.401,-1979.4945C2803.2934,-1970.4003 2730.7738,-1952.1907 2714,-1931.6319 2606.5656,-1799.9552 2637.0742,-1573.4856 2652.0218,-1494.2688"/>
<polygon fill="#000000" stroke="#000000" points="2655.5273,-1494.5793 2654.0117,-1484.0935 2648.6574,-1493.2358 2655.5273,-1494.5793"/>
</g>
<!-- literal_53 -->
<g id="node54" class="node">
<title>literal_53</title>
<ellipse fill="none" stroke="#000000" cx="2754" cy="-1465.9168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2754" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_32&#45;&gt;literal_53 -->
<g id="edge53" class="edge">
<title>prose_32&#45;&gt;literal_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2849.0668,-1975.4164C2830.2587,-1966.7691 2806.3836,-1952.4292 2794,-1931.6319 2707.9314,-1787.0862 2735.0267,-1571.2494 2748.4488,-1494.3681"/>
<polygon fill="#000000" stroke="#000000" points="2751.9778,-1494.5217 2750.3148,-1484.0582 2745.0897,-1493.275 2751.9778,-1494.5217"/>
</g>
<!-- raw_54 -->
<g id="node55" class="node">
<title>raw_54</title>
<ellipse fill="none" stroke="#000000" cx="2830" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="2830" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_32&#45;&gt;raw_54 -->
<g id="edge54" class="edge">
<title>prose_32&#45;&gt;raw_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2872.1877,-1967.7075C2870.0836,-1957.2327 2867.5836,-1943.7327 2866,-1931.6319 2844.4302,-1766.8118 2834.3221,-1567.3578 2831.1496,-1494.4"/>
<polygon fill="#000000" stroke="#000000" points="2834.6371,-1494.0283 2830.7153,-1484.1861 2827.6434,-1494.3258 2834.6371,-1494.0283"/>
</g>
<!-- prespace_55 -->
<g id="node56" class="node">
<title>prespace_55</title>
<ellipse fill="none" stroke="#000000" cx="2921" cy="-1465.9168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2921" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_32&#45;&gt;prespace_55 -->
<g id="edge55" class="edge">
<title>prose_32&#45;&gt;prespace_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2877.5752,-1967.4397C2884.2714,-1890.1039 2910.4023,-1588.3115 2918.556,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="2922.0618,-1494.226 2919.4376,-1483.9613 2915.0879,-1493.6221 2922.0618,-1494.226"/>
</g>
<!-- literal_56 -->
<g id="node57" class="node">
<title>literal_56</title>
<ellipse fill="none" stroke="#000000" cx="3017" cy="-1465.9168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3017" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_32&#45;&gt;literal_56 -->
<g id="edge56" class="edge">
<title>prose_32&#45;&gt;literal_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2905.3396,-1978.0901C2928.6203,-1970.458 2959.8461,-1956.1948 2976,-1931.6319 3068.8578,-1790.4363 3037.7918,-1570.8548 3022.9559,-1493.7881"/>
<polygon fill="#000000" stroke="#000000" points="3026.3692,-1493.0071 3020.9847,-1483.8825 3019.5038,-1494.3733 3026.3692,-1493.0071"/>
</g>
<!-- raw_57 -->
<g id="node58" class="node">
<title>raw_57</title>
<ellipse fill="none" stroke="#000000" cx="3120" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="3120" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_32&#45;&gt;raw_57 -->
<g id="edge57" class="edge">
<title>prose_32&#45;&gt;raw_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2907.0017,-1980.5252C2953.3848,-1972.2293 3037.4951,-1954.4322 3057,-1931.6319 3167.9355,-1801.9538 3139.6495,-1573.2902 3125.5855,-1493.9583"/>
<polygon fill="#000000" stroke="#000000" points="3128.9647,-1492.9819 3123.7114,-1483.7811 3122.0804,-1494.2497 3128.9647,-1492.9819"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="3580.5,-1570.2172 3179.5,-1570.2172 3179.5,-1361.6163 3580.5,-1361.6163 3580.5,-1570.2172"/>
<text text-anchor="middle" x="3380" y="-1555.117" font-family="Inconsolata" font-size="14.00" fill="#000000">local core = require &quot;core&quot;</text>
<text text-anchor="middle" x="3380" y="-1539.7169" font-family="Inconsolata" font-size="14.00" fill="#000000">string.cleave, string.litpat = core.cleave, core.litpat</text>
<text text-anchor="middle" x="3380" y="-1524.3169" font-family="Inconsolata" font-size="14.00" fill="#000000">string.utf8 = core.utf8</text>
<text text-anchor="middle" x="3380" y="-1508.9169" font-family="Inconsolata" font-size="14.00" fill="#000000">string.codepoints = core.codepoints</text>
<text text-anchor="middle" x="3380" y="-1493.5168" font-family="Inconsolata" font-size="14.00" fill="#000000">table.splice = core.splice</text>
<text text-anchor="middle" x="3380" y="-1478.1168" font-family="Inconsolata" font-size="14.00" fill="#000000">table.clone = core.clone</text>
<text text-anchor="middle" x="3380" y="-1462.7168" font-family="Inconsolata" font-size="14.00" fill="#000000">utf8 = core.utf8</text>
<text text-anchor="middle" x="3380" y="-1447.3167" font-family="Inconsolata" font-size="14.00" fill="#000000">codepoints = core.codepoints</text>
<text text-anchor="middle" x="3380" y="-1431.9167" font-family="Inconsolata" font-size="14.00" fill="#000000">meta = core.meta</text>
<text text-anchor="middle" x="3380" y="-1416.5167" font-family="Inconsolata" font-size="14.00" fill="#000000">getmeta, setmeta = getmetatable, setmetatable</text>
<text text-anchor="middle" x="3380" y="-1401.1167" font-family="Inconsolata" font-size="14.00" fill="#000000">coro = coroutine</text>
<text text-anchor="middle" x="3380" y="-1369.7166" font-family="Inconsolata" font-size="14.00" fill="#000000">local concat = table.concat</text>
</g>
<!-- codeblock_33&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>codeblock_33&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3456.2347,-1967.4397C3447.0347,-1906.9164 3416.9381,-1708.9205 3397.4261,-1580.5571"/>
<polygon fill="#000000" stroke="#000000" points="3400.8279,-1579.6461 3395.8647,-1570.2857 3393.9074,-1580.6981 3400.8279,-1579.6461"/>
</g>
<!-- raw_66 -->
<g id="node67" class="node">
<title>raw_66</title>
<ellipse fill="none" stroke="#000000" cx="3626" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="3626" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_34&#45;&gt;raw_66 -->
<g id="edge66" class="edge">
<title>prose_34&#45;&gt;raw_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3693.804,-1971.073C3682.4404,-1961.2757 3668.9462,-1947.3129 3662,-1931.6319 3594.069,-1778.2778 3612.4054,-1568.7299 3621.9556,-1493.8888"/>
<polygon fill="#000000" stroke="#000000" points="3625.4422,-1494.2207 3623.2896,-1483.8468 3618.5031,-1493.2988 3625.4422,-1494.2207"/>
</g>
<!-- raw_68 -->
<g id="node69" class="node">
<title>raw_68</title>
<ellipse fill="none" stroke="#000000" cx="3698" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="3698" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_35&#45;&gt;raw_68 -->
<g id="edge68" class="edge">
<title>prose_35&#45;&gt;raw_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3805.3057,-1978.2176C3781.7556,-1970.6614 3750.1984,-1956.4381 3734,-1931.6319 3641.684,-1790.2592 3675.7179,-1570.7887 3691.6431,-1493.7696"/>
<polygon fill="#000000" stroke="#000000" points="3695.0914,-1494.3805 3693.755,-1483.8703 3688.2455,-1492.9199 3695.0914,-1494.3805"/>
</g>
<!-- prespace_69 -->
<g id="node70" class="node">
<title>prespace_69</title>
<ellipse fill="none" stroke="#000000" cx="3789" cy="-1465.9168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="3789" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_35&#45;&gt;prespace_69 -->
<g id="edge69" class="edge">
<title>prose_35&#45;&gt;prespace_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3833.3898,-1967.4397C3826.5448,-1890.1039 3799.8332,-1588.3115 3791.4983,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="3794.9652,-1493.6138 3790.5971,-1483.9613 3787.9925,-1494.231 3794.9652,-1493.6138"/>
</g>
<!-- literal_70 -->
<g id="node71" class="node">
<title>literal_70</title>
<ellipse fill="none" stroke="#000000" cx="3885" cy="-1465.9168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3885" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_35&#45;&gt;literal_70 -->
<g id="edge70" class="edge">
<title>prose_35&#45;&gt;literal_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3838.3491,-1967.6832C3840.2154,-1957.2003 3842.4654,-1943.7003 3844,-1931.6319 3864.9866,-1766.5887 3878.651,-1567.2689 3883.2642,-1494.3734"/>
<polygon fill="#000000" stroke="#000000" points="3886.7713,-1494.3676 3883.9029,-1484.1684 3879.785,-1493.9303 3886.7713,-1494.3676"/>
</g>
<!-- raw_71 -->
<g id="node72" class="node">
<title>raw_71</title>
<ellipse fill="none" stroke="#000000" cx="3961" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="3961" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_35&#45;&gt;raw_71 -->
<g id="edge71" class="edge">
<title>prose_35&#45;&gt;raw_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3863.251,-1976.6541C3884.0771,-1968.4442 3911.1052,-1954.1048 3925,-1931.6319 4013.5901,-1788.3502 3982.1124,-1570.9529 3967.092,-1494.0636"/>
<polygon fill="#000000" stroke="#000000" points="3970.5044,-1493.2795 3965.096,-1484.1691 3963.6426,-1494.6637 3970.5044,-1493.2795"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="4197.5,-1508.4169 4006.5,-1508.4169 4006.5,-1423.4166 4197.5,-1423.4166 4197.5,-1508.4169"/>
<text text-anchor="middle" x="4102" y="-1493.2169" font-family="Inconsolata" font-size="14.00" fill="#000000">a = require &quot;anterm&quot;</text>
<text text-anchor="middle" x="4102" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">color = require &quot;color&quot;</text>
<text text-anchor="middle" x="4102" y="-1462.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">ts = color.ts</text>
<text text-anchor="middle" x="4102" y="-1447.0168" font-family="Inconsolata" font-size="14.00" fill="#000000">c = color.color</text>
<text text-anchor="middle" x="4102" y="-1431.6167" font-family="Inconsolata" font-size="14.00" fill="#000000">watch = require &quot;watcher&quot;</text>
</g>
<!-- codeblock_36&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>codeblock_36&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4013.2204,-1967.4397C4025.8932,-1895.85 4072.6143,-1631.9187 4092.7103,-1518.3949"/>
<polygon fill="#000000" stroke="#000000" points="4096.1587,-1518.9935 4094.4555,-1508.5365 4089.2659,-1517.7733 4096.1587,-1518.9935"/>
</g>
<!-- raw_77 -->
<g id="node78" class="node">
<title>raw_77</title>
<ellipse fill="none" stroke="#000000" cx="4243" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="4243" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_37&#45;&gt;raw_77 -->
<g id="edge77" class="edge">
<title>prose_37&#45;&gt;raw_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4313.5902,-1971.604C4301.2848,-1961.9201 4286.5704,-1947.8868 4279,-1931.6319 4208.1877,-1779.5868 4228.2985,-1569.2328 4238.6367,-1494.0337"/>
<polygon fill="#000000" stroke="#000000" points="4242.1288,-1494.3371 4240.0791,-1483.9424 4235.1992,-1493.3465 4242.1288,-1494.3371"/>
</g>
<!-- prespace_78 -->
<g id="node79" class="node">
<title>prespace_78</title>
<ellipse fill="none" stroke="#000000" cx="4334" cy="-1465.9168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4334" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_37&#45;&gt;prespace_78 -->
<g id="edge78" class="edge">
<title>prose_37&#45;&gt;prespace_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4334,-1967.4397C4334,-1890.1039 4334,-1588.3115 4334,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="4337.5001,-1493.9613 4334,-1483.9613 4330.5001,-1493.9614 4337.5001,-1493.9613"/>
</g>
<!-- literal_79 -->
<g id="node80" class="node">
<title>literal_79</title>
<ellipse fill="none" stroke="#000000" cx="4430" cy="-1465.9168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4430" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_37&#45;&gt;literal_79 -->
<g id="edge79" class="edge">
<title>prose_37&#45;&gt;literal_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4354.3509,-1971.5763C4366.6327,-1961.8814 4381.343,-1947.8462 4389,-1931.6319 4460.6851,-1779.8327 4443.3005,-1569.3272 4433.9774,-1494.0609"/>
<polygon fill="#000000" stroke="#000000" points="4437.4249,-1493.4292 4432.6719,-1483.9604 4430.4827,-1494.3266 4437.4249,-1493.4292"/>
</g>
<!-- raw_80 -->
<g id="node81" class="node">
<title>raw_80</title>
<ellipse fill="none" stroke="#000000" cx="4506" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="4506" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_37&#45;&gt;raw_80 -->
<g id="edge80" class="edge">
<title>prose_37&#45;&gt;raw_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4365.9656,-1982.4922C4397.9071,-1977.5089 4445.6636,-1964.6626 4470,-1931.6319 4570.3828,-1795.387 4531.029,-1571.7969 4513.0527,-1493.8007"/>
<polygon fill="#000000" stroke="#000000" points="4516.3903,-1492.7065 4510.6748,-1483.7856 4509.5796,-1494.3236 4516.3903,-1492.7065"/>
</g>
<!-- raw_85 -->
<g id="node86" class="node">
<title>raw_85</title>
<ellipse fill="none" stroke="#000000" cx="4578" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="4578" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_38&#45;&gt;raw_85 -->
<g id="edge85" class="edge">
<title>prose_38&#45;&gt;raw_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4514.1776,-1970.4013C4524.1616,-1960.4462 4535.9362,-1946.5557 4542,-1931.6319 4604.9922,-1776.6009 4589.8237,-1568.9078 4581.5709,-1494.1792"/>
<polygon fill="#000000" stroke="#000000" points="4585.0359,-1493.6739 4580.4136,-1484.1405 4578.082,-1494.4756 4585.0359,-1493.6739"/>
</g>
<!-- leaf_87 -->
<g id="node88" class="node">
<title>leaf_87</title>
<polygon fill="none" stroke="#c0c0c0" points="4982.5,-1624.7174 4623.5,-1624.7174 4623.5,-1307.1162 4982.5,-1307.1162 4982.5,-1624.7174"/>
<text text-anchor="middle" x="4803" y="-1609.617" font-family="Inconsolata" font-size="14.00" fill="#000000">local usecolors</text>
<text text-anchor="middle" x="4803" y="-1594.217" font-family="Inconsolata" font-size="14.00" fill="#000000">stdout = &quot;&quot;</text>
<text text-anchor="middle" x="4803" y="-1562.817" font-family="Inconsolata" font-size="14.00" fill="#000000">if uv.guess_handle(1) == &quot;tty&quot; then</text>
<text text-anchor="middle" x="4803" y="-1547.417" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;stdout = uv.new_tty(1, false)</text>
<text text-anchor="middle" x="4803" y="-1532.0169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;usecolors = true</text>
<text text-anchor="middle" x="4803" y="-1516.6169" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="4803" y="-1501.2169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;stdout = uv.new_pipe(false)</text>
<text text-anchor="middle" x="4803" y="-1485.8168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.pipe_open(utils.stdout, 1)</text>
<text text-anchor="middle" x="4803" y="-1470.4168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;usecolors = false</text>
<text text-anchor="middle" x="4803" y="-1455.0168" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4803" y="-1423.6167" font-family="Inconsolata" font-size="14.00" fill="#000000">if not usecolors then</text>
<text text-anchor="middle" x="4803" y="-1408.2167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;ts = tostring</text>
<text text-anchor="middle" x="4803" y="-1392.8167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; #todo make this properly black and white ts</text>
<text text-anchor="middle" x="4803" y="-1377.4166" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4803" y="-1346.0166" font-family="Inconsolata" font-size="14.00" fill="#000000">function write(str)</text>
<text text-anchor="middle" x="4803" y="-1330.6166" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.write(stdout, str)</text>
<text text-anchor="middle" x="4803" y="-1315.2165" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_39&#45;&gt;leaf_87 -->
<g id="edge87" class="edge">
<title>codeblock_39&#45;&gt;leaf_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4717.1154,-1967.4397C4726.1019,-1914.9629 4752.7867,-1759.1369 4774.0518,-1634.9597"/>
<polygon fill="#000000" stroke="#000000" points="4777.5289,-1635.3907 4775.7671,-1624.9433 4770.6293,-1634.2091 4777.5289,-1635.3907"/>
</g>
<!-- leaf_88 -->
<g id="node89" class="node">
<title>leaf_88</title>
<polygon fill="none" stroke="#c0c0c0" points="5373.5,-1531.6172 5000.5,-1531.6172 5000.5,-1400.2164 5373.5,-1400.2164 5373.5,-1531.6172"/>
<text text-anchor="middle" x="5187" y="-1516.3169" font-family="Inconsolata" font-size="14.00" fill="#000000">function print(...)</text>
<text text-anchor="middle" x="5187" y="-1500.9169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local n = select(&#39;#&#39;, ...)</text>
<text text-anchor="middle" x="5187" y="-1485.5168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local arguments = {...}</text>
<text text-anchor="middle" x="5187" y="-1470.1168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 1, n do</text>
<text text-anchor="middle" x="5187" y="-1454.7168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;arguments[i] = tostring(arguments[i])</text>
<text text-anchor="middle" x="5187" y="-1439.3167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="5187" y="-1423.9167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.write(stdout, concat(arguments, &quot;\t&quot;) .. &quot;\n&quot;)</text>
<text text-anchor="middle" x="5187" y="-1408.5167" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_40&#45;&gt;leaf_88 -->
<g id="edge88" class="edge">
<title>codeblock_40&#45;&gt;leaf_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5045.1456,-1967.4397C5064.1198,-1900.3568 5130.8631,-1664.3874 5165.6108,-1541.5379"/>
<polygon fill="#000000" stroke="#000000" points="5169.0079,-1542.3868 5168.3618,-1531.8116 5162.2722,-1540.4815 5169.0079,-1542.3868"/>
</g>
<!-- header_89 -->
<g id="node90" class="node">
<title>header_89</title>
<ellipse fill="none" stroke="#000000" cx="5447" cy="-1465.9168" rx="55.6456" ry="18"/>
<text text-anchor="middle" x="5447" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : tty setup</text>
</g>
<!-- section_41&#45;&gt;header_89 -->
<g id="edge89" class="edge">
<title>section_41&#45;&gt;header_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5498.1448,-1967.4397C5490.2582,-1890.1039 5459.4817,-1588.3115 5449.8785,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="5453.3367,-1493.5546 5448.8402,-1483.9613 5446.3728,-1494.2648 5453.3367,-1493.5546"/>
</g>
<!-- prose_90 -->
<g id="node91" class="node">
<title>prose_90</title>
<ellipse fill="none" stroke="#000000" cx="5553" cy="-1465.9168" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5553" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_41&#45;&gt;prose_90 -->
<g id="edge90" class="edge">
<title>section_41&#45;&gt;prose_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5504.7117,-1967.2508C5507.2171,-1956.859 5510.1529,-1943.5908 5512,-1931.6319 5537.3951,-1767.2093 5548.4083,-1567.5163 5551.7896,-1494.4474"/>
<polygon fill="#000000" stroke="#000000" points="5555.2968,-1494.365 5552.2509,-1484.2174 5548.3039,-1494.0496 5555.2968,-1494.365"/>
</g>
<!-- codeblock_91 -->
<g id="node92" class="node">
<title>codeblock_91</title>
<ellipse fill="none" stroke="#000000" cx="5689" cy="-1465.9168" rx="85.1824" ry="18"/>
<text text-anchor="middle" x="5689" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 111&#45;119</text>
</g>
<!-- section_41&#45;&gt;codeblock_91 -->
<g id="edge91" class="edge">
<title>section_41&#45;&gt;codeblock_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5542.6059,-1970.5033C5561.0755,-1961.8597 5581.3312,-1949.1804 5594,-1931.6319 5694.3603,-1792.6156 5694.3896,-1572.4648 5690.8402,-1494.4639"/>
<polygon fill="#000000" stroke="#000000" points="5694.3117,-1493.8204 5690.302,-1484.0136 5687.321,-1494.1804 5694.3117,-1493.8204"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="1788,-571.1024 1734,-571.1024 1734,-515.2994 1788,-515.2994 1788,-571.1024"/>
<text text-anchor="middle" x="1761" y="-523.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">The</text>
</g>
<!-- raw_43&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>raw_43&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1908.2749,-1447.9067C1922.9278,-1381.6088 1965.0106,-1147.3672 1867,-1000.2017 1847.6079,-971.0839 1816.4797,-993.2609 1797,-964.2017 1716.57,-844.2186 1738.571,-659.7341 1753.0129,-580.96"/>
<polygon fill="#000000" stroke="#000000" points="1756.4763,-581.4816 1754.9025,-571.0043 1749.5991,-580.1763 1756.4763,-581.4816"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="1860,-561.2009 1806,-561.2009 1806,-525.2009 1860,-525.2009 1860,-561.2009"/>
<text text-anchor="middle" x="1833" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_44&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>prespace_44&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1998.4407,-1447.798C2010.0489,-1381.1208 2041.6088,-1145.7235 1940,-1000.2017 1919.7452,-971.1931 1888.7845,-993.533 1869,-964.2017 1784.7209,-839.254 1812.5312,-643.6984 1826.7991,-571.3452"/>
<polygon fill="#000000" stroke="#000000" points="1830.2987,-571.7011 1828.8724,-561.2027 1823.4405,-570.2991 1830.2987,-571.7011"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="1932,-561.2009 1878,-561.2009 1878,-525.2009 1932,-525.2009 1932,-561.2009"/>
<text text-anchor="middle" x="1905" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">core</text>
</g>
<!-- literal_45&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>literal_45&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2095.7061,-1447.8148C2112.1249,-1380.2015 2160.1034,-1139.2321 2050,-1000.2017 2018.3261,-960.2063 1972.6237,-1004.2367 1941,-964.2017 1847.171,-845.4157 1881.2153,-644.5886 1897.9495,-571.16"/>
<polygon fill="#000000" stroke="#000000" points="1901.3918,-571.8114 1900.2756,-561.2756 1894.5779,-570.2079 1901.3918,-571.8114"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="2435.5,-562.5014 1950.5,-562.5014 1950.5,-523.9003 2435.5,-523.9003 2435.5,-562.5014"/>
<text text-anchor="middle" x="2193" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> library is shaping up as a place to keep alterations to the global</text>
<text text-anchor="middle" x="2193" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">namespace and standard library.</text>
</g>
<!-- raw_46&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>raw_46&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2184.1757,-1447.8989C2185.2842,-1334.2517 2191.3058,-716.8977 2192.7081,-573.1324"/>
<polygon fill="#000000" stroke="#000000" points="2196.2103,-572.9115 2192.8081,-562.8778 2189.2106,-572.8431 2196.2103,-572.9115"/>
</g>
<!-- leaf_58 -->
<g id="node59" class="node">
<title>leaf_58</title>
<polygon fill="none" stroke="#c0c0c0" points="2630.5,-563.103 2453.5,-563.103 2453.5,-523.2988 2630.5,-523.2988 2630.5,-563.103"/>
<text text-anchor="middle" x="2542" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">This prelude belongs in</text>
</g>
<!-- raw_51&#45;&gt;leaf_58 -->
<g id="edge58" class="edge">
<title>raw_51&#45;&gt;leaf_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2552.7852,-1447.8989C2551.4318,-1334.3743 2544.0866,-718.229 2542.3624,-573.5993"/>
<polygon fill="#000000" stroke="#000000" points="2545.8583,-573.2304 2542.2393,-563.2729 2538.8588,-573.3139 2545.8583,-573.2304"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="2703,-561.2009 2649,-561.2009 2649,-525.2009 2703,-525.2009 2703,-561.2009"/>
<text text-anchor="middle" x="2676" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_52&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>prespace_52&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2658.3515,-1447.8989C2660.5758,-1333.8757 2672.6914,-712.8069 2675.4436,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="2678.9505,-571.4007 2675.6463,-561.3343 2671.9518,-571.2641 2678.9505,-571.4007"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="2775,-561.2009 2721,-561.2009 2721,-525.2009 2775,-525.2009 2775,-561.2009"/>
<text text-anchor="middle" x="2748" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">pylon</text>
</g>
<!-- literal_53&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>literal_53&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2753.8828,-1447.8989C2753.1414,-1333.8757 2749.1029,-712.8069 2748.1855,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="2751.683,-571.3113 2748.1179,-561.3343 2744.6831,-571.3568 2751.683,-571.3113"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="2872.5,-561.2009 2793.5,-561.2009 2793.5,-525.2009 2872.5,-525.2009 2872.5,-561.2009"/>
<text text-anchor="middle" x="2833" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">; it, and</text>
</g>
<!-- raw_54&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>raw_54&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2830.0586,-1447.8989C2830.4293,-1333.8757 2832.4486,-712.8069 2832.9073,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="2836.4084,-571.3456 2832.941,-561.3343 2829.4085,-571.3228 2836.4084,-571.3456"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="2945,-561.2009 2891,-561.2009 2891,-525.2009 2945,-525.2009 2945,-561.2009"/>
<text text-anchor="middle" x="2918" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_55&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>prespace_55&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2920.9414,-1447.8989C2920.5707,-1333.8757 2918.5514,-712.8069 2918.0927,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="2921.5915,-571.3228 2918.059,-561.3343 2914.5916,-571.3456 2921.5915,-571.3228"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="3017,-561.2009 2963,-561.2009 2963,-525.2009 3017,-525.2009 3017,-561.2009"/>
<text text-anchor="middle" x="2990" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">core</text>
</g>
<!-- literal_56&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>literal_56&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3016.4728,-1447.8989C3013.1363,-1333.8757 2994.9629,-712.8069 2990.8345,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="2994.3217,-571.2276 2990.5306,-561.3343 2987.3247,-571.4324 2994.3217,-571.2276"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="3268.5,-561.2009 3035.5,-561.2009 3035.5,-525.2009 3268.5,-525.2009 3268.5,-561.2009"/>
<text text-anchor="middle" x="3152" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">, will eventually end up there.</text>
</g>
<!-- raw_57&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>raw_57&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3120.6249,-1447.8989C3124.5792,-1333.8757 3146.118,-712.8069 3151.0109,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="3154.5223,-571.4496 3151.3711,-561.3343 3147.5265,-571.2069 3154.5223,-571.4496"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="3561.5,-563.103 3286.5,-563.103 3286.5,-523.2988 3561.5,-523.2988 3561.5,-563.103"/>
<text text-anchor="middle" x="3424" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">Primitives for terminal manipulation.</text>
</g>
<!-- raw_66&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>raw_66&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3627.1486,-1447.683C3630.5997,-1384.3294 3637.8283,-1168.4531 3589,-1000.2017 3583.9577,-982.8269 3577.2068,-980.7959 3570,-964.2017 3507.8585,-821.1162 3453.0271,-642.2328 3432.5455,-572.7247"/>
<polygon fill="#000000" stroke="#000000" points="3435.8385,-571.5159 3429.6665,-562.9045 3429.1213,-573.4853 3435.8385,-571.5159"/>
</g>
<!-- leaf_72 -->
<g id="node73" class="node">
<title>leaf_72</title>
<polygon fill="none" stroke="#c0c0c0" points="3784.5,-563.103 3579.5,-563.103 3579.5,-523.2988 3784.5,-523.2988 3784.5,-563.103"/>
<text text-anchor="middle" x="3682" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">Arguably don&#39;t belong here.</text>
</g>
<!-- raw_68&#45;&gt;leaf_72 -->
<g id="edge72" class="edge">
<title>raw_68&#45;&gt;leaf_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3697.6876,-1447.8989C3695.719,-1334.3743 3685.035,-718.229 3682.5271,-573.5993"/>
<polygon fill="#000000" stroke="#000000" points="3686.021,-573.2106 3682.3481,-563.2729 3679.022,-573.3321 3686.021,-573.2106"/>
</g>
<!-- leaf_73 -->
<g id="node74" class="node">
<title>leaf_73</title>
<polygon fill="none" stroke="#c0c0c0" points="3857,-561.2009 3803,-561.2009 3803,-525.2009 3857,-525.2009 3857,-561.2009"/>
<text text-anchor="middle" x="3830" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_69&#45;&gt;leaf_73 -->
<g id="edge73" class="edge">
<title>prespace_69&#45;&gt;leaf_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3789.8006,-1447.8989C3794.8671,-1333.8757 3822.4637,-712.8069 3828.7327,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="3832.2468,-571.4798 3829.1943,-561.3343 3825.2537,-571.169 3832.2468,-571.4798"/>
</g>
<!-- leaf_74 -->
<g id="node75" class="node">
<title>leaf_74</title>
<polygon fill="none" stroke="#c0c0c0" points="3929,-561.2009 3875,-561.2009 3875,-525.2009 3929,-525.2009 3929,-561.2009"/>
<text text-anchor="middle" x="3902" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">watch</text>
</g>
<!-- literal_70&#45;&gt;leaf_74 -->
<g id="edge74" class="edge">
<title>literal_70&#45;&gt;leaf_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3885.332,-1447.8989C3887.4327,-1333.8757 3898.8752,-712.8069 3901.4745,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="3904.981,-571.3971 3901.6659,-561.3343 3897.9822,-571.2681 3904.981,-571.3971"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="4243,-562.5014 3947,-562.5014 3947,-523.9003 4243,-523.9003 4243,-562.5014"/>
<text text-anchor="middle" x="4095" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> is unused at present, it will be useful</text>
<text text-anchor="middle" x="4095" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">in Orb relatively soon.</text>
</g>
<!-- raw_71&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>raw_71&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3961.5324,-1447.6223C3963.544,-1384.9385 3971.8879,-1173.1467 3997,-1000.2017 4020.7273,-836.7933 4068.6549,-644.4117 4087.3174,-572.368"/>
<polygon fill="#000000" stroke="#000000" points="4090.7203,-573.1888 4089.8522,-562.6296 4083.946,-571.4255 4090.7203,-573.1888"/>
</g>
<!-- leaf_81 -->
<g id="node82" class="node">
<title>leaf_81</title>
<polygon fill="none" stroke="#c0c0c0" points="4417,-563.103 4261,-563.103 4261,-523.2988 4417,-523.2988 4417,-563.103"/>
<text text-anchor="middle" x="4339" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">This is all from the</text>
</g>
<!-- raw_77&#45;&gt;leaf_81 -->
<g id="edge81" class="edge">
<title>raw_77&#45;&gt;leaf_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4244.0578,-1447.6878C4247.7578,-1385.2145 4260.8847,-1174.0189 4279,-1000.2017 4295.8055,-838.9522 4323.5904,-646.7005 4334.4507,-573.5112"/>
<polygon fill="#000000" stroke="#000000" points="4337.9749,-573.6078 4335.9857,-563.2013 4331.0512,-572.5769 4337.9749,-573.6078"/>
</g>
<!-- leaf_82 -->
<g id="node83" class="node">
<title>leaf_82</title>
<polygon fill="none" stroke="#c0c0c0" points="4489,-561.2009 4435,-561.2009 4435,-525.2009 4489,-525.2009 4489,-561.2009"/>
<text text-anchor="middle" x="4462" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_78&#45;&gt;leaf_82 -->
<g id="edge82" class="edge">
<title>prespace_78&#45;&gt;leaf_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4332.1232,-1447.8497C4326.2202,-1383.2511 4312.7318,-1159.1294 4390,-1000.2017 4399.8938,-979.8519 4416.4574,-984.7184 4426,-964.2017 4488.9896,-828.7731 4474.5552,-642.4568 4466.0086,-571.8668"/>
<polygon fill="#000000" stroke="#000000" points="4469.4314,-571.0365 4464.7002,-561.5567 4462.4871,-571.9178 4469.4314,-571.0365"/>
</g>
<!-- leaf_83 -->
<g id="node84" class="node">
<title>leaf_83</title>
<polygon fill="none" stroke="#c0c0c0" points="4561,-561.2009 4507,-561.2009 4507,-525.2009 4561,-525.2009 4561,-561.2009"/>
<text text-anchor="middle" x="4534" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">luv</text>
</g>
<!-- literal_79&#45;&gt;leaf_83 -->
<g id="edge83" class="edge">
<title>literal_79&#45;&gt;leaf_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4427.986,-1447.7596C4421.6158,-1383.7697 4405.9169,-1163.7896 4470,-1000.2017 4477.3933,-981.3283 4490.6102,-983.0764 4498,-964.2017 4552.4527,-825.1208 4543.0609,-640.9618 4536.9359,-571.4078"/>
<polygon fill="#000000" stroke="#000000" points="4540.4025,-570.8861 4535.9912,-561.2533 4533.4326,-571.5346 4540.4025,-570.8861"/>
</g>
<!-- leaf_84 -->
<g id="node85" class="node">
<title>leaf_84</title>
<polygon fill="none" stroke="#c0c0c0" points="4959,-562.5014 4579,-562.5014 4579,-523.9003 4959,-523.9003 4959,-562.5014"/>
<text text-anchor="middle" x="4769" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> repl example, which has been an excellent launching</text>
<text text-anchor="middle" x="4769" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">off point. &#160;Thanks Tim Caswell!</text>
</g>
<!-- raw_80&#45;&gt;leaf_84 -->
<g id="edge84" class="edge">
<title>raw_80&#45;&gt;leaf_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4503.7828,-1447.7709C4496.7058,-1383.8184 4478.6595,-1163.9474 4542,-1000.2017 4549.3128,-981.297 4559.3828,-981.4684 4570,-964.2017 4655.7669,-824.7194 4730.3852,-642.4208 4757.8102,-572.3642"/>
<polygon fill="#000000" stroke="#000000" points="4761.1435,-573.4494 4761.5098,-562.8609 4754.6204,-570.9099 4761.1435,-573.4494"/>
</g>
<!-- leaf_86 -->
<g id="node87" class="node">
<title>leaf_86</title>
<polygon fill="none" stroke="#c0c0c0" points="5238.5,-563.103 4977.5,-563.103 4977.5,-523.2988 5238.5,-523.2988 5238.5,-563.103"/>
<text text-anchor="middle" x="5108" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">It&#39;s getting phased out bit by bit.</text>
</g>
<!-- raw_85&#45;&gt;leaf_86 -->
<g id="edge86" class="edge">
<title>raw_85&#45;&gt;leaf_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4576.4919,-1447.9214C4570.4,-1370.2703 4550.8414,-1064.9074 4614,-1000.2017 4669.232,-943.6166 4906.295,-1013.6479 4968,-964.2017 5092.0008,-864.8358 5107.0648,-652.2238 5108.2399,-573.411"/>
<polygon fill="#000000" stroke="#000000" points="5111.7414,-573.2322 5108.3235,-563.2038 5104.7417,-573.1748 5111.7414,-573.2322"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="5500.5,-561.2009 5393.5,-561.2009 5393.5,-525.2009 5500.5,-525.2009 5500.5,-561.2009"/>
<text text-anchor="middle" x="5447" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">*** tty setup</text>
</g>
<!-- header_89&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>header_89&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5447,-1447.8989C5447,-1333.8757 5447,-712.8069 5447,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="5450.5001,-571.3342 5447,-561.3343 5443.5001,-571.3343 5450.5001,-571.3342"/>
</g>
<!-- raw_93 -->
<g id="node94" class="node">
<title>raw_93</title>
<ellipse fill="none" stroke="#000000" cx="5549" cy="-543.2009" rx="27" ry="18"/>
<text text-anchor="middle" x="5549" y="-539.0009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_90&#45;&gt;raw_93 -->
<g id="edge93" class="edge">
<title>prose_90&#45;&gt;raw_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5552.9219,-1447.8989C5552.4276,-1333.8757 5549.7352,-712.8069 5549.1236,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="5552.622,-571.319 5549.0786,-561.3343 5545.6221,-571.3494 5552.622,-571.319"/>
</g>
<!-- leaf_95 -->
<g id="node96" class="node">
<title>leaf_95</title>
<polygon fill="none" stroke="#c0c0c0" points="5869.5,-601.6018 5594.5,-601.6018 5594.5,-484.8 5869.5,-484.8 5869.5,-601.6018"/>
<text text-anchor="middle" x="5732" y="-586.201" font-family="Inconsolata" font-size="14.00" fill="#000000">if uv.guess_handle(0) ~= &quot;tty&quot; or</text>
<text text-anchor="middle" x="5732" y="-570.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.guess_handle(1) ~= &quot;tty&quot; then</text>
<text text-anchor="middle" x="5732" y="-555.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; Entry point for other consumers!</text>
<text text-anchor="middle" x="5732" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;error &quot;stdio must be a tty&quot;</text>
<text text-anchor="middle" x="5732" y="-524.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5732" y="-493.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">local stdin = uv.new_tty(0, true)</text>
</g>
<!-- codeblock_91&#45;&gt;leaf_95 -->
<g id="edge95" class="edge">
<title>codeblock_91&#45;&gt;leaf_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5689.8397,-1447.8989C5694.7496,-1342.538 5719.8349,-804.2452 5728.8053,-611.7534"/>
<polygon fill="#000000" stroke="#000000" points="5732.3145,-611.6367 5729.2839,-601.4846 5725.3221,-611.3108 5732.3145,-611.6367"/>
</g>
<!-- leaf_94 -->
<g id="node95" class="node">
<title>leaf_94</title>
<polygon fill="none" stroke="#c0c0c0" points="5576,-61.1 5522,-61.1 5522,-25.1 5576,-25.1 5576,-61.1"/>
</g>
<!-- raw_93&#45;&gt;leaf_94 -->
<g id="edge94" class="edge">
<title>raw_93&#45;&gt;leaf_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5549,-525.1066C5549,-450.057 5549,-162.9178 5549,-71.3411"/>
<polygon fill="#000000" stroke="#000000" points="5552.5001,-71.17 5549,-61.17 5545.5001,-71.1701 5552.5001,-71.17"/>
</g>
<!-- leaf_101 -->
<g id="node102" class="node">
<title>leaf_101</title>
<polygon fill="none" stroke="#c0c0c0" points="5913.5,-1483.9168 5792.5,-1483.9168 5792.5,-1447.9168 5913.5,-1447.9168 5913.5,-1483.9168"/>
<text text-anchor="middle" x="5853" y="-1462.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">** Modeselektor</text>
</g>
<!-- header_96&#45;&gt;leaf_101 -->
<g id="edge101" class="edge">
<title>header_96&#45;&gt;leaf_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5863.615,-1967.4397C5861.9781,-1890.1039 5855.5905,-1588.3115 5853.5974,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="5857.0928,-1493.885 5853.3819,-1483.9613 5850.0944,-1494.0332 5857.0928,-1493.885"/>
</g>
<!-- raw_102 -->
<g id="node103" class="node">
<title>raw_102</title>
<ellipse fill="none" stroke="#000000" cx="5959" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="5959" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_97&#45;&gt;raw_102 -->
<g id="edge102" class="edge">
<title>prose_97&#45;&gt;raw_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6019.3243,-1969.5909C6010.5373,-1959.5439 6000.3053,-1945.8407 5995,-1931.6319 5936.466,-1774.8633 5948.9055,-1568.2338 5955.9321,-1493.9831"/>
<polygon fill="#000000" stroke="#000000" points="5959.4171,-1494.3068 5956.9205,-1484.0103 5952.4512,-1493.6164 5959.4171,-1494.3068"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="6412,-1485.2174 6004,-1485.2174 6004,-1446.6162 6412,-1446.6162 6412,-1485.2174"/>
<text text-anchor="middle" x="6208" y="-1470.1168" font-family="Inconsolata" font-size="14.00" fill="#000000">local modeS = require &quot;modeselektor&quot; ()</text>
<text text-anchor="middle" x="6208" y="-1454.7168" font-family="Inconsolata" font-size="14.00" fill="#000000">modeS.max_row, modeS.max_col = uv.tty_get_winsize(stdin)</text>
</g>
<!-- codeblock_98&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>codeblock_98&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6196.4201,-1967.4397C6198.1975,-1890.4579 6205.1103,-1591.0694 6207.3181,-1495.4495"/>
<polygon fill="#000000" stroke="#000000" points="6210.82,-1495.4046 6207.5518,-1485.3264 6203.8218,-1495.2429 6210.82,-1495.4046"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="7020,-1931.8471 6430,-1931.8471 6430,-999.9864 7020,-999.9864 7020,-1931.8471"/>
<text text-anchor="middle" x="6725" y="-1900.4319" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; &#160;*** utilities</text>
<text text-anchor="middle" x="6725" y="-1869.0319" font-family="Inconsolata" font-size="14.00" fill="#000000">local function gatherResults(success, ...)</text>
<text text-anchor="middle" x="6725" y="-1853.6318" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local n = select(&#39;#&#39;, ...)</text>
<text text-anchor="middle" x="6725" y="-1838.2318" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return success, { n = n, ... }</text>
<text text-anchor="middle" x="6725" y="-1822.8318" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6725" y="-1791.4317" font-family="Inconsolata" font-size="14.00" fill="#000000">local function printResults(results)</text>
<text text-anchor="middle" x="6725" y="-1776.0317" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 1, results.n do</text>
<text text-anchor="middle" x="6725" y="-1760.6317" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;results[i] = ts(results[i])</text>
<text text-anchor="middle" x="6725" y="-1745.2317" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="6725" y="-1729.8316" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;print(concat(results, &#39;\t&#39;))</text>
<text text-anchor="middle" x="6725" y="-1714.4316" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6725" y="-1683.0316" font-family="Inconsolata" font-size="14.00" fill="#000000">local buffer = &#39;&#39;</text>
<text text-anchor="middle" x="6725" y="-1651.6315" font-family="Inconsolata" font-size="14.00" fill="#000000">local function evaluateLine(line)</text>
<text text-anchor="middle" x="6725" y="-1636.2315" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if string.byte(line) == 17 then &#45;&#45; ^Q</text>
<text text-anchor="middle" x="6725" y="-1620.8315" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uv.stop()</text>
<text text-anchor="middle" x="6725" y="-1605.4314" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="6725" y="-1590.0314" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6725" y="-1574.6314" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local chunk &#160;= buffer .. line</text>
<text text-anchor="middle" x="6725" y="-1559.2313" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local f, err = loadstring(&#39;return &#39; .. chunk, &#39;REPL&#39;) &#45;&#45; first we prefix return</text>
<text text-anchor="middle" x="6725" y="-1527.8313" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not f then</text>
<text text-anchor="middle" x="6725" y="-1512.4313" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;f, err = loadstring(chunk, &#39;REPL&#39;) &#45;&#45; try again without return</text>
<text text-anchor="middle" x="6725" y="-1497.0312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6725" y="-1465.6312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if f then</text>
<text text-anchor="middle" x="6725" y="-1450.2312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;buffer = &#39;&#39;</text>
<text text-anchor="middle" x="6725" y="-1434.8312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local success, results = gatherResults(xpcall(f, debug.traceback))</text>
<text text-anchor="middle" x="6725" y="-1403.4311" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if success then</text>
<text text-anchor="middle" x="6725" y="-1388.0311" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; successful call</text>
<text text-anchor="middle" x="6725" y="-1372.6311" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if results.n &gt; 0 then</text>
<text text-anchor="middle" x="6725" y="-1357.231" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;printResults(results)</text>
<text text-anchor="middle" x="6725" y="-1341.831" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6725" y="-1326.431" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="6725" y="-1311.0309" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; error</text>
<text text-anchor="middle" x="6725" y="-1295.6309" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;print(results[1])</text>
<text text-anchor="middle" x="6725" y="-1280.2309" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6725" y="-1264.8308" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="6725" y="-1249.4308" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if err:match &quot;&#39;&lt;eof&gt;&#39;$&quot; then</text>
<text text-anchor="middle" x="6725" y="-1234.0308" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Lua expects some more input; stow it away for next time</text>
<text text-anchor="middle" x="6725" y="-1218.6307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;buffer = chunk .. &#39;\n&#39;</text>
<text text-anchor="middle" x="6725" y="-1203.2307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return &#39;...&#39;</text>
<text text-anchor="middle" x="6725" y="-1187.8307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="6725" y="-1172.4307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;print(err)</text>
<text text-anchor="middle" x="6725" y="-1157.0306" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;buffer = &#39;&#39;</text>
<text text-anchor="middle" x="6725" y="-1141.6306" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6725" y="-1126.2306" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6725" y="-1094.8305" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return &#39; &#160;&#39;</text>
<text text-anchor="middle" x="6725" y="-1070.6018" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6725" y="-1039.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">local function displayPrompt(prompt)</text>
<text text-anchor="middle" x="6725" y="-1023.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.write(stdout, prompt)</text>
<text text-anchor="middle" x="6725" y="-1008.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_99&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>codeblock_99&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6558.0557,-1967.4397C6560.3916,-1960.4224 6563.3426,-1951.5572 6566.8014,-1941.1666"/>
<polygon fill="#000000" stroke="#000000" points="6570.1313,-1942.2447 6569.9688,-1931.6511 6563.4896,-1940.0338 6570.1313,-1942.2447"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="7411.5,-1546.9171 7038.5,-1546.9171 7038.5,-1384.9165 7411.5,-1384.9165 7411.5,-1546.9171"/>
<text text-anchor="middle" x="7225" y="-1531.7169" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Deprecated, but useful if I want, y&#39;know, a REPL</text>
<text text-anchor="middle" x="7225" y="-1516.3169" font-family="Inconsolata" font-size="14.00" fill="#000000">local function onread(err, line)</text>
<text text-anchor="middle" x="7225" y="-1500.9169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if err then error(err) end</text>
<text text-anchor="middle" x="7225" y="-1485.5168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if line then</text>
<text text-anchor="middle" x="7225" y="-1470.1168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local prompt = evaluateLine(line)</text>
<text text-anchor="middle" x="7225" y="-1454.7168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;displayPrompt(prompt)</text>
<text text-anchor="middle" x="7225" y="-1439.3167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="7225" y="-1423.9167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;uv.close(stdin)</text>
<text text-anchor="middle" x="7225" y="-1408.5167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="7225" y="-1393.1167" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_100&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>codeblock_100&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7001.871,-1967.6189C7010.7124,-1957.5568 7021.277,-1944.4857 7029,-1931.6319 7102.7078,-1808.9563 7162.0725,-1653.4947 7195.4399,-1556.8594"/>
<polygon fill="#000000" stroke="#000000" points="7198.8485,-1557.7096 7198.7852,-1547.1149 7192.2277,-1555.4366 7198.8485,-1557.7096"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="5986,-561.2009 5932,-561.2009 5932,-525.2009 5986,-525.2009 5986,-561.2009"/>
</g>
<!-- raw_102&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>raw_102&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5959,-1447.8989C5959,-1333.8757 5959,-712.8069 5959,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="5962.5001,-571.3342 5959,-561.3343 5955.5001,-571.3343 5962.5001,-571.3342"/>
</g>
<!-- leaf_110 -->
<g id="node111" class="node">
<title>leaf_110</title>
<polygon fill="none" stroke="#c0c0c0" points="7508.5,-1483.9168 7429.5,-1483.9168 7429.5,-1447.9168 7508.5,-1447.9168 7508.5,-1483.9168"/>
<text text-anchor="middle" x="7469" y="-1462.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">** Reader</text>
</g>
<!-- header_107&#45;&gt;leaf_110 -->
<g id="edge110" class="edge">
<title>header_107&#45;&gt;leaf_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7529.4064,-1967.4499C7525.3977,-1957.1204 7520.752,-1943.8481 7518,-1931.6319 7481.2916,-1768.6829 7471.9436,-1567.322 7469.6832,-1494.1578"/>
<polygon fill="#000000" stroke="#000000" points="7473.1751,-1493.8212 7469.3884,-1483.9262 7466.178,-1494.0229 7473.1751,-1493.8212"/>
</g>
<!-- raw_111 -->
<g id="node112" class="node">
<title>raw_111</title>
<ellipse fill="none" stroke="#000000" cx="7554" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="7554" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_108&#45;&gt;raw_111 -->
<g id="edge111" class="edge">
<title>prose_108&#45;&gt;raw_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7747.6657,-1981.0539C7699.2922,-1973.3003 7609.9127,-1956.0148 7590,-1931.6319 7482.71,-1800.2566 7526.7084,-1572.6691 7546.3998,-1493.7878"/>
<polygon fill="#000000" stroke="#000000" points="7549.9008,-1494.2261 7548.9988,-1483.6698 7543.1209,-1492.4846 7549.9008,-1494.2261"/>
</g>
<!-- prespace_112 -->
<g id="node113" class="node">
<title>prespace_112</title>
<ellipse fill="none" stroke="#000000" cx="7645" cy="-1465.9168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="7645" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_108&#45;&gt;prespace_112 -->
<g id="edge112" class="edge">
<title>prose_108&#45;&gt;prespace_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7753.1789,-1974.7718C7735.4332,-1965.8825 7712.9888,-1951.521 7701,-1931.6319 7613.8474,-1787.0475 7631.1223,-1571.2346 7640.8477,-1494.3639"/>
<polygon fill="#000000" stroke="#000000" points="7644.3696,-1494.4288 7642.2144,-1484.0555 7637.4303,-1493.5086 7644.3696,-1494.4288"/>
</g>
<!-- literal_113 -->
<g id="node114" class="node">
<title>literal_113</title>
<ellipse fill="none" stroke="#000000" cx="7741" cy="-1465.9168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="7741" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_108&#45;&gt;literal_113 -->
<g id="edge113" class="edge">
<title>prose_108&#45;&gt;literal_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7777.6698,-1967.4397C7772.0153,-1890.1039 7749.9491,-1588.3115 7743.0639,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="7746.5394,-1493.6794 7742.3194,-1483.9613 7739.558,-1494.19 7746.5394,-1493.6794"/>
</g>
<!-- raw_114 -->
<g id="node115" class="node">
<title>raw_114</title>
<ellipse fill="none" stroke="#000000" cx="7817" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="7817" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_108&#45;&gt;raw_114 -->
<g id="edge114" class="edge">
<title>prose_108&#45;&gt;raw_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7780.3302,-1967.4397C7785.9847,-1890.1039 7808.0509,-1588.3115 7814.9361,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="7818.442,-1494.19 7815.6806,-1483.9613 7811.4606,-1493.6794 7818.442,-1494.19"/>
</g>
<!-- prespace_115 -->
<g id="node116" class="node">
<title>prespace_115</title>
<ellipse fill="none" stroke="#000000" cx="7967" cy="-1465.9168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="7967" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_108&#45;&gt;prespace_115 -->
<g id="edge115" class="edge">
<title>prose_108&#45;&gt;prespace_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7803.5324,-1973.6129C7819.9375,-1964.3401 7840.6964,-1949.9985 7853,-1931.6319 7949.0393,-1788.2657 7964.2919,-1571.6981 7966.6196,-1494.4961"/>
<polygon fill="#000000" stroke="#000000" points="7970.1273,-1494.2262 7966.8773,-1484.1422 7963.1295,-1494.052 7970.1273,-1494.2262"/>
</g>
<!-- literal_116 -->
<g id="node117" class="node">
<title>literal_116</title>
<ellipse fill="none" stroke="#000000" cx="8093" cy="-1465.9168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="8093" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_108&#45;&gt;literal_116 -->
<g id="edge116" class="edge">
<title>prose_108&#45;&gt;literal_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7811.1931,-1982.9216C7870.5079,-1977.24 7993.5946,-1962.0188 8022,-1931.6319 8139.0595,-1806.4068 8112.0337,-1574.0653 8098.3874,-1493.9387"/>
<polygon fill="#000000" stroke="#000000" points="8101.8337,-1493.3271 8096.6445,-1484.0901 8094.9408,-1494.547 8101.8337,-1493.3271"/>
</g>
<!-- raw_117 -->
<g id="node118" class="node">
<title>raw_117</title>
<ellipse fill="none" stroke="#000000" cx="8184" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="8184" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_108&#45;&gt;raw_117 -->
<g id="edge117" class="edge">
<title>prose_108&#45;&gt;raw_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7811.0965,-1982.9546C7894.0743,-1975.7281 8110.7905,-1954.8013 8133,-1931.6319 8251.2359,-1808.2856 8209.7688,-1573.7806 8191.0825,-1493.6013"/>
<polygon fill="#000000" stroke="#000000" points="8194.4574,-1492.6657 8188.7198,-1483.7589 8187.6507,-1494.2997 8194.4574,-1492.6657"/>
</g>
<!-- header_125 -->
<g id="node126" class="node">
<title>header_125</title>
<ellipse fill="none" stroke="#000000" cx="8347" cy="-1465.9168" rx="111.2326" ry="18"/>
<text text-anchor="middle" x="8347" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : process_escapes(seq)</text>
</g>
<!-- section_109&#45;&gt;header_125 -->
<g id="edge125" class="edge">
<title>section_109&#45;&gt;header_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8492.6221,-1967.8405C8484.1909,-1957.8433 8474.3724,-1944.7635 8468,-1931.6319 8392.7411,-1776.5466 8360.1909,-1568.8867 8350.396,-1494.1731"/>
<polygon fill="#000000" stroke="#000000" points="8353.8529,-1493.6122 8349.1136,-1484.1365 8346.9094,-1494.4995 8353.8529,-1493.6122"/>
</g>
<!-- prose_126 -->
<g id="node127" class="node">
<title>prose_126</title>
<ellipse fill="none" stroke="#000000" cx="8509" cy="-1465.9168" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8509" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_109&#45;&gt;prose_126 -->
<g id="edge126" class="edge">
<title>section_109&#45;&gt;prose_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8509,-1967.4397C8509,-1890.1039 8509,-1588.3115 8509,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="8512.5001,-1493.9613 8509,-1483.9613 8505.5001,-1493.9614 8512.5001,-1493.9613"/>
</g>
<!-- codeblock_127 -->
<g id="node128" class="node">
<title>codeblock_127</title>
<ellipse fill="none" stroke="#000000" cx="8727" cy="-1465.9168" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="8727" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 212&#45;267</text>
</g>
<!-- section_109&#45;&gt;codeblock_127 -->
<g id="edge127" class="edge">
<title>section_109&#45;&gt;codeblock_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8524.8149,-1967.5481C8533.0811,-1957.4652 8542.9217,-1944.3968 8550,-1931.6319 8636.5557,-1775.5382 8698.576,-1568.4956 8719.3768,-1494.0593"/>
<polygon fill="#000000" stroke="#000000" points="8722.8497,-1494.6323 8722.1447,-1484.0609 8716.1035,-1492.7646 8722.8497,-1494.6323"/>
</g>
<!-- codeblock_128 -->
<g id="node129" class="node">
<title>codeblock_128</title>
<ellipse fill="none" stroke="#000000" cx="9131" cy="-1465.9168" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9131" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 269&#45;302</text>
</g>
<!-- section_109&#45;&gt;codeblock_128 -->
<g id="edge128" class="edge">
<title>section_109&#45;&gt;codeblock_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8580.6531,-1979.9142C8660.6571,-1972.3965 8784.036,-1957.0707 8823,-1931.6319 8994.2459,-1819.829 9092.4242,-1575.9987 9121.6611,-1493.6907"/>
<polygon fill="#000000" stroke="#000000" points="9125.039,-1494.634 9125.0345,-1484.0391 9118.431,-1492.3243 9125.039,-1494.634"/>
</g>
<!-- leaf_118 -->
<g id="node119" class="node">
<title>leaf_118</title>
<polygon fill="none" stroke="#c0c0c0" points="7481,-571.1024 7199,-571.1024 7199,-515.2994 7481,-515.2994 7481,-571.1024"/>
<text text-anchor="middle" x="7340" y="-523.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">The reader takes a stream of data from</text>
</g>
<!-- raw_111&#45;&gt;leaf_118 -->
<g id="edge118" class="edge">
<title>raw_111&#45;&gt;leaf_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7556.0637,-1447.8074C7562.6227,-1383.976 7579.0876,-1164.458 7517,-1000.2017 7509.9285,-981.4935 7499.4634,-981.8211 7490,-964.2017 7418.4683,-831.0206 7368.9331,-656.7015 7349.3462,-581.0067"/>
<polygon fill="#000000" stroke="#000000" points="7352.6538,-579.8138 7346.782,-570.9949 7345.8726,-581.5506 7352.6538,-579.8138"/>
</g>
<!-- leaf_119 -->
<g id="node120" class="node">
<title>leaf_119</title>
<polygon fill="none" stroke="#c0c0c0" points="7553,-561.2009 7499,-561.2009 7499,-525.2009 7553,-525.2009 7553,-561.2009"/>
<text text-anchor="middle" x="7526" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_112&#45;&gt;leaf_119 -->
<g id="edge119" class="edge">
<title>prespace_112&#45;&gt;leaf_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7646.2539,-1447.723C7649.9814,-1383.6115 7656.8991,-1163.2767 7590,-1000.2017 7582.3068,-981.4485 7569.3898,-983.0764 7562,-964.2017 7507.5473,-825.1208 7516.9391,-640.9618 7523.0641,-571.4078"/>
<polygon fill="#000000" stroke="#000000" points="7526.5674,-571.5346 7524.0088,-561.2533 7519.5975,-570.8861 7526.5674,-571.5346"/>
</g>
<!-- leaf_120 -->
<g id="node121" class="node">
<title>leaf_120</title>
<polygon fill="none" stroke="#c0c0c0" points="7625,-561.2009 7571,-561.2009 7571,-525.2009 7625,-525.2009 7625,-561.2009"/>
<text text-anchor="middle" x="7598" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">stdin</text>
</g>
<!-- literal_113&#45;&gt;leaf_120 -->
<g id="edge120" class="edge">
<title>literal_113&#45;&gt;leaf_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7744.9641,-1447.9646C7758.5027,-1381.8688 7796.9137,-1148.2429 7700,-1000.2017 7681.6991,-972.246 7652.2658,-992.1803 7634,-964.2017 7551.8003,-838.2928 7578.1542,-644.1049 7591.9244,-571.7006"/>
<polygon fill="#000000" stroke="#000000" points="7595.4274,-572.0269 7593.9292,-561.5385 7588.5598,-570.6719 7595.4274,-572.0269"/>
</g>
<!-- leaf_121 -->
<g id="node122" class="node">
<title>leaf_121</title>
<polygon fill="none" stroke="#c0c0c0" points="7974.5,-562.5014 7643.5,-562.5014 7643.5,-523.9003 7974.5,-523.9003 7974.5,-562.5014"/>
<text text-anchor="middle" x="7809" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">, asynchronously, and</text>
<text text-anchor="middle" x="7809" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">processes it into tokens, which stream to the</text>
</g>
<!-- raw_114&#45;&gt;leaf_121 -->
<g id="edge121" class="edge">
<title>raw_114&#45;&gt;leaf_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7816.8438,-1447.8989C7815.8585,-1334.2517 7810.506,-716.8977 7809.2595,-573.1324"/>
<polygon fill="#000000" stroke="#000000" points="7812.7573,-572.847 7809.1706,-562.8778 7805.7575,-572.9078 7812.7573,-572.847"/>
</g>
<!-- leaf_122 -->
<g id="node123" class="node">
<title>leaf_122</title>
<polygon fill="none" stroke="#c0c0c0" points="8047,-561.2009 7993,-561.2009 7993,-525.2009 8047,-525.2009 8047,-561.2009"/>
<text text-anchor="middle" x="8020" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_115&#45;&gt;leaf_122 -->
<g id="edge122" class="edge">
<title>prespace_115&#45;&gt;leaf_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7968.0349,-1447.8989C7974.5843,-1333.8757 8010.258,-712.8069 8018.3618,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="8021.8791,-571.5185 8018.9584,-561.3343 8014.8907,-571.1171 8021.8791,-571.5185"/>
</g>
<!-- leaf_123 -->
<g id="node124" class="node">
<title>leaf_123</title>
<polygon fill="none" stroke="#c0c0c0" points="8165,-561.2009 8065,-561.2009 8065,-525.2009 8165,-525.2009 8165,-561.2009"/>
<text text-anchor="middle" x="8115" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">modeselektor</text>
</g>
<!-- literal_116&#45;&gt;leaf_123 -->
<g id="edge123" class="edge">
<title>literal_116&#45;&gt;leaf_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8093.4296,-1447.8989C8096.1482,-1333.8757 8110.9561,-712.8069 8114.32,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="8117.8282,-571.4149 8114.5677,-561.3343 8110.8302,-571.248 8117.8282,-571.4149"/>
</g>
<!-- leaf_124 -->
<g id="node125" class="node">
<title>leaf_124</title>
<polygon fill="none" stroke="#c0c0c0" points="8237,-561.2009 8183,-561.2009 8183,-525.2009 8237,-525.2009 8237,-561.2009"/>
<text text-anchor="middle" x="8210" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_117&#45;&gt;leaf_124 -->
<g id="edge124" class="edge">
<title>raw_117&#45;&gt;leaf_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8184.5077,-1447.8989C8187.7206,-1333.8757 8205.2209,-712.8069 8209.1964,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="8212.7059,-571.4289 8209.489,-561.3343 8205.7087,-571.2317 8212.7059,-571.4289"/>
</g>
<!-- leaf_129 -->
<g id="node130" class="node">
<title>leaf_129</title>
<polygon fill="none" stroke="#c0c0c0" points="8439,-561.2009 8255,-561.2009 8255,-525.2009 8439,-525.2009 8439,-561.2009"/>
<text text-anchor="middle" x="8347" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">*** process_escapes(seq)</text>
</g>
<!-- header_125&#45;&gt;leaf_129 -->
<g id="edge129" class="edge">
<title>header_125&#45;&gt;leaf_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8347,-1447.8989C8347,-1333.8757 8347,-712.8069 8347,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="8350.5001,-571.3342 8347,-561.3343 8343.5001,-571.3343 8350.5001,-571.3342"/>
</g>
<!-- raw_130 -->
<g id="node131" class="node">
<title>raw_130</title>
<ellipse fill="none" stroke="#000000" cx="8484" cy="-543.2009" rx="27" ry="18"/>
<text text-anchor="middle" x="8484" y="-539.0009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_126&#45;&gt;raw_130 -->
<g id="edge130" class="edge">
<title>prose_126&#45;&gt;raw_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8508.5118,-1447.8989C8505.4225,-1333.8757 8488.5953,-712.8069 8484.7727,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="8488.261,-571.2358 8484.4913,-561.3343 8481.2635,-571.4254 8488.261,-571.2358"/>
</g>
<!-- leaf_132 -->
<g id="node133" class="node">
<title>leaf_132</title>
<polygon fill="none" stroke="#c0c0c0" points="9084.5,-964.2024 8529.5,-964.2024 8529.5,-122.1993 9084.5,-122.1993 9084.5,-964.2024"/>
<text text-anchor="middle" x="8807" y="-933.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">local byte, sub = string.byte, string.sub</text>
<text text-anchor="middle" x="8807" y="-917.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">local m_parse, is_mouse = a.mouse.parse_fast, a.mouse.ismousemove</text>
<text text-anchor="middle" x="8807" y="-902.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">local navigation, is_nav = a.navigation, a.is_nav</text>
<text text-anchor="middle" x="8807" y="-870.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">local function process_escapes(seq)</text>
<text text-anchor="middle" x="8807" y="-855.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if is_nav(seq) then</text>
<text text-anchor="middle" x="8807" y="-840.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NAV&quot;, navigation[seq] )</text>
<text text-anchor="middle" x="8807" y="-824.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif #seq == 1 then</text>
<text text-anchor="middle" x="8807" y="-809.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;modeS(&quot;NAV&quot;, &quot;ESC&quot;) &#45;&#45; I think of escape as navigation in modal systems</text>
<text text-anchor="middle" x="8807" y="-793.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8807" y="-778.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if is_mouse(seq) then</text>
<text text-anchor="middle" x="8807" y="-763.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local m = m_parse(seq)</text>
<text text-anchor="middle" x="8807" y="-747.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;MOUSE&quot;, m)</text>
<text text-anchor="middle" x="8807" y="-732.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif #seq == 2 and byte(sub(seq,2,2)) &lt; 128 then</text>
<text text-anchor="middle" x="8807" y="-716.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; Meta</text>
<text text-anchor="middle" x="8807" y="-701.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local key = &quot;M&#45;&quot; .. sub(seq,2,2)</text>
<text text-anchor="middle" x="8807" y="-686.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;ALT&quot;, key)</text>
<text text-anchor="middle" x="8807" y="-670.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8807" y="-655.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NYI&quot;, seq)</text>
<text text-anchor="middle" x="8807" y="-639.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8807" y="-624.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="8807" y="-593.001" font-family="Inconsolata" font-size="14.00" fill="#000000">local navigation = a.navigation</text>
<text text-anchor="middle" x="8807" y="-561.601" font-family="Inconsolata" font-size="14.00" fill="#000000">local function onseq(err,seq)</text>
<text text-anchor="middle" x="8807" y="-546.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if err then error(err) end</text>
<text text-anchor="middle" x="8807" y="-530.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local head = byte(seq)</text>
<text text-anchor="middle" x="8807" y="-515.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; ^Q hard coded as quit, for now</text>
<text text-anchor="middle" x="8807" y="-500.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head == 17 then</text>
<text text-anchor="middle" x="8807" y="-484.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;femto.cooked()</text>
<text text-anchor="middle" x="8807" y="-469.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;write(a.mouse.track(false))</text>
<text text-anchor="middle" x="8807" y="-453.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uv.stop()</text>
<text text-anchor="middle" x="8807" y="-438.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="8807" y="-423.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8807" y="-407.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Escape sequences</text>
<text text-anchor="middle" x="8807" y="-392.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head == 27 then</text>
<text text-anchor="middle" x="8807" y="-376.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return process_escapes(seq)</text>
<text text-anchor="middle" x="8807" y="-361.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8807" y="-346.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Control sequences</text>
<text text-anchor="middle" x="8807" y="-330.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head &lt;= 31 and not navigation[seq] then</text>
<text text-anchor="middle" x="8807" y="-315.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local ctrl = &quot;^&quot; .. string.char(head + 64)</text>
<text text-anchor="middle" x="8807" y="-299.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;CTRL&quot;, ctrl)</text>
<text text-anchor="middle" x="8807" y="-284.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif navigation[seq] then</text>
<text text-anchor="middle" x="8807" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NAV&quot;, navigation[seq])</text>
<text text-anchor="middle" x="8807" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8807" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Printables</text>
<text text-anchor="middle" x="8807" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head &gt; 31 and head &lt; 127 then</text>
<text text-anchor="middle" x="8807" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;ASCII&quot;, seq)</text>
<text text-anchor="middle" x="8807" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8807" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; wchars go here</text>
<text text-anchor="middle" x="8807" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NYI&quot;, seq)</text>
<text text-anchor="middle" x="8807" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8807" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_127&#45;&gt;leaf_132 -->
<g id="edge132" class="edge">
<title>codeblock_127&#45;&gt;leaf_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8728.5622,-1447.8989C8733.9059,-1386.2642 8752.0946,-1176.4764 8769.6124,-974.428"/>
<polygon fill="#000000" stroke="#000000" points="8773.122,-974.4675 8770.4989,-964.2025 8766.1481,-973.8628 8773.122,-974.4675"/>
</g>
<!-- leaf_133 -->
<g id="node134" class="node">
<title>leaf_133</title>
<polygon fill="none" stroke="#c0c0c0" points="9419.5,-804.1594 9102.5,-804.1594 9102.5,-282.2424 9419.5,-282.2424 9419.5,-804.1594"/>
<text text-anchor="middle" x="9261" y="-788.73" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Get names for as many values as possible</text>
<text text-anchor="middle" x="9261" y="-773.33" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; into the colorizer</text>
<text text-anchor="middle" x="9261" y="-757.93" font-family="Inconsolata" font-size="14.00" fill="#000000">color.allNames()</text>
<text text-anchor="middle" x="9261" y="-742.5299" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; This switches screens and does a wipe,</text>
<text text-anchor="middle" x="9261" y="-727.1299" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; then puts the cursor at 1,1.</text>
<text text-anchor="middle" x="9261" y="-711.7299" font-family="Inconsolata" font-size="14.00" fill="#000000">write &quot;\x1b[?47h\x1b[2J\x1b[H&quot;</text>
<text text-anchor="middle" x="9261" y="-696.3298" font-family="Inconsolata" font-size="14.00" fill="#000000">print &quot;an repl, plz reply uwu &quot;</text>
<text text-anchor="middle" x="9261" y="-672.1011" font-family="Inconsolata" font-size="14.00" fill="#000000">displayPrompt &#39; &#160;&#39;</text>
<text text-anchor="middle" x="9261" y="-647.8723" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Crude hack to choose raw mode at runtime</text>
<text text-anchor="middle" x="9261" y="-632.4723" font-family="Inconsolata" font-size="14.00" fill="#000000">if arg[1] == &quot;&#45;r&quot; then</text>
<text text-anchor="middle" x="9261" y="-617.0723" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;femto.raw()</text>
<text text-anchor="middle" x="9261" y="-601.6722" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45;uv.tty_set_mode(stdin, 2)</text>
<text text-anchor="middle" x="9261" y="-586.2722" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; mouse mode</text>
<text text-anchor="middle" x="9261" y="-570.8722" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;write(a.mouse.track(true))</text>
<text text-anchor="middle" x="9261" y="-555.4721" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.read_start(stdin, onseq)</text>
<text text-anchor="middle" x="9261" y="-540.0721" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="9261" y="-524.6721" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.read_start(stdin, onread)</text>
<text text-anchor="middle" x="9261" y="-509.272" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="9261" y="-445.872" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; main loop</text>
<text text-anchor="middle" x="9261" y="-430.472" font-family="Inconsolata" font-size="14.00" fill="#000000">local retcode = &#160;uv.run(&#39;default&#39;)</text>
<text text-anchor="middle" x="9261" y="-415.0719" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Restore main screen</text>
<text text-anchor="middle" x="9261" y="-399.6719" font-family="Inconsolata" font-size="14.00" fill="#000000">print &#39;\x1b[?47l&#39;</text>
<text text-anchor="middle" x="9261" y="-368.2719" font-family="Inconsolata" font-size="14.00" fill="#000000">if retcode ~= true then</text>
<text text-anchor="middle" x="9261" y="-352.8719" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;error(retcode)</text>
<text text-anchor="middle" x="9261" y="-337.4718" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="9261" y="-306.0718" font-family="Inconsolata" font-size="14.00" fill="#000000">print(&quot;kthxbye&quot;)</text>
<text text-anchor="middle" x="9261" y="-290.6718" font-family="Inconsolata" font-size="14.00" fill="#000000">return retcode</text>
</g>
<!-- codeblock_128&#45;&gt;leaf_133 -->
<g id="edge133" class="edge">
<title>codeblock_128&#45;&gt;leaf_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9133.5385,-1447.8989C9144.5849,-1369.494 9189.4084,-1051.345 9222.7968,-814.3602"/>
<polygon fill="#000000" stroke="#000000" points="9226.2989,-814.5901 9224.2283,-804.1996 9219.3673,-813.6135 9226.2989,-814.5901"/>
</g>
<!-- leaf_131 -->
<g id="node132" class="node">
<title>leaf_131</title>
<polygon fill="none" stroke="#c0c0c0" points="8511,-61.1 8457,-61.1 8457,-25.1 8511,-25.1 8511,-61.1"/>
</g>
<!-- raw_130&#45;&gt;leaf_131 -->
<g id="edge131" class="edge">
<title>raw_130&#45;&gt;leaf_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8484,-525.1066C8484,-450.057 8484,-162.9178 8484,-71.3411"/>
<polygon fill="#000000" stroke="#000000" points="8487.5001,-71.17 8484,-61.17 8480.5001,-71.1701 8487.5001,-71.17"/>
</g>
</g>
</svg>
