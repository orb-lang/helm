<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="7437pt" height="3058pt"
 viewBox="0.00 0.00 7437.00 3057.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 3053.6045)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-3053.6045 7433,-3053.6045 7433,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="593.5" cy="-3031.6045" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="593.5" y="-3027.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 424</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="593.5" cy="-2959.6045" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="593.5" y="-2955.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;155</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M593.5,-3013.4359C593.5,-3005.7354 593.5,-2996.5788 593.5,-2988.0211"/>
<polygon fill="#000000" stroke="#000000" points="597.0001,-2988.0177 593.5,-2978.0178 590.0001,-2988.0178 597.0001,-2988.0177"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="413.5" cy="-2887.6045" rx="47.4168" ry="18"/>
<text text-anchor="middle" x="413.5" y="-2883.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Femto</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M556.2039,-2944.686C526.9345,-2932.9783 486.1825,-2916.6775 455.7178,-2904.4916"/>
<polygon fill="#000000" stroke="#000000" points="456.8003,-2901.1551 446.2157,-2900.6908 454.2006,-2907.6544 456.8003,-2901.1551"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="511.5" cy="-2887.6045" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="511.5" y="-2883.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M573.6501,-2942.1753C562.5588,-2932.4366 548.6239,-2920.2011 536.7613,-2909.7852"/>
<polygon fill="#000000" stroke="#000000" points="538.764,-2906.8859 528.9403,-2902.9179 534.1454,-2912.146 538.764,-2906.8859"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="593.5" cy="-2887.6045" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="593.5" y="-2883.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M593.5,-2941.4359C593.5,-2933.7354 593.5,-2924.5788 593.5,-2916.0211"/>
<polygon fill="#000000" stroke="#000000" points="597.0001,-2916.0177 593.5,-2906.0178 590.0001,-2916.0178 597.0001,-2916.0177"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="818.5" cy="-2887.6045" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="818.5" y="-2883.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 9&#45;37</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M636.3504,-2945.8924C673.6112,-2933.9689 727.6778,-2916.6676 767.2268,-2904.0119"/>
<polygon fill="#000000" stroke="#000000" points="768.4923,-2907.2819 776.9498,-2900.9005 766.3589,-2900.6149 768.4923,-2907.2819"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="2641.5" cy="-2887.6045" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="2641.5" y="-2883.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 156&#45;224</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M658.7469,-2957.3107C960.0886,-2946.7166 2216.9252,-2902.531 2556.576,-2890.5901"/>
<polygon fill="#000000" stroke="#000000" points="2556.7245,-2894.0871 2566.5954,-2890.2379 2556.4785,-2887.0915 2556.7245,-2894.0871"/>
</g>
<!-- leaf_7 -->
<g id="node8" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="449.5,-2833.6045 377.5,-2833.6045 377.5,-2797.6045 449.5,-2797.6045 449.5,-2833.6045"/>
<text text-anchor="middle" x="413.5" y="-2812.1045" font-family="Inconsolata" font-size="14.00" fill="#000000">* &#160;Femto</text>
</g>
<!-- header_2&#45;&gt;leaf_7 -->
<g id="edge7" class="edge">
<title>header_2&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M413.5,-2869.4359C413.5,-2861.7354 413.5,-2852.5788 413.5,-2844.0211"/>
<polygon fill="#000000" stroke="#000000" points="417.0001,-2844.0177 413.5,-2834.0178 410.0001,-2844.0178 417.0001,-2844.0177"/>
</g>
<!-- raw_8 -->
<g id="node9" class="node">
<title>raw_8</title>
<ellipse fill="none" stroke="#000000" cx="502.5" cy="-2815.6045" rx="27" ry="18"/>
<text text-anchor="middle" x="502.5" y="-2811.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_8 -->
<g id="edge8" class="edge">
<title>prose_3&#45;&gt;raw_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M509.2289,-2869.4359C508.2664,-2861.7354 507.1218,-2852.5788 506.0521,-2844.0211"/>
<polygon fill="#000000" stroke="#000000" points="509.5151,-2843.5064 504.8017,-2834.0178 502.5691,-2844.3747 509.5151,-2843.5064"/>
</g>
<!-- raw_10 -->
<g id="node11" class="node">
<title>raw_10</title>
<ellipse fill="none" stroke="#000000" cx="583.5" cy="-2815.6045" rx="27" ry="18"/>
<text text-anchor="middle" x="583.5" y="-2811.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_10 -->
<g id="edge10" class="edge">
<title>prose_4&#45;&gt;raw_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M590.9766,-2869.4359C589.9071,-2861.7354 588.6353,-2852.5788 587.4468,-2844.0211"/>
<polygon fill="#000000" stroke="#000000" points="590.8999,-2843.4412 586.0574,-2834.0178 583.9664,-2844.4042 590.8999,-2843.4412"/>
</g>
<!-- header_12 -->
<g id="node13" class="node">
<title>header_12</title>
<ellipse fill="none" stroke="#000000" cx="713.5" cy="-2815.6045" rx="54.6851" ry="18"/>
<text text-anchor="middle" x="713.5" y="-2811.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : includes</text>
</g>
<!-- section_5&#45;&gt;header_12 -->
<g id="edge12" class="edge">
<title>section_5&#45;&gt;header_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M794.147,-2870.9053C779.7322,-2861.0209 761.2981,-2848.3804 745.6936,-2837.6801"/>
<polygon fill="#000000" stroke="#000000" points="747.5856,-2834.7337 737.3589,-2831.9649 743.6269,-2840.5068 747.5856,-2834.7337"/>
</g>
<!-- prose_13 -->
<g id="node14" class="node">
<title>prose_13</title>
<ellipse fill="none" stroke="#000000" cx="818.5" cy="-2815.6045" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="818.5" y="-2811.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_13 -->
<g id="edge13" class="edge">
<title>section_5&#45;&gt;prose_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M818.5,-2869.4359C818.5,-2861.7354 818.5,-2852.5788 818.5,-2844.0211"/>
<polygon fill="#000000" stroke="#000000" points="822.0001,-2844.0177 818.5,-2834.0178 815.0001,-2844.0178 822.0001,-2844.0177"/>
</g>
<!-- codeblock_14 -->
<g id="node15" class="node">
<title>codeblock_14</title>
<ellipse fill="none" stroke="#000000" cx="958.5" cy="-2815.6045" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="958.5" y="-2811.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 14&#45;35</text>
</g>
<!-- section_5&#45;&gt;codeblock_14 -->
<g id="edge14" class="edge">
<title>section_5&#45;&gt;codeblock_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M848.8779,-2871.9816C868.8623,-2861.7039 895.2711,-2848.1222 917.1604,-2836.8649"/>
<polygon fill="#000000" stroke="#000000" points="918.9407,-2839.8851 926.2329,-2832.199 915.7392,-2833.66 918.9407,-2839.8851"/>
</g>
<!-- section_15 -->
<g id="node16" class="node">
<title>section_15</title>
<ellipse fill="none" stroke="#000000" cx="1187.5" cy="-2815.6045" rx="70.655" ry="18"/>
<text text-anchor="middle" x="1187.5" y="-2811.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 38&#45;155</text>
</g>
<!-- section_5&#45;&gt;section_15 -->
<g id="edge15" class="edge">
<title>section_5&#45;&gt;section_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M869.4205,-2877.6688C935.0376,-2864.8654 1049.2402,-2842.582 1121.4681,-2828.4888"/>
<polygon fill="#000000" stroke="#000000" points="1122.2272,-2831.9067 1131.3718,-2826.5563 1120.8866,-2825.0363 1122.2272,-2831.9067"/>
</g>
<!-- header_27 -->
<g id="node28" class="node">
<title>header_27</title>
<ellipse fill="none" stroke="#000000" cx="2158.5" cy="-2815.6045" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="2158.5" y="-2811.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Reader</text>
</g>
<!-- section_6&#45;&gt;header_27 -->
<g id="edge27" class="edge">
<title>section_6&#45;&gt;header_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2577.3613,-2878.0434C2482.6025,-2863.9179 2306.6502,-2837.689 2215.9131,-2824.163"/>
<polygon fill="#000000" stroke="#000000" points="2216.2182,-2820.6699 2205.8114,-2822.6571 2215.186,-2827.5933 2216.2182,-2820.6699"/>
</g>
<!-- prose_28 -->
<g id="node29" class="node">
<title>prose_28</title>
<ellipse fill="none" stroke="#000000" cx="2345.5" cy="-2815.6045" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2345.5" y="-2811.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_28 -->
<g id="edge28" class="edge">
<title>section_6&#45;&gt;prose_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2588.5811,-2874.7323C2530.276,-2860.55 2437.8293,-2838.063 2385.3457,-2825.2967"/>
<polygon fill="#000000" stroke="#000000" points="2385.9477,-2821.8411 2375.4038,-2822.8784 2384.2932,-2828.6428 2385.9477,-2821.8411"/>
</g>
<!-- section_29 -->
<g id="node30" class="node">
<title>section_29</title>
<ellipse fill="none" stroke="#000000" cx="2944.5" cy="-2815.6045" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="2944.5" y="-2811.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 162&#45;185</text>
</g>
<!-- section_6&#45;&gt;section_29 -->
<g id="edge29" class="edge">
<title>section_6&#45;&gt;section_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2695.3212,-2874.8153C2747.2718,-2862.4706 2825.9358,-2843.7782 2880.9418,-2830.7074"/>
<polygon fill="#000000" stroke="#000000" points="2882.0056,-2834.0522 2890.9255,-2828.3351 2880.3873,-2827.2418 2882.0056,-2834.0522"/>
</g>
<!-- section_30 -->
<g id="node31" class="node">
<title>section_30</title>
<ellipse fill="none" stroke="#000000" cx="3875.5" cy="-2815.6045" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="3875.5" y="-2811.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 186&#45;224</text>
</g>
<!-- section_6&#45;&gt;section_30 -->
<g id="edge30" class="edge">
<title>section_6&#45;&gt;section_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2714.9968,-2883.3162C2931.0255,-2870.7116 3563.118,-2833.831 3791.7469,-2820.4912"/>
<polygon fill="#000000" stroke="#000000" points="3792.2205,-2823.9696 3801.9996,-2819.893 3791.8127,-2816.9815 3792.2205,-2823.9696"/>
</g>
<!-- section_31 -->
<g id="node32" class="node">
<title>section_31</title>
<ellipse fill="none" stroke="#000000" cx="5855.5" cy="-2815.6045" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="5855.5" y="-2811.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 225&#45;424</text>
</g>
<!-- section_6&#45;&gt;section_31 -->
<g id="edge31" class="edge">
<title>section_6&#45;&gt;section_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2716.9945,-2885.9133C3149.706,-2876.2197 5311.6784,-2827.7872 5770.0242,-2817.5193"/>
<polygon fill="#000000" stroke="#000000" points="5770.2925,-2821.0143 5780.2116,-2817.2911 5770.1357,-2814.016 5770.2925,-2821.0143"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="443,-2637.1055 0,-2637.1055 0,-2565.3031 443,-2565.3031 443,-2637.1055"/>
<text text-anchor="middle" x="221.5" y="-2573.7043" font-family="Inconsolata" font-size="14.00" fill="#000000">I just got orb stood up in the pylon bootloader distribution.</text>
</g>
<!-- raw_8&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>raw_8&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M484.4947,-2801.8666C443.2566,-2770.4023 340.5835,-2692.0638 276.4064,-2643.0973"/>
<polygon fill="#000000" stroke="#000000" points="278.4642,-2640.265 268.3909,-2636.9816 274.218,-2645.8301 278.4642,-2640.265"/>
</g>
<!-- leaf_11 -->
<g id="node12" class="node">
<title>leaf_11</title>
<polygon fill="none" stroke="#c0c0c0" points="645.5,-2629.1058 461.5,-2629.1058 461.5,-2573.3028 645.5,-2573.3028 645.5,-2629.1058"/>
<text text-anchor="middle" x="553.5" y="-2597.7043" font-family="Inconsolata" font-size="14.00" fill="#000000">I am excited about this.</text>
</g>
<!-- raw_10&#45;&gt;leaf_11 -->
<g id="edge11" class="edge">
<title>raw_10&#45;&gt;leaf_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M580.9422,-2797.3249C576.0549,-2762.3969 565.2986,-2685.5251 558.7987,-2639.0721"/>
<polygon fill="#000000" stroke="#000000" points="562.2534,-2638.5041 557.4013,-2629.0856 555.3209,-2639.4742 562.2534,-2638.5041"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="763.5,-2619.2043 663.5,-2619.2043 663.5,-2583.2043 763.5,-2583.2043 763.5,-2619.2043"/>
<text text-anchor="middle" x="713.5" y="-2597.7043" font-family="Inconsolata" font-size="14.00" fill="#000000">** &#160;includes</text>
</g>
<!-- header_12&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>header_12&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M713.5,-2797.3249C713.5,-2759.9041 713.5,-2674.3384 713.5,-2629.6169"/>
<polygon fill="#000000" stroke="#000000" points="717.0001,-2629.4376 713.5,-2619.4377 710.0001,-2629.4377 717.0001,-2629.4376"/>
</g>
<!-- raw_17 -->
<g id="node18" class="node">
<title>raw_17</title>
<ellipse fill="none" stroke="#000000" cx="808.5" cy="-2601.2043" rx="27" ry="18"/>
<text text-anchor="middle" x="808.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_13&#45;&gt;raw_17 -->
<g id="edge17" class="edge">
<title>prose_13&#45;&gt;raw_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M817.6474,-2797.3249C815.902,-2759.9041 811.9111,-2674.3384 809.8252,-2629.6169"/>
<polygon fill="#000000" stroke="#000000" points="813.3126,-2629.2637 809.3504,-2619.4377 806.3202,-2629.5899 813.3126,-2629.2637"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="1087,-2761.5047 854,-2761.5047 854,-2440.9039 1087,-2440.9039 1087,-2761.5047"/>
<text text-anchor="middle" x="970.5" y="-2746.4045" font-family="Inconsolata" font-size="14.00" fill="#000000">sql = require &quot;sqlite&quot;</text>
<text text-anchor="middle" x="970.5" y="-2715.0045" font-family="Inconsolata" font-size="14.00" fill="#000000">lfs = require &quot;lfs&quot;</text>
<text text-anchor="middle" x="970.5" y="-2699.6044" font-family="Inconsolata" font-size="14.00" fill="#000000">ffi = require &quot;ffi&quot;</text>
<text text-anchor="middle" x="970.5" y="-2684.2044" font-family="Inconsolata" font-size="14.00" fill="#000000">bit = require &quot;bit&quot;</text>
<text text-anchor="middle" x="970.5" y="-2652.8044" font-family="Inconsolata" font-size="14.00" fill="#000000">ffi.reflect = require &quot;reflect&quot;</text>
<text text-anchor="middle" x="970.5" y="-2621.4043" font-family="Inconsolata" font-size="14.00" fill="#000000">uv = require &quot;luv&quot;</text>
<text text-anchor="middle" x="970.5" y="-2590.0043" font-family="Inconsolata" font-size="14.00" fill="#000000">L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="970.5" y="-2558.6043" font-family="Inconsolata" font-size="14.00" fill="#000000">a = require &quot;anterm&quot;</text>
<text text-anchor="middle" x="970.5" y="-2527.2042" font-family="Inconsolata" font-size="14.00" fill="#000000">c = require &quot;color&quot;</text>
<text text-anchor="middle" x="970.5" y="-2511.8042" font-family="Inconsolata" font-size="14.00" fill="#000000">ts = c.ts</text>
<text text-anchor="middle" x="970.5" y="-2480.4042" font-family="Inconsolata" font-size="14.00" fill="#000000">core = require &quot;core&quot;</text>
<text text-anchor="middle" x="970.5" y="-2449.0042" font-family="Inconsolata" font-size="14.00" fill="#000000">watch = require &quot;watcher&quot;</text>
</g>
<!-- codeblock_14&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>codeblock_14&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M959.5231,-2797.3249C959.9142,-2790.3375 960.3992,-2781.6716 960.9458,-2771.9064"/>
<polygon fill="#000000" stroke="#000000" points="964.4473,-2771.9763 961.5117,-2761.7963 957.4582,-2771.585 964.4473,-2771.9763"/>
</g>
<!-- header_20 -->
<g id="node21" class="node">
<title>header_20</title>
<ellipse fill="none" stroke="#000000" cx="1143.5" cy="-2601.2043" rx="38.2457" ry="18"/>
<text text-anchor="middle" x="1143.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : utils</text>
</g>
<!-- section_15&#45;&gt;header_20 -->
<g id="edge20" class="edge">
<title>section_15&#45;&gt;header_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1183.7486,-2797.3249C1176.0335,-2759.7312 1158.3464,-2673.5468 1149.2043,-2628.9998"/>
<polygon fill="#000000" stroke="#000000" points="1152.6188,-2628.2275 1147.1799,-2619.1353 1145.7617,-2629.6348 1152.6188,-2628.2275"/>
</g>
<!-- prose_21 -->
<g id="node22" class="node">
<title>prose_21</title>
<ellipse fill="none" stroke="#000000" cx="1231.5" cy="-2601.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1231.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_15&#45;&gt;prose_21 -->
<g id="edge21" class="edge">
<title>section_15&#45;&gt;prose_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1191.2514,-2797.3249C1198.9665,-2759.7312 1216.6536,-2673.5468 1225.7957,-2628.9998"/>
<polygon fill="#000000" stroke="#000000" points="1229.2383,-2629.6348 1227.8201,-2619.1353 1222.3812,-2628.2275 1229.2383,-2629.6348"/>
</g>
<!-- codeblock_22 -->
<g id="node23" class="node">
<title>codeblock_22</title>
<ellipse fill="none" stroke="#000000" cx="1467.5" cy="-2601.2043" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="1467.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 40&#45;153</text>
</g>
<!-- section_15&#45;&gt;codeblock_22 -->
<g id="edge22" class="edge">
<title>section_15&#45;&gt;codeblock_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1215.6298,-2798.9305C1232.4655,-2788.6591 1254.0972,-2774.9423 1272.5,-2761.6045 1334.5364,-2716.6423 1402.7593,-2658.3072 1439.804,-2625.818"/>
<polygon fill="#000000" stroke="#000000" points="1442.4627,-2628.1406 1447.658,-2618.907 1437.8385,-2622.8855 1442.4627,-2628.1406"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="1082.5,-1291.1024 534.5,-1291.1024 534.5,-1220.5017 1082.5,-1220.5017 1082.5,-1291.1024"/>
<text text-anchor="middle" x="808.5" y="-1244.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">This all goes into global space for now. &#160;Our more sophisticated loader will</text>
<text text-anchor="middle" x="808.5" y="-1228.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">handle namespace isolation. Meanwhile we&#39;re building a repl, so.</text>
</g>
<!-- raw_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>raw_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M808.5,-2583.2027C808.5,-2442.4592 808.5,-1518.2794 808.5,-1301.3316"/>
<polygon fill="#000000" stroke="#000000" points="812.0001,-1301.2482 808.5,-1291.2482 805.0001,-1301.2482 812.0001,-1301.2482"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="1186.5,-1273.8021 1100.5,-1273.8021 1100.5,-1237.8021 1186.5,-1237.8021 1186.5,-1273.8021"/>
<text text-anchor="middle" x="1143.5" y="-1252.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">**** utils</text>
</g>
<!-- header_20&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>header_20&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1143.5,-2583.2027C1143.5,-2438.43 1143.5,-1464.7233 1143.5,-1284.4733"/>
<polygon fill="#000000" stroke="#000000" points="1147.0001,-1284.2099 1143.5,-1274.2099 1140.0001,-1284.2099 1147.0001,-1284.2099"/>
</g>
<!-- raw_24 -->
<g id="node25" class="node">
<title>raw_24</title>
<ellipse fill="none" stroke="#000000" cx="1231.5" cy="-1255.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="1231.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_21&#45;&gt;raw_24 -->
<g id="edge24" class="edge">
<title>prose_21&#45;&gt;raw_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1231.5,-2583.2027C1231.5,-2438.43 1231.5,-1464.7233 1231.5,-1284.4733"/>
<polygon fill="#000000" stroke="#000000" points="1235.0001,-1284.2099 1231.5,-1274.2099 1228.0001,-1284.2099 1235.0001,-1284.2099"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="1866.5,-2133.0337 1276.5,-2133.0337 1276.5,-378.5705 1866.5,-378.5705 1866.5,-2133.0337"/>
<text text-anchor="middle" x="1571.5" y="-2101.7179" font-family="Inconsolata" font-size="14.00" fill="#000000">local usecolors</text>
<text text-anchor="middle" x="1571.5" y="-2086.3178" font-family="Inconsolata" font-size="14.00" fill="#000000">stdout = &quot;&quot;</text>
<text text-anchor="middle" x="1571.5" y="-2054.9178" font-family="Inconsolata" font-size="14.00" fill="#000000">if uv.guess_handle(1) == &quot;tty&quot; then</text>
<text text-anchor="middle" x="1571.5" y="-2039.5178" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;stdout = uv.new_tty(1, false)</text>
<text text-anchor="middle" x="1571.5" y="-2024.1177" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;usecolors = true</text>
<text text-anchor="middle" x="1571.5" y="-2008.7177" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="1571.5" y="-1993.3177" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;stdout = uv.new_pipe(false)</text>
<text text-anchor="middle" x="1571.5" y="-1977.9177" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.pipe_open(utils.stdout, 1)</text>
<text text-anchor="middle" x="1571.5" y="-1962.5176" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;usecolors = false</text>
<text text-anchor="middle" x="1571.5" y="-1947.1176" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1571.5" y="-1915.7176" font-family="Inconsolata" font-size="14.00" fill="#000000">if not usecolors then</text>
<text text-anchor="middle" x="1571.5" y="-1900.3175" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;c.ts = tostring</text>
<text text-anchor="middle" x="1571.5" y="-1884.9175" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; #todo make this properly black and white ts</text>
<text text-anchor="middle" x="1571.5" y="-1869.5175" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1571.5" y="-1838.1174" font-family="Inconsolata" font-size="14.00" fill="#000000">function print(...)</text>
<text text-anchor="middle" x="1571.5" y="-1822.7174" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local n = select(&#39;#&#39;, ...)</text>
<text text-anchor="middle" x="1571.5" y="-1807.3174" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local arguments = {...}</text>
<text text-anchor="middle" x="1571.5" y="-1791.9173" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 1, n do</text>
<text text-anchor="middle" x="1571.5" y="-1776.5173" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;arguments[i] = tostring(arguments[i])</text>
<text text-anchor="middle" x="1571.5" y="-1761.1173" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="1571.5" y="-1745.7172" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.write(stdout, table.concat(arguments, &quot;\t&quot;) .. &quot;\n&quot;)</text>
<text text-anchor="middle" x="1571.5" y="-1730.3172" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1571.5" y="-1698.9172" font-family="Inconsolata" font-size="14.00" fill="#000000">function write(str)</text>
<text text-anchor="middle" x="1571.5" y="-1683.5172" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.write(stdout, str)</text>
<text text-anchor="middle" x="1571.5" y="-1668.1171" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1571.5" y="-1620.7171" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; &#160;*** tty setup</text>
<text text-anchor="middle" x="1571.5" y="-1589.3171" font-family="Inconsolata" font-size="14.00" fill="#000000">if uv.guess_handle(0) ~= &quot;tty&quot; or</text>
<text text-anchor="middle" x="1571.5" y="-1573.917" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.guess_handle(1) ~= &quot;tty&quot; then</text>
<text text-anchor="middle" x="1571.5" y="-1558.517" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; Entry point for other consumers!</text>
<text text-anchor="middle" x="1571.5" y="-1543.117" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;error &quot;stdio must be a tty&quot;</text>
<text text-anchor="middle" x="1571.5" y="-1527.7169" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1571.5" y="-1496.3169" font-family="Inconsolata" font-size="14.00" fill="#000000">local stdin = uv.new_tty(0, true)</text>
<text text-anchor="middle" x="1571.5" y="-1448.9169" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; &#160;*** utilities</text>
<text text-anchor="middle" x="1571.5" y="-1417.5168" font-family="Inconsolata" font-size="14.00" fill="#000000">local function gatherResults(success, ...)</text>
<text text-anchor="middle" x="1571.5" y="-1402.1168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local n = select(&#39;#&#39;, ...)</text>
<text text-anchor="middle" x="1571.5" y="-1386.7168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return success, { n = n, ... }</text>
<text text-anchor="middle" x="1571.5" y="-1371.3167" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1571.5" y="-1339.9167" font-family="Inconsolata" font-size="14.00" fill="#000000">local function printResults(results)</text>
<text text-anchor="middle" x="1571.5" y="-1324.5167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 1, results.n do</text>
<text text-anchor="middle" x="1571.5" y="-1309.1167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;results[i] = c.ts(results[i])</text>
<text text-anchor="middle" x="1571.5" y="-1293.7166" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="1571.5" y="-1278.3166" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;print(table.concat(results, &#39;\t&#39;))</text>
<text text-anchor="middle" x="1571.5" y="-1262.9166" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1571.5" y="-1231.5165" font-family="Inconsolata" font-size="14.00" fill="#000000">local buffer = &#39;&#39;</text>
<text text-anchor="middle" x="1571.5" y="-1200.1165" font-family="Inconsolata" font-size="14.00" fill="#000000">local function evaluateLine(line)</text>
<text text-anchor="middle" x="1571.5" y="-1184.7165" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if string.byte(line) == 17 then &#45;&#45; ^Q</text>
<text text-anchor="middle" x="1571.5" y="-1169.3164" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uv.stop()</text>
<text text-anchor="middle" x="1571.5" y="-1153.9164" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="1571.5" y="-1138.5164" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1571.5" y="-1123.1163" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local chunk &#160;= buffer .. line</text>
<text text-anchor="middle" x="1571.5" y="-1107.7163" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local f, err = loadstring(&#39;return &#39; .. chunk, &#39;REPL&#39;) &#45;&#45; first we prefix return</text>
<text text-anchor="middle" x="1571.5" y="-1076.3163" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not f then</text>
<text text-anchor="middle" x="1571.5" y="-1060.9162" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;f, err = loadstring(chunk, &#39;REPL&#39;) &#45;&#45; try again without return</text>
<text text-anchor="middle" x="1571.5" y="-1045.5162" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1571.5" y="-1014.1162" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if f then</text>
<text text-anchor="middle" x="1571.5" y="-998.7162" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;buffer = &#39;&#39;</text>
<text text-anchor="middle" x="1571.5" y="-983.3161" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local success, results = gatherResults(xpcall(f, debug.traceback))</text>
<text text-anchor="middle" x="1571.5" y="-951.9161" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if success then</text>
<text text-anchor="middle" x="1571.5" y="-936.5161" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; successful call</text>
<text text-anchor="middle" x="1571.5" y="-921.116" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if results.n &gt; 0 then</text>
<text text-anchor="middle" x="1571.5" y="-905.716" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;printResults(results)</text>
<text text-anchor="middle" x="1571.5" y="-890.316" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1571.5" y="-874.9159" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1571.5" y="-859.5159" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; error</text>
<text text-anchor="middle" x="1571.5" y="-844.1159" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;print(results[1])</text>
<text text-anchor="middle" x="1571.5" y="-828.7158" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1571.5" y="-813.3158" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="1571.5" y="-797.9158" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if err:match &quot;&#39;&lt;eof&gt;&#39;$&quot; then</text>
<text text-anchor="middle" x="1571.5" y="-782.5157" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Lua expects some more input; stow it away for next time</text>
<text text-anchor="middle" x="1571.5" y="-767.1157" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;buffer = chunk .. &#39;\n&#39;</text>
<text text-anchor="middle" x="1571.5" y="-751.7157" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return &#39;...&#39;</text>
<text text-anchor="middle" x="1571.5" y="-736.3157" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1571.5" y="-720.9156" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;print(err)</text>
<text text-anchor="middle" x="1571.5" y="-705.5156" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;buffer = &#39;&#39;</text>
<text text-anchor="middle" x="1571.5" y="-690.1156" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1571.5" y="-674.7155" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1571.5" y="-643.3155" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return &#39;ðŸ‘‰ &#160;&#39;</text>
<text text-anchor="middle" x="1571.5" y="-619.0867" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1571.5" y="-587.6867" font-family="Inconsolata" font-size="14.00" fill="#000000">local function displayPrompt(prompt)</text>
<text text-anchor="middle" x="1571.5" y="-572.2867" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.write(stdout, prompt)</text>
<text text-anchor="middle" x="1571.5" y="-556.8867" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1571.5" y="-525.4866" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Deprecated, but useful if I want, y&#39;know, a REPL</text>
<text text-anchor="middle" x="1571.5" y="-510.0866" font-family="Inconsolata" font-size="14.00" fill="#000000">local function onread(err, line)</text>
<text text-anchor="middle" x="1571.5" y="-494.6866" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if err then error(err) end</text>
<text text-anchor="middle" x="1571.5" y="-479.2865" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if line then</text>
<text text-anchor="middle" x="1571.5" y="-463.8865" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local prompt = evaluateLine(line)</text>
<text text-anchor="middle" x="1571.5" y="-448.4865" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;displayPrompt(prompt)</text>
<text text-anchor="middle" x="1571.5" y="-433.0864" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="1571.5" y="-417.6864" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;uv.close(stdin)</text>
<text text-anchor="middle" x="1571.5" y="-402.2864" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="1571.5" y="-386.8863" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_22&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>codeblock_22&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1468.8915,-2583.2027C1473.1781,-2527.749 1486.866,-2350.6744 1502.9072,-2143.1564"/>
<polygon fill="#000000" stroke="#000000" points="1506.416,-2143.1767 1503.6972,-2132.9366 1499.4368,-2142.6371 1506.416,-2143.1767"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="1258.5,-53.4 1204.5,-53.4 1204.5,-17.4 1258.5,-17.4 1258.5,-53.4"/>
</g>
<!-- raw_24&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>raw_24&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1231.5,-1237.6032C1231.5,-1100.6565 1231.5,-232.5134 1231.5,-63.7907"/>
<polygon fill="#000000" stroke="#000000" points="1235.0001,-63.7039 1231.5,-53.7039 1228.0001,-63.7039 1235.0001,-63.7039"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="2113,-2619.2043 2034,-2619.2043 2034,-2583.2043 2113,-2583.2043 2113,-2619.2043"/>
<text text-anchor="middle" x="2073.5" y="-2597.7043" font-family="Inconsolata" font-size="14.00" fill="#000000">** Reader</text>
</g>
<!-- header_27&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>header_27&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2144.7785,-2797.8981C2137.3917,-2787.7174 2128.5758,-2774.4355 2122.5,-2761.6045 2101.5853,-2717.4362 2087.033,-2662.2384 2079.4902,-2629.4578"/>
<polygon fill="#000000" stroke="#000000" points="2082.8929,-2628.6359 2077.2884,-2619.6448 2076.0627,-2630.1685 2082.8929,-2628.6359"/>
</g>
<!-- raw_33 -->
<g id="node34" class="node">
<title>raw_33</title>
<ellipse fill="none" stroke="#000000" cx="2158.5" cy="-2601.2043" rx="27" ry="18"/>
<text text-anchor="middle" x="2158.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_28&#45;&gt;raw_33 -->
<g id="edge33" class="edge">
<title>prose_28&#45;&gt;raw_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2313.3601,-2813.0305C2278.863,-2808.5027 2224.931,-2796.0174 2194.5,-2761.6045 2161.8607,-2724.6942 2156.8715,-2664.6193 2157.0831,-2629.4093"/>
<polygon fill="#000000" stroke="#000000" points="2160.5839,-2629.4037 2157.2909,-2619.3336 2153.5854,-2629.2593 2160.5839,-2629.4037"/>
</g>
<!-- prespace_34 -->
<g id="node35" class="node">
<title>prespace_34</title>
<ellipse fill="none" stroke="#000000" cx="2249.5" cy="-2601.2043" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2249.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_28&#45;&gt;prespace_34 -->
<g id="edge34" class="edge">
<title>prose_28&#45;&gt;prespace_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2331.1243,-2798.9797C2322.7982,-2788.7258 2312.5941,-2775.0101 2305.5,-2761.6045 2282.2208,-2717.6139 2265.3002,-2661.9276 2256.4697,-2629.0758"/>
<polygon fill="#000000" stroke="#000000" points="2259.8158,-2628.0377 2253.8891,-2619.2557 2253.0457,-2629.8169 2259.8158,-2628.0377"/>
</g>
<!-- literal_35 -->
<g id="node36" class="node">
<title>literal_35</title>
<ellipse fill="none" stroke="#000000" cx="2345.5" cy="-2601.2043" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2345.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_28&#45;&gt;literal_35 -->
<g id="edge35" class="edge">
<title>prose_28&#45;&gt;literal_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2345.5,-2797.3249C2345.5,-2759.9041 2345.5,-2674.3384 2345.5,-2629.6169"/>
<polygon fill="#000000" stroke="#000000" points="2349.0001,-2629.4376 2345.5,-2619.4377 2342.0001,-2629.4377 2349.0001,-2629.4376"/>
</g>
<!-- raw_36 -->
<g id="node37" class="node">
<title>raw_36</title>
<ellipse fill="none" stroke="#000000" cx="2497.5" cy="-2601.2043" rx="27" ry="18"/>
<text text-anchor="middle" x="2497.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_28&#45;&gt;raw_36 -->
<g id="edge36" class="edge">
<title>prose_28&#45;&gt;raw_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2358.2333,-2798.6694C2366.1537,-2788.0728 2376.5075,-2774.1066 2385.5,-2761.6045 2419.6155,-2714.1747 2458.4532,-2658.0622 2480.2631,-2626.3512"/>
<polygon fill="#000000" stroke="#000000" points="2483.4251,-2627.9297 2486.2031,-2617.7056 2477.6555,-2623.9657 2483.4251,-2627.9297"/>
</g>
<!-- header_41 -->
<g id="node42" class="node">
<title>header_41</title>
<ellipse fill="none" stroke="#000000" cx="2804.5" cy="-2601.2043" rx="48.4031" ry="18"/>
<text text-anchor="middle" x="2804.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : keybuf</text>
</g>
<!-- section_29&#45;&gt;header_41 -->
<g id="edge41" class="edge">
<title>section_29&#45;&gt;header_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2909.974,-2799.4467C2893.6615,-2790.321 2875.0598,-2777.5327 2862.5,-2761.6045 2831.2305,-2721.9489 2815.883,-2663.9434 2809.121,-2629.636"/>
<polygon fill="#000000" stroke="#000000" points="2812.4842,-2628.5766 2807.2179,-2619.3833 2805.6018,-2629.8541 2812.4842,-2628.5766"/>
</g>
<!-- prose_42 -->
<g id="node43" class="node">
<title>prose_42</title>
<ellipse fill="none" stroke="#000000" cx="2903.5" cy="-2601.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2903.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_29&#45;&gt;prose_42 -->
<g id="edge42" class="edge">
<title>section_29&#45;&gt;prose_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2941.0044,-2797.3249C2933.8153,-2759.7312 2917.3341,-2673.5468 2908.8154,-2628.9998"/>
<polygon fill="#000000" stroke="#000000" points="2912.245,-2628.2999 2906.929,-2619.1353 2905.3696,-2629.6147 2912.245,-2628.2999"/>
</g>
<!-- prose_43 -->
<g id="node44" class="node">
<title>prose_43</title>
<ellipse fill="none" stroke="#000000" cx="2985.5" cy="-2601.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2985.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_29&#45;&gt;prose_43 -->
<g id="edge43" class="edge">
<title>section_29&#45;&gt;prose_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2947.9956,-2797.3249C2955.1847,-2759.7312 2971.6659,-2673.5468 2980.1846,-2628.9998"/>
<polygon fill="#000000" stroke="#000000" points="2983.6304,-2629.6147 2982.071,-2619.1353 2976.755,-2628.2999 2983.6304,-2629.6147"/>
</g>
<!-- prose_44 -->
<g id="node45" class="node">
<title>prose_44</title>
<ellipse fill="none" stroke="#000000" cx="3135.5" cy="-2601.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3135.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_29&#45;&gt;prose_44 -->
<g id="edge44" class="edge">
<title>section_29&#45;&gt;prose_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2975.4141,-2799.1734C2991.7368,-2789.5746 3011.446,-2776.4415 3026.5,-2761.6045 3068.1455,-2720.5591 3103.4515,-2661.3829 3121.8528,-2627.5665"/>
<polygon fill="#000000" stroke="#000000" points="3124.9459,-2629.2043 3126.5858,-2618.7371 3118.7764,-2625.8971 3124.9459,-2629.2043"/>
</g>
<!-- codeblock_45 -->
<g id="node46" class="node">
<title>codeblock_45</title>
<ellipse fill="none" stroke="#000000" cx="3404.5" cy="-2601.2043" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="3404.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 173&#45;183</text>
</g>
<!-- section_29&#45;&gt;codeblock_45 -->
<g id="edge45" class="edge">
<title>section_29&#45;&gt;codeblock_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3011.1767,-2807.0436C3058.7654,-2799.2906 3123.4677,-2785.3434 3176.5,-2761.6045 3256.2198,-2725.9195 3336.8492,-2660.8342 3377.488,-2625.5346"/>
<polygon fill="#000000" stroke="#000000" points="3379.8568,-2628.1126 3385.0705,-2618.8894 3375.243,-2622.8482 3379.8568,-2628.1126"/>
</g>
<!-- header_60 -->
<g id="node61" class="node">
<title>header_60</title>
<ellipse fill="none" stroke="#000000" cx="3808.5" cy="-2601.2043" rx="84.6634" ry="18"/>
<text text-anchor="middle" x="3808.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : helper functions</text>
</g>
<!-- section_30&#45;&gt;header_60 -->
<g id="edge60" class="edge">
<title>section_30&#45;&gt;header_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3869.7876,-2797.3249C3858.0442,-2759.7458 3831.128,-2673.6139 3817.2024,-2629.0519"/>
<polygon fill="#000000" stroke="#000000" points="3820.5214,-2627.9385 3814.1979,-2619.4377 3813.8401,-2630.0265 3820.5214,-2627.9385"/>
</g>
<!-- prose_61 -->
<g id="node62" class="node">
<title>prose_61</title>
<ellipse fill="none" stroke="#000000" cx="3943.5" cy="-2601.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3943.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_30&#45;&gt;prose_61 -->
<g id="edge61" class="edge">
<title>section_30&#45;&gt;prose_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3885.7464,-2797.5448C3891.2725,-2787.2536 3897.8853,-2773.9788 3902.5,-2761.6045 3919.2831,-2716.6005 3931.6257,-2662.003 3938.1736,-2629.5134"/>
<polygon fill="#000000" stroke="#000000" points="3941.6692,-2629.8767 3940.17,-2619.3885 3934.8015,-2628.5224 3941.6692,-2629.8767"/>
</g>
<!-- codeblock_62 -->
<g id="node63" class="node">
<title>codeblock_62</title>
<ellipse fill="none" stroke="#000000" cx="4161.5" cy="-2601.2043" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4161.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 191&#45;222</text>
</g>
<!-- section_30&#45;&gt;codeblock_62 -->
<g id="edge62" class="edge">
<title>section_30&#45;&gt;codeblock_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3913.4998,-2799.9064C3935.1237,-2790.22 3962.2481,-2776.766 3984.5,-2761.6045 4044.6233,-2720.639 4105.4666,-2660.4918 4137.8074,-2626.6917"/>
<polygon fill="#000000" stroke="#000000" points="4140.6738,-2628.756 4145.021,-2619.094 4135.5973,-2623.9362 4140.6738,-2628.756"/>
</g>
<!-- header_67 -->
<g id="node68" class="node">
<title>header_67</title>
<ellipse fill="none" stroke="#000000" cx="4679.5" cy="-2601.2043" rx="111.2326" ry="18"/>
<text text-anchor="middle" x="4679.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : process_escapes(seq)</text>
</g>
<!-- section_31&#45;&gt;header_67 -->
<g id="edge67" class="edge">
<title>section_31&#45;&gt;header_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5780.1256,-2814.052C5566.0681,-2809.2758 4964.5612,-2793.1772 4881.5,-2761.6045 4805.4909,-2732.7124 4735.6791,-2664.1061 4701.515,-2626.6615"/>
<polygon fill="#000000" stroke="#000000" points="4704.0661,-2624.2641 4694.7764,-2619.1697 4698.8617,-2628.9453 4704.0661,-2624.2641"/>
</g>
<!-- prose_68 -->
<g id="node69" class="node">
<title>prose_68</title>
<ellipse fill="none" stroke="#000000" cx="4922.5" cy="-2601.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4922.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_31&#45;&gt;prose_68 -->
<g id="edge68" class="edge">
<title>section_31&#45;&gt;prose_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5788.8585,-2807.111C5720.2179,-2797.8672 5610.3248,-2781.6863 5516.5,-2761.6045 5303.8526,-2716.0904 5053.7659,-2641.527 4960.2669,-2612.9004"/>
<polygon fill="#000000" stroke="#000000" points="4961.2663,-2609.546 4950.6795,-2609.9578 4959.2123,-2616.2379 4961.2663,-2609.546"/>
</g>
<!-- prose_69 -->
<g id="node70" class="node">
<title>prose_69</title>
<ellipse fill="none" stroke="#000000" cx="5557.5" cy="-2601.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5557.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_31&#45;&gt;prose_69 -->
<g id="edge69" class="edge">
<title>section_31&#45;&gt;prose_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5831.6171,-2798.4216C5777.23,-2759.2921 5644.3532,-2663.692 5585.8931,-2621.6321"/>
<polygon fill="#000000" stroke="#000000" points="5587.6605,-2618.592 5577.499,-2615.5929 5583.5723,-2624.2742 5587.6605,-2618.592"/>
</g>
<!-- prose_70 -->
<g id="node71" class="node">
<title>prose_70</title>
<ellipse fill="none" stroke="#000000" cx="5855.5" cy="-2601.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5855.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_31&#45;&gt;prose_70 -->
<g id="edge70" class="edge">
<title>section_31&#45;&gt;prose_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5855.5,-2797.3249C5855.5,-2759.9041 5855.5,-2674.3384 5855.5,-2629.6169"/>
<polygon fill="#000000" stroke="#000000" points="5859.0001,-2629.4376 5855.5,-2619.4377 5852.0001,-2629.4377 5859.0001,-2629.4376"/>
</g>
<!-- prose_71 -->
<g id="node72" class="node">
<title>prose_71</title>
<ellipse fill="none" stroke="#000000" cx="6249.5" cy="-2601.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6249.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_31&#45;&gt;prose_71 -->
<g id="edge71" class="edge">
<title>section_31&#45;&gt;prose_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5886.0887,-2798.9593C5959.0854,-2759.2372 6142.9279,-2659.1969 6217.4145,-2618.6641"/>
<polygon fill="#000000" stroke="#000000" points="6219.2437,-2621.6534 6226.3545,-2613.7992 6215.8978,-2615.5048 6219.2437,-2621.6534"/>
</g>
<!-- prose_72 -->
<g id="node73" class="node">
<title>prose_72</title>
<ellipse fill="none" stroke="#000000" cx="6412.5" cy="-2601.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6412.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_31&#45;&gt;prose_72 -->
<g id="edge72" class="edge">
<title>section_31&#45;&gt;prose_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5930.7077,-2813.2395C6038.5993,-2808.6855 6230.8844,-2795.8987 6290.5,-2761.6045 6344.5082,-2730.536 6382.414,-2665.0711 6400.4846,-2628.1002"/>
<polygon fill="#000000" stroke="#000000" points="6403.7181,-2629.4505 6404.8512,-2618.9164 6397.3963,-2626.4446 6403.7181,-2629.4505"/>
</g>
<!-- codeblock_73 -->
<g id="node74" class="node">
<title>codeblock_73</title>
<ellipse fill="none" stroke="#000000" cx="6683.5" cy="-2601.2043" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6683.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 240&#45;389</text>
</g>
<!-- section_31&#45;&gt;codeblock_73 -->
<g id="edge73" class="edge">
<title>section_31&#45;&gt;codeblock_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5930.767,-2813.6099C6069.3603,-2809.1484 6359.3559,-2795.9181 6453.5,-2761.6045 6536.9012,-2731.2065 6618.1813,-2662.7343 6658.0489,-2625.8492"/>
<polygon fill="#000000" stroke="#000000" points="6660.5493,-2628.3028 6665.4586,-2618.914 6655.7659,-2623.1921 6660.5493,-2628.3028"/>
</g>
<!-- codeblock_74 -->
<g id="node75" class="node">
<title>codeblock_74</title>
<ellipse fill="none" stroke="#000000" cx="7073.5" cy="-2601.2043" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7073.5" y="-2597.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 391&#45;424</text>
</g>
<!-- section_31&#45;&gt;codeblock_74 -->
<g id="edge74" class="edge">
<title>section_31&#45;&gt;codeblock_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5930.4419,-2813.1116C6136.0235,-2806.0074 6698.9286,-2784.678 6779.5,-2761.6045 6882.8026,-2732.0214 6990.1738,-2661.558 7041.903,-2624.6553"/>
<polygon fill="#000000" stroke="#000000" points="7044.2401,-2627.2854 7050.3105,-2618.602 7040.15,-2621.6046 7044.2401,-2627.2854"/>
</g>
<!-- leaf_37 -->
<g id="node38" class="node">
<title>leaf_37</title>
<polygon fill="none" stroke="#c0c0c0" points="2166.5,-1283.7036 1884.5,-1283.7036 1884.5,-1227.9006 2166.5,-1227.9006 2166.5,-1283.7036"/>
<text text-anchor="middle" x="2025.5" y="-1236.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">The reader takes a stream of data from</text>
</g>
<!-- raw_33&#45;&gt;leaf_37 -->
<g id="edge37" class="edge">
<title>raw_33&#45;&gt;leaf_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2156.7204,-2583.2027C2142.6387,-2440.7541 2049.2222,-1495.7718 2029.2524,-1293.7607"/>
<polygon fill="#000000" stroke="#000000" points="2032.7188,-1293.2468 2028.2519,-1283.6396 2025.7527,-1293.9355 2032.7188,-1293.2468"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="2238.5,-1273.8021 2184.5,-1273.8021 2184.5,-1237.8021 2238.5,-1237.8021 2238.5,-1273.8021"/>
<text text-anchor="middle" x="2211.5" y="-1252.3021" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_34&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>prespace_34&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2248.9916,-2583.2027C2244.9025,-2438.43 2217.4008,-1464.7233 2212.3098,-1284.4733"/>
<polygon fill="#000000" stroke="#000000" points="2215.8009,-1284.1071 2212.0199,-1274.2099 2208.8037,-1284.3048 2215.8009,-1284.1071"/>
</g>
<!-- leaf_39 -->
<g id="node40" class="node">
<title>leaf_39</title>
<polygon fill="none" stroke="#c0c0c0" points="2310.5,-1273.8021 2256.5,-1273.8021 2256.5,-1237.8021 2310.5,-1237.8021 2310.5,-1273.8021"/>
<text text-anchor="middle" x="2283.5" y="-1252.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">stdin</text>
</g>
<!-- literal_35&#45;&gt;leaf_39 -->
<g id="edge39" class="edge">
<title>literal_35&#45;&gt;leaf_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2342.489,-2583.1278C2336.8743,-2548.5927 2324.8881,-2470.7944 2319.5,-2404.8041 2283.1236,-1959.2889 2282.8423,-1413.8424 2283.3413,-1284.3354"/>
<polygon fill="#000000" stroke="#000000" points="2286.8423,-1284.0997 2283.3861,-1274.0844 2279.8424,-1284.069 2286.8423,-1284.0997"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="2744,-1283.1025 2329,-1283.1025 2329,-1228.5017 2744,-1228.5017 2744,-1283.1025"/>
<text text-anchor="middle" x="2536.5" y="-1268.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">, asynchronously, and</text>
<text text-anchor="middle" x="2536.5" y="-1252.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">processes it into tokens, which stream to the recognizer.</text>
</g>
<!-- raw_36&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>raw_36&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2498.0218,-2583.2027C2502.1533,-2440.6775 2529.5733,-1494.7554 2535.4091,-1293.4356"/>
<polygon fill="#000000" stroke="#000000" points="2538.91,-1293.4504 2535.7014,-1283.3531 2531.913,-1293.2475 2538.91,-1293.4504"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="2855,-1273.8021 2762,-1273.8021 2762,-1237.8021 2855,-1237.8021 2855,-1273.8021"/>
<text text-anchor="middle" x="2808.5" y="-1252.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">**** keybuf</text>
</g>
<!-- header_41&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>header_41&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2804.5535,-2583.2027C2804.9839,-2438.43 2807.8789,-1464.7233 2808.4148,-1284.4733"/>
<polygon fill="#000000" stroke="#000000" points="2811.9154,-1284.2203 2808.4453,-1274.2099 2804.9155,-1284.1994 2811.9154,-1284.2203"/>
</g>
<!-- raw_47 -->
<g id="node48" class="node">
<title>raw_47</title>
<ellipse fill="none" stroke="#000000" cx="2900.5" cy="-1255.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="2900.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_42&#45;&gt;raw_47 -->
<g id="edge47" class="edge">
<title>prose_42&#45;&gt;raw_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2903.4599,-2583.2027C2903.137,-2438.43 2900.9659,-1464.7233 2900.5639,-1284.4733"/>
<polygon fill="#000000" stroke="#000000" points="2904.0634,-1284.202 2900.541,-1274.2099 2897.0635,-1284.2177 2904.0634,-1284.202"/>
</g>
<!-- raw_49 -->
<g id="node50" class="node">
<title>raw_49</title>
<ellipse fill="none" stroke="#000000" cx="2972.5" cy="-1255.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="2972.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_43&#45;&gt;raw_49 -->
<g id="edge49" class="edge">
<title>prose_43&#45;&gt;raw_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2985.3261,-2583.2027C2983.9272,-2438.43 2974.5187,-1464.7233 2972.777,-1284.4733"/>
<polygon fill="#000000" stroke="#000000" points="2976.2744,-1284.1756 2972.6779,-1274.2099 2969.2747,-1284.2433 2976.2744,-1284.1756"/>
</g>
<!-- raw_51 -->
<g id="node52" class="node">
<title>raw_51</title>
<ellipse fill="none" stroke="#000000" cx="3044.5" cy="-1255.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="3044.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_44&#45;&gt;raw_51 -->
<g id="edge51" class="edge">
<title>prose_44&#45;&gt;raw_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3128.9341,-2583.3833C3116.7251,-2549.2795 3090.8332,-2472.1787 3080.5,-2404.8041 3012.663,-1962.4933 3036.0393,-1413.5748 3042.8898,-1284.086"/>
<polygon fill="#000000" stroke="#000000" points="3046.3984,-1284.0204 3043.444,-1273.8458 3039.4086,-1283.642 3046.3984,-1284.0204"/>
</g>
<!-- prespace_52 -->
<g id="node53" class="node">
<title>prespace_52</title>
<ellipse fill="none" stroke="#000000" cx="3135.5" cy="-1255.8021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="3135.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_44&#45;&gt;prespace_52 -->
<g id="edge52" class="edge">
<title>prose_44&#45;&gt;prespace_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3135.5,-2583.2027C3135.5,-2438.43 3135.5,-1464.7233 3135.5,-1284.4733"/>
<polygon fill="#000000" stroke="#000000" points="3139.0001,-1284.2099 3135.5,-1274.2099 3132.0001,-1284.2099 3139.0001,-1284.2099"/>
</g>
<!-- literal_53 -->
<g id="node54" class="node">
<title>literal_53</title>
<ellipse fill="none" stroke="#000000" cx="3231.5" cy="-1255.8021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3231.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_44&#45;&gt;literal_53 -->
<g id="edge53" class="edge">
<title>prose_44&#45;&gt;literal_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3142.0389,-2583.3791C3154.2023,-2549.2682 3180.0204,-2472.1561 3190.5,-2404.8041 3259.3082,-1962.5774 3239.0374,-1413.5956 3232.943,-1284.0899"/>
<polygon fill="#000000" stroke="#000000" points="3236.4268,-1283.668 3232.4488,-1273.8483 3229.4349,-1284.0054 3236.4268,-1283.668"/>
</g>
<!-- raw_54 -->
<g id="node55" class="node">
<title>raw_54</title>
<ellipse fill="none" stroke="#000000" cx="3307.5" cy="-1255.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="3307.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_44&#45;&gt;raw_54 -->
<g id="edge54" class="edge">
<title>prose_44&#45;&gt;raw_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3151.6016,-2585.1871C3181.8646,-2553.849 3246.4356,-2480.8239 3271.5,-2404.8041 3343.0562,-2187.7762 3315.3994,-1439.5845 3308.7706,-1284.1991"/>
<polygon fill="#000000" stroke="#000000" points="3312.2607,-1283.8905 3308.3314,-1274.0513 3305.2672,-1284.1933 3312.2607,-1283.8905"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="3718.5,-1322.2029 3352.5,-1322.2029 3352.5,-1189.4013 3718.5,-1189.4013 3718.5,-1322.2029"/>
<text text-anchor="middle" x="3535.5" y="-1306.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">local keybuf = {}</text>
<text text-anchor="middle" x="3535.5" y="-1291.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">local sub, byte = string.sub, string.byte</text>
<text text-anchor="middle" x="3535.5" y="-1276.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">local concat = table.concat</text>
<text text-anchor="middle" x="3535.5" y="-1244.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">local linebuf = { line = &quot;&quot;,</text>
<text text-anchor="middle" x="3535.5" y="-1229.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ndx &#160;= 0 }</text>
<text text-anchor="middle" x="3535.5" y="-1197.802" font-family="Inconsolata" font-size="14.00" fill="#000000">local max_row, mac_col = uv.tty_get_winsize(stdin)</text>
</g>
<!-- codeblock_45&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>codeblock_45&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3406.2528,-2583.2027C3419.3759,-2448.4251 3502.4512,-1595.2211 3528.0205,-1332.6186"/>
<polygon fill="#000000" stroke="#000000" points="3531.5285,-1332.7053 3529.0142,-1322.4131 3524.5615,-1332.0268 3531.5285,-1332.7053"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="2097.5,-70.7004 1591.5,-70.7004 1591.5,-.0997 2097.5,-.0997 2097.5,-70.7004"/>
<text text-anchor="middle" x="1844.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> Currently the keybuf is a simple array that holds bytes until we have</text>
<text text-anchor="middle" x="1844.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">enough for the lexer.</text>
</g>
<!-- raw_47&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>raw_47&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2901.3707,-1237.3953C2907.8546,-1096.3929 2946.124,-190.7004 2863.5,-106.8001 2835.2559,-78.1197 2207.4139,-74.8677 2107.8122,-70.5637"/>
<polygon fill="#000000" stroke="#000000" points="2107.7231,-67.0525 2097.5353,-69.9609 2107.3132,-74.0405 2107.7231,-67.0525"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="2671,-62.7005 2116,-62.7005 2116,-8.0996 2671,-8.0996 2671,-62.7005"/>
<text text-anchor="middle" x="2393.5" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">It is cleared and reused, to avoid a glut of allocations and allow the tracer</text>
<text text-anchor="middle" x="2393.5" y="-16.2" font-family="Inconsolata" font-size="14.00" fill="#000000">to follow it.</text>
</g>
<!-- raw_49&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>raw_49&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2973.3221,-1237.4575C2979.4419,-1096.9236 3015.5222,-194.0968 2936.5,-106.8001 2933.6979,-103.7046 2770.3643,-82.4943 2623.5785,-63.9888"/>
<polygon fill="#000000" stroke="#000000" points="2623.8478,-60.4951 2613.4887,-62.7177 2622.9728,-67.4402 2623.8478,-60.4951"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="3209.5,-55.3021 2689.5,-55.3021 2689.5,-15.4979 3209.5,-15.4979 3209.5,-55.3021"/>
<text text-anchor="middle" x="2949.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">Soon I&#39;ll move the remaining local state into an instance table, to make</text>
</g>
<!-- raw_51&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>raw_51&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3045.5296,-1237.4828C3052.5885,-1107.6826 3091.1431,-325.7252 3008.5,-106.8001 3002.245,-90.2304 2990.4512,-74.7021 2979.0423,-62.3862"/>
<polygon fill="#000000" stroke="#000000" points="2981.5109,-59.9041 2972.0414,-55.1523 2976.4808,-64.7722 2981.5109,-59.9041"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="3281.5,-53.4 3227.5,-53.4 3227.5,-17.4 3281.5,-17.4 3281.5,-53.4"/>
</g>
<!-- prespace_52&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>prespace_52&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3132.0953,-1237.6581C3112.1971,-1127.1081 3017.6911,-534.6906 3191.5,-106.8001 3195.7237,-96.4019 3213.1901,-76.9478 3228.6632,-60.9694"/>
<polygon fill="#000000" stroke="#000000" points="3231.5265,-63.0487 3236.0322,-53.4596 3226.5301,-58.146 3231.5265,-63.0487"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="3353.5,-53.4 3299.5,-53.4 3299.5,-17.4 3353.5,-17.4 3353.5,-53.4"/>
<text text-anchor="middle" x="3326.5" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">femto</text>
</g>
<!-- literal_53&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>literal_53&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3230.6215,-1237.5097C3224.6205,-1107.8959 3192.2224,-326.9949 3271.5,-106.8001 3277.6013,-89.8536 3289.3357,-73.7112 3300.4039,-61.076"/>
<polygon fill="#000000" stroke="#000000" points="3302.9936,-63.4305 3307.153,-53.6862 3297.8248,-58.7099 3302.9936,-63.4305"/>
</g>
<!-- leaf_58 -->
<g id="node59" class="node">
<title>leaf_58</title>
<polygon fill="none" stroke="#c0c0c0" points="3471.5,-53.4 3371.5,-53.4 3371.5,-17.4 3471.5,-17.4 3471.5,-53.4"/>
<text text-anchor="middle" x="3421.5" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> re&#45;entrant.</text>
</g>
<!-- raw_54&#45;&gt;leaf_58 -->
<g id="edge58" class="edge">
<title>raw_54&#45;&gt;leaf_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3306.1825,-1237.7661C3297.0012,-1108.3092 3245.754,-319.6865 3343.5,-106.8001 3352.0963,-88.0776 3368.1443,-72.0494 3383.4591,-59.9511"/>
<polygon fill="#000000" stroke="#000000" points="3385.9557,-62.4525 3391.8399,-53.6419 3381.7456,-56.8601 3385.9557,-62.4525"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="3892.5,-1273.8021 3736.5,-1273.8021 3736.5,-1237.8021 3892.5,-1237.8021 3892.5,-1273.8021"/>
<text text-anchor="middle" x="3814.5" y="-1252.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** helper functions</text>
</g>
<!-- header_60&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>header_60&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3808.5803,-2583.2027C3809.2259,-2438.43 3813.5683,-1464.7233 3814.3721,-1284.4733"/>
<polygon fill="#000000" stroke="#000000" points="3817.8732,-1284.2254 3814.4179,-1274.2099 3810.8732,-1284.1941 3817.8732,-1284.2254"/>
</g>
<!-- raw_64 -->
<g id="node65" class="node">
<title>raw_64</title>
<ellipse fill="none" stroke="#000000" cx="3937.5" cy="-1255.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="3937.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_61&#45;&gt;raw_64 -->
<g id="edge64" class="edge">
<title>prose_61&#45;&gt;raw_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3943.4197,-2583.2027C3942.7741,-2438.43 3938.4317,-1464.7233 3937.6279,-1284.4733"/>
<polygon fill="#000000" stroke="#000000" points="3941.1268,-1284.1941 3937.5821,-1274.2099 3934.1268,-1284.2254 3941.1268,-1284.1941"/>
</g>
<!-- leaf_66 -->
<g id="node67" class="node">
<title>leaf_66</title>
<polygon fill="none" stroke="#c0c0c0" points="4488.5,-1495.687 3982.5,-1495.687 3982.5,-1015.9171 4488.5,-1015.9171 4488.5,-1495.687"/>
<text text-anchor="middle" x="4235.5" y="-1480.2945" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; This will be called parse_digits and be substantially more complex.</text>
<text text-anchor="middle" x="4235.5" y="-1464.8945" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;</text>
<text text-anchor="middle" x="4235.5" y="-1449.4944" font-family="Inconsolata" font-size="14.00" fill="#000000">local function cursor_pos(str)</text>
<text text-anchor="middle" x="4235.5" y="-1434.0944" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local row, col = core.cleave(str, &quot;;&quot;)</text>
<text text-anchor="middle" x="4235.5" y="-1418.6944" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return tonumber(row), tonumber(col)</text>
<text text-anchor="middle" x="4235.5" y="-1403.2943" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4235.5" y="-1371.8943" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; more like jumpwrite at this point but w/e</text>
<text text-anchor="middle" x="4235.5" y="-1356.4943" font-family="Inconsolata" font-size="14.00" fill="#000000">local function colwrite(str, col, row)</text>
<text text-anchor="middle" x="4235.5" y="-1341.0942" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;col = col or 81</text>
<text text-anchor="middle" x="4235.5" y="-1325.6942" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;row = row or 1</text>
<text text-anchor="middle" x="4235.5" y="-1310.2942" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local dash = a.stash()</text>
<text text-anchor="middle" x="4235.5" y="-1294.8941" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. a.jump(row, col)</text>
<text text-anchor="middle" x="4235.5" y="-1279.4941" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. a.erase.right()</text>
<text text-anchor="middle" x="4235.5" y="-1264.0941" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. str</text>
<text text-anchor="middle" x="4235.5" y="-1248.6941" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. a.pop()</text>
<text text-anchor="middle" x="4235.5" y="-1217.294" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;write(dash)</text>
<text text-anchor="middle" x="4235.5" y="-1201.894" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4235.5" y="-1170.494" font-family="Inconsolata" font-size="14.00" fill="#000000">local STAT_ICON = &quot;â—‰&quot;</text>
<text text-anchor="middle" x="4235.5" y="-1132.7099" font-family="Inconsolata" font-size="14.00" fill="#000000">local function isnum(char)</text>
<text text-anchor="middle" x="4235.5" y="-1117.3099" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return char &gt;= &quot;0&quot; and char &lt;= &quot;9&quot;</text>
<text text-anchor="middle" x="4235.5" y="-1101.9099" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4235.5" y="-1070.5098" font-family="Inconsolata" font-size="14.00" fill="#000000">local function isalpha(char)</text>
<text text-anchor="middle" x="4235.5" y="-1055.1098" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return (char &gt;= &quot;A&quot; and char &lt;= &quot;z&quot;)</text>
<text text-anchor="middle" x="4235.5" y="-1039.7098" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;or &#160;(char &gt;= &quot;a&quot; and char &lt;= &quot;z&quot;)</text>
<text text-anchor="middle" x="4235.5" y="-1024.3097" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_62&#45;&gt;leaf_66 -->
<g id="edge66" class="edge">
<title>codeblock_62&#45;&gt;leaf_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4162.4901,-2583.2027C4168.6757,-2470.7415 4202.374,-1858.0702 4221.7552,-1505.6974"/>
<polygon fill="#000000" stroke="#000000" points="4225.2556,-1505.7853 4222.3102,-1495.6082 4218.2662,-1505.4008 4225.2556,-1505.7853"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="4215,-70.7004 3660,-70.7004 3660,-.0997 4215,-.0997 4215,-70.7004"/>
<text text-anchor="middle" x="3937.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Writes will eventually happen in their own library. &#160;Right now we&#39;re building</text>
<text text-anchor="middle" x="3937.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">the minimum viable loop.</text>
</g>
<!-- raw_64&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>raw_64&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3937.5,-1237.6032C3937.5,-1104.7774 3937.5,-284.0989 3937.5,-80.8831"/>
<polygon fill="#000000" stroke="#000000" points="3941.0001,-80.85 3937.5,-70.85 3934.0001,-80.8501 3941.0001,-80.85"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="4690.5,-1273.8021 4506.5,-1273.8021 4506.5,-1237.8021 4690.5,-1237.8021 4690.5,-1273.8021"/>
<text text-anchor="middle" x="4598.5" y="-1252.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** process_escapes(seq)</text>
</g>
<!-- header_67&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>header_67&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4678.4162,-2583.2027C4669.6958,-2438.3579 4611.0197,-1463.7523 4600.21,-1284.2043"/>
<polygon fill="#000000" stroke="#000000" points="4603.703,-1283.9814 4599.6082,-1274.2099 4596.7156,-1284.4022 4603.703,-1283.9814"/>
</g>
<!-- raw_76 -->
<g id="node77" class="node">
<title>raw_76</title>
<ellipse fill="none" stroke="#000000" cx="4735.5" cy="-1255.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="4735.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_68&#45;&gt;raw_76 -->
<g id="edge76" class="edge">
<title>prose_68&#45;&gt;raw_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4909.6106,-2584.3171C4887.2574,-2555.0482 4839.8251,-2493.019 4799.5,-2440.8041 4787.1105,-2424.7616 4778.3777,-2423.8714 4771.5,-2404.8041 4693.9611,-2189.841 4726.3388,-1440.02 4734.0298,-1284.268"/>
<polygon fill="#000000" stroke="#000000" points="4737.5345,-1284.2586 4734.539,-1274.096 4730.5433,-1283.9085 4737.5345,-1284.2586"/>
</g>
<!-- prespace_77 -->
<g id="node78" class="node">
<title>prespace_77</title>
<ellipse fill="none" stroke="#000000" cx="4826.5" cy="-1255.8021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4826.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_68&#45;&gt;prespace_77 -->
<g id="edge77" class="edge">
<title>prose_68&#45;&gt;prespace_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4917.8768,-2583.2152C4909.2541,-2548.8276 4890.8386,-2471.2678 4882.5,-2404.8041 4826.8168,-1960.9746 4825.7027,-1414.2641 4826.2956,-1284.4146"/>
<polygon fill="#000000" stroke="#000000" points="4829.7969,-1284.1547 4826.3504,-1274.1361 4822.797,-1284.1172 4829.7969,-1284.1547"/>
</g>
<!-- literal_78 -->
<g id="node79" class="node">
<title>literal_78</title>
<ellipse fill="none" stroke="#000000" cx="4922.5" cy="-1255.8021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4922.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_68&#45;&gt;literal_78 -->
<g id="edge78" class="edge">
<title>prose_68&#45;&gt;literal_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4922.5,-2583.2027C4922.5,-2438.43 4922.5,-1464.7233 4922.5,-1284.4733"/>
<polygon fill="#000000" stroke="#000000" points="4926.0001,-1284.2099 4922.5,-1274.2099 4919.0001,-1284.2099 4926.0001,-1284.2099"/>
</g>
<!-- raw_79 -->
<g id="node80" class="node">
<title>raw_79</title>
<ellipse fill="none" stroke="#000000" cx="4998.5" cy="-1255.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="4998.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_68&#45;&gt;raw_79 -->
<g id="edge79" class="edge">
<title>prose_68&#45;&gt;raw_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4927.2298,-2583.2281C4936.0326,-2548.8623 4954.7392,-2471.3377 4962.5,-2404.8041 5014.2886,-1960.8165 5003.0141,-1414.2246 4999.3824,-1284.4071"/>
<polygon fill="#000000" stroke="#000000" points="5002.8729,-1284.0262 4999.0861,-1274.1312 4995.8758,-1284.228 5002.8729,-1284.0262"/>
</g>
<!-- raw_84 -->
<g id="node85" class="node">
<title>raw_84</title>
<ellipse fill="none" stroke="#000000" cx="5389.5" cy="-1255.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="5389.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_69&#45;&gt;raw_84 -->
<g id="edge84" class="edge">
<title>prose_69&#45;&gt;raw_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5555.2521,-2583.2027C5537.1554,-2438.2773 5415.3313,-1462.6682 5393.0093,-1283.9056"/>
<polygon fill="#000000" stroke="#000000" points="5396.4521,-1283.2293 5391.7399,-1273.7401 5389.506,-1284.0967 5396.4521,-1283.2293"/>
</g>
<!-- raw_86 -->
<g id="node87" class="node">
<title>raw_86</title>
<ellipse fill="none" stroke="#000000" cx="5632.5" cy="-1255.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="5632.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_70&#45;&gt;raw_86 -->
<g id="edge86" class="edge">
<title>prose_70&#45;&gt;raw_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5843.7628,-2584.2987C5821.6247,-2551.4423 5774.0002,-2475.9342 5752.5,-2404.8041 5622.2453,-1973.8767 5628.1513,-1415.3084 5631.5841,-1284.2069"/>
<polygon fill="#000000" stroke="#000000" points="5635.0928,-1283.941 5631.8745,-1273.8469 5628.0955,-1283.7448 5635.0928,-1283.941"/>
</g>
<!-- prespace_87 -->
<g id="node88" class="node">
<title>prespace_87</title>
<ellipse fill="none" stroke="#000000" cx="5807.5" cy="-1255.8021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5807.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_70&#45;&gt;prespace_87 -->
<g id="edge87" class="edge">
<title>prose_70&#45;&gt;prespace_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5854.8578,-2583.2027C5849.6901,-2438.3579 5814.9191,-1463.7523 5808.5133,-1284.2043"/>
<polygon fill="#000000" stroke="#000000" points="5812.0112,-1284.0787 5808.1567,-1274.2099 5805.0156,-1284.3284 5812.0112,-1284.0787"/>
</g>
<!-- literal_88 -->
<g id="node89" class="node">
<title>literal_88</title>
<ellipse fill="none" stroke="#000000" cx="5903.5" cy="-1255.8021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5903.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_70&#45;&gt;literal_88 -->
<g id="edge88" class="edge">
<title>prose_70&#45;&gt;literal_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5856.1422,-2583.2027C5861.3099,-2438.3579 5896.0809,-1463.7523 5902.4867,-1284.2043"/>
<polygon fill="#000000" stroke="#000000" points="5905.9844,-1284.3284 5902.8433,-1274.2099 5898.9888,-1284.0787 5905.9844,-1284.3284"/>
</g>
<!-- raw_89 -->
<g id="node90" class="node">
<title>raw_89</title>
<ellipse fill="none" stroke="#000000" cx="5987.5" cy="-1255.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="5987.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_70&#45;&gt;raw_89 -->
<g id="edge89" class="edge">
<title>prose_70&#45;&gt;raw_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5865.8815,-2584.1327C5885.3999,-2550.9927 5927.0771,-2475.0207 5943.5,-2404.8041 6045.4358,-1968.9753 6002.5649,-1415.1844 5990.3478,-1284.3858"/>
<polygon fill="#000000" stroke="#000000" points="5993.7949,-1283.6634 5989.362,-1274.0405 5986.8265,-1284.3274 5993.7949,-1283.6634"/>
</g>
<!-- raw_94 -->
<g id="node95" class="node">
<title>raw_94</title>
<ellipse fill="none" stroke="#000000" cx="6158.5" cy="-1255.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="6158.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_71&#45;&gt;raw_94 -->
<g id="edge94" class="edge">
<title>prose_71&#45;&gt;raw_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6242.9341,-2583.3833C6230.7251,-2549.2795 6204.8332,-2472.1787 6194.5,-2404.8041 6126.663,-1962.4933 6150.0393,-1413.5748 6156.8898,-1284.086"/>
<polygon fill="#000000" stroke="#000000" points="6160.3984,-1284.0204 6157.444,-1273.8458 6153.4086,-1283.642 6160.3984,-1284.0204"/>
</g>
<!-- prespace_95 -->
<g id="node96" class="node">
<title>prespace_95</title>
<ellipse fill="none" stroke="#000000" cx="6249.5" cy="-1255.8021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6249.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_71&#45;&gt;prespace_95 -->
<g id="edge95" class="edge">
<title>prose_71&#45;&gt;prespace_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6249.5,-2583.2027C6249.5,-2438.43 6249.5,-1464.7233 6249.5,-1284.4733"/>
<polygon fill="#000000" stroke="#000000" points="6253.0001,-1284.2099 6249.5,-1274.2099 6246.0001,-1284.2099 6253.0001,-1284.2099"/>
</g>
<!-- literal_96 -->
<g id="node97" class="node">
<title>literal_96</title>
<ellipse fill="none" stroke="#000000" cx="6345.5" cy="-1255.8021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="6345.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_71&#45;&gt;literal_96 -->
<g id="edge96" class="edge">
<title>prose_71&#45;&gt;literal_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6256.0389,-2583.3791C6268.2023,-2549.2682 6294.0204,-2472.1561 6304.5,-2404.8041 6373.3082,-1962.5774 6353.0374,-1413.5956 6346.943,-1284.0899"/>
<polygon fill="#000000" stroke="#000000" points="6350.4268,-1283.668 6346.4488,-1273.8483 6343.4349,-1284.0054 6350.4268,-1283.668"/>
</g>
<!-- raw_97 -->
<g id="node98" class="node">
<title>raw_97</title>
<ellipse fill="none" stroke="#000000" cx="6421.5" cy="-1255.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="6421.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_71&#45;&gt;raw_97 -->
<g id="edge97" class="edge">
<title>prose_71&#45;&gt;raw_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6265.6016,-2585.1871C6295.8646,-2553.849 6360.4356,-2480.8239 6385.5,-2404.8041 6457.0562,-2187.7762 6429.3994,-1439.5845 6422.7706,-1284.1991"/>
<polygon fill="#000000" stroke="#000000" points="6426.2607,-1283.8905 6422.3314,-1274.0513 6419.2672,-1284.1933 6426.2607,-1283.8905"/>
</g>
<!-- raw_102 -->
<g id="node103" class="node">
<title>raw_102</title>
<ellipse fill="none" stroke="#000000" cx="6493.5" cy="-1255.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="6493.5" y="-1251.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_72&#45;&gt;raw_102 -->
<g id="edge102" class="edge">
<title>prose_72&#45;&gt;raw_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6417.8426,-2583.2745C6427.782,-2548.9869 6448.8856,-2471.5889 6457.5,-2404.8041 6514.7452,-1960.9982 6499.3306,-1413.2035 6494.6203,-1284.0169"/>
<polygon fill="#000000" stroke="#000000" points="6498.1096,-1283.6629 6494.2378,-1273.8009 6491.1145,-1283.9249 6498.1096,-1283.6629"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="7094,-2404.8061 6539,-2404.8061 6539,-106.798 7094,-106.798 7094,-2404.8061"/>
<text text-anchor="middle" x="6816.5" y="-2373.6041" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;</text>
<text text-anchor="middle" x="6816.5" y="-2342.2041" font-family="Inconsolata" font-size="14.00" fill="#000000">local __navigation = { &#160;UP &#160;&#160;&#160;&#160;&#160;&#160;= &quot;\x1b[A&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-2326.8041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;DOWN &#160;&#160;&#160;&#160;= &quot;\x1b[B&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-2311.404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;RIGHT &#160;&#160;&#160;= &quot;\x1b[C&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-2296.004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;LEFT &#160;&#160;&#160;&#160;= &quot;\x1b[D&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-2280.604" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SHIFT_UP = &quot;\x1b[1;2A&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-2265.2039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SHIFT_DOWN = &quot;\x1b[1;2B&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-2249.8039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SHIFT_RIGHT = &quot;\x1b[1;2C&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-2234.4039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SHIFT_LEFT &#160;= &quot;\x1b[1;2D&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-2219.0038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;HYPER_UP &#160;&#160;&#160;= &quot;\x1b[5~&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-2203.6038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;HYPER_DOWN &#160;= &quot;\x1b[6~&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-2188.2038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;HYPER_RIGHT = &quot;\x1b[F&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-2172.8037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;HYPER_LEFT &#160;= &quot;\x1b[H&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-2157.4037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ALT_UP &#160;&#160;&#160;= &quot;\x1b\x1b[A&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-2142.0037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ALT_DOWN &#160;= &quot;\x1b\x1b[B&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-2126.6037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ALT_RIGHT = &quot;\x1bf&quot;, &#45;&#45; heh</text>
<text text-anchor="middle" x="6816.5" y="-2111.2036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ALT_LEFT &#160;= &quot;\x1bb&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-2095.8036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SHIFT_ALT_UP = &quot;\x1b[1;10A&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-2080.4036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SHIFT_ALT_DOWN = &quot;\x1b[1;10B&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-2065.0035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SHIFT_ALT_RIGHT = &quot;\x1b[1;10C&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-2049.6035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SHIFT_ALT_LEFT &#160;= &quot;\x1b[1;10D&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-2034.2035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SHIFT_TAB &#160;= &quot;\x1b[Z&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-2018.8034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ALT_TAB &#160;&#160;&#160;= &quot;\x1b\t&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-2003.4034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;NEWLINE &#160;&#160;&#160;= &quot;\n&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-1988.0034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;RETURN &#160;&#160;&#160;&#160;= &quot;\r&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-1972.6033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TAB &#160;&#160;&#160;&#160;&#160;&#160;&#160;= &quot;\t&quot;</text>
<text text-anchor="middle" x="6816.5" y="-1957.2033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}</text>
<text text-anchor="middle" x="6816.5" y="-1925.8033" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; it is possible to coerce a terminal into sending these, apparently:</text>
<text text-anchor="middle" x="6816.5" y="-1894.4032" font-family="Inconsolata" font-size="14.00" fill="#000000">local __alt_nav = { &#160;UP &#160;&#160;&#160;&#160;&#160;&#160;= &quot;\x1bOA&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-1879.0032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;DOWN &#160;&#160;&#160;&#160;= &quot;\x1bOB&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-1863.6032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;RIGHT &#160;&#160;&#160;= &quot;\x1bOC&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-1848.2032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;LEFT &#160;&#160;&#160;&#160;= &quot;\x1bOD&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-1832.8031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}</text>
<text text-anchor="middle" x="6816.5" y="-1801.4031" font-family="Inconsolata" font-size="14.00" fill="#000000">local __control = { &#160;ZERO = &quot;\0&quot;,</text>
<text text-anchor="middle" x="6816.5" y="-1786.0031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}</text>
<text text-anchor="middle" x="6816.5" y="-1754.603" font-family="Inconsolata" font-size="14.00" fill="#000000">local navigation = {}</text>
<text text-anchor="middle" x="6816.5" y="-1739.203" font-family="Inconsolata" font-size="14.00" fill="#000000">local control = {}</text>
<text text-anchor="middle" x="6816.5" y="-1707.803" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; &#160;Then invert</text>
<text text-anchor="middle" x="6816.5" y="-1676.4029" font-family="Inconsolata" font-size="14.00" fill="#000000">for k,v in pairs(__navigation) do</text>
<text text-anchor="middle" x="6816.5" y="-1661.0029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;navigation[v] = k</text>
<text text-anchor="middle" x="6816.5" y="-1645.6029" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6816.5" y="-1630.2028" font-family="Inconsolata" font-size="14.00" fill="#000000">for k,v in pairs(__alt_nav) do</text>
<text text-anchor="middle" x="6816.5" y="-1614.8028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;navigation[v] = k</text>
<text text-anchor="middle" x="6816.5" y="-1599.4028" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6816.5" y="-1584.0027" font-family="Inconsolata" font-size="14.00" fill="#000000">for k,v in pairs(__control) do</text>
<text text-anchor="middle" x="6816.5" y="-1568.6027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;control[v] = k</text>
<text text-anchor="middle" x="6816.5" y="-1553.2027" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6816.5" y="-1521.8027" font-family="Inconsolata" font-size="14.00" fill="#000000">__navigation, __control, __alt_nav = nil, nil, nil</text>
<text text-anchor="middle" x="6816.5" y="-1490.4026" font-family="Inconsolata" font-size="14.00" fill="#000000">local function act(action, category)</text>
<text text-anchor="middle" x="6816.5" y="-1475.0026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;colwrite(a.yellow(action), 81, 2)</text>
<text text-anchor="middle" x="6816.5" y="-1459.6026" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6816.5" y="-1428.2025" font-family="Inconsolata" font-size="14.00" fill="#000000">local function litprint(seq)</text>
<text text-anchor="middle" x="6816.5" y="-1412.8025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="6816.5" y="-1397.4025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i = 1, #seq do</text>
<text text-anchor="middle" x="6816.5" y="-1382.0024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;phrase = phrase .. &quot;:&quot; .. byte(seq, i)</text>
<text text-anchor="middle" x="6816.5" y="-1366.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6816.5" y="-1351.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return phrase</text>
<text text-anchor="middle" x="6816.5" y="-1335.8023" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6816.5" y="-1304.4023" font-family="Inconsolata" font-size="14.00" fill="#000000">local function ismousemove(seq)</text>
<text text-anchor="middle" x="6816.5" y="-1289.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if sub(seq, 1, 3) == &quot;\x1b[M&quot; then</text>
<text text-anchor="middle" x="6816.5" y="-1273.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="6816.5" y="-1258.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6816.5" y="-1242.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6816.5" y="-1211.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">local buttons = {[0] =&quot;MB0&quot;, &quot;MB1&quot;, &quot;MB2&quot;, &quot;MBRELEASE&quot;}</text>
<text text-anchor="middle" x="6816.5" y="-1180.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">local function process_escapes(seq)</text>
<text text-anchor="middle" x="6816.5" y="-1164.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if navigation[seq] then</text>
<text text-anchor="middle" x="6816.5" y="-1149.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;act(navigation[seq], &quot;navigation&quot;)</text>
<text text-anchor="middle" x="6816.5" y="-1133.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif #seq == 1 then</text>
<text text-anchor="middle" x="6816.5" y="-1118.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;act(&quot;ESC&quot;, &quot;control&quot;)</text>
<text text-anchor="middle" x="6816.5" y="-1103.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6816.5" y="-1087.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if ismousemove(seq) then</text>
<text text-anchor="middle" x="6816.5" y="-1072.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local kind, col, row = byte(seq,4), byte(seq, 5), byte(seq, 6)</text>
<text text-anchor="middle" x="6816.5" y="-1056.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;col = col &#45; 32</text>
<text text-anchor="middle" x="6816.5" y="-1041.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;row = row &#45; 32</text>
<text text-anchor="middle" x="6816.5" y="-1026.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;kind = kind &#45; 32</text>
<text text-anchor="middle" x="6816.5" y="-1010.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; Get button</text>
<text text-anchor="middle" x="6816.5" y="-995.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local button = buttons[kind % 4]</text>
<text text-anchor="middle" x="6816.5" y="-979.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; Get modifiers</text>
<text text-anchor="middle" x="6816.5" y="-964.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;kind = bit.rshift(kind, 2)</text>
<text text-anchor="middle" x="6816.5" y="-949.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local shift = kind % 2 == 1 and true or false</text>
<text text-anchor="middle" x="6816.5" y="-933.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;kind = bit.rshift(kind, 1)</text>
<text text-anchor="middle" x="6816.5" y="-918.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local meta = kind % 2 == 1 and true or false</text>
<text text-anchor="middle" x="6816.5" y="-902.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;kind = bit.rshift(kind, 1)</text>
<text text-anchor="middle" x="6816.5" y="-887.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local ctrl = kind % 2 == 1 and true or false</text>
<text text-anchor="middle" x="6816.5" y="-872.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;kind = bit.rshift(kind, 1)</text>
<text text-anchor="middle" x="6816.5" y="-856.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local moving = kind % 2 == 1 and true or false</text>
<text text-anchor="middle" x="6816.5" y="-841.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; we skip a bit that seems to just mirror the motion</text>
<text text-anchor="middle" x="6816.5" y="-825.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; it may be pixel level, I can&#39;t tell and idk</text>
<text text-anchor="middle" x="6816.5" y="-810.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local scrolling = kind == 2 and true or false</text>
<text text-anchor="middle" x="6816.5" y="-795.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local phrase = a.magenta(button) .. &quot;: &quot;</text>
<text text-anchor="middle" x="6816.5" y="-779.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. a.bright(kind) .. &quot; &quot; .. ts(shift) .. &quot; &quot; .. ts(meta)</text>
<text text-anchor="middle" x="6816.5" y="-764.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. &quot; &quot; .. ts(ctrl) .. &quot; &quot; .. ts(moving) .. &quot; &quot;</text>
<text text-anchor="middle" x="6816.5" y="-748.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. ts(scrolling) .. &quot; &quot;</text>
<text text-anchor="middle" x="6816.5" y="-733.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. a.cyan(col) .. &quot;,&quot; .. a.cyan(row)</text>
<text text-anchor="middle" x="6816.5" y="-702.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;act(phrase)</text>
<text text-anchor="middle" x="6816.5" y="-686.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6816.5" y="-671.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6816.5" y="-639.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">local function onseq(err,seq)</text>
<text text-anchor="middle" x="6816.5" y="-624.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if err then error(err) end</text>
<text text-anchor="middle" x="6816.5" y="-609.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local head = byte(seq)</text>
<text text-anchor="middle" x="6816.5" y="-593.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; ^Q hard coded as quit, for now</text>
<text text-anchor="middle" x="6816.5" y="-578.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head == 17 then</text>
<text text-anchor="middle" x="6816.5" y="-562.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;femto.cooked()</text>
<text text-anchor="middle" x="6816.5" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;write(a.mouse.track(false))</text>
<text text-anchor="middle" x="6816.5" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uv.stop()</text>
<text text-anchor="middle" x="6816.5" y="-516.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="6816.5" y="-501.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6816.5" y="-485.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Escape sequences</text>
<text text-anchor="middle" x="6816.5" y="-470.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head == 27 then</text>
<text text-anchor="middle" x="6816.5" y="-455.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local color</text>
<text text-anchor="middle" x="6816.5" y="-439.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if navigation[seq] or #seq == 1 then</text>
<text text-anchor="middle" x="6816.5" y="-424.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;color = a.magenta</text>
<text text-anchor="middle" x="6816.5" y="-408.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="6816.5" y="-393.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;color = a.red</text>
<text text-anchor="middle" x="6816.5" y="-378.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6816.5" y="-362.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;colwrite(color(STAT_ICON) .. &quot; : &quot; .. c.ts(seq))</text>
<text text-anchor="middle" x="6816.5" y="-347.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return process_escapes(seq)</text>
<text text-anchor="middle" x="6816.5" y="-331.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6816.5" y="-316.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Control sequences</text>
<text text-anchor="middle" x="6816.5" y="-301.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head &lt;= 31 and not navigation[seq] then</text>
<text text-anchor="middle" x="6816.5" y="-285.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local ctrl = &quot;^&quot; .. string.char(head + 64)</text>
<text text-anchor="middle" x="6816.5" y="-270.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;colwrite(a.blue(STAT_ICON) .. &quot; : &quot; .. ctrl)</text>
<text text-anchor="middle" x="6816.5" y="-254.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return act(ts(seq), &quot;control&quot;)</text>
<text text-anchor="middle" x="6816.5" y="-239.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif navigation[seq] then</text>
<text text-anchor="middle" x="6816.5" y="-224.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;colwrite(a.green(STAT_ICON))</text>
<text text-anchor="middle" x="6816.5" y="-208.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return act(seq, &quot;navigation&quot;)</text>
<text text-anchor="middle" x="6816.5" y="-193.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6816.5" y="-161.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;colwrite(a.green(STAT_ICON) .. &quot; : &quot; .. seq)</text>
<text text-anchor="middle" x="6816.5" y="-146.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return act(seq, &quot;entry&quot;)</text>
<text text-anchor="middle" x="6816.5" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_73&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>codeblock_73&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6685.2796,-2583.2027C6688.0768,-2554.9067 6694.0043,-2494.9445 6701.8648,-2415.4296"/>
<polygon fill="#000000" stroke="#000000" points="6705.3831,-2415.4166 6702.8839,-2405.1207 6698.417,-2414.7279 6705.3831,-2415.4166"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="7429,-1516.7606 7112,-1516.7606 7112,-994.8436 7429,-994.8436 7429,-1516.7606"/>
<text text-anchor="middle" x="7270.5" y="-1501.3312" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Get names for as many values as possible</text>
<text text-anchor="middle" x="7270.5" y="-1485.9312" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; into the colorizer</text>
<text text-anchor="middle" x="7270.5" y="-1470.5312" font-family="Inconsolata" font-size="14.00" fill="#000000">c.allNames()</text>
<text text-anchor="middle" x="7270.5" y="-1455.1311" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; This switches screens and does a wipe,</text>
<text text-anchor="middle" x="7270.5" y="-1439.7311" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; then puts the cursor at 1,1.</text>
<text text-anchor="middle" x="7270.5" y="-1424.3311" font-family="Inconsolata" font-size="14.00" fill="#000000">write &quot;\x1b[?47h\x1b[2J\x1b[H&quot;</text>
<text text-anchor="middle" x="7270.5" y="-1408.931" font-family="Inconsolata" font-size="14.00" fill="#000000">print &quot;an repl, plz reply uwu ðŸ‘€&quot;</text>
<text text-anchor="middle" x="7270.5" y="-1384.7023" font-family="Inconsolata" font-size="14.00" fill="#000000">displayPrompt &#39;ðŸ‘‰ &#160;&#39;</text>
<text text-anchor="middle" x="7270.5" y="-1360.4735" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Crude hack to choose raw mode at runtime</text>
<text text-anchor="middle" x="7270.5" y="-1345.0735" font-family="Inconsolata" font-size="14.00" fill="#000000">if arg[1] == &quot;&#45;r&quot; then</text>
<text text-anchor="middle" x="7270.5" y="-1329.6735" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;femto.raw()</text>
<text text-anchor="middle" x="7270.5" y="-1314.2734" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45;uv.tty_set_mode(stdin, 2)</text>
<text text-anchor="middle" x="7270.5" y="-1298.8734" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; mouse mode</text>
<text text-anchor="middle" x="7270.5" y="-1283.4734" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;write(a.mouse.track(true))</text>
<text text-anchor="middle" x="7270.5" y="-1268.0734" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.read_start(stdin, onseq)</text>
<text text-anchor="middle" x="7270.5" y="-1252.6733" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="7270.5" y="-1237.2733" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.read_start(stdin, onread)</text>
<text text-anchor="middle" x="7270.5" y="-1221.8733" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="7270.5" y="-1158.4732" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; main loop</text>
<text text-anchor="middle" x="7270.5" y="-1143.0732" font-family="Inconsolata" font-size="14.00" fill="#000000">local retcode = &#160;uv.run(&#39;default&#39;)</text>
<text text-anchor="middle" x="7270.5" y="-1127.6732" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Restore main screen</text>
<text text-anchor="middle" x="7270.5" y="-1112.2731" font-family="Inconsolata" font-size="14.00" fill="#000000">print &#39;\x1b[?47l&#39;</text>
<text text-anchor="middle" x="7270.5" y="-1080.8731" font-family="Inconsolata" font-size="14.00" fill="#000000">if retcode ~= true then</text>
<text text-anchor="middle" x="7270.5" y="-1065.4731" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;error(retcode)</text>
<text text-anchor="middle" x="7270.5" y="-1050.073" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="7270.5" y="-1018.673" font-family="Inconsolata" font-size="14.00" fill="#000000">print(&quot;kthxbye&quot;)</text>
<text text-anchor="middle" x="7270.5" y="-1003.273" font-family="Inconsolata" font-size="14.00" fill="#000000">return retcode</text>
</g>
<!-- codeblock_74&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>codeblock_74&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7076.315,-2583.0693C7081.6811,-2548.4354 7093.7118,-2470.4772 7103.5,-2404.8041 7148.2843,-2104.3283 7198.2176,-1759.4167 7231.716,-1526.5285"/>
<polygon fill="#000000" stroke="#000000" points="7235.1899,-1526.9595 7233.1492,-1516.563 7228.2612,-1525.9629 7235.1899,-1526.9595"/>
</g>
<!-- leaf_80 -->
<g id="node81" class="node">
<title>leaf_80</title>
<polygon fill="none" stroke="#c0c0c0" points="4730.5,-70.7004 4238.5,-70.7004 4238.5,-.0997 4730.5,-.0997 4730.5,-70.7004"/>
<text text-anchor="middle" x="4484.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">After flailing about and writing what was no doubt a good parser for</text>
<text text-anchor="middle" x="4484.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">individual byte sequences, I discovered that</text>
</g>
<!-- raw_76&#45;&gt;leaf_80 -->
<g id="edge80" class="edge">
<title>raw_76&#45;&gt;leaf_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4736.164,-1237.5874C4741.0932,-1098.0327 4769.8902,-201.1952 4699.5,-106.8001 4690.6403,-94.919 4668.3638,-83.8453 4641.3379,-74.1334"/>
<polygon fill="#000000" stroke="#000000" points="4642.1894,-70.7243 4631.5946,-70.7558 4639.8966,-77.3381 4642.1894,-70.7243"/>
</g>
<!-- leaf_81 -->
<g id="node82" class="node">
<title>leaf_81</title>
<polygon fill="none" stroke="#c0c0c0" points="4802.5,-53.4 4748.5,-53.4 4748.5,-17.4 4802.5,-17.4 4802.5,-53.4"/>
<text text-anchor="middle" x="4775.5" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_77&#45;&gt;leaf_81 -->
<g id="edge81" class="edge">
<title>prespace_77&#45;&gt;leaf_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4825.7395,-1237.6032C4820.0165,-1100.6565 4783.7373,-232.5134 4776.6864,-63.7907"/>
<polygon fill="#000000" stroke="#000000" points="4780.1795,-63.549 4776.2649,-53.7039 4773.1856,-63.8413 4780.1795,-63.549"/>
</g>
<!-- leaf_82 -->
<g id="node83" class="node">
<title>leaf_82</title>
<polygon fill="none" stroke="#c0c0c0" points="4874.5,-53.4 4820.5,-53.4 4820.5,-17.4 4874.5,-17.4 4874.5,-53.4"/>
<text text-anchor="middle" x="4847.5" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">uv</text>
</g>
<!-- literal_78&#45;&gt;leaf_82 -->
<g id="edge82" class="edge">
<title>literal_78&#45;&gt;leaf_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4924.578,-1237.5302C4936.4122,-1128.5753 4991.0034,-554.1857 4881.5,-106.8001 4877.7177,-91.3471 4870.3935,-75.2549 4863.5087,-62.2681"/>
<polygon fill="#000000" stroke="#000000" points="4866.5215,-60.4834 4858.6301,-53.4141 4860.3906,-63.8616 4866.5215,-60.4834"/>
</g>
<!-- leaf_83 -->
<g id="node84" class="node">
<title>leaf_83</title>
<polygon fill="none" stroke="#c0c0c0" points="5104.5,-54.7006 4892.5,-54.7006 4892.5,-16.0995 5104.5,-16.0995 5104.5,-54.7006"/>
<text text-anchor="middle" x="4998.5" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> gives them to me a seq at a</text>
<text text-anchor="middle" x="4998.5" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">time.</text>
</g>
<!-- raw_79&#45;&gt;leaf_83 -->
<g id="edge83" class="edge">
<title>raw_79&#45;&gt;leaf_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4998.5,-1237.6032C4998.5,-1101.0236 4998.5,-237.1624 4998.5,-65.1626"/>
<polygon fill="#000000" stroke="#000000" points="5002.0001,-65.0649 4998.5,-55.0649 4995.0001,-65.0649 5002.0001,-65.0649"/>
</g>
<!-- leaf_85 -->
<g id="node86" class="node">
<title>leaf_85</title>
<polygon fill="none" stroke="#c0c0c0" points="5320.5,-55.3021 5122.5,-55.3021 5122.5,-15.4979 5320.5,-15.4979 5320.5,-55.3021"/>
<text text-anchor="middle" x="5221.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">Because of course it does.</text>
</g>
<!-- raw_84&#45;&gt;leaf_85 -->
<g id="edge85" class="edge">
<title>raw_84&#45;&gt;leaf_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5386.9948,-1237.6032C5368.2039,-1101.1007 5249.4087,-238.1374 5225.6373,-65.4545"/>
<polygon fill="#000000" stroke="#000000" points="5229.102,-64.958 5224.2709,-55.5288 5222.1674,-65.9127 5229.102,-64.958"/>
</g>
<!-- leaf_90 -->
<g id="node91" class="node">
<title>leaf_90</title>
<polygon fill="none" stroke="#c0c0c0" points="5782,-55.3021 5339,-55.3021 5339,-15.4979 5782,-15.4979 5782,-55.3021"/>
<text text-anchor="middle" x="5560.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">So we&#39;re just going to make this a jump table that translates</text>
</g>
<!-- raw_86&#45;&gt;leaf_90 -->
<g id="edge90" class="edge">
<title>raw_86&#45;&gt;leaf_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5631.4263,-1237.6032C5623.3771,-1101.1687 5572.5116,-238.9976 5562.2884,-65.7133"/>
<polygon fill="#000000" stroke="#000000" points="5565.7705,-65.3053 5561.6875,-55.5288 5558.7826,-65.7176 5565.7705,-65.3053"/>
</g>
<!-- leaf_91 -->
<g id="node92" class="node">
<title>leaf_91</title>
<polygon fill="none" stroke="#c0c0c0" points="5854.5,-53.4 5800.5,-53.4 5800.5,-17.4 5854.5,-17.4 5854.5,-53.4"/>
<text text-anchor="middle" x="5827.5" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_87&#45;&gt;leaf_91 -->
<g id="edge91" class="edge">
<title>prespace_87&#45;&gt;leaf_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5807.7982,-1237.6032C5810.0425,-1100.6565 5824.2697,-232.5134 5827.0347,-63.7907"/>
<polygon fill="#000000" stroke="#000000" points="5830.5356,-63.7599 5827.2,-53.7039 5823.5365,-63.6452 5830.5356,-63.7599"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="5926.5,-53.4 5872.5,-53.4 5872.5,-17.4 5926.5,-17.4 5926.5,-53.4"/>
<text text-anchor="middle" x="5899.5" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">xterm</text>
</g>
<!-- literal_88&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>literal_88&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5903.4404,-1237.6032C5902.9915,-1100.6565 5900.1461,-232.5134 5899.5931,-63.7907"/>
<polygon fill="#000000" stroke="#000000" points="5903.0928,-63.6923 5899.56,-53.7039 5896.0929,-63.7153 5903.0928,-63.6923"/>
</g>
<!-- leaf_93 -->
<g id="node94" class="node">
<title>leaf_93</title>
<polygon fill="none" stroke="#c0c0c0" points="6038,-54.7006 5945,-54.7006 5945,-16.0995 6038,-16.0995 6038,-54.7006"/>
<text text-anchor="middle" x="5991.5" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> directly</text>
<text text-anchor="middle" x="5991.5" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">to english.</text>
</g>
<!-- raw_89&#45;&gt;leaf_93 -->
<g id="edge93" class="edge">
<title>raw_89&#45;&gt;leaf_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5987.5596,-1237.6032C5988.0073,-1101.0236 5990.8387,-237.1624 5991.4025,-65.1626"/>
<polygon fill="#000000" stroke="#000000" points="5994.9027,-65.0764 5991.4355,-55.0649 5987.9027,-65.0533 5994.9027,-65.0764"/>
</g>
<!-- leaf_98 -->
<g id="node99" class="node">
<title>leaf_98</title>
<polygon fill="none" stroke="#c0c0c0" points="6261,-55.3021 6056,-55.3021 6056,-15.4979 6261,-15.4979 6261,-55.3021"/>
<text text-anchor="middle" x="6158.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m also going to switch to</text>
</g>
<!-- raw_94&#45;&gt;leaf_98 -->
<g id="edge98" class="edge">
<title>raw_94&#45;&gt;leaf_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6158.5,-1237.6032C6158.5,-1101.1687 6158.5,-238.9976 6158.5,-65.7133"/>
<polygon fill="#000000" stroke="#000000" points="6162.0001,-65.5288 6158.5,-55.5288 6155.0001,-65.5288 6162.0001,-65.5288"/>
</g>
<!-- leaf_99 -->
<g id="node100" class="node">
<title>leaf_99</title>
<polygon fill="none" stroke="#c0c0c0" points="6333.5,-53.4 6279.5,-53.4 6279.5,-17.4 6333.5,-17.4 6333.5,-53.4"/>
<text text-anchor="middle" x="6306.5" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_95&#45;&gt;leaf_99 -->
<g id="edge99" class="edge">
<title>prespace_95&#45;&gt;leaf_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6250.35,-1237.6032C6256.7462,-1100.6565 6297.2936,-232.5134 6305.174,-63.7907"/>
<polygon fill="#000000" stroke="#000000" points="6308.6746,-63.8563 6305.6451,-53.7039 6301.6823,-63.5297 6308.6746,-63.8563"/>
</g>
<!-- leaf_100 -->
<g id="node101" class="node">
<title>leaf_100</title>
<polygon fill="none" stroke="#c0c0c0" points="6405.5,-53.4 6351.5,-53.4 6351.5,-17.4 6405.5,-17.4 6405.5,-53.4"/>
<text text-anchor="middle" x="6378.5" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">x1b</text>
</g>
<!-- literal_96&#45;&gt;leaf_100 -->
<g id="edge100" class="edge">
<title>literal_96&#45;&gt;leaf_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6345.9921,-1237.6032C6349.6952,-1100.6565 6373.17,-232.5134 6377.7323,-63.7907"/>
<polygon fill="#000000" stroke="#000000" points="6381.2334,-63.7949 6378.0051,-53.7039 6374.2359,-63.6056 6381.2334,-63.7949"/>
</g>
<!-- leaf_101 -->
<g id="node102" class="node">
<title>leaf_101</title>
<polygon fill="none" stroke="#c0c0c0" points="6713,-53.4 6424,-53.4 6424,-17.4 6713,-17.4 6713,-53.4"/>
<text text-anchor="middle" x="6568.5" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">, which is more visually distinguished.</text>
</g>
<!-- raw_97&#45;&gt;leaf_101 -->
<g id="edge101" class="edge">
<title>raw_97&#45;&gt;leaf_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6419.8169,-1237.5791C6408.0653,-1106.8074 6342.0701,-310.6404 6457.5,-106.8001 6469.5482,-85.5239 6490.8383,-69.5793 6511.5724,-58.2181"/>
<polygon fill="#000000" stroke="#000000" points="6513.4476,-61.1882 6520.709,-53.4731 6510.2213,-54.976 6513.4476,-61.1882"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="7272,-62.7005 6731,-62.7005 6731,-8.0996 7272,-8.0996 7272,-62.7005"/>
<text text-anchor="middle" x="7001.5" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">To avoid extraneous quoting, we define the tokens as keys, and their escape</text>
<text text-anchor="middle" x="7001.5" y="-16.2" font-family="Inconsolata" font-size="14.00" fill="#000000">strings as values.</text>
</g>
<!-- raw_102&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>raw_102&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6492.6935,-1237.4714C6486.6909,-1097.0427 6451.3279,-194.8588 6529.5,-106.8001 6534.1915,-101.5152 6667.9377,-81.5846 6791.8517,-64.1195"/>
<polygon fill="#000000" stroke="#000000" points="6792.4799,-67.5657 6801.8946,-62.7064 6791.5044,-60.634 6792.4799,-67.5657"/>
</g>
</g>
</svg>
