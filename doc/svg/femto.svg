<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="9410pt" height="2258pt"
 viewBox="0.00 0.00 9409.50 2258.43" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2254.432)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2254.432 9405.5,-2254.432 9405.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="2509" cy="-2232.432" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="2509" y="-2228.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 312</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="2509" cy="-2160.432" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2509" y="-2156.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;216</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2509,-2214.2633C2509,-2206.5629 2509,-2197.4063 2509,-2188.8486"/>
<polygon fill="#000000" stroke="#000000" points="2512.5001,-2188.8452 2509,-2178.8452 2505.5001,-2188.8453 2512.5001,-2188.8452"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="767" cy="-2088.432" rx="47.4168" ry="18"/>
<text text-anchor="middle" x="767" y="-2084.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Femto</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2443.3198,-2159.7367C2228.0674,-2157.1224 1524.4456,-2145.9159 944,-2106.432 903.1905,-2103.656 857.2378,-2098.9353 822.3835,-2095.0247"/>
<polygon fill="#000000" stroke="#000000" points="822.7326,-2091.5419 812.4019,-2093.893 821.9439,-2098.4974 822.7326,-2091.5419"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="985" cy="-2088.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="985" y="-2084.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2443.2134,-2159.1462C2200.3466,-2154.2111 1354.3923,-2135.3002 1086,-2106.432 1065.8285,-2104.2623 1043.6118,-2100.4598 1025.1633,-2096.9071"/>
<polygon fill="#000000" stroke="#000000" points="1025.8269,-2093.4706 1015.3388,-2094.971 1024.4734,-2100.3385 1025.8269,-2093.4706"/>
</g>
<!-- section_4 -->
<g id="node5" class="node">
<title>section_4</title>
<ellipse fill="none" stroke="#000000" cx="1156" cy="-2088.432" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="1156" y="-2084.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 6&#45;27</text>
</g>
<!-- section_1&#45;&gt;section_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;section_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2444.1978,-2156.9835C2217.4805,-2144.9187 1460.9617,-2104.6605 1226.139,-2092.1644"/>
<polygon fill="#000000" stroke="#000000" points="1226.1875,-2088.6621 1216.0156,-2091.6257 1225.8154,-2095.6522 1226.1875,-2088.6621"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="3828" cy="-2088.432" rx="69.851" ry="18"/>
<text text-anchor="middle" x="3828" y="-2084.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 34&#45;115</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2573.511,-2156.9105C2792.8925,-2144.9352 3509.7453,-2105.8045 3749.2646,-2092.7299"/>
<polygon fill="#000000" stroke="#000000" points="3749.4929,-2096.2227 3759.2873,-2092.1828 3749.1113,-2089.2331 3749.4929,-2096.2227"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="6072" cy="-2088.432" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="6072" y="-2084.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 129&#45;216</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2574.6552,-2159.1052C3011.2572,-2150.2825 5492.6093,-2100.1401 5986.5064,-2090.1596"/>
<polygon fill="#000000" stroke="#000000" points="5986.8398,-2093.6537 5996.7671,-2089.9523 5986.6983,-2086.6551 5986.8398,-2093.6537"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="7662" cy="-2088.432" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7662" y="-2084.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 217&#45;221</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2574.6217,-2159.5151C3124.033,-2151.8385 6953.2591,-2098.3348 7576.3843,-2089.6282"/>
<polygon fill="#000000" stroke="#000000" points="7576.6826,-2093.1245 7586.6327,-2089.485 7576.5847,-2086.1252 7576.6826,-2093.1245"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="742,-2034.432 670,-2034.432 670,-1998.432 742,-1998.432 742,-2034.432"/>
<text text-anchor="middle" x="706" y="-2012.932" font-family="Inconsolata" font-size="14.00" fill="#000000">* &#160;Femto</text>
</g>
<!-- header_2&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>header_2&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M752.2336,-2071.0028C744.9061,-2062.354 735.9103,-2051.7359 727.8075,-2042.172"/>
<polygon fill="#000000" stroke="#000000" points="730.4021,-2039.82 721.2674,-2034.4526 725.0612,-2044.3449 730.4021,-2039.82"/>
</g>
<!-- raw_9 -->
<g id="node10" class="node">
<title>raw_9</title>
<ellipse fill="none" stroke="#000000" cx="787" cy="-2016.432" rx="27" ry="18"/>
<text text-anchor="middle" x="787" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_9 -->
<g id="edge9" class="edge">
<title>prose_3&#45;&gt;raw_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M956.1649,-2080.1727C923.4143,-2070.4824 868.6038,-2053.3217 823,-2034.432 821.2085,-2033.6899 819.3824,-2032.8972 817.5502,-2032.0736"/>
<polygon fill="#000000" stroke="#000000" points="819.0084,-2028.8916 808.4711,-2027.7889 816.0208,-2035.2221 819.0084,-2028.8916"/>
</g>
<!-- header_11 -->
<g id="node12" class="node">
<title>header_11</title>
<ellipse fill="none" stroke="#000000" cx="887" cy="-2016.432" rx="54.6851" ry="18"/>
<text text-anchor="middle" x="887" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : includes</text>
</g>
<!-- section_4&#45;&gt;header_11 -->
<g id="edge11" class="edge">
<title>section_4&#45;&gt;header_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1109.9405,-2076.5325C1068.3543,-2065.7332 1005.5097,-2049.2756 951,-2034.432 946.9282,-2033.3232 942.7139,-2032.1639 938.481,-2030.9912"/>
<polygon fill="#000000" stroke="#000000" points="939.201,-2027.5586 928.6287,-2028.2481 937.3234,-2034.3021 939.201,-2027.5586"/>
</g>
<!-- prose_12 -->
<g id="node13" class="node">
<title>prose_12</title>
<ellipse fill="none" stroke="#000000" cx="992" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="992" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_12 -->
<g id="edge12" class="edge">
<title>section_4&#45;&gt;prose_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1121.6202,-2073.3384C1093.8097,-2061.1289 1054.8158,-2044.0096 1026.8739,-2031.7425"/>
<polygon fill="#000000" stroke="#000000" points="1028.0513,-2028.437 1017.4879,-2027.6218 1025.2374,-2034.8465 1028.0513,-2028.437"/>
</g>
<!-- prose_13 -->
<g id="node14" class="node">
<title>prose_13</title>
<ellipse fill="none" stroke="#000000" cx="1074" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1074" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_13 -->
<g id="edge13" class="edge">
<title>section_4&#45;&gt;prose_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1136.5671,-2071.369C1125.3006,-2061.4764 1110.9965,-2048.9167 1098.9098,-2038.304"/>
<polygon fill="#000000" stroke="#000000" points="1101.1653,-2035.6267 1091.3415,-2031.6587 1096.5466,-2040.8868 1101.1653,-2035.6267"/>
</g>
<!-- prose_14 -->
<g id="node15" class="node">
<title>prose_14</title>
<ellipse fill="none" stroke="#000000" cx="1156" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1156" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_14 -->
<g id="edge14" class="edge">
<title>section_4&#45;&gt;prose_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1156,-2070.2633C1156,-2062.5629 1156,-2053.4063 1156,-2044.8486"/>
<polygon fill="#000000" stroke="#000000" points="1159.5001,-2044.8452 1156,-2034.8452 1152.5001,-2044.8453 1159.5001,-2044.8452"/>
</g>
<!-- codeblock_15 -->
<g id="node16" class="node">
<title>codeblock_15</title>
<ellipse fill="none" stroke="#000000" cx="1287" cy="-2016.432" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1287" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 15&#45;25</text>
</g>
<!-- section_4&#45;&gt;codeblock_15 -->
<g id="edge15" class="edge">
<title>section_4&#45;&gt;codeblock_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1185.0731,-2072.4528C1203.5067,-2062.3214 1227.584,-2049.0881 1247.7086,-2038.0272"/>
<polygon fill="#000000" stroke="#000000" points="1249.5647,-2041.0009 1256.6425,-2033.117 1246.193,-2034.8664 1249.5647,-2041.0009"/>
</g>
<!-- section_16 -->
<g id="node17" class="node">
<title>section_16</title>
<ellipse fill="none" stroke="#000000" cx="1547" cy="-2016.432" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1547" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 28&#45;33</text>
</g>
<!-- section_4&#45;&gt;section_16 -->
<g id="edge16" class="edge">
<title>section_4&#45;&gt;section_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1207.9218,-2078.8709C1278.6973,-2065.8381 1405.4252,-2042.502 1482.3002,-2028.346"/>
<polygon fill="#000000" stroke="#000000" points="1483.143,-2031.7497 1492.3438,-2026.4965 1481.8752,-2024.8655 1483.143,-2031.7497"/>
</g>
<!-- header_30 -->
<g id="node31" class="node">
<title>header_30</title>
<ellipse fill="none" stroke="#000000" cx="1914" cy="-2016.432" rx="39.6991" ry="18"/>
<text text-anchor="middle" x="1914" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : core</text>
</g>
<!-- section_5&#45;&gt;header_30 -->
<g id="edge30" class="edge">
<title>section_5&#45;&gt;header_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3757.9187,-2087.253C3471.7274,-2082.2918 2390.7083,-2062.0813 2050,-2034.432 2020.4505,-2032.034 1987.4832,-2027.7123 1961.408,-2023.9046"/>
<polygon fill="#000000" stroke="#000000" points="1961.8181,-2020.4272 1951.4126,-2022.4211 1960.7904,-2027.3514 1961.8181,-2020.4272"/>
</g>
<!-- prose_31 -->
<g id="node32" class="node">
<title>prose_31</title>
<ellipse fill="none" stroke="#000000" cx="2091" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2091" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_31 -->
<g id="edge31" class="edge">
<title>section_5&#45;&gt;prose_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3758.8356,-2085.5651C3469.8718,-2073.5873 2363.4846,-2027.7267 2133.1583,-2018.1795"/>
<polygon fill="#000000" stroke="#000000" points="2133.3017,-2014.6825 2123.1653,-2017.7652 2133.0118,-2021.6765 2133.3017,-2014.6825"/>
</g>
<!-- prose_32 -->
<g id="node33" class="node">
<title>prose_32</title>
<ellipse fill="none" stroke="#000000" cx="2875" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2875" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_32 -->
<g id="edge32" class="edge">
<title>section_5&#45;&gt;prose_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3760.6072,-2083.3404C3576.3572,-2069.4201 3067.9595,-2031.0102 2917.4872,-2019.6419"/>
<polygon fill="#000000" stroke="#000000" points="2917.5164,-2016.1342 2907.2811,-2018.8708 2916.989,-2023.1143 2917.5164,-2016.1342"/>
</g>
<!-- codeblock_33 -->
<g id="node34" class="node">
<title>codeblock_33</title>
<ellipse fill="none" stroke="#000000" cx="3463" cy="-2016.432" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3463" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 41&#45;60</text>
</g>
<!-- section_5&#45;&gt;codeblock_33 -->
<g id="edge33" class="edge">
<title>section_5&#45;&gt;codeblock_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3772.167,-2077.4183C3707.7366,-2064.7088 3601.7431,-2043.8005 3532.1517,-2030.0729"/>
<polygon fill="#000000" stroke="#000000" points="3532.6459,-2026.603 3522.1575,-2028.1014 3531.2911,-2033.4706 3532.6459,-2026.603"/>
</g>
<!-- prose_34 -->
<g id="node35" class="node">
<title>prose_34</title>
<ellipse fill="none" stroke="#000000" cx="3658" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3658" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_34 -->
<g id="edge34" class="edge">
<title>section_5&#45;&gt;prose_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3791.5307,-2072.9862C3762.4299,-2060.6611 3721.9159,-2043.5022 3693.1637,-2031.3248"/>
<polygon fill="#000000" stroke="#000000" points="3694.4705,-2028.0774 3683.8974,-2027.4003 3691.7405,-2034.5231 3694.4705,-2028.0774"/>
</g>
<!-- prose_35 -->
<g id="node36" class="node">
<title>prose_35</title>
<ellipse fill="none" stroke="#000000" cx="3828" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3828" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_35 -->
<g id="edge35" class="edge">
<title>section_5&#45;&gt;prose_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3828,-2070.2633C3828,-2062.5629 3828,-2053.4063 3828,-2044.8486"/>
<polygon fill="#000000" stroke="#000000" points="3831.5001,-2044.8452 3828,-2034.8452 3824.5001,-2044.8453 3831.5001,-2044.8452"/>
</g>
<!-- codeblock_36 -->
<g id="node37" class="node">
<title>codeblock_36</title>
<ellipse fill="none" stroke="#000000" cx="4045" cy="-2016.432" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="4045" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 67&#45;74</text>
</g>
<!-- section_5&#45;&gt;codeblock_36 -->
<g id="edge36" class="edge">
<title>section_5&#45;&gt;codeblock_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3870.8722,-2074.2071C3905.2277,-2062.808 3953.6447,-2046.7434 3990.7064,-2034.4464"/>
<polygon fill="#000000" stroke="#000000" points="3991.9629,-2037.7172 4000.3519,-2031.2461 3989.7585,-2031.0734 3991.9629,-2037.7172"/>
</g>
<!-- prose_37 -->
<g id="node38" class="node">
<title>prose_37</title>
<ellipse fill="none" stroke="#000000" cx="4321" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4321" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_37 -->
<g id="edge37" class="edge">
<title>section_5&#45;&gt;prose_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3888.9459,-2079.5311C3990.6926,-2064.6716 4192.5513,-2035.1912 4279.5321,-2022.4881"/>
<polygon fill="#000000" stroke="#000000" points="4280.1663,-2025.9327 4289.5556,-2021.0243 4279.1547,-2019.0062 4280.1663,-2025.9327"/>
</g>
<!-- prose_38 -->
<g id="node39" class="node">
<title>prose_38</title>
<ellipse fill="none" stroke="#000000" cx="4484" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4484" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_38 -->
<g id="edge38" class="edge">
<title>section_5&#45;&gt;prose_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3894.7101,-2082.6728C3995.8962,-2073.7144 4194.1671,-2055.288 4362,-2034.432 4389.0211,-2031.0741 4419.3046,-2026.6101 4442.9401,-2022.9677"/>
<polygon fill="#000000" stroke="#000000" points="4443.6197,-2026.4042 4452.964,-2021.4109 4442.5453,-2019.4872 4443.6197,-2026.4042"/>
</g>
<!-- codeblock_39 -->
<g id="node40" class="node">
<title>codeblock_39</title>
<ellipse fill="none" stroke="#000000" cx="4703" cy="-2016.432" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="4703" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 81&#45;102</text>
</g>
<!-- section_5&#45;&gt;codeblock_39 -->
<g id="edge39" class="edge">
<title>section_5&#45;&gt;codeblock_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3895.8177,-2083.7086C4020.4764,-2074.9084 4294.4049,-2055.0211 4525,-2034.432 4555.4418,-2031.7139 4588.7795,-2028.426 4618.2894,-2025.4079"/>
<polygon fill="#000000" stroke="#000000" points="4618.9669,-2028.8568 4628.5567,-2024.353 4618.2514,-2021.8935 4618.9669,-2028.8568"/>
</g>
<!-- codeblock_40 -->
<g id="node41" class="node">
<title>codeblock_40</title>
<ellipse fill="none" stroke="#000000" cx="5032" cy="-2016.432" rx="86.7905" ry="18"/>
<text text-anchor="middle" x="5032" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 104&#45;113</text>
</g>
<!-- section_5&#45;&gt;codeblock_40 -->
<g id="edge40" class="edge">
<title>section_5&#45;&gt;codeblock_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3896.8413,-2085.049C4055.2361,-2077.1635 4457.7361,-2056.5444 4794,-2034.432 4842.5255,-2031.241 4896.5777,-2027.1928 4940.8913,-2023.744"/>
<polygon fill="#000000" stroke="#000000" points="4941.3651,-2027.2178 4951.0622,-2022.9497 4940.82,-2020.239 4941.3651,-2027.2178"/>
</g>
<!-- section_41 -->
<g id="node42" class="node">
<title>section_41</title>
<ellipse fill="none" stroke="#000000" cx="5487" cy="-2016.432" rx="74.6878" ry="18"/>
<text text-anchor="middle" x="5487" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 116&#45;128</text>
</g>
<!-- section_5&#45;&gt;section_41 -->
<g id="edge41" class="edge">
<title>section_5&#45;&gt;section_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3897.4155,-2085.7585C4091.7512,-2078.2284 4657.7974,-2055.9851 5128,-2034.432 5222.5179,-2030.0995 5331.0047,-2024.585 5403.7596,-2020.8083"/>
<polygon fill="#000000" stroke="#000000" points="5403.9785,-2024.3018 5413.7833,-2020.2873 5403.6151,-2017.3112 5403.9785,-2024.3018"/>
</g>
<!-- header_96 -->
<g id="node97" class="node">
<title>header_96</title>
<ellipse fill="none" stroke="#000000" cx="5853" cy="-2016.432" rx="75.4657" ry="18"/>
<text text-anchor="middle" x="5853" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Modeselektor</text>
</g>
<!-- section_6&#45;&gt;header_96 -->
<g id="edge96" class="edge">
<title>section_6&#45;&gt;header_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6027.4181,-2073.7749C5992.6325,-2062.3385 5944.1669,-2046.4047 5907.1507,-2034.2349"/>
<polygon fill="#000000" stroke="#000000" points="5908.1124,-2030.8669 5897.5195,-2031.0685 5905.9261,-2037.5167 5908.1124,-2030.8669"/>
</g>
<!-- prose_97 -->
<g id="node98" class="node">
<title>prose_97</title>
<ellipse fill="none" stroke="#000000" cx="5991" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5991" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_97 -->
<g id="edge97" class="edge">
<title>section_6&#45;&gt;prose_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6052.3922,-2071.0028C6041.4361,-2061.2641 6027.6711,-2049.0285 6015.9532,-2038.6126"/>
<polygon fill="#000000" stroke="#000000" points="6018.027,-2035.7731 6008.2276,-2031.7454 6013.3764,-2041.005 6018.027,-2035.7731"/>
</g>
<!-- codeblock_98 -->
<g id="node99" class="node">
<title>codeblock_98</title>
<ellipse fill="none" stroke="#000000" cx="6152" cy="-2016.432" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6152" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 131&#45;137</text>
</g>
<!-- section_6&#45;&gt;codeblock_98 -->
<g id="edge98" class="edge">
<title>section_6&#45;&gt;codeblock_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6091.3658,-2071.0028C6101.3383,-2062.0275 6113.6671,-2050.9315 6124.5981,-2041.0937"/>
<polygon fill="#000000" stroke="#000000" points="6127.1652,-2043.4921 6132.2568,-2034.2008 6122.4824,-2038.289 6127.1652,-2043.4921"/>
</g>
<!-- codeblock_99 -->
<g id="node100" class="node">
<title>codeblock_99</title>
<ellipse fill="none" stroke="#000000" cx="6529" cy="-2016.432" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6529" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 139&#45;201</text>
</g>
<!-- section_6&#45;&gt;codeblock_99 -->
<g id="edge99" class="edge">
<title>section_6&#45;&gt;codeblock_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6135.0641,-2078.4963C6216.9945,-2065.5882 6360.0856,-2043.0443 6449.4054,-2028.972"/>
<polygon fill="#000000" stroke="#000000" points="6450.1528,-2032.3975 6459.4862,-2027.3838 6449.0633,-2025.4828 6450.1528,-2032.3975"/>
</g>
<!-- codeblock_100 -->
<g id="node101" class="node">
<title>codeblock_100</title>
<ellipse fill="none" stroke="#000000" cx="6968" cy="-2016.432" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6968" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 203&#45;214</text>
</g>
<!-- section_6&#45;&gt;codeblock_100 -->
<g id="edge100" class="edge">
<title>section_6&#45;&gt;codeblock_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6143.8088,-2082.6616C6305.4291,-2069.6743 6697.575,-2038.1625 6876.3926,-2023.7933"/>
<polygon fill="#000000" stroke="#000000" points="6876.8747,-2027.2659 6886.5622,-2022.9761 6876.3139,-2020.2884 6876.8747,-2027.2659"/>
</g>
<!-- header_107 -->
<g id="node108" class="node">
<title>header_107</title>
<ellipse fill="none" stroke="#000000" cx="7526" cy="-2016.432" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="7526" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Reader</text>
</g>
<!-- section_7&#45;&gt;header_107 -->
<g id="edge107" class="edge">
<title>section_7&#45;&gt;header_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7630.7989,-2071.9137C7610.8516,-2061.3534 7584.8588,-2047.5925 7563.7503,-2036.4174"/>
<polygon fill="#000000" stroke="#000000" points="7565.2111,-2033.2306 7554.7356,-2031.6449 7561.9359,-2039.4171 7565.2111,-2033.2306"/>
</g>
<!-- prose_108 -->
<g id="node109" class="node">
<title>prose_108</title>
<ellipse fill="none" stroke="#000000" cx="7768" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7768" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_108 -->
<g id="edge108" class="edge">
<title>section_7&#45;&gt;prose_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7687.1205,-2071.369C7702.6173,-2060.8428 7722.5596,-2047.2971 7738.7642,-2036.2903"/>
<polygon fill="#000000" stroke="#000000" points="7741.0246,-2038.986 7747.3302,-2030.4718 7737.0914,-2033.1954 7741.0246,-2038.986"/>
</g>
<!-- section_109 -->
<g id="node110" class="node">
<title>section_109</title>
<ellipse fill="none" stroke="#000000" cx="8491" cy="-2016.432" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8491" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 222&#45;312</text>
</g>
<!-- section_7&#45;&gt;section_109 -->
<g id="edge109" class="edge">
<title>section_7&#45;&gt;section_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7733.0384,-2082.2622C7886.3366,-2068.948 8247.397,-2037.5893 8409.5979,-2023.5019"/>
<polygon fill="#000000" stroke="#000000" points="8410.3303,-2026.9515 8419.9899,-2022.5993 8409.7246,-2019.9778 8410.3303,-2026.9515"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="812,-1517.3168 758,-1517.3168 758,-1445.3168 812,-1445.3168 812,-1517.3168"/>
</g>
<!-- raw_9&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>raw_9&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M786.9323,-1998.3211C786.6541,-1923.8757 785.5934,-1640.078 785.173,-1527.6155"/>
<polygon fill="#000000" stroke="#000000" points="788.673,-1527.582 785.1356,-1517.5952 781.6731,-1527.6083 788.673,-1527.582"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="930,-1499.3168 830,-1499.3168 830,-1463.3168 930,-1463.3168 930,-1499.3168"/>
<text text-anchor="middle" x="880" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">** &#160;includes</text>
</g>
<!-- header_11&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>header_11&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M886.7631,-1998.3211C885.7317,-1919.4783 881.6287,-1605.8205 880.3694,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="883.8675,-1509.3765 880.2369,-1499.4232 876.8681,-1509.4681 883.8675,-1509.3765"/>
</g>
<!-- raw_18 -->
<g id="node19" class="node">
<title>raw_18</title>
<ellipse fill="none" stroke="#000000" cx="975" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="975" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_12&#45;&gt;raw_18 -->
<g id="edge18" class="edge">
<title>prose_12&#45;&gt;raw_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M991.4246,-1998.3211C988.9199,-1919.4783 978.9553,-1605.8205 975.8972,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="979.3911,-1509.307 975.5752,-1499.4232 972.3946,-1509.5293 979.3911,-1509.307"/>
</g>
<!-- raw_20 -->
<g id="node21" class="node">
<title>raw_20</title>
<ellipse fill="none" stroke="#000000" cx="1047" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="1047" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_13&#45;&gt;raw_20 -->
<g id="edge20" class="edge">
<title>prose_13&#45;&gt;raw_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1073.0862,-1998.3211C1069.1081,-1919.4783 1053.282,-1605.8205 1048.425,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="1051.9132,-1509.2341 1047.9136,-1499.4232 1044.922,-1509.5869 1051.9132,-1509.2341"/>
</g>
<!-- raw_22 -->
<g id="node23" class="node">
<title>raw_22</title>
<ellipse fill="none" stroke="#000000" cx="1119" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="1119" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_14&#45;&gt;raw_22 -->
<g id="edge22" class="edge">
<title>prose_14&#45;&gt;raw_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1154.7477,-1998.3211C1149.2962,-1919.4783 1127.6087,-1605.8205 1120.9527,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="1124.4335,-1509.1579 1120.2519,-1499.4232 1117.4502,-1509.6408 1124.4335,-1509.1579"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="1418,-1555.0172 1164,-1555.0172 1164,-1407.6164 1418,-1407.6164 1418,-1555.0172"/>
<text text-anchor="middle" x="1291" y="-1539.7169" font-family="Inconsolata" font-size="14.00" fill="#000000">L &#160;&#160;= require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1291" y="-1524.3169" font-family="Inconsolata" font-size="14.00" fill="#000000">lfs = require &quot;lfs&quot;</text>
<text text-anchor="middle" x="1291" y="-1508.9169" font-family="Inconsolata" font-size="14.00" fill="#000000">ffi = require &quot;ffi&quot;</text>
<text text-anchor="middle" x="1291" y="-1493.5168" font-family="Inconsolata" font-size="14.00" fill="#000000">bit = require &quot;bit&quot;</text>
<text text-anchor="middle" x="1291" y="-1478.1168" font-family="Inconsolata" font-size="14.00" fill="#000000">uv &#160;= require &quot;luv&quot;</text>
<text text-anchor="middle" x="1291" y="-1446.7168" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; sqlayer uses this monkey patch:</text>
<text text-anchor="middle" x="1291" y="-1431.3167" font-family="Inconsolata" font-size="14.00" fill="#000000">ffi.reflect = require &quot;reflect&quot;</text>
<text text-anchor="middle" x="1291" y="-1415.9167" font-family="Inconsolata" font-size="14.00" fill="#000000">sql = require &quot;sqlayer&quot;</text>
</g>
<!-- codeblock_15&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>codeblock_15&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1287.1354,-1998.3211C1287.6373,-1931.1748 1289.4123,-1693.716 1290.3724,-1565.2773"/>
<polygon fill="#000000" stroke="#000000" points="1293.8736,-1565.1138 1290.4486,-1555.0879 1286.8738,-1565.0614 1293.8736,-1565.1138"/>
</g>
<!-- header_25 -->
<g id="node26" class="node">
<title>header_25</title>
<ellipse fill="none" stroke="#000000" cx="1547" cy="-1481.3168" rx="110.7308" ry="18"/>
<text text-anchor="middle" x="1547" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Djikstra Insertion Point</text>
</g>
<!-- section_16&#45;&gt;header_25 -->
<g id="edge25" class="edge">
<title>section_16&#45;&gt;header_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1547,-1998.3211C1547,-1919.4783 1547,-1605.8205 1547,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="1550.5001,-1509.4231 1547,-1499.4232 1543.5001,-1509.4232 1550.5001,-1509.4231"/>
</g>
<!-- prose_26 -->
<g id="node27" class="node">
<title>prose_26</title>
<ellipse fill="none" stroke="#000000" cx="1708" cy="-1481.3168" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1708" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_16&#45;&gt;prose_26 -->
<g id="edge26" class="edge">
<title>section_16&#45;&gt;prose_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1599.8131,-2005.647C1624.2472,-1997.8417 1651.2819,-1984.6137 1667,-1962.432 1768.3754,-1819.3686 1731.4651,-1588.912 1714.5653,-1509.372"/>
<polygon fill="#000000" stroke="#000000" points="1717.8902,-1508.1935 1712.33,-1499.175 1711.0525,-1509.6925 1717.8902,-1508.1935"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="548,-578.5012 0,-578.5012 0,-507.9005 548,-507.9005 548,-578.5012"/>
<text text-anchor="middle" x="274" y="-531.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">This all goes into global space for now. &#160;Our more sophisticated loader will</text>
<text text-anchor="middle" x="274" y="-516.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">handle namespace isolation. Meanwhile we&#39;re building a repl, so.</text>
</g>
<!-- raw_18&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>raw_18&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M976.5759,-1463.254C983.0821,-1383.8793 1004.5458,-1067.0233 939,-1000.2017 879.2924,-939.3319 630.287,-1007.7807 557,-964.2017 409.2519,-876.3455 322.2907,-677.7283 289.3112,-588.3173"/>
<polygon fill="#000000" stroke="#000000" points="292.5338,-586.9377 285.8294,-578.7339 285.9546,-589.328 292.5338,-586.9377"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="1086,-563.103 566,-563.103 566,-523.2988 1086,-523.2988 1086,-563.103"/>
<text text-anchor="middle" x="826" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">First we load everything that might reasonable expect a stock namespace.</text>
</g>
<!-- raw_20&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>raw_20&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1047.6418,-1463.1008C1049.4874,-1398.7932 1052.2831,-1176.7814 1011,-1000.2017 971.4523,-831.045 878.3353,-642.8677 841.4437,-572.146"/>
<polygon fill="#000000" stroke="#000000" points="844.3692,-570.1885 836.6227,-562.9606 838.171,-573.4417 844.3692,-570.1885"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="1414,-563.103 1104,-563.103 1104,-523.2988 1414,-523.2988 1414,-563.103"/>
<text text-anchor="middle" x="1259" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">All of these are exceedingly well&#45;behaved.</text>
</g>
<!-- raw_22&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>raw_22&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1119.3812,-1463.2969C1120.9326,-1399.6407 1128.0399,-1179.5277 1155,-1000.2017 1179.5591,-836.8458 1230.5712,-645.176 1250.6352,-572.8337"/>
<polygon fill="#000000" stroke="#000000" points="1254.0504,-573.6163 1253.364,-563.0437 1247.3074,-571.7367 1254.0504,-573.6163"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="1644,-561.2009 1432,-561.2009 1432,-525.2009 1644,-525.2009 1644,-561.2009"/>
<text text-anchor="middle" x="1538" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Djikstra Insertion Point</text>
</g>
<!-- header_25&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>header_25&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1546.8243,-1462.9982C1545.7098,-1346.8311 1539.6291,-713.0109 1538.2697,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="1541.7691,-571.2199 1538.1732,-561.254 1534.7694,-571.2871 1541.7691,-571.2199"/>
</g>
<!-- raw_28 -->
<g id="node29" class="node">
<title>raw_28</title>
<ellipse fill="none" stroke="#000000" cx="1689" cy="-543.2009" rx="27" ry="18"/>
<text text-anchor="middle" x="1689" y="-539.0009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_26&#45;&gt;raw_28 -->
<g id="edge28" class="edge">
<title>prose_26&#45;&gt;raw_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1707.629,-1462.9982C1705.2762,-1346.8311 1692.4392,-713.0109 1689.5693,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="1693.0675,-571.181 1689.3656,-561.254 1686.0689,-571.3228 1693.0675,-571.181"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="1970,-86.3004 1408,-86.3004 1408,.1003 1970,.1003 1970,-86.3004"/>
<text text-anchor="middle" x="1689" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">Although we&#39;re not doing so yet, this is where we will set up Djikstra mode</text>
<text text-anchor="middle" x="1689" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">for participating code. &#160;We then push that up through the layers, and it lands</text>
<text text-anchor="middle" x="1689" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">as close to C level as practical.</text>
</g>
<!-- raw_28&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>raw_28&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1689,-525.1066C1689,-455.978 1689,-206.9052 1689,-96.4674"/>
<polygon fill="#000000" stroke="#000000" points="1692.5001,-96.2233 1689,-86.2233 1685.5001,-96.2233 1692.5001,-96.2233"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="1858.5,-1499.3168 1793.5,-1499.3168 1793.5,-1463.3168 1858.5,-1463.3168 1858.5,-1499.3168"/>
<text text-anchor="middle" x="1826" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">** core</text>
</g>
<!-- header_30&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>header_30&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1895.5639,-2000.3383C1885.5852,-1990.4738 1874.0852,-1976.9738 1868,-1962.432 1801.0572,-1802.4596 1814.8685,-1586.9353 1822.644,-1510.0425"/>
<polygon fill="#000000" stroke="#000000" points="1826.1638,-1510.0399 1823.7371,-1499.7267 1819.2028,-1509.3022 1826.1638,-1510.0399"/>
</g>
<!-- raw_43 -->
<g id="node44" class="node">
<title>raw_43</title>
<ellipse fill="none" stroke="#000000" cx="1904" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="1904" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_31&#45;&gt;raw_43 -->
<g id="edge43" class="edge">
<title>prose_31&#45;&gt;raw_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2061.0015,-2009.778C2021.3999,-2000.343 1954.9315,-1982.0318 1940,-1962.432 1833.615,-1822.7852 1877.2967,-1589.3139 1896.6312,-1509.2516"/>
<polygon fill="#000000" stroke="#000000" points="1900.0599,-1509.9666 1899.0724,-1499.4179 1893.2661,-1508.28 1900.0599,-1509.9666"/>
</g>
<!-- prespace_44 -->
<g id="node45" class="node">
<title>prespace_44</title>
<ellipse fill="none" stroke="#000000" cx="1995" cy="-1481.3168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="1995" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_31&#45;&gt;prespace_44 -->
<g id="edge44" class="edge">
<title>prose_31&#45;&gt;prespace_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2075.5235,-2000.3143C2066.8071,-1990.2402 2056.5794,-1976.5354 2051,-1962.432 1987.0196,-1800.7041 1989.8683,-1586.2609 1993.323,-1509.8482"/>
<polygon fill="#000000" stroke="#000000" points="1996.8316,-1509.759 1993.8293,-1499.5985 1989.8401,-1509.4136 1996.8316,-1509.759"/>
</g>
<!-- literal_45 -->
<g id="node46" class="node">
<title>literal_45</title>
<ellipse fill="none" stroke="#000000" cx="2091" cy="-1481.3168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2091" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_31&#45;&gt;literal_45 -->
<g id="edge45" class="edge">
<title>prose_31&#45;&gt;literal_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2091,-1998.3211C2091,-1919.4783 2091,-1605.8205 2091,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="2094.5001,-1509.4231 2091,-1499.4232 2087.5001,-1509.4232 2094.5001,-1509.4231"/>
</g>
<!-- raw_46 -->
<g id="node47" class="node">
<title>raw_46</title>
<ellipse fill="none" stroke="#000000" cx="2184" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="2184" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_31&#45;&gt;raw_46 -->
<g id="edge46" class="edge">
<title>prose_31&#45;&gt;raw_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2106.5081,-2000.3268C2115.2356,-1990.257 2125.4641,-1976.5525 2131,-1962.432 2194.438,-1800.6208 2189.9652,-1586.2289 2185.9065,-1509.839"/>
<polygon fill="#000000" stroke="#000000" points="2189.3857,-1509.3755 2185.3188,-1499.5924 2182.3972,-1509.7764 2189.3857,-1509.3755"/>
</g>
<!-- raw_51 -->
<g id="node52" class="node">
<title>raw_51</title>
<ellipse fill="none" stroke="#000000" cx="2556" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="2556" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_32&#45;&gt;raw_51 -->
<g id="edge51" class="edge">
<title>prose_32&#45;&gt;raw_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2842.8966,-2014.7177C2778.0185,-2010.5425 2634.7582,-1997.4867 2603,-1962.432 2484.3631,-1831.4803 2529.0799,-1590.4939 2548.6989,-1509.0471"/>
<polygon fill="#000000" stroke="#000000" points="2552.1642,-1509.6143 2551.1726,-1499.066 2545.3697,-1507.9303 2552.1642,-1509.6143"/>
</g>
<!-- prespace_52 -->
<g id="node53" class="node">
<title>prespace_52</title>
<ellipse fill="none" stroke="#000000" cx="2658" cy="-1481.3168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2658" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_32&#45;&gt;prespace_52 -->
<g id="edge52" class="edge">
<title>prose_32&#45;&gt;prespace_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2844.577,-2010.2764C2802.7136,-2001.16 2730.6228,-1982.9237 2714,-1962.432 2602.9684,-1825.5576 2636.2062,-1590.3191 2651.9067,-1509.525"/>
<polygon fill="#000000" stroke="#000000" points="2655.3624,-1510.0929 2653.9007,-1499.5994 2648.4996,-1508.7141 2655.3624,-1510.0929"/>
</g>
<!-- literal_53 -->
<g id="node54" class="node">
<title>literal_53</title>
<ellipse fill="none" stroke="#000000" cx="2754" cy="-1481.3168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2754" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_32&#45;&gt;literal_53 -->
<g id="edge53" class="edge">
<title>prose_32&#45;&gt;literal_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2848.3711,-2006.1419C2829.7804,-1997.4576 2806.1919,-1983.1039 2794,-1962.432 2705.3479,-1812.1183 2734.44,-1588.0637 2748.3923,-1509.6446"/>
<polygon fill="#000000" stroke="#000000" points="2751.8788,-1510.0371 2750.2468,-1499.5687 2744.9944,-1508.77 2751.8788,-1510.0371"/>
</g>
<!-- raw_54 -->
<g id="node55" class="node">
<title>raw_54</title>
<ellipse fill="none" stroke="#000000" cx="2830" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="2830" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_32&#45;&gt;raw_54 -->
<g id="edge54" class="edge">
<title>prose_32&#45;&gt;raw_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2871.5915,-1998.4906C2869.7054,-1988.0101 2867.4554,-1974.5101 2866,-1962.432 2845.3707,-1791.2286 2834.639,-1584.2338 2831.2274,-1509.7379"/>
<polygon fill="#000000" stroke="#000000" points="2834.723,-1509.5606 2830.7768,-1499.7281 2827.7301,-1509.8754 2834.723,-1509.5606"/>
</g>
<!-- prespace_55 -->
<g id="node56" class="node">
<title>prespace_55</title>
<ellipse fill="none" stroke="#000000" cx="2921" cy="-1481.3168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2921" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_32&#45;&gt;prespace_55 -->
<g id="edge55" class="edge">
<title>prose_32&#45;&gt;prespace_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2876.5569,-1998.3211C2883.3344,-1919.4783 2910.2973,-1605.8205 2918.5723,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="2922.0741,-1509.6862 2919.4435,-1499.4232 2915.0998,-1509.0866 2922.0741,-1509.6862"/>
</g>
<!-- literal_56 -->
<g id="node57" class="node">
<title>literal_56</title>
<ellipse fill="none" stroke="#000000" cx="3017" cy="-1481.3168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3017" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_32&#45;&gt;literal_56 -->
<g id="edge56" class="edge">
<title>prose_32&#45;&gt;literal_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2904.6432,-2008.9841C2928.1629,-2001.408 2959.7042,-1987.1742 2976,-1962.432 3072.2238,-1816.3332 3038.8142,-1588.721 3023.1772,-1509.5746"/>
<polygon fill="#000000" stroke="#000000" points="3026.533,-1508.5142 3021.104,-1499.416 3019.6743,-1509.9139 3026.533,-1508.5142"/>
</g>
<!-- raw_57 -->
<g id="node58" class="node">
<title>raw_57</title>
<ellipse fill="none" stroke="#000000" cx="3093" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="3093" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_32&#45;&gt;raw_57 -->
<g id="edge57" class="edge">
<title>prose_32&#45;&gt;raw_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2906.34,-2011.4904C2953.2028,-2003.4155 3038.0719,-1985.9093 3057,-1962.432 3167.4371,-1825.452 3120.87,-1589.3187 3100.6046,-1508.994"/>
<polygon fill="#000000" stroke="#000000" points="3103.9477,-1507.9421 3098.0507,-1499.1401 3097.1716,-1509.6984 3103.9477,-1507.9421"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="3567.5,-1624.1174 3138.5,-1624.1174 3138.5,-1338.5162 3567.5,-1338.5162 3567.5,-1624.1174"/>
<text text-anchor="middle" x="3353" y="-1609.0171" font-family="Inconsolata" font-size="14.00" fill="#000000">core = require &quot;core&quot;</text>
<text text-anchor="middle" x="3353" y="-1593.617" font-family="Inconsolata" font-size="14.00" fill="#000000">string.cleave, string.litpat = core.cleave, core.litpat</text>
<text text-anchor="middle" x="3353" y="-1578.217" font-family="Inconsolata" font-size="14.00" fill="#000000">string.utf8 = core.utf8</text>
<text text-anchor="middle" x="3353" y="-1562.817" font-family="Inconsolata" font-size="14.00" fill="#000000">string.codepoints = core.codepoints</text>
<text text-anchor="middle" x="3353" y="-1547.417" font-family="Inconsolata" font-size="14.00" fill="#000000">table.splice = core.splice</text>
<text text-anchor="middle" x="3353" y="-1532.0169" font-family="Inconsolata" font-size="14.00" fill="#000000">table.clone = core.clone</text>
<text text-anchor="middle" x="3353" y="-1516.6169" font-family="Inconsolata" font-size="14.00" fill="#000000">table.arrayof = core.arrayof</text>
<text text-anchor="middle" x="3353" y="-1501.2169" font-family="Inconsolata" font-size="14.00" fill="#000000">table.select = core.select</text>
<text text-anchor="middle" x="3353" y="-1485.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">table.reverse = core.reverse</text>
<text text-anchor="middle" x="3353" y="-1470.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">table.hasfield = core.hasfield</text>
<text text-anchor="middle" x="3353" y="-1455.0168" font-family="Inconsolata" font-size="14.00" fill="#000000">utf8 = core.utf8</text>
<text text-anchor="middle" x="3353" y="-1439.6167" font-family="Inconsolata" font-size="14.00" fill="#000000">codepoints = core.codepoints</text>
<text text-anchor="middle" x="3353" y="-1424.2167" font-family="Inconsolata" font-size="14.00" fill="#000000">meta = core.meta</text>
<text text-anchor="middle" x="3353" y="-1408.8167" font-family="Inconsolata" font-size="14.00" fill="#000000">getmeta, setmeta = getmetatable, setmetatable</text>
<text text-anchor="middle" x="3353" y="-1393.4166" font-family="Inconsolata" font-size="14.00" fill="#000000">hasmetamethod, hasfield = core.hasmetamethod, core.hasfield</text>
<text text-anchor="middle" x="3353" y="-1378.0166" font-family="Inconsolata" font-size="14.00" fill="#000000">coro = coroutine</text>
<text text-anchor="middle" x="3353" y="-1346.6166" font-family="Inconsolata" font-size="14.00" fill="#000000">local concat = table.concat</text>
</g>
<!-- codeblock_33&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>codeblock_33&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3459.2771,-1998.3211C3447.6916,-1941.9613 3411.4407,-1765.6124 3384.48,-1634.4571"/>
<polygon fill="#000000" stroke="#000000" points="3387.8343,-1633.3918 3382.3924,-1624.3014 3380.9777,-1634.8013 3387.8343,-1633.3918"/>
</g>
<!-- raw_66 -->
<g id="node67" class="node">
<title>raw_66</title>
<ellipse fill="none" stroke="#000000" cx="3613" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="3613" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_34&#45;&gt;raw_66 -->
<g id="edge66" class="edge">
<title>prose_34&#45;&gt;raw_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3654.5915,-1998.4906C3652.7054,-1988.0101 3650.4554,-1974.5101 3649,-1962.432 3628.3707,-1791.2286 3617.639,-1584.2338 3614.2274,-1509.7379"/>
<polygon fill="#000000" stroke="#000000" points="3617.723,-1509.5606 3613.7768,-1499.7281 3610.7301,-1509.8754 3617.723,-1509.5606"/>
</g>
<!-- raw_68 -->
<g id="node69" class="node">
<title>raw_68</title>
<ellipse fill="none" stroke="#000000" cx="3685" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="3685" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_35&#45;&gt;raw_68 -->
<g id="edge68" class="edge">
<title>prose_35&#45;&gt;raw_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3797.5746,-2009.8158C3772.5465,-2002.6499 3738.4562,-1988.5567 3721,-1962.432 3623.8885,-1817.0955 3661.1802,-1589.0028 3678.2826,-1509.6527"/>
<polygon fill="#000000" stroke="#000000" points="3681.7933,-1509.9885 3680.5457,-1499.4674 3674.9599,-1508.4701 3681.7933,-1509.9885"/>
</g>
<!-- prespace_69 -->
<g id="node70" class="node">
<title>prespace_69</title>
<ellipse fill="none" stroke="#000000" cx="3776" cy="-1481.3168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="3776" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_35&#45;&gt;prespace_69 -->
<g id="edge69" class="edge">
<title>prose_35&#45;&gt;prespace_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3826.2401,-1998.3211C3818.5785,-1919.4783 3788.0987,-1605.8205 3778.7444,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="3782.2104,-1509.0377 3777.7595,-1499.4232 3775.2432,-1509.7148 3782.2104,-1509.0377"/>
</g>
<!-- literal_70 -->
<g id="node71" class="node">
<title>literal_70</title>
<ellipse fill="none" stroke="#000000" cx="3872" cy="-1481.3168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3872" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_35&#45;&gt;literal_70 -->
<g id="edge70" class="edge">
<title>prose_35&#45;&gt;literal_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3829.4892,-1998.3211C3835.972,-1919.4783 3861.7627,-1605.8205 3869.6778,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="3873.1799,-1509.6764 3870.5112,-1499.4232 3866.2034,-1509.1027 3873.1799,-1509.6764"/>
</g>
<!-- raw_71 -->
<g id="node72" class="node">
<title>raw_71</title>
<ellipse fill="none" stroke="#000000" cx="3948" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="3948" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_35&#45;&gt;raw_71 -->
<g id="edge71" class="edge">
<title>prose_35&#45;&gt;raw_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3855.237,-2006.6073C3874.5922,-1998.0864 3899.316,-1983.7332 3912,-1962.432 4001.4292,-1812.2463 3968.98,-1587.2103 3953.9301,-1509.1558"/>
<polygon fill="#000000" stroke="#000000" points="3957.3215,-1508.2648 3951.9365,-1499.1405 3950.4562,-1509.6314 3957.3215,-1508.2648"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="4184.5,-1523.817 3993.5,-1523.817 3993.5,-1438.8167 4184.5,-1438.8167 4184.5,-1523.817"/>
<text text-anchor="middle" x="4089" y="-1508.6169" font-family="Inconsolata" font-size="14.00" fill="#000000">a = require &quot;anterm&quot;</text>
<text text-anchor="middle" x="4089" y="-1493.2169" font-family="Inconsolata" font-size="14.00" fill="#000000">color = require &quot;color&quot;</text>
<text text-anchor="middle" x="4089" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">ts = color.ts</text>
<text text-anchor="middle" x="4089" y="-1462.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">c = color.color</text>
<text text-anchor="middle" x="4089" y="-1447.0168" font-family="Inconsolata" font-size="14.00" fill="#000000">watch = require &quot;watcher&quot;</text>
</g>
<!-- codeblock_36&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>codeblock_36&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4046.4892,-1998.3211C4052.4928,-1925.3071 4075.0548,-1650.914 4084.6443,-1534.2898"/>
<polygon fill="#000000" stroke="#000000" points="4088.1449,-1534.4245 4085.4763,-1524.1713 4081.1685,-1533.8508 4088.1449,-1534.4245"/>
</g>
<!-- raw_77 -->
<g id="node78" class="node">
<title>raw_77</title>
<ellipse fill="none" stroke="#000000" cx="4230" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="4230" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_37&#45;&gt;raw_77 -->
<g id="edge77" class="edge">
<title>prose_37&#45;&gt;raw_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4300.5765,-2002.4104C4288.2658,-1992.729 4273.5504,-1978.6961 4266,-1962.432 4192.8849,-1804.9366 4214.5777,-1587.0244 4225.4758,-1509.8221"/>
<polygon fill="#000000" stroke="#000000" points="4229.0048,-1509.8786 4226.9928,-1499.4765 4222.0789,-1508.8629 4229.0048,-1509.8786"/>
</g>
<!-- prespace_78 -->
<g id="node79" class="node">
<title>prespace_78</title>
<ellipse fill="none" stroke="#000000" cx="4321" cy="-1481.3168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4321" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_37&#45;&gt;prespace_78 -->
<g id="edge78" class="edge">
<title>prose_37&#45;&gt;prespace_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4321,-1998.3211C4321,-1919.4783 4321,-1605.8205 4321,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="4324.5001,-1509.4231 4321,-1499.4232 4317.5001,-1509.4232 4324.5001,-1509.4231"/>
</g>
<!-- literal_79 -->
<g id="node80" class="node">
<title>literal_79</title>
<ellipse fill="none" stroke="#000000" cx="4417" cy="-1481.3168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4417" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_37&#45;&gt;literal_79 -->
<g id="edge79" class="edge">
<title>prose_37&#45;&gt;literal_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4341.3663,-2002.3837C4353.6543,-1992.6917 4368.3657,-1978.6569 4376,-1962.432 4449.9884,-1805.1863 4431.0333,-1587.1194 4421.1451,-1509.8492"/>
<polygon fill="#000000" stroke="#000000" points="4424.5555,-1508.9438 4419.7641,-1499.4943 4417.6169,-1509.8693 4424.5555,-1508.9438"/>
</g>
<!-- raw_80 -->
<g id="node81" class="node">
<title>raw_80</title>
<ellipse fill="none" stroke="#000000" cx="4493" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="4493" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_37&#45;&gt;raw_80 -->
<g id="edge80" class="edge">
<title>prose_37&#45;&gt;raw_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4352.9822,-2013.3045C4384.9372,-2008.3311 4432.7043,-1995.4925 4457,-1962.432 4560.9586,-1820.9696 4518.8236,-1588.6556 4500.1296,-1509.0726"/>
<polygon fill="#000000" stroke="#000000" points="4503.5189,-1508.1976 4497.7687,-1499.299 4496.7146,-1509.8412 4503.5189,-1508.1976"/>
</g>
<!-- raw_85 -->
<g id="node86" class="node">
<title>raw_85</title>
<ellipse fill="none" stroke="#000000" cx="4565" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="4565" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_38&#45;&gt;raw_85 -->
<g id="edge85" class="edge">
<title>prose_38&#45;&gt;raw_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4501.6458,-2000.7515C4511.5349,-1990.8323 4523.0461,-1977.1369 4529,-1962.432 4594.0158,-1801.8546 4577.4747,-1586.7029 4568.7217,-1509.9756"/>
<polygon fill="#000000" stroke="#000000" points="4572.1541,-1509.1991 4567.4974,-1499.6825 4565.2031,-1510.0259 4572.1541,-1509.1991"/>
</g>
<!-- leaf_87 -->
<g id="node88" class="node">
<title>leaf_87</title>
<polygon fill="none" stroke="#c0c0c0" points="4969.5,-1640.1174 4610.5,-1640.1174 4610.5,-1322.5162 4969.5,-1322.5162 4969.5,-1640.1174"/>
<text text-anchor="middle" x="4790" y="-1625.0171" font-family="Inconsolata" font-size="14.00" fill="#000000">local usecolors</text>
<text text-anchor="middle" x="4790" y="-1609.617" font-family="Inconsolata" font-size="14.00" fill="#000000">stdout = &quot;&quot;</text>
<text text-anchor="middle" x="4790" y="-1578.217" font-family="Inconsolata" font-size="14.00" fill="#000000">if uv.guess_handle(1) == &quot;tty&quot; then</text>
<text text-anchor="middle" x="4790" y="-1562.817" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;stdout = uv.new_tty(1, false)</text>
<text text-anchor="middle" x="4790" y="-1547.417" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;usecolors = true</text>
<text text-anchor="middle" x="4790" y="-1532.0169" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="4790" y="-1516.6169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;stdout = uv.new_pipe(false)</text>
<text text-anchor="middle" x="4790" y="-1501.2169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.pipe_open(utils.stdout, 1)</text>
<text text-anchor="middle" x="4790" y="-1485.8168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;usecolors = false</text>
<text text-anchor="middle" x="4790" y="-1470.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4790" y="-1439.0168" font-family="Inconsolata" font-size="14.00" fill="#000000">if not usecolors then</text>
<text text-anchor="middle" x="4790" y="-1423.6167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;ts = tostring</text>
<text text-anchor="middle" x="4790" y="-1408.2167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; #todo make this properly black and white ts</text>
<text text-anchor="middle" x="4790" y="-1392.8167" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4790" y="-1361.4166" font-family="Inconsolata" font-size="14.00" fill="#000000">function write(str)</text>
<text text-anchor="middle" x="4790" y="-1346.0166" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.write(stdout, str)</text>
<text text-anchor="middle" x="4790" y="-1330.6166" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_39&#45;&gt;leaf_87 -->
<g id="edge87" class="edge">
<title>codeblock_39&#45;&gt;leaf_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4705.9445,-1998.3211C4714.746,-1944.1854 4741.5462,-1779.3441 4762.545,-1650.1855"/>
<polygon fill="#000000" stroke="#000000" points="4766.0238,-1650.5983 4764.174,-1640.1662 4759.1145,-1649.4749 4766.0238,-1650.5983"/>
</g>
<!-- leaf_88 -->
<g id="node89" class="node">
<title>leaf_88</title>
<polygon fill="none" stroke="#c0c0c0" points="5360.5,-1547.0172 4987.5,-1547.0172 4987.5,-1415.6164 5360.5,-1415.6164 5360.5,-1547.0172"/>
<text text-anchor="middle" x="5174" y="-1531.7169" font-family="Inconsolata" font-size="14.00" fill="#000000">function print(...)</text>
<text text-anchor="middle" x="5174" y="-1516.3169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local n = select(&#39;#&#39;, ...)</text>
<text text-anchor="middle" x="5174" y="-1500.9169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local arguments = {...}</text>
<text text-anchor="middle" x="5174" y="-1485.5168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 1, n do</text>
<text text-anchor="middle" x="5174" y="-1470.1168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;arguments[i] = tostring(arguments[i])</text>
<text text-anchor="middle" x="5174" y="-1454.7168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="5174" y="-1439.3167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.write(stdout, concat(arguments, &quot;\t&quot;) .. &quot;\n&quot;)</text>
<text text-anchor="middle" x="5174" y="-1423.9167" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_40&#45;&gt;leaf_88 -->
<g id="edge88" class="edge">
<title>codeblock_40&#45;&gt;leaf_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5036.806,-1998.3211C5055.0133,-1929.7083 5120.411,-1683.2626 5153.9109,-1557.021"/>
<polygon fill="#000000" stroke="#000000" points="5157.3788,-1557.5982 5156.5608,-1547.035 5150.6129,-1555.8028 5157.3788,-1557.5982"/>
</g>
<!-- header_89 -->
<g id="node90" class="node">
<title>header_89</title>
<ellipse fill="none" stroke="#000000" cx="5434" cy="-1481.3168" rx="55.6456" ry="18"/>
<text text-anchor="middle" x="5434" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : tty setup</text>
</g>
<!-- section_41&#45;&gt;header_89 -->
<g id="edge89" class="edge">
<title>section_41&#45;&gt;header_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5485.2062,-1998.3211C5477.3973,-1919.4783 5446.3314,-1605.8205 5436.7972,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="5440.262,-1509.0295 5435.7933,-1499.4232 5433.2961,-1509.7195 5440.262,-1509.0295"/>
</g>
<!-- prose_90 -->
<g id="node91" class="node">
<title>prose_90</title>
<ellipse fill="none" stroke="#000000" cx="5540" cy="-1481.3168" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5540" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_41&#45;&gt;prose_90 -->
<g id="edge90" class="edge">
<title>section_41&#45;&gt;prose_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5491.7246,-1998.0528C5494.2341,-1987.6617 5497.1697,-1974.3934 5499,-1962.432 5525.1116,-1791.7888 5535.7444,-1584.3624 5538.9049,-1509.749"/>
<polygon fill="#000000" stroke="#000000" points="5542.4194,-1509.4667 5539.3336,-1499.3312 5535.4253,-1509.1788 5542.4194,-1509.4667"/>
</g>
<!-- codeblock_91 -->
<g id="node92" class="node">
<title>codeblock_91</title>
<ellipse fill="none" stroke="#000000" cx="5677" cy="-1481.3168" rx="86.7905" ry="18"/>
<text text-anchor="middle" x="5677" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 118&#45;126</text>
</g>
<!-- section_41&#45;&gt;codeblock_91 -->
<g id="edge91" class="edge">
<title>section_41&#45;&gt;codeblock_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5529.1585,-2001.5524C5547.7641,-1992.9098 5568.2589,-1980.1604 5581,-1962.432 5684.7315,-1818.0966 5683.1374,-1589.3729 5679.0046,-1509.7553"/>
<polygon fill="#000000" stroke="#000000" points="5682.4852,-1509.3167 5678.4153,-1499.5348 5675.4968,-1509.7198 5682.4852,-1509.3167"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="1788,-571.1024 1734,-571.1024 1734,-515.2994 1788,-515.2994 1788,-571.1024"/>
<text text-anchor="middle" x="1761" y="-523.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">The</text>
</g>
<!-- raw_43&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>raw_43&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1908.3699,-1463.186C1923.6234,-1395.3602 1968.2711,-1152.6803 1867,-1000.2017 1847.6447,-971.0594 1816.4797,-993.2609 1797,-964.2017 1716.57,-844.2186 1738.571,-659.7341 1753.0129,-580.96"/>
<polygon fill="#000000" stroke="#000000" points="1756.4763,-581.4816 1754.9025,-571.0043 1749.5991,-580.1763 1756.4763,-581.4816"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="1860,-561.2009 1806,-561.2009 1806,-525.2009 1860,-525.2009 1860,-561.2009"/>
<text text-anchor="middle" x="1833" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_44&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>prespace_44&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1998.5569,-1463.0785C2010.7943,-1394.8711 2044.8829,-1151.011 1940,-1000.2017 1919.7993,-971.1554 1888.7845,-993.533 1869,-964.2017 1784.7209,-839.254 1812.5312,-643.6984 1826.7991,-571.3452"/>
<polygon fill="#000000" stroke="#000000" points="1830.2987,-571.7011 1828.8724,-561.2027 1823.4405,-570.2991 1830.2987,-571.7011"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="1932,-561.2009 1878,-561.2009 1878,-525.2009 1932,-525.2009 1932,-561.2009"/>
<text text-anchor="middle" x="1905" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">core</text>
</g>
<!-- literal_45&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>literal_45&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2095.8083,-1463.1007C2112.8931,-1393.943 2163.7756,-1144.2826 2050,-1000.2017 2018.3821,-960.162 1972.6237,-1004.2367 1941,-964.2017 1847.171,-845.4157 1881.2153,-644.5886 1897.9495,-571.16"/>
<polygon fill="#000000" stroke="#000000" points="1901.3918,-571.8114 1900.2756,-561.2756 1894.5779,-570.2079 1901.3918,-571.8114"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="2435.5,-562.5014 1950.5,-562.5014 1950.5,-523.9003 2435.5,-523.9003 2435.5,-562.5014"/>
<text text-anchor="middle" x="2193" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> library is shaping up as a place to keep alterations to the global</text>
<text text-anchor="middle" x="2193" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">namespace and standard library.</text>
</g>
<!-- raw_46&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>raw_46&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2184.1757,-1462.9982C2185.2854,-1347.3297 2191.3188,-718.4419 2192.7126,-573.1606"/>
<polygon fill="#000000" stroke="#000000" points="2196.2157,-572.8414 2192.8119,-562.8083 2189.216,-572.7742 2196.2157,-572.8414"/>
</g>
<!-- leaf_58 -->
<g id="node59" class="node">
<title>leaf_58</title>
<polygon fill="none" stroke="#c0c0c0" points="2630.5,-563.103 2453.5,-563.103 2453.5,-523.2988 2630.5,-523.2988 2630.5,-563.103"/>
<text text-anchor="middle" x="2542" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">This prelude belongs in</text>
</g>
<!-- raw_51&#45;&gt;leaf_58 -->
<g id="edge58" class="edge">
<title>raw_51&#45;&gt;leaf_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2555.7266,-1462.9982C2554.0023,-1347.4543 2544.6354,-719.7966 2542.4541,-573.6319"/>
<polygon fill="#000000" stroke="#000000" points="2545.9475,-573.1528 2542.2985,-563.2062 2538.9483,-573.2573 2545.9475,-573.1528"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="2703,-561.2009 2649,-561.2009 2649,-525.2009 2703,-525.2009 2703,-561.2009"/>
<text text-anchor="middle" x="2676" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_52&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>prespace_52&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2658.3515,-1462.9982C2660.5804,-1346.8311 2672.7418,-713.0109 2675.4607,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="2678.961,-571.3193 2675.6536,-561.254 2671.9623,-571.1849 2678.961,-571.3193"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="2775,-561.2009 2721,-561.2009 2721,-525.2009 2775,-525.2009 2775,-561.2009"/>
<text text-anchor="middle" x="2748" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">pylon</text>
</g>
<!-- literal_53&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>literal_53&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2753.8828,-1462.9982C2753.1399,-1346.8311 2749.0861,-713.0109 2748.1798,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="2751.6794,-571.2313 2748.1155,-561.254 2744.6796,-571.2762 2751.6794,-571.2313"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="2872.5,-561.2009 2793.5,-561.2009 2793.5,-525.2009 2872.5,-525.2009 2872.5,-561.2009"/>
<text text-anchor="middle" x="2833" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">; it, and</text>
</g>
<!-- raw_54&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>raw_54&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2830.0586,-1462.9982C2830.4301,-1346.8311 2832.457,-713.0109 2832.9101,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="2836.4102,-571.2651 2832.9423,-561.254 2829.4102,-571.2427 2836.4102,-571.2651"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="2945,-561.2009 2891,-561.2009 2891,-525.2009 2945,-525.2009 2945,-561.2009"/>
<text text-anchor="middle" x="2918" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_55&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>prespace_55&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2920.9414,-1462.9982C2920.5699,-1346.8311 2918.543,-713.0109 2918.0899,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="2921.5898,-571.2427 2918.0577,-561.254 2914.5898,-571.2651 2921.5898,-571.2427"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="3017,-561.2009 2963,-561.2009 2963,-525.2009 3017,-525.2009 3017,-561.2009"/>
<text text-anchor="middle" x="2990" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">core</text>
</g>
<!-- literal_56&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>literal_56&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3016.4728,-1462.9982C3013.1294,-1346.8311 2994.8873,-713.0109 2990.809,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="2994.3059,-571.1491 2990.5196,-561.254 2987.3088,-571.3505 2994.3059,-571.1491"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="3268.5,-561.2009 3035.5,-561.2009 3035.5,-525.2009 3268.5,-525.2009 3268.5,-561.2009"/>
<text text-anchor="middle" x="3152" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">, will eventually end up there.</text>
</g>
<!-- raw_57&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>raw_57&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3094.1521,-1462.9982C3101.4581,-1346.8311 3141.3203,-713.0109 3150.2322,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="3153.7299,-571.454 3150.8646,-561.254 3146.7437,-571.0145 3153.7299,-571.454"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="3561.5,-563.103 3286.5,-563.103 3286.5,-523.2988 3561.5,-523.2988 3561.5,-563.103"/>
<text text-anchor="middle" x="3424" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">Primitives for terminal manipulation.</text>
</g>
<!-- raw_66&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>raw_66&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3613.1891,-1463.1875C3613.5233,-1399.1677 3611.8412,-1177.9948 3576,-1000.2017 3542.4653,-833.8504 3466.5682,-644.0303 3436.5547,-572.5073"/>
<polygon fill="#000000" stroke="#000000" points="3439.746,-571.0674 3432.6334,-563.215 3433.2968,-573.789 3439.746,-571.0674"/>
</g>
<!-- leaf_72 -->
<g id="node73" class="node">
<title>leaf_72</title>
<polygon fill="none" stroke="#c0c0c0" points="3784.5,-563.103 3579.5,-563.103 3579.5,-523.2988 3784.5,-523.2988 3784.5,-563.103"/>
<text text-anchor="middle" x="3682" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">Arguably don&#39;t belong here.</text>
</g>
<!-- raw_68&#45;&gt;leaf_72 -->
<g id="edge72" class="edge">
<title>raw_68&#45;&gt;leaf_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3684.9414,-1462.9982C3684.5719,-1347.4543 3682.5647,-719.7966 3682.0973,-573.6319"/>
<polygon fill="#000000" stroke="#000000" points="3685.596,-573.1949 3682.064,-563.2062 3678.5961,-573.2174 3685.596,-573.1949"/>
</g>
<!-- leaf_73 -->
<g id="node74" class="node">
<title>leaf_73</title>
<polygon fill="none" stroke="#c0c0c0" points="3857,-561.2009 3803,-561.2009 3803,-525.2009 3857,-525.2009 3857,-561.2009"/>
<text text-anchor="middle" x="3830" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_69&#45;&gt;leaf_73 -->
<g id="edge73" class="edge">
<title>prespace_69&#45;&gt;leaf_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3777.0545,-1462.9982C3783.7413,-1346.8311 3820.2254,-713.0109 3828.382,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="3831.8803,-571.4386 3828.9608,-561.254 3824.8918,-571.0363 3831.8803,-571.4386"/>
</g>
<!-- leaf_74 -->
<g id="node75" class="node">
<title>leaf_74</title>
<polygon fill="none" stroke="#c0c0c0" points="3929,-561.2009 3875,-561.2009 3875,-525.2009 3929,-525.2009 3929,-561.2009"/>
<text text-anchor="middle" x="3902" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">watch</text>
</g>
<!-- literal_70&#45;&gt;leaf_74 -->
<g id="edge74" class="edge">
<title>literal_70&#45;&gt;leaf_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3872.5858,-1462.9982C3876.3007,-1346.8311 3896.5696,-713.0109 3901.1011,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="3904.6012,-571.3608 3901.4227,-561.254 3897.6047,-571.137 3904.6012,-571.3608"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="4243,-562.5014 3947,-562.5014 3947,-523.9003 4243,-523.9003 4243,-562.5014"/>
<text text-anchor="middle" x="4095" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> is unused at present, it will be useful</text>
<text text-anchor="middle" x="4095" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">in Orb relatively soon.</text>
</g>
<!-- raw_71&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>raw_71&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3948.2883,-1463.2826C3949.5312,-1399.5789 3955.7393,-1179.3274 3984,-1000.2017 4009.8926,-836.086 4064.7572,-644.1216 4086.1743,-572.2787"/>
<polygon fill="#000000" stroke="#000000" points="4089.5663,-573.1521 4089.0841,-562.5682 4082.8609,-571.1427 4089.5663,-573.1521"/>
</g>
<!-- leaf_81 -->
<g id="node82" class="node">
<title>leaf_81</title>
<polygon fill="none" stroke="#c0c0c0" points="4417,-563.103 4261,-563.103 4261,-523.2988 4417,-523.2988 4417,-563.103"/>
<text text-anchor="middle" x="4339" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">This is all from the</text>
</g>
<!-- raw_77&#45;&gt;leaf_81 -->
<g id="edge81" class="edge">
<title>raw_77&#45;&gt;leaf_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4230.8212,-1462.9108C4233.7969,-1398.8691 4244.9624,-1179.8969 4266,-1000.2017 4284.967,-838.1927 4319.7606,-645.7335 4333.3506,-573.0068"/>
<polygon fill="#000000" stroke="#000000" points="4336.7933,-573.6372 4335.1975,-563.1633 4329.9134,-572.3464 4336.7933,-573.6372"/>
</g>
<!-- leaf_82 -->
<g id="node83" class="node">
<title>leaf_82</title>
<polygon fill="none" stroke="#c0c0c0" points="4489,-561.2009 4435,-561.2009 4435,-525.2009 4489,-525.2009 4489,-561.2009"/>
<text text-anchor="middle" x="4462" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_78&#45;&gt;leaf_82 -->
<g id="edge82" class="edge">
<title>prespace_78&#45;&gt;leaf_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4318.246,-1463.138C4309.0423,-1396.1381 4284.8777,-1158.6914 4377,-1000.2017 4390.5801,-976.8381 4412.7786,-987.77 4426,-964.2017 4499.3962,-833.3657 4478.5024,-642.9058 4467.1261,-571.5729"/>
<polygon fill="#000000" stroke="#000000" points="4470.5533,-570.8454 4465.4633,-561.5533 4463.6477,-571.9914 4470.5533,-570.8454"/>
</g>
<!-- leaf_83 -->
<g id="node84" class="node">
<title>leaf_83</title>
<polygon fill="none" stroke="#c0c0c0" points="4561,-561.2009 4507,-561.2009 4507,-525.2009 4561,-525.2009 4561,-561.2009"/>
<text text-anchor="middle" x="4534" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">luv</text>
</g>
<!-- literal_79&#45;&gt;leaf_83 -->
<g id="edge83" class="edge">
<title>literal_79&#45;&gt;leaf_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4413.8777,-1462.9922C4403.4606,-1396.4585 4374.9936,-1163.0128 4457,-1000.2017 4467.9087,-978.5441 4487.0658,-985.8464 4498,-964.2017 4565.5036,-830.5754 4548.2588,-642.447 4538.4878,-571.6364"/>
<polygon fill="#000000" stroke="#000000" points="4541.8895,-570.7033 4536.9979,-561.3053 4534.9612,-571.7025 4541.8895,-570.7033"/>
</g>
<!-- leaf_84 -->
<g id="node85" class="node">
<title>leaf_84</title>
<polygon fill="none" stroke="#c0c0c0" points="4959,-562.5014 4579,-562.5014 4579,-523.9003 4959,-523.9003 4959,-562.5014"/>
<text text-anchor="middle" x="4769" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> repl example, which has been an excellent launching</text>
<text text-anchor="middle" x="4769" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">off point. &#160;Thanks Tim Caswell!</text>
</g>
<!-- raw_80&#45;&gt;leaf_84 -->
<g id="edge84" class="edge">
<title>raw_80&#45;&gt;leaf_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4489.6828,-1463.0079C4478.5664,-1396.5279 4447.7199,-1163.2437 4529,-1000.2017 4539.8191,-978.4992 4555.4037,-983.5665 4570,-964.2017 4669.0225,-832.8291 4736.3594,-644.3001 4759.8163,-572.489"/>
<polygon fill="#000000" stroke="#000000" points="4763.2151,-573.3532 4762.9573,-562.7615 4756.5537,-571.2022 4763.2151,-573.3532"/>
</g>
<!-- leaf_86 -->
<g id="node87" class="node">
<title>leaf_86</title>
<polygon fill="none" stroke="#c0c0c0" points="5238.5,-563.103 4977.5,-563.103 4977.5,-523.2988 5238.5,-523.2988 5238.5,-563.103"/>
<text text-anchor="middle" x="5108" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">It&#39;s getting phased out bit by bit.</text>
</g>
<!-- raw_85&#45;&gt;leaf_86 -->
<g id="edge86" class="edge">
<title>raw_85&#45;&gt;leaf_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4563.4303,-1463.2601C4556.9503,-1383.911 4535.5818,-1067.1483 4601,-1000.2017 4658.2724,-941.5912 4903.9605,-1015.3313 4968,-964.2017 5092.1778,-865.0571 5107.1335,-652.3097 5108.26,-573.436"/>
<polygon fill="#000000" stroke="#000000" points="5111.7614,-573.247 5108.337,-563.2208 5104.7616,-573.1941 5111.7614,-573.247"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="5487.5,-561.2009 5380.5,-561.2009 5380.5,-525.2009 5487.5,-525.2009 5487.5,-561.2009"/>
<text text-anchor="middle" x="5434" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">*** tty setup</text>
</g>
<!-- header_89&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>header_89&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5434,-1462.9982C5434,-1346.8311 5434,-713.0109 5434,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="5437.5001,-571.2539 5434,-561.254 5430.5001,-571.254 5437.5001,-571.2539"/>
</g>
<!-- raw_93 -->
<g id="node94" class="node">
<title>raw_93</title>
<ellipse fill="none" stroke="#000000" cx="5536" cy="-543.2009" rx="27" ry="18"/>
<text text-anchor="middle" x="5536" y="-539.0009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_90&#45;&gt;raw_93 -->
<g id="edge93" class="edge">
<title>prose_90&#45;&gt;raw_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5539.9219,-1462.9982C5539.4266,-1346.8311 5536.724,-713.0109 5536.1198,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="5539.6197,-571.2389 5536.077,-561.254 5532.6197,-571.2688 5539.6197,-571.2389"/>
</g>
<!-- leaf_95 -->
<g id="node96" class="node">
<title>leaf_95</title>
<polygon fill="none" stroke="#c0c0c0" points="5856.5,-601.6018 5581.5,-601.6018 5581.5,-484.8 5856.5,-484.8 5856.5,-601.6018"/>
<text text-anchor="middle" x="5719" y="-586.201" font-family="Inconsolata" font-size="14.00" fill="#000000">if uv.guess_handle(0) ~= &quot;tty&quot; or</text>
<text text-anchor="middle" x="5719" y="-570.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.guess_handle(1) ~= &quot;tty&quot; then</text>
<text text-anchor="middle" x="5719" y="-555.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; Entry point for other consumers!</text>
<text text-anchor="middle" x="5719" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;error &quot;stdio must be a tty&quot;</text>
<text text-anchor="middle" x="5719" y="-524.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5719" y="-493.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">local stdin = uv.new_tty(0, true)</text>
</g>
<!-- codeblock_91&#45;&gt;leaf_95 -->
<g id="edge95" class="edge">
<title>codeblock_91&#45;&gt;leaf_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5677.8201,-1462.9982C5682.6268,-1355.6371 5707.2285,-806.1298 5715.9387,-611.578"/>
<polygon fill="#000000" stroke="#000000" points="5719.4399,-611.6269 5716.3908,-601.4804 5712.4469,-611.3138 5719.4399,-611.6269"/>
</g>
<!-- leaf_94 -->
<g id="node95" class="node">
<title>leaf_94</title>
<polygon fill="none" stroke="#c0c0c0" points="5563,-61.1 5509,-61.1 5509,-25.1 5563,-25.1 5563,-61.1"/>
</g>
<!-- raw_93&#45;&gt;leaf_94 -->
<g id="edge94" class="edge">
<title>raw_93&#45;&gt;leaf_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5536,-525.1066C5536,-450.057 5536,-162.9178 5536,-71.3411"/>
<polygon fill="#000000" stroke="#000000" points="5539.5001,-71.17 5536,-61.17 5532.5001,-71.1701 5539.5001,-71.17"/>
</g>
<!-- leaf_101 -->
<g id="node102" class="node">
<title>leaf_101</title>
<polygon fill="none" stroke="#c0c0c0" points="5902.5,-1499.3168 5781.5,-1499.3168 5781.5,-1463.3168 5902.5,-1463.3168 5902.5,-1499.3168"/>
<text text-anchor="middle" x="5842" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">** Modeselektor</text>
</g>
<!-- header_96&#45;&gt;leaf_101 -->
<g id="edge101" class="edge">
<title>header_96&#45;&gt;leaf_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5852.6277,-1998.3211C5851.007,-1919.4783 5844.5593,-1605.8205 5842.5805,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="5846.0771,-1509.3491 5842.3722,-1499.4232 5839.0786,-1509.493 5846.0771,-1509.3491"/>
</g>
<!-- raw_102 -->
<g id="node103" class="node">
<title>raw_102</title>
<ellipse fill="none" stroke="#000000" cx="5948" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="5948" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_97&#45;&gt;raw_102 -->
<g id="edge102" class="edge">
<title>prose_97&#45;&gt;raw_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5988.4223,-1998.4603C5986.9797,-1987.9697 5985.2297,-1974.4697 5984,-1962.432 5966.4759,-1790.8829 5953.855,-1584.0984 5949.5845,-1509.6981"/>
<polygon fill="#000000" stroke="#000000" points="5953.0782,-1509.4864 5949.0154,-1499.7016 5946.0895,-1509.8843 5953.0782,-1509.4864"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="6401,-1523.817 5993,-1523.817 5993,-1438.8167 6401,-1438.8167 6401,-1523.817"/>
<text text-anchor="middle" x="6197" y="-1508.6169" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; This switches screens and does a wipe,</text>
<text text-anchor="middle" x="6197" y="-1493.2169" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; then puts the cursor at 1,1.</text>
<text text-anchor="middle" x="6197" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">write &quot;\x1b[?47h\x1b[2J\x1b[H&quot;</text>
<text text-anchor="middle" x="6197" y="-1462.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">modeS = require &quot;modeselektor&quot; ()</text>
<text text-anchor="middle" x="6197" y="-1447.0168" font-family="Inconsolata" font-size="14.00" fill="#000000">modeS.max_row, modeS.max_col = uv.tty_get_winsize(stdin)</text>
</g>
<!-- codeblock_98&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>codeblock_98&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6153.523,-1998.3211C6159.6631,-1925.3071 6182.7379,-1650.914 6192.5453,-1534.2898"/>
<polygon fill="#000000" stroke="#000000" points="6196.0458,-1534.4295 6193.3962,-1524.1713 6189.0704,-1533.8428 6196.0458,-1534.4295"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="7009,-1962.5472 6419,-1962.5472 6419,-1000.0865 7009,-1000.0865 7009,-1962.5472"/>
<text text-anchor="middle" x="6714" y="-1931.232" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; &#160;*** utilities</text>
<text text-anchor="middle" x="6714" y="-1899.8319" font-family="Inconsolata" font-size="14.00" fill="#000000">local function gatherResults(success, ...)</text>
<text text-anchor="middle" x="6714" y="-1884.4319" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local n = select(&#39;#&#39;, ...)</text>
<text text-anchor="middle" x="6714" y="-1869.0319" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return success, { n = n, ... }</text>
<text text-anchor="middle" x="6714" y="-1853.6318" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6714" y="-1822.2318" font-family="Inconsolata" font-size="14.00" fill="#000000">local function printResults(results)</text>
<text text-anchor="middle" x="6714" y="-1806.8318" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 1, results.n do</text>
<text text-anchor="middle" x="6714" y="-1791.4317" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;results[i] = ts(results[i])</text>
<text text-anchor="middle" x="6714" y="-1776.0317" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="6714" y="-1760.6317" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;print(concat(results, &#39;\t&#39;))</text>
<text text-anchor="middle" x="6714" y="-1745.2317" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6714" y="-1713.8316" font-family="Inconsolata" font-size="14.00" fill="#000000">local buffer = &#39;&#39;</text>
<text text-anchor="middle" x="6714" y="-1682.4316" font-family="Inconsolata" font-size="14.00" fill="#000000">local function evaluateLine(line)</text>
<text text-anchor="middle" x="6714" y="-1667.0316" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if string.byte(line) == 17 then &#45;&#45; ^Q</text>
<text text-anchor="middle" x="6714" y="-1651.6315" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; move this to modeselektor asap</text>
<text text-anchor="middle" x="6714" y="-1636.2315" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;modeS.hist.conn:close()</text>
<text text-anchor="middle" x="6714" y="-1620.8315" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uv.stop()</text>
<text text-anchor="middle" x="6714" y="-1605.4314" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="6714" y="-1590.0314" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6714" y="-1574.6314" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local chunk &#160;= buffer .. line</text>
<text text-anchor="middle" x="6714" y="-1559.2313" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local f, err = loadstring(&#39;return &#39; .. chunk, &#39;REPL&#39;) &#45;&#45; first we prefix return</text>
<text text-anchor="middle" x="6714" y="-1527.8313" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not f then</text>
<text text-anchor="middle" x="6714" y="-1512.4313" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;f, err = loadstring(chunk, &#39;REPL&#39;) &#45;&#45; try again without return</text>
<text text-anchor="middle" x="6714" y="-1497.0312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6714" y="-1465.6312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if f then</text>
<text text-anchor="middle" x="6714" y="-1450.2312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;buffer = &#39;&#39;</text>
<text text-anchor="middle" x="6714" y="-1434.8312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local success, results = gatherResults(xpcall(f, debug.traceback))</text>
<text text-anchor="middle" x="6714" y="-1403.4311" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if success then</text>
<text text-anchor="middle" x="6714" y="-1388.0311" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; successful call</text>
<text text-anchor="middle" x="6714" y="-1372.6311" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if results.n &gt; 0 then</text>
<text text-anchor="middle" x="6714" y="-1357.231" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;printResults(results)</text>
<text text-anchor="middle" x="6714" y="-1341.831" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6714" y="-1326.431" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="6714" y="-1311.0309" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; error</text>
<text text-anchor="middle" x="6714" y="-1295.6309" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;print(results[1])</text>
<text text-anchor="middle" x="6714" y="-1280.2309" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6714" y="-1264.8308" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="6714" y="-1249.4308" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if err:match &quot;&#39;&lt;eof&gt;&#39;$&quot; then</text>
<text text-anchor="middle" x="6714" y="-1234.0308" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Lua expects some more input; stow it away for next time</text>
<text text-anchor="middle" x="6714" y="-1218.6307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;buffer = chunk .. &#39;\n&#39;</text>
<text text-anchor="middle" x="6714" y="-1203.2307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return &#39;...&#39;</text>
<text text-anchor="middle" x="6714" y="-1187.8307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="6714" y="-1172.4307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;print(err)</text>
<text text-anchor="middle" x="6714" y="-1157.0306" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;buffer = &#39;&#39;</text>
<text text-anchor="middle" x="6714" y="-1141.6306" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6714" y="-1126.2306" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6714" y="-1094.8305" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return &#39; &#39;</text>
<text text-anchor="middle" x="6714" y="-1070.6018" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6714" y="-1039.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">local function displayPrompt(prompt)</text>
<text text-anchor="middle" x="6714" y="-1023.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.write(stdout, prompt)</text>
<text text-anchor="middle" x="6714" y="-1008.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_99&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>codeblock_99&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6535.2613,-1998.3211C6537.6777,-1991.3315 6540.7322,-1982.4964 6544.3158,-1972.1309"/>
<polygon fill="#000000" stroke="#000000" points="6547.6388,-1973.2306 6547.5984,-1962.6358 6541.023,-1970.9433 6547.6388,-1973.2306"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="7400.5,-1562.3171 7027.5,-1562.3171 7027.5,-1400.3165 7400.5,-1400.3165 7400.5,-1562.3171"/>
<text text-anchor="middle" x="7214" y="-1547.117" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Deprecated, but useful if I want, y&#39;know, a REPL</text>
<text text-anchor="middle" x="7214" y="-1531.7169" font-family="Inconsolata" font-size="14.00" fill="#000000">local function onread(err, line)</text>
<text text-anchor="middle" x="7214" y="-1516.3169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if err then error(err) end</text>
<text text-anchor="middle" x="7214" y="-1500.9169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if line then</text>
<text text-anchor="middle" x="7214" y="-1485.5168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local prompt = evaluateLine(line)</text>
<text text-anchor="middle" x="7214" y="-1470.1168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;displayPrompt(prompt)</text>
<text text-anchor="middle" x="7214" y="-1454.7168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="7214" y="-1439.3167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;uv.close(stdin)</text>
<text text-anchor="middle" x="7214" y="-1423.9167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="7214" y="-1408.5167" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_100&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>codeblock_100&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6987.3854,-1998.8265C6997.4951,-1988.8837 7009.4919,-1975.7966 7018,-1962.432 7098.0384,-1836.7067 7156.4143,-1672.8273 7187.7446,-1572.4362"/>
<polygon fill="#000000" stroke="#000000" points="7191.1689,-1573.21 7190.7843,-1562.6222 7184.4823,-1571.1389 7191.1689,-1573.21"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="5975,-561.2009 5921,-561.2009 5921,-525.2009 5975,-525.2009 5975,-561.2009"/>
</g>
<!-- raw_102&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>raw_102&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5948,-1462.9982C5948,-1346.8311 5948,-713.0109 5948,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="5951.5001,-571.2539 5948,-561.254 5944.5001,-571.254 5951.5001,-571.2539"/>
</g>
<!-- leaf_110 -->
<g id="node111" class="node">
<title>leaf_110</title>
<polygon fill="none" stroke="#c0c0c0" points="7497.5,-1499.3168 7418.5,-1499.3168 7418.5,-1463.3168 7497.5,-1463.3168 7497.5,-1499.3168"/>
<text text-anchor="middle" x="7458" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">** Reader</text>
</g>
<!-- header_107&#45;&gt;leaf_110 -->
<g id="edge110" class="edge">
<title>header_107&#45;&gt;leaf_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7518.3906,-1998.2535C7514.3771,-1987.9251 7509.7317,-1974.6528 7507,-1962.432 7469.2067,-1793.3536 7460.5038,-1584.2532 7458.5497,-1509.5072"/>
<polygon fill="#000000" stroke="#000000" points="7462.0479,-1509.3874 7458.3077,-1499.4747 7455.0499,-1509.5562 7462.0479,-1509.3874"/>
</g>
<!-- raw_111 -->
<g id="node112" class="node">
<title>raw_111</title>
<ellipse fill="none" stroke="#000000" cx="7543" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="7543" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_108&#45;&gt;raw_111 -->
<g id="edge111" class="edge">
<title>prose_108&#45;&gt;raw_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7736.6586,-2011.8597C7688.2754,-2004.1141 7598.8827,-1986.8393 7579,-1962.432 7467.8705,-1826.0131 7514.8816,-1589.52 7535.3285,-1509.0482"/>
<polygon fill="#000000" stroke="#000000" points="7538.7663,-1509.7356 7537.9052,-1499.1758 7531.9932,-1507.9678 7538.7663,-1509.7356"/>
</g>
<!-- prespace_112 -->
<g id="node113" class="node">
<title>prespace_112</title>
<ellipse fill="none" stroke="#000000" cx="7634" cy="-1481.3168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="7634" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_108&#45;&gt;prespace_112 -->
<g id="edge112" class="edge">
<title>prose_108&#45;&gt;prespace_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7742.156,-2005.5856C7724.3993,-1996.7029 7701.951,-1982.3438 7690,-1962.432 7599.8989,-1812.3124 7619.3155,-1588.1362 7629.7056,-1509.6649"/>
<polygon fill="#000000" stroke="#000000" points="7633.197,-1509.9673 7631.0994,-1499.5822 7626.2629,-1509.0086 7633.197,-1509.9673"/>
</g>
<!-- literal_113 -->
<g id="node114" class="node">
<title>literal_113</title>
<ellipse fill="none" stroke="#000000" cx="7730" cy="-1481.3168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="7730" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_108&#45;&gt;literal_113 -->
<g id="edge113" class="edge">
<title>prose_108&#45;&gt;literal_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7766.7139,-1998.3211C7761.1151,-1919.4783 7738.8413,-1605.8205 7732.0055,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="7735.4854,-1509.1501 7731.2858,-1499.4232 7728.503,-1509.646 7735.4854,-1509.1501"/>
</g>
<!-- raw_114 -->
<g id="node115" class="node">
<title>raw_114</title>
<ellipse fill="none" stroke="#000000" cx="7806" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="7806" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_108&#45;&gt;raw_114 -->
<g id="edge114" class="edge">
<title>prose_108&#45;&gt;raw_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7769.2861,-1998.3211C7774.8849,-1919.4783 7797.1587,-1605.8205 7803.9945,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="7807.497,-1509.646 7804.7142,-1499.4232 7800.5146,-1509.1501 7807.497,-1509.646"/>
</g>
<!-- prespace_115 -->
<g id="node116" class="node">
<title>prespace_115</title>
<ellipse fill="none" stroke="#000000" cx="7956" cy="-1481.3168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="7956" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_108&#45;&gt;prespace_115 -->
<g id="edge115" class="edge">
<title>prose_108&#45;&gt;prespace_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7792.5751,-2004.4414C7808.9997,-1995.1817 7829.7645,-1980.844 7842,-1962.432 7940.9189,-1813.5782 7954.3423,-1588.6088 7955.9067,-1509.7973"/>
<polygon fill="#000000" stroke="#000000" points="7959.4081,-1509.7204 7956.0564,-1499.6698 7952.4089,-1509.6169 7959.4081,-1509.7204"/>
</g>
<!-- literal_116 -->
<g id="node117" class="node">
<title>literal_116</title>
<ellipse fill="none" stroke="#000000" cx="8082" cy="-1481.3168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="8082" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_108&#45;&gt;literal_116 -->
<g id="edge116" class="edge">
<title>prose_108&#45;&gt;literal_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7800.2065,-2013.7342C7859.5439,-2008.0737 7982.6672,-1992.8865 8011,-1962.432 8131.9334,-1832.4422 8102.0989,-1591.3833 8087.5862,-1509.4308"/>
<polygon fill="#000000" stroke="#000000" points="8091.0285,-1508.7975 8085.7801,-1499.594 8084.1436,-1510.0617 8091.0285,-1508.7975"/>
</g>
<!-- raw_117 -->
<g id="node118" class="node">
<title>raw_117</title>
<ellipse fill="none" stroke="#000000" cx="8173" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="8173" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_108&#45;&gt;raw_117 -->
<g id="edge117" class="edge">
<title>prose_108&#45;&gt;raw_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7800.101,-2013.759C7883.0899,-2006.543 8099.8307,-1985.6398 8122,-1962.432 8244.2815,-1834.422 8199.7852,-1591.0888 8180.2406,-1509.0864"/>
<polygon fill="#000000" stroke="#000000" points="8183.6112,-1508.1353 8177.8305,-1499.2564 8176.8125,-1509.8022 8183.6112,-1508.1353"/>
</g>
<!-- header_125 -->
<g id="node126" class="node">
<title>header_125</title>
<ellipse fill="none" stroke="#000000" cx="8329" cy="-1481.3168" rx="111.2326" ry="18"/>
<text text-anchor="middle" x="8329" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : process_escapes(seq)</text>
</g>
<!-- section_109&#45;&gt;header_125 -->
<g id="edge125" class="edge">
<title>section_109&#45;&gt;header_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8474.5811,-1998.6603C8466.138,-1988.6689 8456.3211,-1975.5883 8450,-1962.432 8372.8544,-1801.8662 8341.3827,-1586.7074 8332.1389,-1509.9769"/>
<polygon fill="#000000" stroke="#000000" points="8335.573,-1509.2084 8330.9336,-1499.6834 8328.6205,-1510.0226 8335.573,-1509.2084"/>
</g>
<!-- prose_126 -->
<g id="node127" class="node">
<title>prose_126</title>
<ellipse fill="none" stroke="#000000" cx="8491" cy="-1481.3168" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8491" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_109&#45;&gt;prose_126 -->
<g id="edge126" class="edge">
<title>section_109&#45;&gt;prose_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8491,-1998.3211C8491,-1919.4783 8491,-1605.8205 8491,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="8494.5001,-1509.4231 8491,-1499.4232 8487.5001,-1509.4232 8494.5001,-1509.4231"/>
</g>
<!-- codeblock_127 -->
<g id="node128" class="node">
<title>codeblock_127</title>
<ellipse fill="none" stroke="#000000" cx="8709" cy="-1481.3168" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="8709" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 224&#45;279</text>
</g>
<!-- section_109&#45;&gt;codeblock_127 -->
<g id="edge127" class="edge">
<title>section_109&#45;&gt;codeblock_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8506.8693,-1998.3781C8515.1515,-1988.304 8524.9899,-1975.2345 8532,-1962.432 8620.5883,-1800.6432 8681.747,-1585.4849 8701.8267,-1509.4096"/>
<polygon fill="#000000" stroke="#000000" points="8705.2433,-1510.1783 8704.386,-1499.6182 8698.4709,-1508.4081 8705.2433,-1510.1783"/>
</g>
<!-- codeblock_128 -->
<g id="node129" class="node">
<title>codeblock_128</title>
<ellipse fill="none" stroke="#000000" cx="9072" cy="-1481.3168" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9072" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 281&#45;312</text>
</g>
<!-- section_109&#45;&gt;codeblock_128 -->
<g id="edge128" class="edge">
<title>section_109&#45;&gt;codeblock_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8563.37,-2011.2093C8643.7217,-2004.1763 8767.1094,-1989.3243 8805,-1962.432 8969.7264,-1845.5197 9044.4925,-1593.493 9065.5238,-1509.3275"/>
<polygon fill="#000000" stroke="#000000" points="9068.958,-1510.018 9067.9303,-1499.4732 9062.1578,-1508.3574 9068.958,-1510.018"/>
</g>
<!-- leaf_118 -->
<g id="node119" class="node">
<title>leaf_118</title>
<polygon fill="none" stroke="#c0c0c0" points="7463,-571.1024 7181,-571.1024 7181,-515.2994 7463,-515.2994 7463,-571.1024"/>
<text text-anchor="middle" x="7322" y="-523.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">The reader takes a stream of data from</text>
</g>
<!-- raw_111&#45;&gt;leaf_118 -->
<g id="edge118" class="edge">
<title>raw_111&#45;&gt;leaf_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7545.7462,-1463.2499C7554.8945,-1397.6008 7579.7633,-1166.8107 7506,-1000.2017 7497.0905,-980.0779 7483.4948,-982.969 7472,-964.2017 7392.8467,-834.9697 7347.16,-657.8739 7329.9474,-581.1727"/>
<polygon fill="#000000" stroke="#000000" points="7333.2819,-580.0411 7327.7071,-571.0315 7326.4467,-581.5511 7333.2819,-580.0411"/>
</g>
<!-- leaf_119 -->
<g id="node120" class="node">
<title>leaf_119</title>
<polygon fill="none" stroke="#c0c0c0" points="7535,-561.2009 7481,-561.2009 7481,-525.2009 7535,-525.2009 7535,-561.2009"/>
<text text-anchor="middle" x="7508" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_112&#45;&gt;leaf_119 -->
<g id="edge119" class="edge">
<title>prespace_112&#45;&gt;leaf_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7635.9558,-1463.1568C7642.2551,-1397.1882 7657.3096,-1165.4388 7579,-1000.2017 7569.4432,-980.0363 7553.2683,-984.5013 7544,-964.2017 7481.9656,-828.3329 7495.8358,-642.2766 7504.1114,-571.8115"/>
<polygon fill="#000000" stroke="#000000" points="7507.6302,-571.873 7505.3791,-561.5201 7500.6827,-571.0172 7507.6302,-571.873"/>
</g>
<!-- leaf_120 -->
<g id="node121" class="node">
<title>leaf_120</title>
<polygon fill="none" stroke="#c0c0c0" points="7607,-561.2009 7553,-561.2009 7553,-525.2009 7607,-525.2009 7607,-561.2009"/>
<text text-anchor="middle" x="7580" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">stdin</text>
</g>
<!-- literal_113&#45;&gt;leaf_120 -->
<g id="edge120" class="edge">
<title>literal_113&#45;&gt;leaf_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7734.2648,-1463.1099C7749.1162,-1395.0137 7792.2471,-1151.4977 7689,-1000.2017 7668.609,-970.3211 7636.3954,-994.0793 7616,-964.2017 7531.0279,-839.7242 7559.2576,-643.8841 7573.7181,-571.4001"/>
<polygon fill="#000000" stroke="#000000" points="7577.2217,-571.7405 7575.819,-561.2389 7570.3667,-570.3231 7577.2217,-571.7405"/>
</g>
<!-- leaf_121 -->
<g id="node122" class="node">
<title>leaf_121</title>
<polygon fill="none" stroke="#c0c0c0" points="7956.5,-562.5014 7625.5,-562.5014 7625.5,-523.9003 7956.5,-523.9003 7956.5,-562.5014"/>
<text text-anchor="middle" x="7791" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">, asynchronously, and</text>
<text text-anchor="middle" x="7791" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">processes it into tokens, which stream to the</text>
</g>
<!-- raw_114&#45;&gt;leaf_121 -->
<g id="edge121" class="edge">
<title>raw_114&#45;&gt;leaf_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7805.7071,-1462.9982C7803.8576,-1347.3297 7793.802,-718.4419 7791.479,-573.1606"/>
<polygon fill="#000000" stroke="#000000" points="7794.973,-572.751 7791.3135,-562.8083 7787.9739,-572.863 7794.973,-572.751"/>
</g>
<!-- leaf_122 -->
<g id="node123" class="node">
<title>leaf_122</title>
<polygon fill="none" stroke="#c0c0c0" points="8029,-561.2009 7975,-561.2009 7975,-525.2009 8029,-525.2009 8029,-561.2009"/>
<text text-anchor="middle" x="8002" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_115&#45;&gt;leaf_122 -->
<g id="edge122" class="edge">
<title>prespace_115&#45;&gt;leaf_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7956.8982,-1462.9982C7962.5944,-1346.8311 7993.6735,-713.0109 8000.6217,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="8004.1207,-571.4134 8001.1148,-561.254 7997.1291,-571.0705 8004.1207,-571.4134"/>
</g>
<!-- leaf_123 -->
<g id="node124" class="node">
<title>leaf_123</title>
<polygon fill="none" stroke="#c0c0c0" points="8147,-561.2009 8047,-561.2009 8047,-525.2009 8147,-525.2009 8147,-561.2009"/>
<text text-anchor="middle" x="8097" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">modeselektor</text>
</g>
<!-- literal_116&#45;&gt;leaf_123 -->
<g id="edge123" class="edge">
<title>literal_116&#45;&gt;leaf_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8082.2929,-1462.9982C8084.1504,-1346.8311 8094.2848,-713.0109 8096.5506,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="8100.0509,-571.3087 8096.7113,-561.254 8093.0518,-571.1967 8100.0509,-571.3087"/>
</g>
<!-- leaf_124 -->
<g id="node125" class="node">
<title>leaf_124</title>
<polygon fill="none" stroke="#c0c0c0" points="8219,-561.2009 8165,-561.2009 8165,-525.2009 8219,-525.2009 8219,-561.2009"/>
<text text-anchor="middle" x="8192" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_117&#45;&gt;leaf_124 -->
<g id="edge124" class="edge">
<title>raw_117&#45;&gt;leaf_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8173.371,-1462.9982C8175.7238,-1346.8311 8188.5608,-713.0109 8191.4307,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="8194.9311,-571.3228 8191.6344,-561.254 8187.9325,-571.181 8194.9311,-571.3228"/>
</g>
<!-- leaf_129 -->
<g id="node130" class="node">
<title>leaf_129</title>
<polygon fill="none" stroke="#c0c0c0" points="8421,-561.2009 8237,-561.2009 8237,-525.2009 8421,-525.2009 8421,-561.2009"/>
<text text-anchor="middle" x="8329" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">*** process_escapes(seq)</text>
</g>
<!-- header_125&#45;&gt;leaf_129 -->
<g id="edge129" class="edge">
<title>header_125&#45;&gt;leaf_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8329,-1462.9982C8329,-1346.8311 8329,-713.0109 8329,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="8332.5001,-571.2539 8329,-561.254 8325.5001,-571.254 8332.5001,-571.2539"/>
</g>
<!-- raw_130 -->
<g id="node131" class="node">
<title>raw_130</title>
<ellipse fill="none" stroke="#000000" cx="8466" cy="-543.2009" rx="27" ry="18"/>
<text text-anchor="middle" x="8466" y="-539.0009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_126&#45;&gt;raw_130 -->
<g id="edge130" class="edge">
<title>prose_126&#45;&gt;raw_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8490.5118,-1462.9982C8487.4161,-1346.8311 8470.5253,-713.0109 8466.7491,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="8470.2464,-571.1571 8466.4811,-561.254 8463.2488,-571.3437 8470.2464,-571.1571"/>
</g>
<!-- leaf_132 -->
<g id="node133" class="node">
<title>leaf_132</title>
<polygon fill="none" stroke="#c0c0c0" points="9066.5,-964.2024 8511.5,-964.2024 8511.5,-122.1993 9066.5,-122.1993 9066.5,-964.2024"/>
<text text-anchor="middle" x="8789" y="-933.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">local byte, sub = string.byte, string.sub</text>
<text text-anchor="middle" x="8789" y="-917.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">local m_parse, is_mouse = a.mouse.parse_fast, a.mouse.ismousemove</text>
<text text-anchor="middle" x="8789" y="-902.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">local navigation, is_nav = a.navigation, a.is_nav</text>
<text text-anchor="middle" x="8789" y="-870.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">local function process_escapes(seq)</text>
<text text-anchor="middle" x="8789" y="-855.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if is_nav(seq) then</text>
<text text-anchor="middle" x="8789" y="-840.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NAV&quot;, navigation[seq] )</text>
<text text-anchor="middle" x="8789" y="-824.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif #seq == 1 then</text>
<text text-anchor="middle" x="8789" y="-809.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;modeS(&quot;NAV&quot;, &quot;ESC&quot;) &#45;&#45; I think of escape as navigation in modal systems</text>
<text text-anchor="middle" x="8789" y="-793.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8789" y="-778.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if is_mouse(seq) then</text>
<text text-anchor="middle" x="8789" y="-763.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local m = m_parse(seq)</text>
<text text-anchor="middle" x="8789" y="-747.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;MOUSE&quot;, m)</text>
<text text-anchor="middle" x="8789" y="-732.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif #seq == 2 and byte(sub(seq,2,2)) &lt; 128 then</text>
<text text-anchor="middle" x="8789" y="-716.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; Meta</text>
<text text-anchor="middle" x="8789" y="-701.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local key = &quot;M&#45;&quot; .. sub(seq,2,2)</text>
<text text-anchor="middle" x="8789" y="-686.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;ALT&quot;, key)</text>
<text text-anchor="middle" x="8789" y="-670.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8789" y="-655.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NYI&quot;, seq)</text>
<text text-anchor="middle" x="8789" y="-639.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8789" y="-624.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="8789" y="-593.001" font-family="Inconsolata" font-size="14.00" fill="#000000">local navigation = a.navigation</text>
<text text-anchor="middle" x="8789" y="-561.601" font-family="Inconsolata" font-size="14.00" fill="#000000">local function onseq(err,seq)</text>
<text text-anchor="middle" x="8789" y="-546.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if err then error(err) end</text>
<text text-anchor="middle" x="8789" y="-530.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local head = byte(seq)</text>
<text text-anchor="middle" x="8789" y="-515.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; ^Q hard coded as quit, for now</text>
<text text-anchor="middle" x="8789" y="-500.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head == 17 then</text>
<text text-anchor="middle" x="8789" y="-484.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;femto.cooked()</text>
<text text-anchor="middle" x="8789" y="-469.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;write(a.mouse.track(false))</text>
<text text-anchor="middle" x="8789" y="-453.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uv.stop()</text>
<text text-anchor="middle" x="8789" y="-438.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="8789" y="-423.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8789" y="-407.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Escape sequences</text>
<text text-anchor="middle" x="8789" y="-392.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head == 27 then</text>
<text text-anchor="middle" x="8789" y="-376.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return process_escapes(seq)</text>
<text text-anchor="middle" x="8789" y="-361.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8789" y="-346.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Control sequences</text>
<text text-anchor="middle" x="8789" y="-330.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head &lt;= 31 and not navigation[seq] then</text>
<text text-anchor="middle" x="8789" y="-315.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local ctrl = &quot;^&quot; .. string.char(head + 64)</text>
<text text-anchor="middle" x="8789" y="-299.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;CTRL&quot;, ctrl)</text>
<text text-anchor="middle" x="8789" y="-284.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif navigation[seq] then</text>
<text text-anchor="middle" x="8789" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NAV&quot;, navigation[seq])</text>
<text text-anchor="middle" x="8789" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8789" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Printables</text>
<text text-anchor="middle" x="8789" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head &gt; 31 and head &lt; 127 then</text>
<text text-anchor="middle" x="8789" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;ASCII&quot;, seq)</text>
<text text-anchor="middle" x="8789" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8789" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; wchars go here</text>
<text text-anchor="middle" x="8789" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NYI&quot;, seq)</text>
<text text-anchor="middle" x="8789" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8789" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_127&#45;&gt;leaf_132 -->
<g id="edge132" class="edge">
<title>codeblock_127&#45;&gt;leaf_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8710.5622,-1462.9982C8715.9676,-1399.6117 8734.5162,-1182.1027 8752.2186,-974.5165"/>
<polygon fill="#000000" stroke="#000000" points="8755.7251,-974.5874 8753.0876,-964.3262 8748.7504,-973.9926 8755.7251,-974.5874"/>
</g>
<!-- leaf_133 -->
<g id="node134" class="node">
<title>leaf_133</title>
<polygon fill="none" stroke="#c0c0c0" points="9401.5,-788.9591 9084.5,-788.9591 9084.5,-297.4426 9401.5,-297.4426 9401.5,-788.9591"/>
<text text-anchor="middle" x="9243" y="-773.63" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Get names for as many values as possible</text>
<text text-anchor="middle" x="9243" y="-758.2299" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; into the colorizer</text>
<text text-anchor="middle" x="9243" y="-742.8299" font-family="Inconsolata" font-size="14.00" fill="#000000">color.allNames()</text>
<text text-anchor="middle" x="9243" y="-711.4299" font-family="Inconsolata" font-size="14.00" fill="#000000">print &quot;an repl, plz reply uwu &quot;</text>
<text text-anchor="middle" x="9243" y="-687.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">displayPrompt &#39; &#160;&#39;</text>
<text text-anchor="middle" x="9243" y="-662.9724" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Crude hack to choose raw mode at runtime</text>
<text text-anchor="middle" x="9243" y="-647.5723" font-family="Inconsolata" font-size="14.00" fill="#000000">if arg[1] == &quot;&#45;r&quot; then</text>
<text text-anchor="middle" x="9243" y="-632.1723" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;femto.raw()</text>
<text text-anchor="middle" x="9243" y="-616.7723" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45;uv.tty_set_mode(stdin, 2)</text>
<text text-anchor="middle" x="9243" y="-601.3722" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; mouse mode</text>
<text text-anchor="middle" x="9243" y="-585.9722" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;write(a.mouse.track(true))</text>
<text text-anchor="middle" x="9243" y="-570.5722" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.read_start(stdin, onseq)</text>
<text text-anchor="middle" x="9243" y="-555.1722" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="9243" y="-539.7721" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.read_start(stdin, onread)</text>
<text text-anchor="middle" x="9243" y="-524.3721" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="9243" y="-460.9721" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; main loop</text>
<text text-anchor="middle" x="9243" y="-445.572" font-family="Inconsolata" font-size="14.00" fill="#000000">local retcode = &#160;uv.run(&#39;default&#39;)</text>
<text text-anchor="middle" x="9243" y="-430.172" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Restore main screen</text>
<text text-anchor="middle" x="9243" y="-414.772" font-family="Inconsolata" font-size="14.00" fill="#000000">print &#39;\x1b[?47l&#39;</text>
<text text-anchor="middle" x="9243" y="-383.3719" font-family="Inconsolata" font-size="14.00" fill="#000000">if retcode ~= true then</text>
<text text-anchor="middle" x="9243" y="-367.9719" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;error(retcode)</text>
<text text-anchor="middle" x="9243" y="-352.5719" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="9243" y="-321.1718" font-family="Inconsolata" font-size="14.00" fill="#000000">print(&quot;kthxbye&quot;)</text>
<text text-anchor="middle" x="9243" y="-305.7718" font-family="Inconsolata" font-size="14.00" fill="#000000">return retcode</text>
</g>
<!-- codeblock_128&#45;&gt;leaf_133 -->
<g id="edge133" class="edge">
<title>codeblock_128&#45;&gt;leaf_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9075.3391,-1462.9982C9090.2731,-1381.0693 9152.1411,-1041.6583 9196.3737,-798.9952"/>
<polygon fill="#000000" stroke="#000000" points="9199.8527,-799.4266 9198.2028,-788.961 9192.9662,-798.1712 9199.8527,-799.4266"/>
</g>
<!-- leaf_131 -->
<g id="node132" class="node">
<title>leaf_131</title>
<polygon fill="none" stroke="#c0c0c0" points="8493,-61.1 8439,-61.1 8439,-25.1 8493,-25.1 8493,-61.1"/>
</g>
<!-- raw_130&#45;&gt;leaf_131 -->
<g id="edge131" class="edge">
<title>raw_130&#45;&gt;leaf_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8466,-525.1066C8466,-450.057 8466,-162.9178 8466,-71.3411"/>
<polygon fill="#000000" stroke="#000000" points="8469.5001,-71.17 8466,-61.17 8462.5001,-71.1701 8469.5001,-71.17"/>
</g>
</g>
</svg>
