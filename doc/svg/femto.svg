<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="9444pt" height="2228pt"
 viewBox="0.00 0.00 9443.50 2227.63" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2223.6319)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2223.6319 9439.5,-2223.6319 9439.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="2469" cy="-2201.6319" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="2469" y="-2197.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 300</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="2469" cy="-2129.6319" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2469" y="-2125.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;202</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2469,-2183.4633C2469,-2175.7629 2469,-2166.6063 2469,-2158.0485"/>
<polygon fill="#000000" stroke="#000000" points="2472.5001,-2158.0451 2469,-2148.0452 2465.5001,-2158.0452 2472.5001,-2158.0451"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="785" cy="-2057.6319" rx="47.4168" ry="18"/>
<text text-anchor="middle" x="785" y="-2053.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Femto</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2403.1879,-2128.8127C2192.9405,-2125.8663 1518.6493,-2113.868 962,-2075.6319 921.1923,-2072.8288 875.2396,-2068.1091 840.3848,-2064.2057"/>
<polygon fill="#000000" stroke="#000000" points="840.7332,-2060.7229 830.4031,-2063.0763 839.9461,-2067.6785 840.7332,-2060.7229"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="1003" cy="-2057.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1003" y="-2053.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2403.4736,-2128.2298C2167.3577,-2122.9919 1360.5624,-2103.4367 1104,-2075.6319 1083.8302,-2073.446 1061.6137,-2069.6418 1043.165,-2066.092"/>
<polygon fill="#000000" stroke="#000000" points="1043.8279,-2062.6555 1033.3402,-2064.1581 1042.4759,-2069.5236 1043.8279,-2062.6555"/>
</g>
<!-- section_4 -->
<g id="node5" class="node">
<title>section_4</title>
<ellipse fill="none" stroke="#000000" cx="1174" cy="-2057.6319" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="1174" y="-2053.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 6&#45;25</text>
</g>
<!-- section_1&#45;&gt;section_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;section_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2404.3377,-2126.0368C2185.147,-2113.8501 1471.3518,-2074.1642 1244.138,-2061.5315"/>
<polygon fill="#000000" stroke="#000000" points="1244.1889,-2058.029 1234.01,-2060.9684 1243.8002,-2065.0182 1244.1889,-2058.029"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="3837" cy="-2057.6319" rx="70.655" ry="18"/>
<text text-anchor="middle" x="3837" y="-2053.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 32&#45;106</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2533.6032,-2126.2317C2759.0267,-2114.3673 3510.4221,-2074.8202 3757.4975,-2061.8162"/>
<polygon fill="#000000" stroke="#000000" points="3758.0267,-2065.2933 3767.8289,-2061.2725 3757.6588,-2058.303 3758.0267,-2065.2933"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="6131" cy="-2057.6319" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="6131" y="-2053.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 120&#45;202</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2534.5064,-2128.344C2978.3211,-2119.6179 5542.1576,-2069.2094 6045.3224,-2059.3164"/>
<polygon fill="#000000" stroke="#000000" points="6045.4887,-2062.8139 6055.4179,-2059.118 6045.351,-2055.8153 6045.4887,-2062.8139"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="7689" cy="-2057.6319" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7689" y="-2053.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 203&#45;207</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2535.0001,-2128.7216C3090.0998,-2121.065 6974.7887,-2067.4831 7603.2261,-2058.815"/>
<polygon fill="#000000" stroke="#000000" points="7603.609,-2062.3101 7613.5597,-2058.6725 7603.5124,-2055.3108 7603.609,-2062.3101"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="760,-2003.6319 688,-2003.6319 688,-1967.6319 760,-1967.6319 760,-2003.6319"/>
<text text-anchor="middle" x="724" y="-1982.1319" font-family="Inconsolata" font-size="14.00" fill="#000000">* &#160;Femto</text>
</g>
<!-- header_2&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>header_2&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M770.2336,-2040.2027C762.9061,-2031.5539 753.9103,-2020.9358 745.8075,-2011.3719"/>
<polygon fill="#000000" stroke="#000000" points="748.4021,-2009.0199 739.2674,-2003.6525 743.0612,-2013.5448 748.4021,-2009.0199"/>
</g>
<!-- raw_9 -->
<g id="node10" class="node">
<title>raw_9</title>
<ellipse fill="none" stroke="#000000" cx="805" cy="-1985.6319" rx="27" ry="18"/>
<text text-anchor="middle" x="805" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_9 -->
<g id="edge9" class="edge">
<title>prose_3&#45;&gt;raw_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M974.1649,-2049.3727C941.4143,-2039.6824 886.6038,-2022.5216 841,-2003.6319 839.2085,-2002.8898 837.3824,-2002.0972 835.5502,-2001.2735"/>
<polygon fill="#000000" stroke="#000000" points="837.0084,-1998.0915 826.4711,-1996.9889 834.0208,-2004.422 837.0084,-1998.0915"/>
</g>
<!-- header_11 -->
<g id="node12" class="node">
<title>header_11</title>
<ellipse fill="none" stroke="#000000" cx="905" cy="-1985.6319" rx="54.6851" ry="18"/>
<text text-anchor="middle" x="905" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : includes</text>
</g>
<!-- section_4&#45;&gt;header_11 -->
<g id="edge11" class="edge">
<title>section_4&#45;&gt;header_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1127.9405,-2045.7324C1086.3543,-2034.9331 1023.5097,-2018.4756 969,-2003.6319 964.9282,-2002.5231 960.7139,-2001.3638 956.481,-2000.1912"/>
<polygon fill="#000000" stroke="#000000" points="957.201,-1996.7586 946.6287,-1997.448 955.3234,-2003.5021 957.201,-1996.7586"/>
</g>
<!-- prose_12 -->
<g id="node13" class="node">
<title>prose_12</title>
<ellipse fill="none" stroke="#000000" cx="1010" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1010" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_12 -->
<g id="edge12" class="edge">
<title>section_4&#45;&gt;prose_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1139.6202,-2042.5383C1111.8097,-2030.3289 1072.8158,-2013.2096 1044.8739,-2000.9424"/>
<polygon fill="#000000" stroke="#000000" points="1046.0513,-1997.6369 1035.4879,-1996.8217 1043.2374,-2004.0464 1046.0513,-1997.6369"/>
</g>
<!-- prose_13 -->
<g id="node14" class="node">
<title>prose_13</title>
<ellipse fill="none" stroke="#000000" cx="1092" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1092" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_13 -->
<g id="edge13" class="edge">
<title>section_4&#45;&gt;prose_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1154.5671,-2040.5689C1143.3006,-2030.6763 1128.9965,-2018.1166 1116.9098,-2007.5039"/>
<polygon fill="#000000" stroke="#000000" points="1119.1653,-2004.8266 1109.3415,-2000.8586 1114.5466,-2010.0867 1119.1653,-2004.8266"/>
</g>
<!-- prose_14 -->
<g id="node15" class="node">
<title>prose_14</title>
<ellipse fill="none" stroke="#000000" cx="1174" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1174" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_14 -->
<g id="edge14" class="edge">
<title>section_4&#45;&gt;prose_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1174,-2039.4633C1174,-2031.7629 1174,-2022.6063 1174,-2014.0485"/>
<polygon fill="#000000" stroke="#000000" points="1177.5001,-2014.0451 1174,-2004.0452 1170.5001,-2014.0452 1177.5001,-2014.0451"/>
</g>
<!-- codeblock_15 -->
<g id="node16" class="node">
<title>codeblock_15</title>
<ellipse fill="none" stroke="#000000" cx="1302" cy="-1985.6319" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1302" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 15&#45;23</text>
</g>
<!-- section_4&#45;&gt;codeblock_15 -->
<g id="edge15" class="edge">
<title>section_4&#45;&gt;codeblock_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1202.4073,-2041.6528C1220.4187,-2031.5214 1243.9447,-2018.288 1263.6084,-2007.2272"/>
<polygon fill="#000000" stroke="#000000" points="1265.3378,-2010.2701 1272.3377,-2002.317 1261.906,-2004.1691 1265.3378,-2010.2701"/>
</g>
<!-- section_16 -->
<g id="node17" class="node">
<title>section_16</title>
<ellipse fill="none" stroke="#000000" cx="1547" cy="-1985.6319" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1547" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 26&#45;31</text>
</g>
<!-- section_4&#45;&gt;section_16 -->
<g id="edge16" class="edge">
<title>section_4&#45;&gt;section_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1225.082,-2047.7716C1292.2541,-2034.8054 1410.2762,-2012.0236 1483.2323,-1997.9409"/>
<polygon fill="#000000" stroke="#000000" points="1484.0623,-2001.3454 1493.2177,-1996.0135 1482.7355,-1994.4723 1484.0623,-2001.3454"/>
</g>
<!-- header_30 -->
<g id="node31" class="node">
<title>header_30</title>
<ellipse fill="none" stroke="#000000" cx="1913" cy="-1985.6319" rx="39.6991" ry="18"/>
<text text-anchor="middle" x="1913" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : core</text>
</g>
<!-- section_5&#45;&gt;header_30 -->
<g id="edge30" class="edge">
<title>section_5&#45;&gt;header_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3766.5648,-2056.4503C3478.9277,-2051.4785 2392.4466,-2031.2323 2050,-2003.6319 2020.1301,-2001.2245 1986.7904,-1996.8806 1960.4793,-1993.0633"/>
<polygon fill="#000000" stroke="#000000" points="1960.8012,-1989.573 1950.3976,-1991.5768 1959.78,-1996.4981 1960.8012,-1989.573"/>
</g>
<!-- prose_31 -->
<g id="node32" class="node">
<title>prose_31</title>
<ellipse fill="none" stroke="#000000" cx="2091" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2091" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_31 -->
<g id="edge31" class="edge">
<title>section_5&#45;&gt;prose_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3767.2067,-2054.7538C3476.3167,-2042.7584 2364.7518,-1996.9206 2133.354,-1987.3785"/>
<polygon fill="#000000" stroke="#000000" points="2133.4503,-1983.8796 2123.3146,-1986.9645 2133.1618,-1990.8736 2133.4503,-1983.8796"/>
</g>
<!-- prose_32 -->
<g id="node33" class="node">
<title>prose_32</title>
<ellipse fill="none" stroke="#000000" cx="2876" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2876" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_32 -->
<g id="edge32" class="edge">
<title>section_5&#45;&gt;prose_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3769.0415,-2052.5403C3583.0358,-2038.6044 3069.4256,-2000.1237 2918.3332,-1988.8036"/>
<polygon fill="#000000" stroke="#000000" points="2918.3241,-1985.2932 2908.0905,-1988.0362 2917.801,-1992.2736 2918.3241,-1985.2932"/>
</g>
<!-- codeblock_33 -->
<g id="node34" class="node">
<title>codeblock_33</title>
<ellipse fill="none" stroke="#000000" cx="3459" cy="-1985.6319" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3459" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 39&#45;50</text>
</g>
<!-- section_5&#45;&gt;codeblock_33 -->
<g id="edge33" class="edge">
<title>section_5&#45;&gt;codeblock_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3780.4096,-2046.8528C3713.3336,-2034.0764 3601.5427,-2012.7829 3529.0632,-1998.9773"/>
<polygon fill="#000000" stroke="#000000" points="3529.584,-1995.5136 3519.1057,-1997.0806 3528.2742,-2002.39 3529.584,-1995.5136"/>
</g>
<!-- prose_34 -->
<g id="node35" class="node">
<title>prose_34</title>
<ellipse fill="none" stroke="#000000" cx="3715" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3715" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_34 -->
<g id="edge34" class="edge">
<title>section_5&#45;&gt;prose_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3808.7041,-2040.9327C3789.9879,-2029.887 3765.4398,-2015.3997 3746.1647,-2004.0242"/>
<polygon fill="#000000" stroke="#000000" points="3747.8387,-2000.9481 3737.4477,-1998.8797 3744.2809,-2006.9766 3747.8387,-2000.9481"/>
</g>
<!-- prose_35 -->
<g id="node36" class="node">
<title>prose_35</title>
<ellipse fill="none" stroke="#000000" cx="3837" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3837" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_35 -->
<g id="edge35" class="edge">
<title>section_5&#45;&gt;prose_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3837,-2039.4633C3837,-2031.7629 3837,-2022.6063 3837,-2014.0485"/>
<polygon fill="#000000" stroke="#000000" points="3840.5001,-2014.0451 3837,-2004.0452 3833.5001,-2014.0452 3840.5001,-2014.0451"/>
</g>
<!-- codeblock_36 -->
<g id="node37" class="node">
<title>codeblock_36</title>
<ellipse fill="none" stroke="#000000" cx="4013" cy="-1985.6319" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="4013" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 57&#45;65</text>
</g>
<!-- section_5&#45;&gt;codeblock_36 -->
<g id="edge36" class="edge">
<title>section_5&#45;&gt;codeblock_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3874.7564,-2042.1861C3901.2545,-2031.346 3936.8928,-2016.7667 3965.3478,-2005.126"/>
<polygon fill="#000000" stroke="#000000" points="3966.7685,-2008.3264 3974.6987,-2001.3006 3964.118,-2001.8476 3966.7685,-2008.3264"/>
</g>
<!-- prose_37 -->
<g id="node38" class="node">
<title>prose_37</title>
<ellipse fill="none" stroke="#000000" cx="4348" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4348" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_37 -->
<g id="edge37" class="edge">
<title>section_5&#45;&gt;prose_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3898.8929,-2048.9112C4004.582,-2034.0196 4217.1003,-2004.0757 4306.6812,-1991.4537"/>
<polygon fill="#000000" stroke="#000000" points="4307.3155,-1994.899 4316.7293,-1990.038 4306.3388,-1987.9675 4307.3155,-1994.899"/>
</g>
<!-- prose_38 -->
<g id="node39" class="node">
<title>prose_38</title>
<ellipse fill="none" stroke="#000000" cx="4511" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4511" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_38 -->
<g id="edge38" class="edge">
<title>section_5&#45;&gt;prose_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3904.2444,-2052.1226C4008.3086,-2043.3557 4214.5755,-2025.0179 4389,-2003.6319 4416.0266,-2000.3182 4446.3101,-1995.8545 4469.9442,-1992.2012"/>
<polygon fill="#000000" stroke="#000000" points="4470.6258,-1995.6373 4479.9675,-1990.6389 4469.5478,-1988.7208 4470.6258,-1995.6373"/>
</g>
<!-- codeblock_39 -->
<g id="node40" class="node">
<title>codeblock_39</title>
<ellipse fill="none" stroke="#000000" cx="4728" cy="-1985.6319" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="4728" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 72&#45;93</text>
</g>
<!-- section_5&#45;&gt;codeblock_39 -->
<g id="edge39" class="edge">
<title>section_5&#45;&gt;codeblock_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3905.5718,-2053.061C4032.9872,-2044.4326 4314.8564,-2024.7099 4552,-2003.6319 4583.1978,-2000.859 4617.467,-1997.4391 4647.4106,-1994.3277"/>
<polygon fill="#000000" stroke="#000000" points="4647.8065,-1997.8054 4657.3889,-1993.2857 4647.0795,-1990.8433 4647.8065,-1997.8054"/>
</g>
<!-- codeblock_40 -->
<g id="node41" class="node">
<title>codeblock_40</title>
<ellipse fill="none" stroke="#000000" cx="5054" cy="-1985.6319" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="5054" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 95&#45;104</text>
</g>
<!-- section_5&#45;&gt;codeblock_40 -->
<g id="edge40" class="edge">
<title>section_5&#45;&gt;codeblock_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3906.6249,-2054.2543C4066.8228,-2046.3797 4473.9049,-2025.7821 4814,-2003.6319 4864.4896,-2000.3435 4920.9129,-1996.1387 4966.3597,-1992.6201"/>
<polygon fill="#000000" stroke="#000000" points="4966.7767,-1996.0984 4976.4755,-1991.8343 4966.2344,-1989.1194 4966.7767,-1996.0984"/>
</g>
<!-- section_41 -->
<g id="node42" class="node">
<title>section_41</title>
<ellipse fill="none" stroke="#000000" cx="5514" cy="-1985.6319" rx="74.6878" ry="18"/>
<text text-anchor="middle" x="5514" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 107&#45;119</text>
</g>
<!-- section_5&#45;&gt;section_41 -->
<g id="edge41" class="edge">
<title>section_5&#45;&gt;section_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3906.8413,-2054.9326C4102.3697,-2047.3359 4671.8915,-2024.9368 5145,-2003.6319 5242.9127,-1999.2227 5355.4139,-1993.6637 5430.1991,-1989.8987"/>
<polygon fill="#000000" stroke="#000000" points="5430.6848,-1993.3787 5440.4959,-1989.3796 5430.3323,-1986.3876 5430.6848,-1993.3787"/>
</g>
<!-- header_96 -->
<g id="node97" class="node">
<title>header_96</title>
<ellipse fill="none" stroke="#000000" cx="5880" cy="-1985.6319" rx="75.4657" ry="18"/>
<text text-anchor="middle" x="5880" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Modeselektor</text>
</g>
<!-- section_6&#45;&gt;header_96 -->
<g id="edge96" class="edge">
<title>section_6&#45;&gt;header_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6082.6047,-2043.7496C6041.4159,-2031.9345 5982.136,-2014.9299 5938.3328,-2002.3648"/>
<polygon fill="#000000" stroke="#000000" points="5939.2518,-1998.9873 5928.6743,-1999.5943 5937.3216,-2005.716 5939.2518,-1998.9873"/>
</g>
<!-- prose_97 -->
<g id="node98" class="node">
<title>prose_97</title>
<ellipse fill="none" stroke="#000000" cx="6051" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6051" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_97 -->
<g id="edge97" class="edge">
<title>section_6&#45;&gt;prose_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6111.6342,-2040.2027C6100.8135,-2030.464 6087.2184,-2018.2285 6075.6452,-2007.8126"/>
<polygon fill="#000000" stroke="#000000" points="6077.7892,-2005.0334 6068.0149,-2000.9453 6073.1065,-2010.2365 6077.7892,-2005.0334"/>
</g>
<!-- codeblock_98 -->
<g id="node99" class="node">
<title>codeblock_98</title>
<ellipse fill="none" stroke="#000000" cx="6212" cy="-1985.6319" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6212" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 122&#45;125</text>
</g>
<!-- section_6&#45;&gt;codeblock_98 -->
<g id="edge98" class="edge">
<title>section_6&#45;&gt;codeblock_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6150.6078,-2040.2027C6160.705,-2031.2275 6173.188,-2020.1315 6184.2556,-2010.2936"/>
<polygon fill="#000000" stroke="#000000" points="6186.8612,-2012.6604 6192.01,-2003.4008 6182.2106,-2007.4285 6186.8612,-2012.6604"/>
</g>
<!-- codeblock_99 -->
<g id="node100" class="node">
<title>codeblock_99</title>
<ellipse fill="none" stroke="#000000" cx="6568" cy="-1985.6319" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6568" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 127&#45;187</text>
</g>
<!-- section_6&#45;&gt;codeblock_99 -->
<g id="edge99" class="edge">
<title>section_6&#45;&gt;codeblock_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6193.1474,-2047.3925C6271.0413,-2034.5587 6404.6067,-2012.5525 6489.4881,-1998.5675"/>
<polygon fill="#000000" stroke="#000000" points="6490.2932,-2001.9821 6499.5912,-1996.9029 6489.1552,-1995.0752 6490.2932,-2001.9821"/>
</g>
<!-- codeblock_100 -->
<g id="node101" class="node">
<title>codeblock_100</title>
<ellipse fill="none" stroke="#000000" cx="7001" cy="-1985.6319" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7001" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 189&#45;200</text>
</g>
<!-- section_6&#45;&gt;codeblock_100 -->
<g id="edge100" class="edge">
<title>section_6&#45;&gt;codeblock_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6202.5654,-2051.7092C6359.885,-2038.6897 6735.6158,-2007.5947 6909.6483,-1993.192"/>
<polygon fill="#000000" stroke="#000000" points="6910.128,-1996.6644 6919.8052,-1992.3515 6909.5506,-1989.6883 6910.128,-1996.6644"/>
</g>
<!-- header_107 -->
<g id="node108" class="node">
<title>header_107</title>
<ellipse fill="none" stroke="#000000" cx="7553" cy="-1985.6319" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="7553" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Reader</text>
</g>
<!-- section_7&#45;&gt;header_107 -->
<g id="edge107" class="edge">
<title>section_7&#45;&gt;header_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7657.7989,-2041.1137C7637.8516,-2030.5533 7611.8588,-2016.7924 7590.7503,-2005.6174"/>
<polygon fill="#000000" stroke="#000000" points="7592.2111,-2002.4305 7581.7356,-2000.8449 7588.9359,-2008.6171 7592.2111,-2002.4305"/>
</g>
<!-- prose_108 -->
<g id="node109" class="node">
<title>prose_108</title>
<ellipse fill="none" stroke="#000000" cx="7795" cy="-1985.6319" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7795" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_108 -->
<g id="edge108" class="edge">
<title>section_7&#45;&gt;prose_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7714.1205,-2040.5689C7729.6173,-2030.0428 7749.5596,-2016.4971 7765.7642,-2005.4902"/>
<polygon fill="#000000" stroke="#000000" points="7768.0246,-2008.1859 7774.3302,-1999.6718 7764.0914,-2002.3954 7768.0246,-2008.1859"/>
</g>
<!-- section_109 -->
<g id="node110" class="node">
<title>section_109</title>
<ellipse fill="none" stroke="#000000" cx="8525" cy="-1985.6319" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8525" y="-1981.4319" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 208&#45;300</text>
</g>
<!-- section_7&#45;&gt;section_109 -->
<g id="edge109" class="edge">
<title>section_7&#45;&gt;section_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7760.2769,-2051.4932C7914.9817,-2038.1694 8280.7197,-2006.6704 8443.9226,-1992.6146"/>
<polygon fill="#000000" stroke="#000000" points="8444.2408,-1996.1003 8453.9035,-1991.755 8443.64,-1989.1261 8444.2408,-1996.1003"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="832,-1501.9168 778,-1501.9168 778,-1429.9168 832,-1429.9168 832,-1501.9168"/>
</g>
<!-- raw_9&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>raw_9&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M805,-1967.4397C805,-1894.5146 805,-1622.0057 805,-1512.2015"/>
<polygon fill="#000000" stroke="#000000" points="808.5001,-1512.0953 805,-1502.0954 801.5001,-1512.0954 808.5001,-1512.0953"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="951,-1483.9168 851,-1483.9168 851,-1447.9168 951,-1447.9168 951,-1483.9168"/>
<text text-anchor="middle" x="901" y="-1462.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">** &#160;includes</text>
</g>
<!-- header_11&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>header_11&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M904.86,-1967.4397C904.2648,-1890.1039 901.942,-1588.3115 901.2172,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="904.7158,-1493.934 901.1389,-1483.9613 897.716,-1493.988 904.7158,-1493.934"/>
</g>
<!-- raw_18 -->
<g id="node19" class="node">
<title>raw_18</title>
<ellipse fill="none" stroke="#000000" cx="996" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="996" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_12&#45;&gt;raw_18 -->
<g id="edge18" class="edge">
<title>prose_12&#45;&gt;raw_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1009.5099,-1967.4397C1007.4267,-1890.1039 999.297,-1588.3115 996.7604,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="1000.2542,-1493.8634 996.4861,-1483.9613 993.2567,-1494.052 1000.2542,-1493.8634"/>
</g>
<!-- raw_20 -->
<g id="node21" class="node">
<title>raw_20</title>
<ellipse fill="none" stroke="#000000" cx="1068" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="1068" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_13&#45;&gt;raw_20 -->
<g id="edge20" class="edge">
<title>prose_13&#45;&gt;raw_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1091.1599,-1967.4397C1087.5886,-1890.1039 1073.6521,-1588.3115 1069.3035,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="1072.7909,-1493.7892 1068.8333,-1483.9613 1065.7984,-1494.1122 1072.7909,-1493.7892"/>
</g>
<!-- raw_22 -->
<g id="node23" class="node">
<title>raw_22</title>
<ellipse fill="none" stroke="#000000" cx="1140" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="1140" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_14&#45;&gt;raw_22 -->
<g id="edge22" class="edge">
<title>prose_14&#45;&gt;raw_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1172.8099,-1967.4397C1167.7505,-1890.1039 1148.0071,-1588.3115 1141.8466,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="1145.3259,-1493.7115 1141.1805,-1483.9613 1138.3408,-1494.1685 1145.3259,-1493.7115"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="1418.5,-1523.7172 1185.5,-1523.7172 1185.5,-1408.1164 1418.5,-1408.1164 1418.5,-1523.7172"/>
<text text-anchor="middle" x="1302" y="-1508.6169" font-family="Inconsolata" font-size="14.00" fill="#000000">sql = require &quot;sqlite&quot;</text>
<text text-anchor="middle" x="1302" y="-1493.2169" font-family="Inconsolata" font-size="14.00" fill="#000000">L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1302" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">lfs = require &quot;lfs&quot;</text>
<text text-anchor="middle" x="1302" y="-1462.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">ffi = require &quot;ffi&quot;</text>
<text text-anchor="middle" x="1302" y="-1447.0168" font-family="Inconsolata" font-size="14.00" fill="#000000">bit = require &quot;bit&quot;</text>
<text text-anchor="middle" x="1302" y="-1431.6167" font-family="Inconsolata" font-size="14.00" fill="#000000">ffi.reflect = require &quot;reflect&quot;</text>
<text text-anchor="middle" x="1302" y="-1416.2167" font-family="Inconsolata" font-size="14.00" fill="#000000">uv = require &quot;luv&quot;</text>
</g>
<!-- codeblock_15&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>codeblock_15&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1302,-1967.4397C1302,-1899.0075 1302,-1654.8266 1302,-1534.2646"/>
<polygon fill="#000000" stroke="#000000" points="1305.5001,-1534.0454 1302,-1524.0454 1298.5001,-1534.0455 1305.5001,-1534.0454"/>
</g>
<!-- header_25 -->
<g id="node26" class="node">
<title>header_25</title>
<ellipse fill="none" stroke="#000000" cx="1547" cy="-1465.9168" rx="110.7308" ry="18"/>
<text text-anchor="middle" x="1547" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Djikstra Insertion Point</text>
</g>
<!-- section_16&#45;&gt;header_25 -->
<g id="edge25" class="edge">
<title>section_16&#45;&gt;header_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1547,-1967.4397C1547,-1890.1039 1547,-1588.3115 1547,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="1550.5001,-1493.9613 1547,-1483.9613 1543.5001,-1493.9614 1550.5001,-1493.9613"/>
</g>
<!-- prose_26 -->
<g id="node27" class="node">
<title>prose_26</title>
<ellipse fill="none" stroke="#000000" cx="1708" cy="-1465.9168" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1708" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_16&#45;&gt;prose_26 -->
<g id="edge26" class="edge">
<title>section_16&#45;&gt;prose_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1599.7864,-1974.8281C1624.214,-1967.0181 1651.2509,-1953.7917 1667,-1931.6319 1764.8988,-1793.8836 1730.674,-1572.142 1714.483,-1494.1486"/>
<polygon fill="#000000" stroke="#000000" points="1717.8518,-1493.1655 1712.3336,-1484.1211 1711.0073,-1494.6326 1717.8518,-1493.1655"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="548,-578.5012 0,-578.5012 0,-507.9005 548,-507.9005 548,-578.5012"/>
<text text-anchor="middle" x="274" y="-531.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">This all goes into global space for now. &#160;Our more sophisticated loader will</text>
<text text-anchor="middle" x="274" y="-516.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">handle namespace isolation. Meanwhile we&#39;re building a repl, so.</text>
</g>
<!-- raw_18&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>raw_18&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M997.5278,-1447.9021C1003.7019,-1370.1702 1023.5538,-1064.5193 960,-1000.2017 896.8034,-936.2455 634.393,-1009.9676 557,-964.2017 409.0385,-876.7055 322.1892,-677.8993 289.275,-588.3782"/>
<polygon fill="#000000" stroke="#000000" points="292.4961,-586.9937 285.8004,-578.7828 285.9144,-589.3771 292.4961,-586.9937"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="1086,-563.103 566,-563.103 566,-523.2988 1086,-523.2988 1086,-563.103"/>
<text text-anchor="middle" x="826" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">First we load everything that might reasonable expect a stock namespace.</text>
</g>
<!-- raw_20&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>raw_20&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1068.8159,-1447.7895C1071.1884,-1384.7836 1075.3904,-1169.9066 1032,-1000.2017 988.2607,-829.1322 884.4587,-642.1698 843.272,-571.9585"/>
<polygon fill="#000000" stroke="#000000" points="846.2112,-570.0525 838.1141,-563.2196 840.1828,-573.6105 846.2112,-570.0525"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="1414,-563.103 1104,-563.103 1104,-523.2988 1414,-523.2988 1414,-563.103"/>
<text text-anchor="middle" x="1259" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">All of these are exceedingly well&#45;behaved.</text>
</g>
<!-- raw_22&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>raw_22&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1140.7377,-1447.6504C1143.409,-1385.0572 1153.6219,-1173.5217 1176,-1000.2017 1196.9631,-837.841 1236.8759,-645.5879 1252.4994,-572.9616"/>
<polygon fill="#000000" stroke="#000000" points="1255.9323,-573.6457 1254.6231,-563.1321 1249.0901,-572.1674 1255.9323,-573.6457"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="1644,-561.2009 1432,-561.2009 1432,-525.2009 1644,-525.2009 1644,-561.2009"/>
<text text-anchor="middle" x="1538" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Djikstra Insertion Point</text>
</g>
<!-- header_25&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>header_25&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1546.8243,-1447.8989C1545.7121,-1333.8757 1539.6543,-712.8069 1538.2782,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="1541.7743,-571.2996 1538.1769,-561.3343 1534.7747,-571.368 1541.7743,-571.2996"/>
</g>
<!-- raw_28 -->
<g id="node29" class="node">
<title>raw_28</title>
<ellipse fill="none" stroke="#000000" cx="1689" cy="-543.2009" rx="27" ry="18"/>
<text text-anchor="middle" x="1689" y="-539.0009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_26&#45;&gt;raw_28 -->
<g id="edge28" class="edge">
<title>prose_26&#45;&gt;raw_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1707.629,-1447.8989C1705.2811,-1333.8757 1692.4924,-712.8069 1689.5873,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="1693.0786,-571.26 1689.3734,-561.3343 1686.0801,-571.4042 1693.0786,-571.26"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="1970,-86.3004 1408,-86.3004 1408,.1003 1970,.1003 1970,-86.3004"/>
<text text-anchor="middle" x="1689" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">Although we&#39;re not doing so yet, this is where we will set up Djikstra mode</text>
<text text-anchor="middle" x="1689" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">for participating code. &#160;We then push that up through the layers, and it lands</text>
<text text-anchor="middle" x="1689" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">as close to C level as practical.</text>
</g>
<!-- raw_28&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>raw_28&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1689,-525.1066C1689,-455.978 1689,-206.9052 1689,-96.4674"/>
<polygon fill="#000000" stroke="#000000" points="1692.5001,-96.2233 1689,-86.2233 1685.5001,-96.2233 1692.5001,-96.2233"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="1858.5,-1483.9168 1793.5,-1483.9168 1793.5,-1447.9168 1858.5,-1447.9168 1858.5,-1483.9168"/>
<text text-anchor="middle" x="1826" y="-1462.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">** core</text>
</g>
<!-- header_30&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>header_30&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1894.9794,-1969.4571C1885.2225,-1959.5655 1873.9725,-1946.0655 1868,-1931.6319 1803.9488,-1776.8413 1815.8671,-1569.001 1822.8991,-1494.2063"/>
<polygon fill="#000000" stroke="#000000" points="1826.3915,-1494.4542 1823.8915,-1484.1586 1819.4254,-1493.7661 1826.3915,-1494.4542"/>
</g>
<!-- raw_43 -->
<g id="node44" class="node">
<title>raw_43</title>
<ellipse fill="none" stroke="#000000" cx="1904" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="1904" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_31&#45;&gt;raw_43 -->
<g id="edge43" class="edge">
<title>prose_31&#45;&gt;raw_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2061.0084,-1978.9727C2021.4148,-1969.5316 1954.9556,-1951.2134 1940,-1931.6319 1837.2804,-1797.14 1878.1072,-1572.4449 1896.7079,-1493.9803"/>
<polygon fill="#000000" stroke="#000000" points="1900.1963,-1494.4485 1899.1677,-1483.9037 1893.396,-1492.7884 1900.1963,-1494.4485"/>
</g>
<!-- prespace_44 -->
<g id="node45" class="node">
<title>prespace_44</title>
<ellipse fill="none" stroke="#000000" cx="1995" cy="-1465.9168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="1995" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_31&#45;&gt;prespace_44 -->
<g id="edge44" class="edge">
<title>prose_31&#45;&gt;prespace_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2075.5429,-1969.5065C2066.8335,-1959.4297 2056.6061,-1945.7247 2051,-1931.6319 1988.8861,-1775.4889 1990.5223,-1568.4765 1993.4931,-1494.0537"/>
<polygon fill="#000000" stroke="#000000" points="1996.9899,-1494.2017 1993.9337,-1484.0572 1989.9967,-1493.8934 1996.9899,-1494.2017"/>
</g>
<!-- literal_45 -->
<g id="node46" class="node">
<title>literal_45</title>
<ellipse fill="none" stroke="#000000" cx="2091" cy="-1465.9168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2091" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_31&#45;&gt;literal_45 -->
<g id="edge45" class="edge">
<title>prose_31&#45;&gt;literal_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2091,-1967.4397C2091,-1890.1039 2091,-1588.3115 2091,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="2094.5001,-1493.9613 2091,-1483.9613 2087.5001,-1493.9614 2094.5001,-1493.9613"/>
</g>
<!-- raw_46 -->
<g id="node47" class="node">
<title>raw_46</title>
<ellipse fill="none" stroke="#000000" cx="2184" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="2184" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_31&#45;&gt;raw_46 -->
<g id="edge46" class="edge">
<title>prose_31&#45;&gt;raw_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2106.4896,-1969.5194C2115.2106,-1959.4471 2125.4387,-1945.7425 2131,-1931.6319 2192.5717,-1775.4086 2189.3182,-1568.4453 2185.7404,-1494.0446"/>
<polygon fill="#000000" stroke="#000000" points="2189.2354,-1493.8548 2185.2179,-1484.0512 2182.2449,-1494.2203 2189.2354,-1493.8548"/>
</g>
<!-- raw_51 -->
<g id="node52" class="node">
<title>raw_51</title>
<ellipse fill="none" stroke="#000000" cx="2553" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="2553" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_32&#45;&gt;raw_51 -->
<g id="edge51" class="edge">
<title>prose_32&#45;&gt;raw_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2843.8071,-1983.9111C2778.7437,-1979.7237 2635.0507,-1966.6465 2603,-1931.6319 2487.9231,-1805.9135 2527.7612,-1573.8864 2545.9877,-1493.89"/>
<polygon fill="#000000" stroke="#000000" points="2549.4178,-1494.5931 2548.2961,-1484.0578 2542.6031,-1492.9931 2549.4178,-1494.5931"/>
</g>
<!-- prespace_52 -->
<g id="node53" class="node">
<title>prespace_52</title>
<ellipse fill="none" stroke="#000000" cx="2658" cy="-1465.9168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2658" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_32&#45;&gt;prespace_52 -->
<g id="edge52" class="edge">
<title>prose_32&#45;&gt;prespace_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2845.401,-1979.4945C2803.2934,-1970.4003 2730.7738,-1952.1907 2714,-1931.6319 2606.5656,-1799.9552 2637.0742,-1573.4856 2652.0218,-1494.2688"/>
<polygon fill="#000000" stroke="#000000" points="2655.5273,-1494.5793 2654.0117,-1484.0935 2648.6574,-1493.2358 2655.5273,-1494.5793"/>
</g>
<!-- literal_53 -->
<g id="node54" class="node">
<title>literal_53</title>
<ellipse fill="none" stroke="#000000" cx="2754" cy="-1465.9168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2754" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_32&#45;&gt;literal_53 -->
<g id="edge53" class="edge">
<title>prose_32&#45;&gt;literal_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2849.0668,-1975.4164C2830.2587,-1966.7691 2806.3836,-1952.4292 2794,-1931.6319 2707.9314,-1787.0862 2735.0267,-1571.2494 2748.4488,-1494.3681"/>
<polygon fill="#000000" stroke="#000000" points="2751.9778,-1494.5217 2750.3148,-1484.0582 2745.0897,-1493.275 2751.9778,-1494.5217"/>
</g>
<!-- raw_54 -->
<g id="node55" class="node">
<title>raw_54</title>
<ellipse fill="none" stroke="#000000" cx="2830" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="2830" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_32&#45;&gt;raw_54 -->
<g id="edge54" class="edge">
<title>prose_32&#45;&gt;raw_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2872.1877,-1967.7075C2870.0836,-1957.2327 2867.5836,-1943.7327 2866,-1931.6319 2844.4302,-1766.8118 2834.3221,-1567.3578 2831.1496,-1494.4"/>
<polygon fill="#000000" stroke="#000000" points="2834.6371,-1494.0283 2830.7153,-1484.1861 2827.6434,-1494.3258 2834.6371,-1494.0283"/>
</g>
<!-- prespace_55 -->
<g id="node56" class="node">
<title>prespace_55</title>
<ellipse fill="none" stroke="#000000" cx="2921" cy="-1465.9168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2921" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_32&#45;&gt;prespace_55 -->
<g id="edge55" class="edge">
<title>prose_32&#45;&gt;prespace_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2877.5752,-1967.4397C2884.2714,-1890.1039 2910.4023,-1588.3115 2918.556,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="2922.0618,-1494.226 2919.4376,-1483.9613 2915.0879,-1493.6221 2922.0618,-1494.226"/>
</g>
<!-- literal_56 -->
<g id="node57" class="node">
<title>literal_56</title>
<ellipse fill="none" stroke="#000000" cx="3017" cy="-1465.9168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3017" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_32&#45;&gt;literal_56 -->
<g id="edge56" class="edge">
<title>prose_32&#45;&gt;literal_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2905.3396,-1978.0901C2928.6203,-1970.458 2959.8461,-1956.1948 2976,-1931.6319 3068.8578,-1790.4363 3037.7918,-1570.8548 3022.9559,-1493.7881"/>
<polygon fill="#000000" stroke="#000000" points="3026.3692,-1493.0071 3020.9847,-1483.8825 3019.5038,-1494.3733 3026.3692,-1493.0071"/>
</g>
<!-- raw_57 -->
<g id="node58" class="node">
<title>raw_57</title>
<ellipse fill="none" stroke="#000000" cx="3120" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="3120" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_32&#45;&gt;raw_57 -->
<g id="edge57" class="edge">
<title>prose_32&#45;&gt;raw_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2907.0017,-1980.5252C2953.3848,-1972.2293 3037.4951,-1954.4322 3057,-1931.6319 3167.9355,-1801.9538 3139.6495,-1573.2902 3125.5855,-1493.9583"/>
<polygon fill="#000000" stroke="#000000" points="3128.9647,-1492.9819 3123.7114,-1483.7811 3122.0804,-1494.2497 3128.9647,-1492.9819"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="3580.5,-1546.9171 3179.5,-1546.9171 3179.5,-1384.9165 3580.5,-1384.9165 3580.5,-1546.9171"/>
<text text-anchor="middle" x="3380" y="-1531.7169" font-family="Inconsolata" font-size="14.00" fill="#000000">local core = require &quot;core&quot;</text>
<text text-anchor="middle" x="3380" y="-1516.3169" font-family="Inconsolata" font-size="14.00" fill="#000000">string.cleave, string.litpat = core.cleave, core.litpat</text>
<text text-anchor="middle" x="3380" y="-1500.9169" font-family="Inconsolata" font-size="14.00" fill="#000000">string.utf8 = core.utf8</text>
<text text-anchor="middle" x="3380" y="-1485.5168" font-family="Inconsolata" font-size="14.00" fill="#000000">string.codepoints = core.codepoints</text>
<text text-anchor="middle" x="3380" y="-1470.1168" font-family="Inconsolata" font-size="14.00" fill="#000000">table.splice = core.splice</text>
<text text-anchor="middle" x="3380" y="-1454.7168" font-family="Inconsolata" font-size="14.00" fill="#000000">utf8 = core.utf8</text>
<text text-anchor="middle" x="3380" y="-1439.3167" font-family="Inconsolata" font-size="14.00" fill="#000000">codepoints = core.codepoints</text>
<text text-anchor="middle" x="3380" y="-1423.9167" font-family="Inconsolata" font-size="14.00" fill="#000000">meta = core.meta</text>
<text text-anchor="middle" x="3380" y="-1408.5167" font-family="Inconsolata" font-size="14.00" fill="#000000">getmeta, setmeta = getmetatable, setmetatable</text>
<text text-anchor="middle" x="3380" y="-1393.1167" font-family="Inconsolata" font-size="14.00" fill="#000000">coro = coroutine</text>
</g>
<!-- codeblock_33&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>codeblock_33&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3456.2347,-1967.4397C3446.4498,-1903.0681 3413.0263,-1683.186 3393.8406,-1556.9694"/>
<polygon fill="#000000" stroke="#000000" points="3397.2771,-1556.2865 3392.3139,-1546.9261 3390.3566,-1557.3385 3397.2771,-1556.2865"/>
</g>
<!-- raw_66 -->
<g id="node67" class="node">
<title>raw_66</title>
<ellipse fill="none" stroke="#000000" cx="3626" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="3626" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_34&#45;&gt;raw_66 -->
<g id="edge66" class="edge">
<title>prose_34&#45;&gt;raw_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3695.0585,-1971.2283C3683.2521,-1961.4911 3669.2291,-1947.5371 3662,-1931.6319 3592.5986,-1778.9376 3611.8405,-1568.9834 3621.7929,-1493.9618"/>
<polygon fill="#000000" stroke="#000000" points="3625.2821,-1494.2797 3623.1822,-1483.895 3618.3478,-1493.3226 3625.2821,-1494.2797"/>
</g>
<!-- raw_68 -->
<g id="node69" class="node">
<title>raw_68</title>
<ellipse fill="none" stroke="#000000" cx="3698" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="3698" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_35&#45;&gt;raw_68 -->
<g id="edge68" class="edge">
<title>prose_35&#45;&gt;raw_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3807.2163,-1978.5324C3783.16,-1971.1152 3750.6614,-1956.9226 3734,-1931.6319 3641.1116,-1790.6347 3675.5041,-1570.9289 3691.5832,-1493.8089"/>
<polygon fill="#000000" stroke="#000000" points="3695.0342,-1494.4087 3693.7153,-1483.8963 3688.1907,-1492.9366 3695.0342,-1494.4087"/>
</g>
<!-- prespace_69 -->
<g id="node70" class="node">
<title>prespace_69</title>
<ellipse fill="none" stroke="#000000" cx="3789" cy="-1465.9168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="3789" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_35&#45;&gt;prespace_69 -->
<g id="edge69" class="edge">
<title>prose_35&#45;&gt;prespace_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3835.3198,-1967.4397C3828.1772,-1890.1039 3800.3042,-1588.3115 3791.607,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="3795.0715,-1493.597 3790.6666,-1483.9613 3788.1012,-1494.2409 3795.0715,-1493.597"/>
</g>
<!-- literal_70 -->
<g id="node71" class="node">
<title>literal_70</title>
<ellipse fill="none" stroke="#000000" cx="3885" cy="-1465.9168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3885" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_35&#45;&gt;literal_70 -->
<g id="edge70" class="edge">
<title>prose_35&#45;&gt;literal_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3839.5185,-1967.654C3840.9414,-1957.1613 3842.6914,-1943.6613 3844,-1931.6319 3861.9929,-1766.2356 3877.4577,-1567.1281 3882.9075,-1494.3313"/>
<polygon fill="#000000" stroke="#000000" points="3886.414,-1494.373 3883.6666,-1484.1406 3879.4333,-1493.8529 3886.414,-1494.373"/>
</g>
<!-- raw_71 -->
<g id="node72" class="node">
<title>raw_71</title>
<ellipse fill="none" stroke="#000000" cx="3961" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="3961" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_35&#45;&gt;raw_71 -->
<g id="edge71" class="edge">
<title>prose_35&#45;&gt;raw_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3865.0613,-1976.3133C3885.3747,-1967.9868 3911.5354,-1953.6536 3925,-1931.6319 4012.875,-1787.9105 3981.8427,-1570.7871 3967.0157,-1494.0167"/>
<polygon fill="#000000" stroke="#000000" points="3970.4338,-1493.26 3965.0452,-1484.1378 3963.569,-1494.6293 3970.4338,-1493.26"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="4211.5,-1516.3178 4006.5,-1516.3178 4006.5,-1415.5158 4211.5,-1415.5158 4211.5,-1516.3178"/>
<text text-anchor="middle" x="4109" y="-1500.9169" font-family="Inconsolata" font-size="14.00" fill="#000000">local concat = table.concat</text>
<text text-anchor="middle" x="4109" y="-1485.5168" font-family="Inconsolata" font-size="14.00" fill="#000000">a = require &quot;anterm&quot;</text>
<text text-anchor="middle" x="4109" y="-1470.1168" font-family="Inconsolata" font-size="14.00" fill="#000000">color = require &quot;color&quot;</text>
<text text-anchor="middle" x="4109" y="-1454.7168" font-family="Inconsolata" font-size="14.00" fill="#000000">ts = color.ts</text>
<text text-anchor="middle" x="4109" y="-1439.3167" font-family="Inconsolata" font-size="14.00" fill="#000000">c = color.color</text>
<text text-anchor="middle" x="4109" y="-1423.9167" font-family="Inconsolata" font-size="14.00" fill="#000000">watch = require &quot;watcher&quot;</text>
</g>
<!-- codeblock_36&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>codeblock_36&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4016.3604,-1967.4397C4029.2912,-1897.4364 4076.1934,-1643.5216 4097.8721,-1526.1597"/>
<polygon fill="#000000" stroke="#000000" points="4101.3272,-1526.7232 4099.7019,-1516.2538 4094.4436,-1525.4517 4101.3272,-1526.7232"/>
</g>
<!-- raw_77 -->
<g id="node78" class="node">
<title>raw_77</title>
<ellipse fill="none" stroke="#000000" cx="4257" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="4257" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_37&#45;&gt;raw_77 -->
<g id="edge77" class="edge">
<title>prose_37&#45;&gt;raw_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4327.5902,-1971.604C4315.2848,-1961.9201 4300.5704,-1947.8868 4293,-1931.6319 4222.1877,-1779.5868 4242.2985,-1569.2328 4252.6367,-1494.0337"/>
<polygon fill="#000000" stroke="#000000" points="4256.1288,-1494.3371 4254.0791,-1483.9424 4249.1992,-1493.3465 4256.1288,-1494.3371"/>
</g>
<!-- prespace_78 -->
<g id="node79" class="node">
<title>prespace_78</title>
<ellipse fill="none" stroke="#000000" cx="4348" cy="-1465.9168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4348" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_37&#45;&gt;prespace_78 -->
<g id="edge78" class="edge">
<title>prose_37&#45;&gt;prespace_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4348,-1967.4397C4348,-1890.1039 4348,-1588.3115 4348,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="4351.5001,-1493.9613 4348,-1483.9613 4344.5001,-1493.9614 4351.5001,-1493.9613"/>
</g>
<!-- literal_79 -->
<g id="node80" class="node">
<title>literal_79</title>
<ellipse fill="none" stroke="#000000" cx="4444" cy="-1465.9168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4444" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_37&#45;&gt;literal_79 -->
<g id="edge79" class="edge">
<title>prose_37&#45;&gt;literal_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4368.3509,-1971.5763C4380.6327,-1961.8814 4395.343,-1947.8462 4403,-1931.6319 4474.6851,-1779.8327 4457.3005,-1569.3272 4447.9774,-1494.0609"/>
<polygon fill="#000000" stroke="#000000" points="4451.4249,-1493.4292 4446.6719,-1483.9604 4444.4827,-1494.3266 4451.4249,-1493.4292"/>
</g>
<!-- raw_80 -->
<g id="node81" class="node">
<title>raw_80</title>
<ellipse fill="none" stroke="#000000" cx="4520" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="4520" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_37&#45;&gt;raw_80 -->
<g id="edge80" class="edge">
<title>prose_37&#45;&gt;raw_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4379.9656,-1982.4922C4411.9071,-1977.5089 4459.6636,-1964.6626 4484,-1931.6319 4584.3828,-1795.387 4545.029,-1571.7969 4527.0527,-1493.8007"/>
<polygon fill="#000000" stroke="#000000" points="4530.3903,-1492.7065 4524.6748,-1483.7856 4523.5796,-1494.3236 4530.3903,-1492.7065"/>
</g>
<!-- raw_85 -->
<g id="node86" class="node">
<title>raw_85</title>
<ellipse fill="none" stroke="#000000" cx="4592" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="4592" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_38&#45;&gt;raw_85 -->
<g id="edge85" class="edge">
<title>prose_38&#45;&gt;raw_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4528.1776,-1970.4013C4538.1616,-1960.4462 4549.9362,-1946.5557 4556,-1931.6319 4618.9922,-1776.6009 4603.8237,-1568.9078 4595.5709,-1494.1792"/>
<polygon fill="#000000" stroke="#000000" points="4599.0359,-1493.6739 4594.4136,-1484.1405 4592.082,-1494.4756 4599.0359,-1493.6739"/>
</g>
<!-- leaf_87 -->
<g id="node88" class="node">
<title>leaf_87</title>
<polygon fill="none" stroke="#c0c0c0" points="4996.5,-1624.7174 4637.5,-1624.7174 4637.5,-1307.1162 4996.5,-1307.1162 4996.5,-1624.7174"/>
<text text-anchor="middle" x="4817" y="-1609.617" font-family="Inconsolata" font-size="14.00" fill="#000000">local usecolors</text>
<text text-anchor="middle" x="4817" y="-1594.217" font-family="Inconsolata" font-size="14.00" fill="#000000">stdout = &quot;&quot;</text>
<text text-anchor="middle" x="4817" y="-1562.817" font-family="Inconsolata" font-size="14.00" fill="#000000">if uv.guess_handle(1) == &quot;tty&quot; then</text>
<text text-anchor="middle" x="4817" y="-1547.417" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;stdout = uv.new_tty(1, false)</text>
<text text-anchor="middle" x="4817" y="-1532.0169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;usecolors = true</text>
<text text-anchor="middle" x="4817" y="-1516.6169" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="4817" y="-1501.2169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;stdout = uv.new_pipe(false)</text>
<text text-anchor="middle" x="4817" y="-1485.8168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.pipe_open(utils.stdout, 1)</text>
<text text-anchor="middle" x="4817" y="-1470.4168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;usecolors = false</text>
<text text-anchor="middle" x="4817" y="-1455.0168" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4817" y="-1423.6167" font-family="Inconsolata" font-size="14.00" fill="#000000">if not usecolors then</text>
<text text-anchor="middle" x="4817" y="-1408.2167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;ts = tostring</text>
<text text-anchor="middle" x="4817" y="-1392.8167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; #todo make this properly black and white ts</text>
<text text-anchor="middle" x="4817" y="-1377.4166" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4817" y="-1346.0166" font-family="Inconsolata" font-size="14.00" fill="#000000">function write(str)</text>
<text text-anchor="middle" x="4817" y="-1330.6166" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.write(stdout, str)</text>
<text text-anchor="middle" x="4817" y="-1315.2165" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_39&#45;&gt;leaf_87 -->
<g id="edge87" class="edge">
<title>codeblock_39&#45;&gt;leaf_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4731.1154,-1967.4397C4740.1019,-1914.9629 4766.7867,-1759.1369 4788.0518,-1634.9597"/>
<polygon fill="#000000" stroke="#000000" points="4791.5289,-1635.3907 4789.7671,-1624.9433 4784.6293,-1634.2091 4791.5289,-1635.3907"/>
</g>
<!-- leaf_88 -->
<g id="node89" class="node">
<title>leaf_88</title>
<polygon fill="none" stroke="#c0c0c0" points="5387.5,-1531.6172 5014.5,-1531.6172 5014.5,-1400.2164 5387.5,-1400.2164 5387.5,-1531.6172"/>
<text text-anchor="middle" x="5201" y="-1516.3169" font-family="Inconsolata" font-size="14.00" fill="#000000">function print(...)</text>
<text text-anchor="middle" x="5201" y="-1500.9169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local n = select(&#39;#&#39;, ...)</text>
<text text-anchor="middle" x="5201" y="-1485.5168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local arguments = {...}</text>
<text text-anchor="middle" x="5201" y="-1470.1168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 1, n do</text>
<text text-anchor="middle" x="5201" y="-1454.7168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;arguments[i] = tostring(arguments[i])</text>
<text text-anchor="middle" x="5201" y="-1439.3167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="5201" y="-1423.9167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.write(stdout, concat(arguments, &quot;\t&quot;) .. &quot;\n&quot;)</text>
<text text-anchor="middle" x="5201" y="-1408.5167" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_40&#45;&gt;leaf_88 -->
<g id="edge88" class="edge">
<title>codeblock_40&#45;&gt;leaf_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5059.1456,-1967.4397C5078.1198,-1900.3568 5144.8631,-1664.3874 5179.6108,-1541.5379"/>
<polygon fill="#000000" stroke="#000000" points="5183.0079,-1542.3868 5182.3618,-1531.8116 5176.2722,-1540.4815 5183.0079,-1542.3868"/>
</g>
<!-- header_89 -->
<g id="node90" class="node">
<title>header_89</title>
<ellipse fill="none" stroke="#000000" cx="5461" cy="-1465.9168" rx="55.6456" ry="18"/>
<text text-anchor="middle" x="5461" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : tty setup</text>
</g>
<!-- section_41&#45;&gt;header_89 -->
<g id="edge89" class="edge">
<title>section_41&#45;&gt;header_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5512.1448,-1967.4397C5504.2582,-1890.1039 5473.4817,-1588.3115 5463.8785,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="5467.3367,-1493.5546 5462.8402,-1483.9613 5460.3728,-1494.2648 5467.3367,-1493.5546"/>
</g>
<!-- prose_90 -->
<g id="node91" class="node">
<title>prose_90</title>
<ellipse fill="none" stroke="#000000" cx="5567" cy="-1465.9168" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5567" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_41&#45;&gt;prose_90 -->
<g id="edge90" class="edge">
<title>section_41&#45;&gt;prose_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5518.7117,-1967.2508C5521.2171,-1956.859 5524.1529,-1943.5908 5526,-1931.6319 5551.3951,-1767.2093 5562.4083,-1567.5163 5565.7896,-1494.4474"/>
<polygon fill="#000000" stroke="#000000" points="5569.2968,-1494.365 5566.2509,-1484.2174 5562.3039,-1494.0496 5569.2968,-1494.365"/>
</g>
<!-- codeblock_91 -->
<g id="node92" class="node">
<title>codeblock_91</title>
<ellipse fill="none" stroke="#000000" cx="5704" cy="-1465.9168" rx="86.7905" ry="18"/>
<text text-anchor="middle" x="5704" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 109&#45;117</text>
</g>
<!-- section_41&#45;&gt;codeblock_91 -->
<g id="edge91" class="edge">
<title>section_41&#45;&gt;codeblock_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5556.1081,-1970.7161C5574.7027,-1962.0655 5595.2028,-1949.3198 5608,-1931.6319 5708.546,-1792.6603 5709.1183,-1572.4816 5705.7668,-1494.4687"/>
<polygon fill="#000000" stroke="#000000" points="5709.24,-1493.8337 5705.2553,-1484.0167 5702.2484,-1494.1759 5709.24,-1493.8337"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="1788,-571.1024 1734,-571.1024 1734,-515.2994 1788,-515.2994 1788,-571.1024"/>
<text text-anchor="middle" x="1761" y="-523.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">The</text>
</g>
<!-- raw_43&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>raw_43&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1908.2749,-1447.9067C1922.9278,-1381.6088 1965.0106,-1147.3672 1867,-1000.2017 1847.6079,-971.0839 1816.4797,-993.2609 1797,-964.2017 1716.57,-844.2186 1738.571,-659.7341 1753.0129,-580.96"/>
<polygon fill="#000000" stroke="#000000" points="1756.4763,-581.4816 1754.9025,-571.0043 1749.5991,-580.1763 1756.4763,-581.4816"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="1860,-561.2009 1806,-561.2009 1806,-525.2009 1860,-525.2009 1860,-561.2009"/>
<text text-anchor="middle" x="1833" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_44&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>prespace_44&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1998.4407,-1447.798C2010.0489,-1381.1208 2041.6088,-1145.7235 1940,-1000.2017 1919.7452,-971.1931 1888.7845,-993.533 1869,-964.2017 1784.7209,-839.254 1812.5312,-643.6984 1826.7991,-571.3452"/>
<polygon fill="#000000" stroke="#000000" points="1830.2987,-571.7011 1828.8724,-561.2027 1823.4405,-570.2991 1830.2987,-571.7011"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="1932,-561.2009 1878,-561.2009 1878,-525.2009 1932,-525.2009 1932,-561.2009"/>
<text text-anchor="middle" x="1905" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">core</text>
</g>
<!-- literal_45&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>literal_45&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2095.7061,-1447.8148C2112.1249,-1380.2015 2160.1034,-1139.2321 2050,-1000.2017 2018.3261,-960.2063 1972.6237,-1004.2367 1941,-964.2017 1847.171,-845.4157 1881.2153,-644.5886 1897.9495,-571.16"/>
<polygon fill="#000000" stroke="#000000" points="1901.3918,-571.8114 1900.2756,-561.2756 1894.5779,-570.2079 1901.3918,-571.8114"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="2435.5,-562.5014 1950.5,-562.5014 1950.5,-523.9003 2435.5,-523.9003 2435.5,-562.5014"/>
<text text-anchor="middle" x="2193" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> library is shaping up as a place to keep alterations to the global</text>
<text text-anchor="middle" x="2193" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">namespace and standard library.</text>
</g>
<!-- raw_46&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>raw_46&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2184.1757,-1447.8989C2185.2842,-1334.2517 2191.3058,-716.8977 2192.7081,-573.1324"/>
<polygon fill="#000000" stroke="#000000" points="2196.2103,-572.9115 2192.8081,-562.8778 2189.2106,-572.8431 2196.2103,-572.9115"/>
</g>
<!-- leaf_58 -->
<g id="node59" class="node">
<title>leaf_58</title>
<polygon fill="none" stroke="#c0c0c0" points="2630.5,-563.103 2453.5,-563.103 2453.5,-523.2988 2630.5,-523.2988 2630.5,-563.103"/>
<text text-anchor="middle" x="2542" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">This prelude belongs in</text>
</g>
<!-- raw_51&#45;&gt;leaf_58 -->
<g id="edge58" class="edge">
<title>raw_51&#45;&gt;leaf_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2552.7852,-1447.8989C2551.4318,-1334.3743 2544.0866,-718.229 2542.3624,-573.5993"/>
<polygon fill="#000000" stroke="#000000" points="2545.8583,-573.2304 2542.2393,-563.2729 2538.8588,-573.3139 2545.8583,-573.2304"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="2703,-561.2009 2649,-561.2009 2649,-525.2009 2703,-525.2009 2703,-561.2009"/>
<text text-anchor="middle" x="2676" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_52&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>prespace_52&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2658.3515,-1447.8989C2660.5758,-1333.8757 2672.6914,-712.8069 2675.4436,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="2678.9505,-571.4007 2675.6463,-561.3343 2671.9518,-571.2641 2678.9505,-571.4007"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="2775,-561.2009 2721,-561.2009 2721,-525.2009 2775,-525.2009 2775,-561.2009"/>
<text text-anchor="middle" x="2748" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">pylon</text>
</g>
<!-- literal_53&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>literal_53&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2753.8828,-1447.8989C2753.1414,-1333.8757 2749.1029,-712.8069 2748.1855,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="2751.683,-571.3113 2748.1179,-561.3343 2744.6831,-571.3568 2751.683,-571.3113"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="2872.5,-561.2009 2793.5,-561.2009 2793.5,-525.2009 2872.5,-525.2009 2872.5,-561.2009"/>
<text text-anchor="middle" x="2833" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">; it, and</text>
</g>
<!-- raw_54&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>raw_54&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2830.0586,-1447.8989C2830.4293,-1333.8757 2832.4486,-712.8069 2832.9073,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="2836.4084,-571.3456 2832.941,-561.3343 2829.4085,-571.3228 2836.4084,-571.3456"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="2945,-561.2009 2891,-561.2009 2891,-525.2009 2945,-525.2009 2945,-561.2009"/>
<text text-anchor="middle" x="2918" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_55&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>prespace_55&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2920.9414,-1447.8989C2920.5707,-1333.8757 2918.5514,-712.8069 2918.0927,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="2921.5915,-571.3228 2918.059,-561.3343 2914.5916,-571.3456 2921.5915,-571.3228"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="3017,-561.2009 2963,-561.2009 2963,-525.2009 3017,-525.2009 3017,-561.2009"/>
<text text-anchor="middle" x="2990" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">core</text>
</g>
<!-- literal_56&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>literal_56&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3016.4728,-1447.8989C3013.1363,-1333.8757 2994.9629,-712.8069 2990.8345,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="2994.3217,-571.2276 2990.5306,-561.3343 2987.3247,-571.4324 2994.3217,-571.2276"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="3268.5,-561.2009 3035.5,-561.2009 3035.5,-525.2009 3268.5,-525.2009 3268.5,-561.2009"/>
<text text-anchor="middle" x="3152" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">, will eventually end up there.</text>
</g>
<!-- raw_57&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>raw_57&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3120.6249,-1447.8989C3124.5792,-1333.8757 3146.118,-712.8069 3151.0109,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="3154.5223,-571.4496 3151.3711,-561.3343 3147.5265,-571.2069 3154.5223,-571.4496"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="3561.5,-563.103 3286.5,-563.103 3286.5,-523.2988 3561.5,-523.2988 3561.5,-563.103"/>
<text text-anchor="middle" x="3424" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">Primitives for terminal manipulation.</text>
</g>
<!-- raw_66&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>raw_66&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3627.1486,-1447.683C3630.5997,-1384.3294 3637.8283,-1168.4531 3589,-1000.2017 3583.9577,-982.8269 3577.2068,-980.7959 3570,-964.2017 3507.8585,-821.1162 3453.0271,-642.2328 3432.5455,-572.7247"/>
<polygon fill="#000000" stroke="#000000" points="3435.8385,-571.5159 3429.6665,-562.9045 3429.1213,-573.4853 3435.8385,-571.5159"/>
</g>
<!-- leaf_72 -->
<g id="node73" class="node">
<title>leaf_72</title>
<polygon fill="none" stroke="#c0c0c0" points="3784.5,-563.103 3579.5,-563.103 3579.5,-523.2988 3784.5,-523.2988 3784.5,-563.103"/>
<text text-anchor="middle" x="3682" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">Arguably don&#39;t belong here.</text>
</g>
<!-- raw_68&#45;&gt;leaf_72 -->
<g id="edge72" class="edge">
<title>raw_68&#45;&gt;leaf_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3697.6876,-1447.8989C3695.719,-1334.3743 3685.035,-718.229 3682.5271,-573.5993"/>
<polygon fill="#000000" stroke="#000000" points="3686.021,-573.2106 3682.3481,-563.2729 3679.022,-573.3321 3686.021,-573.2106"/>
</g>
<!-- leaf_73 -->
<g id="node74" class="node">
<title>leaf_73</title>
<polygon fill="none" stroke="#c0c0c0" points="3857,-561.2009 3803,-561.2009 3803,-525.2009 3857,-525.2009 3857,-561.2009"/>
<text text-anchor="middle" x="3830" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_69&#45;&gt;leaf_73 -->
<g id="edge73" class="edge">
<title>prespace_69&#45;&gt;leaf_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3789.8006,-1447.8989C3794.8671,-1333.8757 3822.4637,-712.8069 3828.7327,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="3832.2468,-571.4798 3829.1943,-561.3343 3825.2537,-571.169 3832.2468,-571.4798"/>
</g>
<!-- leaf_74 -->
<g id="node75" class="node">
<title>leaf_74</title>
<polygon fill="none" stroke="#c0c0c0" points="3929,-561.2009 3875,-561.2009 3875,-525.2009 3929,-525.2009 3929,-561.2009"/>
<text text-anchor="middle" x="3902" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">watch</text>
</g>
<!-- literal_70&#45;&gt;leaf_74 -->
<g id="edge74" class="edge">
<title>literal_70&#45;&gt;leaf_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3885.332,-1447.8989C3887.4327,-1333.8757 3898.8752,-712.8069 3901.4745,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="3904.981,-571.3971 3901.6659,-561.3343 3897.9822,-571.2681 3904.981,-571.3971"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="4243,-562.5014 3947,-562.5014 3947,-523.9003 4243,-523.9003 4243,-562.5014"/>
<text text-anchor="middle" x="4095" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> is unused at present, it will be useful</text>
<text text-anchor="middle" x="4095" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">in Orb relatively soon.</text>
</g>
<!-- raw_71&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>raw_71&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3961.5324,-1447.6223C3963.544,-1384.9385 3971.8879,-1173.1467 3997,-1000.2017 4020.7273,-836.7933 4068.6549,-644.4117 4087.3174,-572.368"/>
<polygon fill="#000000" stroke="#000000" points="4090.7203,-573.1888 4089.8522,-562.6296 4083.946,-571.4255 4090.7203,-573.1888"/>
</g>
<!-- leaf_81 -->
<g id="node82" class="node">
<title>leaf_81</title>
<polygon fill="none" stroke="#c0c0c0" points="4417,-563.103 4261,-563.103 4261,-523.2988 4417,-523.2988 4417,-563.103"/>
<text text-anchor="middle" x="4339" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">This is all from the</text>
</g>
<!-- raw_77&#45;&gt;leaf_81 -->
<g id="edge81" class="edge">
<title>raw_77&#45;&gt;leaf_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4258.2552,-1447.7068C4262.5896,-1385.2948 4277.5135,-1174.2728 4293,-1000.2017 4307.3165,-839.2816 4327.7835,-646.838 4335.6992,-573.5542"/>
<polygon fill="#000000" stroke="#000000" points="4339.2201,-573.5492 4336.8165,-563.2307 4332.2607,-572.796 4339.2201,-573.5492"/>
</g>
<!-- leaf_82 -->
<g id="node83" class="node">
<title>leaf_82</title>
<polygon fill="none" stroke="#c0c0c0" points="4489,-561.2009 4435,-561.2009 4435,-525.2009 4489,-525.2009 4489,-561.2009"/>
<text text-anchor="middle" x="4462" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_78&#45;&gt;leaf_82 -->
<g id="edge82" class="edge">
<title>prespace_78&#45;&gt;leaf_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4347.4495,-1447.5309C4346.1069,-1383.6803 4346.317,-1166.376 4404,-1000.2017 4410.149,-982.4874 4420.1563,-982.0189 4426,-964.2017 4472.4393,-822.6104 4467.847,-640.6494 4463.9697,-571.5334"/>
<polygon fill="#000000" stroke="#000000" points="4467.4564,-571.2046 4463.3615,-561.4331 4460.469,-571.6254 4467.4564,-571.2046"/>
</g>
<!-- leaf_83 -->
<g id="node84" class="node">
<title>leaf_83</title>
<polygon fill="none" stroke="#c0c0c0" points="4561,-561.2009 4507,-561.2009 4507,-525.2009 4561,-525.2009 4561,-561.2009"/>
<text text-anchor="middle" x="4534" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">luv</text>
</g>
<!-- literal_79&#45;&gt;leaf_83 -->
<g id="edge83" class="edge">
<title>literal_79&#45;&gt;leaf_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4443.7191,-1447.8652C4443.127,-1385.1066 4444.3314,-1170.9402 4484,-1000.2017 4487.8851,-983.4797 4494.1181,-980.9243 4498,-964.2017 4531.6166,-819.388 4534.5698,-640.0187 4534.3409,-571.5569"/>
<polygon fill="#000000" stroke="#000000" points="4537.8409,-571.5227 4534.2811,-561.5438 4530.841,-571.5646 4537.8409,-571.5227"/>
</g>
<!-- leaf_84 -->
<g id="node85" class="node">
<title>leaf_84</title>
<polygon fill="none" stroke="#c0c0c0" points="4959,-562.5014 4579,-562.5014 4579,-523.9003 4959,-523.9003 4959,-562.5014"/>
<text text-anchor="middle" x="4769" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> repl example, which has been an excellent launching</text>
<text text-anchor="middle" x="4769" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">off point. &#160;Thanks Tim Caswell!</text>
</g>
<!-- raw_80&#45;&gt;leaf_84 -->
<g id="edge84" class="edge">
<title>raw_80&#45;&gt;leaf_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4519.1055,-1447.7691C4516.4763,-1384.6967 4511.5365,-1169.6286 4556,-1000.2017 4561.9948,-977.3585 4709.2905,-668.1785 4755.3599,-571.7292"/>
<polygon fill="#000000" stroke="#000000" points="4758.5854,-573.0969 4759.7385,-562.565 4752.2693,-570.0791 4758.5854,-573.0969"/>
</g>
<!-- leaf_86 -->
<g id="node87" class="node">
<title>leaf_86</title>
<polygon fill="none" stroke="#c0c0c0" points="5238.5,-563.103 4977.5,-563.103 4977.5,-523.2988 5238.5,-523.2988 5238.5,-563.103"/>
<text text-anchor="middle" x="5108" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">It&#39;s getting phased out bit by bit.</text>
</g>
<!-- raw_85&#45;&gt;leaf_86 -->
<g id="edge86" class="edge">
<title>raw_85&#45;&gt;leaf_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4590.4986,-1447.9279C4584.4346,-1370.304 4564.9756,-1065.0381 4628,-1000.2017 4680.9578,-945.7212 4908.8083,-1011.8355 4968,-964.2017 5091.7947,-864.5792 5106.9847,-652.1241 5108.2166,-573.3819"/>
<polygon fill="#000000" stroke="#000000" points="5111.7182,-573.215 5108.3077,-563.1842 5104.7184,-573.1525 5111.7182,-573.215"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="5514.5,-561.2009 5407.5,-561.2009 5407.5,-525.2009 5514.5,-525.2009 5514.5,-561.2009"/>
<text text-anchor="middle" x="5461" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">*** tty setup</text>
</g>
<!-- header_89&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>header_89&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5461,-1447.8989C5461,-1333.8757 5461,-712.8069 5461,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="5464.5001,-571.3342 5461,-561.3343 5457.5001,-571.3343 5464.5001,-571.3342"/>
</g>
<!-- raw_93 -->
<g id="node94" class="node">
<title>raw_93</title>
<ellipse fill="none" stroke="#000000" cx="5563" cy="-543.2009" rx="27" ry="18"/>
<text text-anchor="middle" x="5563" y="-539.0009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_90&#45;&gt;raw_93 -->
<g id="edge93" class="edge">
<title>prose_90&#45;&gt;raw_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5566.9219,-1447.8989C5566.4276,-1333.8757 5563.7352,-712.8069 5563.1236,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="5566.622,-571.319 5563.0786,-561.3343 5559.6221,-571.3494 5566.622,-571.319"/>
</g>
<!-- leaf_95 -->
<g id="node96" class="node">
<title>leaf_95</title>
<polygon fill="none" stroke="#c0c0c0" points="5883.5,-601.6018 5608.5,-601.6018 5608.5,-484.8 5883.5,-484.8 5883.5,-601.6018"/>
<text text-anchor="middle" x="5746" y="-586.201" font-family="Inconsolata" font-size="14.00" fill="#000000">if uv.guess_handle(0) ~= &quot;tty&quot; or</text>
<text text-anchor="middle" x="5746" y="-570.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.guess_handle(1) ~= &quot;tty&quot; then</text>
<text text-anchor="middle" x="5746" y="-555.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; Entry point for other consumers!</text>
<text text-anchor="middle" x="5746" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;error &quot;stdio must be a tty&quot;</text>
<text text-anchor="middle" x="5746" y="-524.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5746" y="-493.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">local stdin = uv.new_tty(0, true)</text>
</g>
<!-- codeblock_91&#45;&gt;leaf_95 -->
<g id="edge95" class="edge">
<title>codeblock_91&#45;&gt;leaf_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5704.8201,-1447.8989C5709.6159,-1342.538 5734.1178,-804.2452 5742.8796,-611.7534"/>
<polygon fill="#000000" stroke="#000000" points="5746.3886,-611.6334 5743.3471,-601.4846 5739.3959,-611.315 5746.3886,-611.6334"/>
</g>
<!-- leaf_94 -->
<g id="node95" class="node">
<title>leaf_94</title>
<polygon fill="none" stroke="#c0c0c0" points="5590,-61.1 5536,-61.1 5536,-25.1 5590,-25.1 5590,-61.1"/>
</g>
<!-- raw_93&#45;&gt;leaf_94 -->
<g id="edge94" class="edge">
<title>raw_93&#45;&gt;leaf_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5563,-525.1066C5563,-450.057 5563,-162.9178 5563,-71.3411"/>
<polygon fill="#000000" stroke="#000000" points="5566.5001,-71.17 5563,-61.17 5559.5001,-71.1701 5566.5001,-71.17"/>
</g>
<!-- leaf_101 -->
<g id="node102" class="node">
<title>leaf_101</title>
<polygon fill="none" stroke="#c0c0c0" points="5929.5,-1483.9168 5808.5,-1483.9168 5808.5,-1447.9168 5929.5,-1447.9168 5929.5,-1483.9168"/>
<text text-anchor="middle" x="5869" y="-1462.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">** Modeselektor</text>
</g>
<!-- header_96&#45;&gt;leaf_101 -->
<g id="edge101" class="edge">
<title>header_96&#45;&gt;leaf_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5879.615,-1967.4397C5877.9781,-1890.1039 5871.5905,-1588.3115 5869.5974,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="5873.0928,-1493.885 5869.3819,-1483.9613 5866.0944,-1494.0332 5873.0928,-1493.885"/>
</g>
<!-- raw_102 -->
<g id="node103" class="node">
<title>raw_102</title>
<ellipse fill="none" stroke="#000000" cx="5975" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="5975" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_97&#45;&gt;raw_102 -->
<g id="edge102" class="edge">
<title>prose_97&#45;&gt;raw_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6035.3243,-1969.5909C6026.5373,-1959.5439 6016.3053,-1945.8407 6011,-1931.6319 5952.466,-1774.8633 5964.9055,-1568.2338 5971.9321,-1493.9831"/>
<polygon fill="#000000" stroke="#000000" points="5975.4171,-1494.3068 5972.9205,-1484.0103 5968.4512,-1493.6164 5975.4171,-1494.3068"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="6428,-1485.2174 6020,-1485.2174 6020,-1446.6162 6428,-1446.6162 6428,-1485.2174"/>
<text text-anchor="middle" x="6224" y="-1470.1168" font-family="Inconsolata" font-size="14.00" fill="#000000">local modeS = require &quot;modeselektor&quot; ()</text>
<text text-anchor="middle" x="6224" y="-1454.7168" font-family="Inconsolata" font-size="14.00" fill="#000000">modeS.max_row, modeS.max_col = uv.tty_get_winsize(stdin)</text>
</g>
<!-- codeblock_98&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>codeblock_98&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6212.4201,-1967.4397C6214.1975,-1890.4579 6221.1103,-1591.0694 6223.3181,-1495.4495"/>
<polygon fill="#000000" stroke="#000000" points="6226.82,-1495.4046 6223.5518,-1485.3264 6219.8218,-1495.2429 6226.82,-1495.4046"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="7036,-1931.8471 6446,-1931.8471 6446,-999.9864 7036,-999.9864 7036,-1931.8471"/>
<text text-anchor="middle" x="6741" y="-1900.4319" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; &#160;*** utilities</text>
<text text-anchor="middle" x="6741" y="-1869.0319" font-family="Inconsolata" font-size="14.00" fill="#000000">local function gatherResults(success, ...)</text>
<text text-anchor="middle" x="6741" y="-1853.6318" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local n = select(&#39;#&#39;, ...)</text>
<text text-anchor="middle" x="6741" y="-1838.2318" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return success, { n = n, ... }</text>
<text text-anchor="middle" x="6741" y="-1822.8318" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6741" y="-1791.4317" font-family="Inconsolata" font-size="14.00" fill="#000000">local function printResults(results)</text>
<text text-anchor="middle" x="6741" y="-1776.0317" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 1, results.n do</text>
<text text-anchor="middle" x="6741" y="-1760.6317" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;results[i] = ts(results[i])</text>
<text text-anchor="middle" x="6741" y="-1745.2317" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="6741" y="-1729.8316" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;print(concat(results, &#39;\t&#39;))</text>
<text text-anchor="middle" x="6741" y="-1714.4316" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6741" y="-1683.0316" font-family="Inconsolata" font-size="14.00" fill="#000000">local buffer = &#39;&#39;</text>
<text text-anchor="middle" x="6741" y="-1651.6315" font-family="Inconsolata" font-size="14.00" fill="#000000">local function evaluateLine(line)</text>
<text text-anchor="middle" x="6741" y="-1636.2315" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if string.byte(line) == 17 then &#45;&#45; ^Q</text>
<text text-anchor="middle" x="6741" y="-1620.8315" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uv.stop()</text>
<text text-anchor="middle" x="6741" y="-1605.4314" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="6741" y="-1590.0314" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6741" y="-1574.6314" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local chunk &#160;= buffer .. line</text>
<text text-anchor="middle" x="6741" y="-1559.2313" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local f, err = loadstring(&#39;return &#39; .. chunk, &#39;REPL&#39;) &#45;&#45; first we prefix return</text>
<text text-anchor="middle" x="6741" y="-1527.8313" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not f then</text>
<text text-anchor="middle" x="6741" y="-1512.4313" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;f, err = loadstring(chunk, &#39;REPL&#39;) &#45;&#45; try again without return</text>
<text text-anchor="middle" x="6741" y="-1497.0312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6741" y="-1465.6312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if f then</text>
<text text-anchor="middle" x="6741" y="-1450.2312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;buffer = &#39;&#39;</text>
<text text-anchor="middle" x="6741" y="-1434.8312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local success, results = gatherResults(xpcall(f, debug.traceback))</text>
<text text-anchor="middle" x="6741" y="-1403.4311" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if success then</text>
<text text-anchor="middle" x="6741" y="-1388.0311" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; successful call</text>
<text text-anchor="middle" x="6741" y="-1372.6311" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if results.n &gt; 0 then</text>
<text text-anchor="middle" x="6741" y="-1357.231" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;printResults(results)</text>
<text text-anchor="middle" x="6741" y="-1341.831" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6741" y="-1326.431" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="6741" y="-1311.0309" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; error</text>
<text text-anchor="middle" x="6741" y="-1295.6309" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;print(results[1])</text>
<text text-anchor="middle" x="6741" y="-1280.2309" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6741" y="-1264.8308" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="6741" y="-1249.4308" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if err:match &quot;&#39;&lt;eof&gt;&#39;$&quot; then</text>
<text text-anchor="middle" x="6741" y="-1234.0308" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Lua expects some more input; stow it away for next time</text>
<text text-anchor="middle" x="6741" y="-1218.6307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;buffer = chunk .. &#39;\n&#39;</text>
<text text-anchor="middle" x="6741" y="-1203.2307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return &#39;...&#39;</text>
<text text-anchor="middle" x="6741" y="-1187.8307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="6741" y="-1172.4307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;print(err)</text>
<text text-anchor="middle" x="6741" y="-1157.0306" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;buffer = &#39;&#39;</text>
<text text-anchor="middle" x="6741" y="-1141.6306" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6741" y="-1126.2306" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6741" y="-1094.8305" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return &#39;👉 &#160;&#39;</text>
<text text-anchor="middle" x="6741" y="-1070.6018" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6741" y="-1039.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">local function displayPrompt(prompt)</text>
<text text-anchor="middle" x="6741" y="-1023.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.write(stdout, prompt)</text>
<text text-anchor="middle" x="6741" y="-1008.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_99&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>codeblock_99&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6574.0557,-1967.4397C6576.3916,-1960.4224 6579.3426,-1951.5572 6582.8014,-1941.1666"/>
<polygon fill="#000000" stroke="#000000" points="6586.1313,-1942.2447 6585.9688,-1931.6511 6579.4896,-1940.0338 6586.1313,-1942.2447"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="7427.5,-1546.9171 7054.5,-1546.9171 7054.5,-1384.9165 7427.5,-1384.9165 7427.5,-1546.9171"/>
<text text-anchor="middle" x="7241" y="-1531.7169" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Deprecated, but useful if I want, y&#39;know, a REPL</text>
<text text-anchor="middle" x="7241" y="-1516.3169" font-family="Inconsolata" font-size="14.00" fill="#000000">local function onread(err, line)</text>
<text text-anchor="middle" x="7241" y="-1500.9169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if err then error(err) end</text>
<text text-anchor="middle" x="7241" y="-1485.5168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if line then</text>
<text text-anchor="middle" x="7241" y="-1470.1168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local prompt = evaluateLine(line)</text>
<text text-anchor="middle" x="7241" y="-1454.7168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;displayPrompt(prompt)</text>
<text text-anchor="middle" x="7241" y="-1439.3167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="7241" y="-1423.9167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;uv.close(stdin)</text>
<text text-anchor="middle" x="7241" y="-1408.5167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="7241" y="-1393.1167" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_100&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>codeblock_100&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7017.871,-1967.6189C7026.7124,-1957.5568 7037.277,-1944.4857 7045,-1931.6319 7118.7078,-1808.9563 7178.0725,-1653.4947 7211.4399,-1556.8594"/>
<polygon fill="#000000" stroke="#000000" points="7214.8485,-1557.7096 7214.7852,-1547.1149 7208.2277,-1555.4366 7214.8485,-1557.7096"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="6002,-561.2009 5948,-561.2009 5948,-525.2009 6002,-525.2009 6002,-561.2009"/>
</g>
<!-- raw_102&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>raw_102&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5975,-1447.8989C5975,-1333.8757 5975,-712.8069 5975,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="5978.5001,-571.3342 5975,-561.3343 5971.5001,-571.3343 5978.5001,-571.3342"/>
</g>
<!-- leaf_110 -->
<g id="node111" class="node">
<title>leaf_110</title>
<polygon fill="none" stroke="#c0c0c0" points="7524.5,-1483.9168 7445.5,-1483.9168 7445.5,-1447.9168 7524.5,-1447.9168 7524.5,-1483.9168"/>
<text text-anchor="middle" x="7485" y="-1462.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">** Reader</text>
</g>
<!-- header_107&#45;&gt;leaf_110 -->
<g id="edge110" class="edge">
<title>header_107&#45;&gt;leaf_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7545.4064,-1967.4499C7541.3977,-1957.1204 7536.752,-1943.8481 7534,-1931.6319 7497.2916,-1768.6829 7487.9436,-1567.322 7485.6832,-1494.1578"/>
<polygon fill="#000000" stroke="#000000" points="7489.1751,-1493.8212 7485.3884,-1483.9262 7482.178,-1494.0229 7489.1751,-1493.8212"/>
</g>
<!-- raw_111 -->
<g id="node112" class="node">
<title>raw_111</title>
<ellipse fill="none" stroke="#000000" cx="7570" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="7570" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_108&#45;&gt;raw_111 -->
<g id="edge111" class="edge">
<title>prose_108&#45;&gt;raw_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7763.6657,-1981.0539C7715.2922,-1973.3003 7625.9127,-1956.0148 7606,-1931.6319 7498.71,-1800.2566 7542.7084,-1572.6691 7562.3998,-1493.7878"/>
<polygon fill="#000000" stroke="#000000" points="7565.9008,-1494.2261 7564.9988,-1483.6698 7559.1209,-1492.4846 7565.9008,-1494.2261"/>
</g>
<!-- prespace_112 -->
<g id="node113" class="node">
<title>prespace_112</title>
<ellipse fill="none" stroke="#000000" cx="7661" cy="-1465.9168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="7661" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_108&#45;&gt;prespace_112 -->
<g id="edge112" class="edge">
<title>prose_108&#45;&gt;prespace_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7769.1789,-1974.7718C7751.4332,-1965.8825 7728.9888,-1951.521 7717,-1931.6319 7629.8474,-1787.0475 7647.1223,-1571.2346 7656.8477,-1494.3639"/>
<polygon fill="#000000" stroke="#000000" points="7660.3696,-1494.4288 7658.2144,-1484.0555 7653.4303,-1493.5086 7660.3696,-1494.4288"/>
</g>
<!-- literal_113 -->
<g id="node114" class="node">
<title>literal_113</title>
<ellipse fill="none" stroke="#000000" cx="7757" cy="-1465.9168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="7757" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_108&#45;&gt;literal_113 -->
<g id="edge113" class="edge">
<title>prose_108&#45;&gt;literal_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7793.6698,-1967.4397C7788.0153,-1890.1039 7765.9491,-1588.3115 7759.0639,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="7762.5394,-1493.6794 7758.3194,-1483.9613 7755.558,-1494.19 7762.5394,-1493.6794"/>
</g>
<!-- raw_114 -->
<g id="node115" class="node">
<title>raw_114</title>
<ellipse fill="none" stroke="#000000" cx="7833" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="7833" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_108&#45;&gt;raw_114 -->
<g id="edge114" class="edge">
<title>prose_108&#45;&gt;raw_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7796.3302,-1967.4397C7801.9847,-1890.1039 7824.0509,-1588.3115 7830.9361,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="7834.442,-1494.19 7831.6806,-1483.9613 7827.4606,-1493.6794 7834.442,-1494.19"/>
</g>
<!-- prespace_115 -->
<g id="node116" class="node">
<title>prespace_115</title>
<ellipse fill="none" stroke="#000000" cx="7983" cy="-1465.9168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="7983" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_108&#45;&gt;prespace_115 -->
<g id="edge115" class="edge">
<title>prose_108&#45;&gt;prespace_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7819.5324,-1973.6129C7835.9375,-1964.3401 7856.6964,-1949.9985 7869,-1931.6319 7965.0393,-1788.2657 7980.2919,-1571.6981 7982.6196,-1494.4961"/>
<polygon fill="#000000" stroke="#000000" points="7986.1273,-1494.2262 7982.8773,-1484.1422 7979.1295,-1494.052 7986.1273,-1494.2262"/>
</g>
<!-- literal_116 -->
<g id="node117" class="node">
<title>literal_116</title>
<ellipse fill="none" stroke="#000000" cx="8109" cy="-1465.9168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="8109" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_108&#45;&gt;literal_116 -->
<g id="edge116" class="edge">
<title>prose_108&#45;&gt;literal_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7827.1931,-1982.9216C7886.5079,-1977.24 8009.5946,-1962.0188 8038,-1931.6319 8155.0595,-1806.4068 8128.0337,-1574.0653 8114.3874,-1493.9387"/>
<polygon fill="#000000" stroke="#000000" points="8117.8337,-1493.3271 8112.6445,-1484.0901 8110.9408,-1494.547 8117.8337,-1493.3271"/>
</g>
<!-- raw_117 -->
<g id="node118" class="node">
<title>raw_117</title>
<ellipse fill="none" stroke="#000000" cx="8200" cy="-1465.9168" rx="27" ry="18"/>
<text text-anchor="middle" x="8200" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_108&#45;&gt;raw_117 -->
<g id="edge117" class="edge">
<title>prose_108&#45;&gt;raw_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7827.0965,-1982.9546C7910.0743,-1975.7281 8126.7905,-1954.8013 8149,-1931.6319 8267.2359,-1808.2856 8225.7688,-1573.7806 8207.0825,-1493.6013"/>
<polygon fill="#000000" stroke="#000000" points="8210.4574,-1492.6657 8204.7198,-1483.7589 8203.6507,-1494.2997 8210.4574,-1492.6657"/>
</g>
<!-- header_125 -->
<g id="node126" class="node">
<title>header_125</title>
<ellipse fill="none" stroke="#000000" cx="8363" cy="-1465.9168" rx="111.2326" ry="18"/>
<text text-anchor="middle" x="8363" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : process_escapes(seq)</text>
</g>
<!-- section_109&#45;&gt;header_125 -->
<g id="edge125" class="edge">
<title>section_109&#45;&gt;header_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8508.6221,-1967.8405C8500.1909,-1957.8433 8490.3724,-1944.7635 8484,-1931.6319 8408.7411,-1776.5466 8376.1909,-1568.8867 8366.396,-1494.1731"/>
<polygon fill="#000000" stroke="#000000" points="8369.8529,-1493.6122 8365.1136,-1484.1365 8362.9094,-1494.4995 8369.8529,-1493.6122"/>
</g>
<!-- prose_126 -->
<g id="node127" class="node">
<title>prose_126</title>
<ellipse fill="none" stroke="#000000" cx="8525" cy="-1465.9168" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8525" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_109&#45;&gt;prose_126 -->
<g id="edge126" class="edge">
<title>section_109&#45;&gt;prose_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8525,-1967.4397C8525,-1890.1039 8525,-1588.3115 8525,-1494.1435"/>
<polygon fill="#000000" stroke="#000000" points="8528.5001,-1493.9613 8525,-1483.9613 8521.5001,-1493.9614 8528.5001,-1493.9613"/>
</g>
<!-- codeblock_127 -->
<g id="node128" class="node">
<title>codeblock_127</title>
<ellipse fill="none" stroke="#000000" cx="8743" cy="-1465.9168" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="8743" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 210&#45;265</text>
</g>
<!-- section_109&#45;&gt;codeblock_127 -->
<g id="edge127" class="edge">
<title>section_109&#45;&gt;codeblock_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8540.8149,-1967.5481C8549.0811,-1957.4652 8558.9217,-1944.3968 8566,-1931.6319 8652.5557,-1775.5382 8714.576,-1568.4956 8735.3768,-1494.0593"/>
<polygon fill="#000000" stroke="#000000" points="8738.8497,-1494.6323 8738.1447,-1484.0609 8732.1035,-1492.7646 8738.8497,-1494.6323"/>
</g>
<!-- codeblock_128 -->
<g id="node129" class="node">
<title>codeblock_128</title>
<ellipse fill="none" stroke="#000000" cx="9147" cy="-1465.9168" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9147" y="-1461.7168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 267&#45;300</text>
</g>
<!-- section_109&#45;&gt;codeblock_128 -->
<g id="edge128" class="edge">
<title>section_109&#45;&gt;codeblock_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8596.6531,-1979.9142C8676.6571,-1972.3965 8800.036,-1957.0707 8839,-1931.6319 9010.2459,-1819.829 9108.4242,-1575.9987 9137.6611,-1493.6907"/>
<polygon fill="#000000" stroke="#000000" points="9141.039,-1494.634 9141.0345,-1484.0391 9134.431,-1492.3243 9141.039,-1494.634"/>
</g>
<!-- leaf_118 -->
<g id="node119" class="node">
<title>leaf_118</title>
<polygon fill="none" stroke="#c0c0c0" points="7497,-571.1024 7215,-571.1024 7215,-515.2994 7497,-515.2994 7497,-571.1024"/>
<text text-anchor="middle" x="7356" y="-523.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">The reader takes a stream of data from</text>
</g>
<!-- raw_111&#45;&gt;leaf_118 -->
<g id="edge118" class="edge">
<title>raw_111&#45;&gt;leaf_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7572.0637,-1447.8074C7578.6227,-1383.976 7595.0876,-1164.458 7533,-1000.2017 7525.9285,-981.4935 7515.4634,-981.8211 7506,-964.2017 7434.4683,-831.0206 7384.9331,-656.7015 7365.3462,-581.0067"/>
<polygon fill="#000000" stroke="#000000" points="7368.6538,-579.8138 7362.782,-570.9949 7361.8726,-581.5506 7368.6538,-579.8138"/>
</g>
<!-- leaf_119 -->
<g id="node120" class="node">
<title>leaf_119</title>
<polygon fill="none" stroke="#c0c0c0" points="7569,-561.2009 7515,-561.2009 7515,-525.2009 7569,-525.2009 7569,-561.2009"/>
<text text-anchor="middle" x="7542" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_112&#45;&gt;leaf_119 -->
<g id="edge119" class="edge">
<title>prespace_112&#45;&gt;leaf_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7662.2539,-1447.723C7665.9814,-1383.6115 7672.8991,-1163.2767 7606,-1000.2017 7598.3068,-981.4485 7585.3898,-983.0764 7578,-964.2017 7523.5473,-825.1208 7532.9391,-640.9618 7539.0641,-571.4078"/>
<polygon fill="#000000" stroke="#000000" points="7542.5674,-571.5346 7540.0088,-561.2533 7535.5975,-570.8861 7542.5674,-571.5346"/>
</g>
<!-- leaf_120 -->
<g id="node121" class="node">
<title>leaf_120</title>
<polygon fill="none" stroke="#c0c0c0" points="7641,-561.2009 7587,-561.2009 7587,-525.2009 7641,-525.2009 7641,-561.2009"/>
<text text-anchor="middle" x="7614" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">stdin</text>
</g>
<!-- literal_113&#45;&gt;leaf_120 -->
<g id="edge120" class="edge">
<title>literal_113&#45;&gt;leaf_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7760.9641,-1447.9646C7774.5027,-1381.8688 7812.9137,-1148.2429 7716,-1000.2017 7697.6991,-972.246 7668.2658,-992.1803 7650,-964.2017 7567.8003,-838.2928 7594.1542,-644.1049 7607.9244,-571.7006"/>
<polygon fill="#000000" stroke="#000000" points="7611.4274,-572.0269 7609.9292,-561.5385 7604.5598,-570.6719 7611.4274,-572.0269"/>
</g>
<!-- leaf_121 -->
<g id="node122" class="node">
<title>leaf_121</title>
<polygon fill="none" stroke="#c0c0c0" points="7990.5,-562.5014 7659.5,-562.5014 7659.5,-523.9003 7990.5,-523.9003 7990.5,-562.5014"/>
<text text-anchor="middle" x="7825" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">, asynchronously, and</text>
<text text-anchor="middle" x="7825" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">processes it into tokens, which stream to the</text>
</g>
<!-- raw_114&#45;&gt;leaf_121 -->
<g id="edge121" class="edge">
<title>raw_114&#45;&gt;leaf_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7832.8438,-1447.8989C7831.8585,-1334.2517 7826.506,-716.8977 7825.2595,-573.1324"/>
<polygon fill="#000000" stroke="#000000" points="7828.7573,-572.847 7825.1706,-562.8778 7821.7575,-572.9078 7828.7573,-572.847"/>
</g>
<!-- leaf_122 -->
<g id="node123" class="node">
<title>leaf_122</title>
<polygon fill="none" stroke="#c0c0c0" points="8063,-561.2009 8009,-561.2009 8009,-525.2009 8063,-525.2009 8063,-561.2009"/>
<text text-anchor="middle" x="8036" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_115&#45;&gt;leaf_122 -->
<g id="edge122" class="edge">
<title>prespace_115&#45;&gt;leaf_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7984.0349,-1447.8989C7990.5843,-1333.8757 8026.258,-712.8069 8034.3618,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="8037.8791,-571.5185 8034.9584,-561.3343 8030.8907,-571.1171 8037.8791,-571.5185"/>
</g>
<!-- leaf_123 -->
<g id="node124" class="node">
<title>leaf_123</title>
<polygon fill="none" stroke="#c0c0c0" points="8181,-561.2009 8081,-561.2009 8081,-525.2009 8181,-525.2009 8181,-561.2009"/>
<text text-anchor="middle" x="8131" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">modeselektor</text>
</g>
<!-- literal_116&#45;&gt;leaf_123 -->
<g id="edge123" class="edge">
<title>literal_116&#45;&gt;leaf_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8109.4296,-1447.8989C8112.1482,-1333.8757 8126.9561,-712.8069 8130.32,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="8133.8282,-571.4149 8130.5677,-561.3343 8126.8302,-571.248 8133.8282,-571.4149"/>
</g>
<!-- leaf_124 -->
<g id="node125" class="node">
<title>leaf_124</title>
<polygon fill="none" stroke="#c0c0c0" points="8253,-561.2009 8199,-561.2009 8199,-525.2009 8253,-525.2009 8253,-561.2009"/>
<text text-anchor="middle" x="8226" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_117&#45;&gt;leaf_124 -->
<g id="edge124" class="edge">
<title>raw_117&#45;&gt;leaf_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8200.5077,-1447.8989C8203.7206,-1333.8757 8221.2209,-712.8069 8225.1964,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="8228.7059,-571.4289 8225.489,-561.3343 8221.7087,-571.2317 8228.7059,-571.4289"/>
</g>
<!-- leaf_129 -->
<g id="node130" class="node">
<title>leaf_129</title>
<polygon fill="none" stroke="#c0c0c0" points="8455,-561.2009 8271,-561.2009 8271,-525.2009 8455,-525.2009 8455,-561.2009"/>
<text text-anchor="middle" x="8363" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">*** process_escapes(seq)</text>
</g>
<!-- header_125&#45;&gt;leaf_129 -->
<g id="edge129" class="edge">
<title>header_125&#45;&gt;leaf_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8363,-1447.8989C8363,-1333.8757 8363,-712.8069 8363,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="8366.5001,-571.3342 8363,-561.3343 8359.5001,-571.3343 8366.5001,-571.3342"/>
</g>
<!-- raw_130 -->
<g id="node131" class="node">
<title>raw_130</title>
<ellipse fill="none" stroke="#000000" cx="8500" cy="-543.2009" rx="27" ry="18"/>
<text text-anchor="middle" x="8500" y="-539.0009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_126&#45;&gt;raw_130 -->
<g id="edge130" class="edge">
<title>prose_126&#45;&gt;raw_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8524.5118,-1447.8989C8521.4225,-1333.8757 8504.5953,-712.8069 8500.7727,-571.721"/>
<polygon fill="#000000" stroke="#000000" points="8504.261,-571.2358 8500.4913,-561.3343 8497.2635,-571.4254 8504.261,-571.2358"/>
</g>
<!-- leaf_132 -->
<g id="node133" class="node">
<title>leaf_132</title>
<polygon fill="none" stroke="#c0c0c0" points="9100.5,-964.2024 8545.5,-964.2024 8545.5,-122.1993 9100.5,-122.1993 9100.5,-964.2024"/>
<text text-anchor="middle" x="8823" y="-933.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">local byte, sub = string.byte, string.sub</text>
<text text-anchor="middle" x="8823" y="-917.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">local m_parse, is_mouse = a.mouse.parse_fast, a.mouse.ismousemove</text>
<text text-anchor="middle" x="8823" y="-902.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">local navigation, is_nav = a.navigation, a.is_nav</text>
<text text-anchor="middle" x="8823" y="-870.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">local function process_escapes(seq)</text>
<text text-anchor="middle" x="8823" y="-855.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if is_nav(seq) then</text>
<text text-anchor="middle" x="8823" y="-840.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NAV&quot;, navigation[seq] )</text>
<text text-anchor="middle" x="8823" y="-824.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif #seq == 1 then</text>
<text text-anchor="middle" x="8823" y="-809.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;modeS(&quot;NAV&quot;, &quot;ESC&quot;) &#45;&#45; I think of escape as navigation in modal systems</text>
<text text-anchor="middle" x="8823" y="-793.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8823" y="-778.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if is_mouse(seq) then</text>
<text text-anchor="middle" x="8823" y="-763.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local m = m_parse(seq)</text>
<text text-anchor="middle" x="8823" y="-747.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;MOUSE&quot;, m)</text>
<text text-anchor="middle" x="8823" y="-732.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif #seq == 2 and byte(sub(seq,2,2)) &lt; 128 then</text>
<text text-anchor="middle" x="8823" y="-716.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; Meta</text>
<text text-anchor="middle" x="8823" y="-701.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local key = &quot;M&#45;&quot; .. sub(seq,2,2)</text>
<text text-anchor="middle" x="8823" y="-686.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;ALT&quot;, key)</text>
<text text-anchor="middle" x="8823" y="-670.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8823" y="-655.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NYI&quot;, seq)</text>
<text text-anchor="middle" x="8823" y="-639.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8823" y="-624.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="8823" y="-593.001" font-family="Inconsolata" font-size="14.00" fill="#000000">local navigation = a.navigation</text>
<text text-anchor="middle" x="8823" y="-561.601" font-family="Inconsolata" font-size="14.00" fill="#000000">local function onseq(err,seq)</text>
<text text-anchor="middle" x="8823" y="-546.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if err then error(err) end</text>
<text text-anchor="middle" x="8823" y="-530.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local head = byte(seq)</text>
<text text-anchor="middle" x="8823" y="-515.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; ^Q hard coded as quit, for now</text>
<text text-anchor="middle" x="8823" y="-500.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head == 17 then</text>
<text text-anchor="middle" x="8823" y="-484.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;femto.cooked()</text>
<text text-anchor="middle" x="8823" y="-469.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;write(a.mouse.track(false))</text>
<text text-anchor="middle" x="8823" y="-453.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uv.stop()</text>
<text text-anchor="middle" x="8823" y="-438.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="8823" y="-423.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8823" y="-407.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Escape sequences</text>
<text text-anchor="middle" x="8823" y="-392.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head == 27 then</text>
<text text-anchor="middle" x="8823" y="-376.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return process_escapes(seq)</text>
<text text-anchor="middle" x="8823" y="-361.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8823" y="-346.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Control sequences</text>
<text text-anchor="middle" x="8823" y="-330.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head &lt;= 31 and not navigation[seq] then</text>
<text text-anchor="middle" x="8823" y="-315.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local ctrl = &quot;^&quot; .. string.char(head + 64)</text>
<text text-anchor="middle" x="8823" y="-299.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;CTRL&quot;, ctrl)</text>
<text text-anchor="middle" x="8823" y="-284.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif navigation[seq] then</text>
<text text-anchor="middle" x="8823" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NAV&quot;, navigation[seq])</text>
<text text-anchor="middle" x="8823" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8823" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Printables</text>
<text text-anchor="middle" x="8823" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head &gt; 31 and head &lt; 127 then</text>
<text text-anchor="middle" x="8823" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;ASCII&quot;, seq)</text>
<text text-anchor="middle" x="8823" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8823" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; wchars go here</text>
<text text-anchor="middle" x="8823" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NYI&quot;, seq)</text>
<text text-anchor="middle" x="8823" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8823" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_127&#45;&gt;leaf_132 -->
<g id="edge132" class="edge">
<title>codeblock_127&#45;&gt;leaf_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8744.5622,-1447.8989C8749.9059,-1386.2642 8768.0946,-1176.4764 8785.6124,-974.428"/>
<polygon fill="#000000" stroke="#000000" points="8789.122,-974.4675 8786.4989,-964.2025 8782.1481,-973.8628 8789.122,-974.4675"/>
</g>
<!-- leaf_133 -->
<g id="node134" class="node">
<title>leaf_133</title>
<polygon fill="none" stroke="#c0c0c0" points="9435.5,-804.1594 9118.5,-804.1594 9118.5,-282.2424 9435.5,-282.2424 9435.5,-804.1594"/>
<text text-anchor="middle" x="9277" y="-788.73" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Get names for as many values as possible</text>
<text text-anchor="middle" x="9277" y="-773.33" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; into the colorizer</text>
<text text-anchor="middle" x="9277" y="-757.93" font-family="Inconsolata" font-size="14.00" fill="#000000">color.allNames()</text>
<text text-anchor="middle" x="9277" y="-742.5299" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; This switches screens and does a wipe,</text>
<text text-anchor="middle" x="9277" y="-727.1299" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; then puts the cursor at 1,1.</text>
<text text-anchor="middle" x="9277" y="-711.7299" font-family="Inconsolata" font-size="14.00" fill="#000000">write &quot;\x1b[?47h\x1b[2J\x1b[H&quot;</text>
<text text-anchor="middle" x="9277" y="-696.3298" font-family="Inconsolata" font-size="14.00" fill="#000000">print &quot;an repl, plz reply uwu 👀&quot;</text>
<text text-anchor="middle" x="9277" y="-672.1011" font-family="Inconsolata" font-size="14.00" fill="#000000">displayPrompt &#39;👉 &#160;&#39;</text>
<text text-anchor="middle" x="9277" y="-647.8723" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Crude hack to choose raw mode at runtime</text>
<text text-anchor="middle" x="9277" y="-632.4723" font-family="Inconsolata" font-size="14.00" fill="#000000">if arg[1] == &quot;&#45;r&quot; then</text>
<text text-anchor="middle" x="9277" y="-617.0723" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;femto.raw()</text>
<text text-anchor="middle" x="9277" y="-601.6722" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45;uv.tty_set_mode(stdin, 2)</text>
<text text-anchor="middle" x="9277" y="-586.2722" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; mouse mode</text>
<text text-anchor="middle" x="9277" y="-570.8722" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;write(a.mouse.track(true))</text>
<text text-anchor="middle" x="9277" y="-555.4721" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.read_start(stdin, onseq)</text>
<text text-anchor="middle" x="9277" y="-540.0721" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="9277" y="-524.6721" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.read_start(stdin, onread)</text>
<text text-anchor="middle" x="9277" y="-509.272" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="9277" y="-445.872" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; main loop</text>
<text text-anchor="middle" x="9277" y="-430.472" font-family="Inconsolata" font-size="14.00" fill="#000000">local retcode = &#160;uv.run(&#39;default&#39;)</text>
<text text-anchor="middle" x="9277" y="-415.0719" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Restore main screen</text>
<text text-anchor="middle" x="9277" y="-399.6719" font-family="Inconsolata" font-size="14.00" fill="#000000">print &#39;\x1b[?47l&#39;</text>
<text text-anchor="middle" x="9277" y="-368.2719" font-family="Inconsolata" font-size="14.00" fill="#000000">if retcode ~= true then</text>
<text text-anchor="middle" x="9277" y="-352.8719" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;error(retcode)</text>
<text text-anchor="middle" x="9277" y="-337.4718" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="9277" y="-306.0718" font-family="Inconsolata" font-size="14.00" fill="#000000">print(&quot;kthxbye&quot;)</text>
<text text-anchor="middle" x="9277" y="-290.6718" font-family="Inconsolata" font-size="14.00" fill="#000000">return retcode</text>
</g>
<!-- codeblock_128&#45;&gt;leaf_133 -->
<g id="edge133" class="edge">
<title>codeblock_128&#45;&gt;leaf_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9149.5385,-1447.8989C9160.5849,-1369.494 9205.4084,-1051.345 9238.7968,-814.3602"/>
<polygon fill="#000000" stroke="#000000" points="9242.2989,-814.5901 9240.2283,-804.1996 9235.3673,-813.6135 9242.2989,-814.5901"/>
</g>
<!-- leaf_131 -->
<g id="node132" class="node">
<title>leaf_131</title>
<polygon fill="none" stroke="#c0c0c0" points="8527,-61.1 8473,-61.1 8473,-25.1 8527,-25.1 8527,-61.1"/>
</g>
<!-- raw_130&#45;&gt;leaf_131 -->
<g id="edge131" class="edge">
<title>raw_130&#45;&gt;leaf_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8500,-525.1066C8500,-450.057 8500,-162.9178 8500,-71.3411"/>
<polygon fill="#000000" stroke="#000000" points="8503.5001,-71.17 8500,-61.17 8496.5001,-71.1701 8503.5001,-71.17"/>
</g>
</g>
</svg>
