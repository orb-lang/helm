<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="9430pt" height="2258pt"
 viewBox="0.00 0.00 9429.50 2258.43" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2254.432)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2254.432 9425.5,-2254.432 9425.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="2469" cy="-2232.432" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="2469" y="-2228.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 308</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="2469" cy="-2160.432" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2469" y="-2156.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;212</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2469,-2214.2633C2469,-2206.5629 2469,-2197.4063 2469,-2188.8486"/>
<polygon fill="#000000" stroke="#000000" points="2472.5001,-2188.8452 2469,-2178.8452 2465.5001,-2188.8453 2472.5001,-2188.8452"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="785" cy="-2088.432" rx="47.4168" ry="18"/>
<text text-anchor="middle" x="785" y="-2084.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Femto</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2403.1879,-2159.6128C2192.9405,-2156.6664 1518.6493,-2144.668 962,-2106.432 921.1923,-2103.6289 875.2396,-2098.9092 840.3848,-2095.0058"/>
<polygon fill="#000000" stroke="#000000" points="840.7332,-2091.523 830.4031,-2093.8764 839.9461,-2098.4786 840.7332,-2091.523"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="1003" cy="-2088.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1003" y="-2084.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2403.4736,-2159.0299C2167.3577,-2153.7919 1360.5624,-2134.2367 1104,-2106.432 1083.8302,-2104.2461 1061.6137,-2100.4418 1043.165,-2096.8921"/>
<polygon fill="#000000" stroke="#000000" points="1043.8279,-2093.4555 1033.3402,-2094.9581 1042.4759,-2100.3237 1043.8279,-2093.4555"/>
</g>
<!-- section_4 -->
<g id="node5" class="node">
<title>section_4</title>
<ellipse fill="none" stroke="#000000" cx="1174" cy="-2088.432" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="1174" y="-2084.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 6&#45;25</text>
</g>
<!-- section_1&#45;&gt;section_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;section_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2404.3377,-2156.8368C2185.147,-2144.6502 1471.3518,-2104.9643 1244.138,-2092.3315"/>
<polygon fill="#000000" stroke="#000000" points="1244.1889,-2088.829 1234.01,-2091.7684 1243.8002,-2095.8183 1244.1889,-2088.829"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="3835" cy="-2088.432" rx="69.0476" ry="18"/>
<text text-anchor="middle" x="3835" y="-2084.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 32&#45;111</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2533.5087,-2157.0318C2758.8633,-2145.1537 3510.6381,-2105.5286 3756.4688,-2092.5712"/>
<polygon fill="#000000" stroke="#000000" points="3756.9437,-2096.0512 3766.7456,-2092.0296 3756.5752,-2089.0609 3756.9437,-2096.0512"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="6117" cy="-2088.432" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="6117" y="-2084.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 125&#45;212</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2534.6469,-2159.1363C2977.89,-2150.3881 5530.7051,-2100.0036 6031.6937,-2090.1156"/>
<polygon fill="#000000" stroke="#000000" points="6031.8167,-2093.614 6041.7456,-2089.9173 6031.6785,-2086.6154 6031.8167,-2093.614"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="7675" cy="-2088.432" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7675" y="-2084.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 213&#45;217</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2534.8231,-2159.5216C3088.2877,-2151.8671 6960.6568,-2098.3115 7588.9586,-2089.6219"/>
<polygon fill="#000000" stroke="#000000" points="7589.3404,-2093.1171 7599.291,-2089.479 7589.2436,-2086.1178 7589.3404,-2093.1171"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="760,-2034.432 688,-2034.432 688,-1998.432 760,-1998.432 760,-2034.432"/>
<text text-anchor="middle" x="724" y="-2012.932" font-family="Inconsolata" font-size="14.00" fill="#000000">* &#160;Femto</text>
</g>
<!-- header_2&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>header_2&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M770.2336,-2071.0028C762.9061,-2062.354 753.9103,-2051.7359 745.8075,-2042.172"/>
<polygon fill="#000000" stroke="#000000" points="748.4021,-2039.82 739.2674,-2034.4526 743.0612,-2044.3449 748.4021,-2039.82"/>
</g>
<!-- raw_9 -->
<g id="node10" class="node">
<title>raw_9</title>
<ellipse fill="none" stroke="#000000" cx="805" cy="-2016.432" rx="27" ry="18"/>
<text text-anchor="middle" x="805" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_9 -->
<g id="edge9" class="edge">
<title>prose_3&#45;&gt;raw_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M974.1649,-2080.1727C941.4143,-2070.4824 886.6038,-2053.3217 841,-2034.432 839.2085,-2033.6899 837.3824,-2032.8972 835.5502,-2032.0736"/>
<polygon fill="#000000" stroke="#000000" points="837.0084,-2028.8916 826.4711,-2027.7889 834.0208,-2035.2221 837.0084,-2028.8916"/>
</g>
<!-- header_11 -->
<g id="node12" class="node">
<title>header_11</title>
<ellipse fill="none" stroke="#000000" cx="905" cy="-2016.432" rx="54.6851" ry="18"/>
<text text-anchor="middle" x="905" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : includes</text>
</g>
<!-- section_4&#45;&gt;header_11 -->
<g id="edge11" class="edge">
<title>section_4&#45;&gt;header_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1127.9405,-2076.5325C1086.3543,-2065.7332 1023.5097,-2049.2756 969,-2034.432 964.9282,-2033.3232 960.7139,-2032.1639 956.481,-2030.9912"/>
<polygon fill="#000000" stroke="#000000" points="957.201,-2027.5586 946.6287,-2028.2481 955.3234,-2034.3021 957.201,-2027.5586"/>
</g>
<!-- prose_12 -->
<g id="node13" class="node">
<title>prose_12</title>
<ellipse fill="none" stroke="#000000" cx="1010" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1010" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_12 -->
<g id="edge12" class="edge">
<title>section_4&#45;&gt;prose_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1139.6202,-2073.3384C1111.8097,-2061.1289 1072.8158,-2044.0096 1044.8739,-2031.7425"/>
<polygon fill="#000000" stroke="#000000" points="1046.0513,-2028.437 1035.4879,-2027.6218 1043.2374,-2034.8465 1046.0513,-2028.437"/>
</g>
<!-- prose_13 -->
<g id="node14" class="node">
<title>prose_13</title>
<ellipse fill="none" stroke="#000000" cx="1092" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1092" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_13 -->
<g id="edge13" class="edge">
<title>section_4&#45;&gt;prose_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1154.5671,-2071.369C1143.3006,-2061.4764 1128.9965,-2048.9167 1116.9098,-2038.304"/>
<polygon fill="#000000" stroke="#000000" points="1119.1653,-2035.6267 1109.3415,-2031.6587 1114.5466,-2040.8868 1119.1653,-2035.6267"/>
</g>
<!-- prose_14 -->
<g id="node15" class="node">
<title>prose_14</title>
<ellipse fill="none" stroke="#000000" cx="1174" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1174" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_14 -->
<g id="edge14" class="edge">
<title>section_4&#45;&gt;prose_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1174,-2070.2633C1174,-2062.5629 1174,-2053.4063 1174,-2044.8486"/>
<polygon fill="#000000" stroke="#000000" points="1177.5001,-2044.8452 1174,-2034.8452 1170.5001,-2044.8453 1177.5001,-2044.8452"/>
</g>
<!-- codeblock_15 -->
<g id="node16" class="node">
<title>codeblock_15</title>
<ellipse fill="none" stroke="#000000" cx="1302" cy="-2016.432" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1302" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 15&#45;23</text>
</g>
<!-- section_4&#45;&gt;codeblock_15 -->
<g id="edge15" class="edge">
<title>section_4&#45;&gt;codeblock_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1202.4073,-2072.4528C1220.4187,-2062.3214 1243.9447,-2049.0881 1263.6084,-2038.0272"/>
<polygon fill="#000000" stroke="#000000" points="1265.3378,-2041.0702 1272.3377,-2033.117 1261.906,-2034.9692 1265.3378,-2041.0702"/>
</g>
<!-- section_16 -->
<g id="node17" class="node">
<title>section_16</title>
<ellipse fill="none" stroke="#000000" cx="1547" cy="-2016.432" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1547" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 26&#45;31</text>
</g>
<!-- section_4&#45;&gt;section_16 -->
<g id="edge16" class="edge">
<title>section_4&#45;&gt;section_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1225.082,-2078.5716C1292.2541,-2065.6054 1410.2762,-2042.8237 1483.2323,-2028.741"/>
<polygon fill="#000000" stroke="#000000" points="1484.0623,-2032.1455 1493.2177,-2026.8135 1482.7355,-2025.2724 1484.0623,-2032.1455"/>
</g>
<!-- header_30 -->
<g id="node31" class="node">
<title>header_30</title>
<ellipse fill="none" stroke="#000000" cx="1913" cy="-2016.432" rx="39.6991" ry="18"/>
<text text-anchor="middle" x="1913" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : core</text>
</g>
<!-- section_5&#45;&gt;header_30 -->
<g id="edge30" class="edge">
<title>section_5&#45;&gt;header_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3765.6139,-2087.2658C3479.7806,-2082.3175 2392.4495,-2062.0384 2050,-2034.432 2020.1302,-2032.024 1986.7905,-2027.6801 1960.4794,-2023.863"/>
<polygon fill="#000000" stroke="#000000" points="1960.8012,-2020.3727 1950.3976,-2022.3765 1959.7801,-2027.2978 1960.8012,-2020.3727"/>
</g>
<!-- prose_31 -->
<g id="node32" class="node">
<title>prose_31</title>
<ellipse fill="none" stroke="#000000" cx="2091" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2091" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_31 -->
<g id="edge31" class="edge">
<title>section_5&#45;&gt;prose_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3766.3648,-2085.5984C3477.5252,-2073.6738 2365.0163,-2027.7446 2133.3963,-2018.1823"/>
<polygon fill="#000000" stroke="#000000" points="2133.4831,-2014.683 2123.3472,-2017.7674 2133.1943,-2021.677 2133.4831,-2014.683"/>
</g>
<!-- prose_32 -->
<g id="node33" class="node">
<title>prose_32</title>
<ellipse fill="none" stroke="#000000" cx="2876" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2876" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_32 -->
<g id="edge32" class="edge">
<title>section_5&#45;&gt;prose_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3768.3264,-2083.4262C3583.736,-2069.5675 3069.6537,-2030.9711 2918.3862,-2019.6142"/>
<polygon fill="#000000" stroke="#000000" points="2918.3654,-2016.1029 2908.1314,-2018.8443 2917.8413,-2023.0833 2918.3654,-2016.1029"/>
</g>
<!-- codeblock_33 -->
<g id="node34" class="node">
<title>codeblock_33</title>
<ellipse fill="none" stroke="#000000" cx="3459" cy="-2016.432" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3459" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 39&#45;56</text>
</g>
<!-- section_5&#45;&gt;codeblock_33 -->
<g id="edge33" class="edge">
<title>section_5&#45;&gt;codeblock_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3779.115,-2077.7306C3712.489,-2064.9724 3601.0994,-2043.6425 3528.8525,-2029.808"/>
<polygon fill="#000000" stroke="#000000" points="3529.4064,-2026.3505 3518.9266,-2027.9073 3528.0899,-2033.2256 3529.4064,-2026.3505"/>
</g>
<!-- prose_34 -->
<g id="node35" class="node">
<title>prose_34</title>
<ellipse fill="none" stroke="#000000" cx="3713" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3713" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_34 -->
<g id="edge34" class="edge">
<title>section_5&#45;&gt;prose_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3807.0107,-2071.9137C3788.1842,-2060.803 3763.3544,-2046.1493 3743.9405,-2034.6919"/>
<polygon fill="#000000" stroke="#000000" points="3745.5605,-2031.584 3735.1695,-2029.5156 3742.0027,-2037.6124 3745.5605,-2031.584"/>
</g>
<!-- prose_35 -->
<g id="node36" class="node">
<title>prose_35</title>
<ellipse fill="none" stroke="#000000" cx="3835" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3835" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_35 -->
<g id="edge35" class="edge">
<title>section_5&#45;&gt;prose_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3835,-2070.2633C3835,-2062.5629 3835,-2053.4063 3835,-2044.8486"/>
<polygon fill="#000000" stroke="#000000" points="3838.5001,-2044.8452 3835,-2034.8452 3831.5001,-2044.8453 3838.5001,-2044.8452"/>
</g>
<!-- codeblock_36 -->
<g id="node37" class="node">
<title>codeblock_36</title>
<ellipse fill="none" stroke="#000000" cx="4010" cy="-2016.432" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="4010" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 63&#45;70</text>
</g>
<!-- section_5&#45;&gt;codeblock_36 -->
<g id="edge36" class="edge">
<title>section_5&#45;&gt;codeblock_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3872.113,-2073.1626C3898.4343,-2062.3333 3933.9834,-2047.7074 3962.3934,-2036.0187"/>
<polygon fill="#000000" stroke="#000000" points="3963.8145,-2039.2187 3971.7307,-2032.177 3961.1511,-2032.7452 3963.8145,-2039.2187"/>
</g>
<!-- prose_37 -->
<g id="node38" class="node">
<title>prose_37</title>
<ellipse fill="none" stroke="#000000" cx="4334" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4334" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_37 -->
<g id="edge37" class="edge">
<title>section_5&#45;&gt;prose_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3895.6883,-2079.6753C3998.5191,-2064.838 4204.3975,-2035.1321 4292.4747,-2022.4236"/>
<polygon fill="#000000" stroke="#000000" points="4293.2193,-2025.8525 4302.617,-2020.9602 4292.2196,-2018.9242 4293.2193,-2025.8525"/>
</g>
<!-- prose_38 -->
<g id="node39" class="node">
<title>prose_38</title>
<ellipse fill="none" stroke="#000000" cx="4497" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4497" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_38 -->
<g id="edge38" class="edge">
<title>section_5&#45;&gt;prose_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3901.198,-2082.8178C4003.1293,-2073.9462 4204.5873,-2055.5123 4375,-2034.432 4402.023,-2031.0892 4432.3065,-2026.6252 4455.9415,-2022.9792"/>
<polygon fill="#000000" stroke="#000000" points="4456.6218,-2026.4155 4465.9652,-2021.4205 4455.5462,-2019.4986 4456.6218,-2026.4155"/>
</g>
<!-- codeblock_39 -->
<g id="node40" class="node">
<title>codeblock_39</title>
<ellipse fill="none" stroke="#000000" cx="4714" cy="-2016.432" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="4714" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 77&#45;98</text>
</g>
<!-- section_5&#45;&gt;codeblock_39 -->
<g id="edge39" class="edge">
<title>section_5&#45;&gt;codeblock_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3902.4192,-2083.8223C4027.6931,-2075.1303 4304.827,-2055.3077 4538,-2034.432 4569.1961,-2031.639 4603.4649,-2028.2151 4633.4087,-2025.106"/>
<polygon fill="#000000" stroke="#000000" points="4633.8042,-2028.5838 4643.3871,-2024.0651 4633.0779,-2021.6216 4633.8042,-2028.5838"/>
</g>
<!-- codeblock_40 -->
<g id="node41" class="node">
<title>codeblock_40</title>
<ellipse fill="none" stroke="#000000" cx="5042" cy="-2016.432" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5042" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 100&#45;109</text>
</g>
<!-- section_5&#45;&gt;codeblock_40 -->
<g id="edge40" class="edge">
<title>section_5&#45;&gt;codeblock_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3903.1777,-2085.0475C4060.9926,-2077.1192 4463.6515,-2056.3497 4800,-2034.432 4849.6377,-2031.1974 4904.9658,-2027.1176 4950.1766,-2023.6602"/>
<polygon fill="#000000" stroke="#000000" points="4950.5511,-2027.1419 4960.254,-2022.8871 4950.0156,-2020.1624 4950.5511,-2027.1419"/>
</g>
<!-- section_41 -->
<g id="node42" class="node">
<title>section_41</title>
<ellipse fill="none" stroke="#000000" cx="5500" cy="-2016.432" rx="74.6878" ry="18"/>
<text text-anchor="middle" x="5500" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 112&#45;124</text>
</g>
<!-- section_5&#45;&gt;section_41 -->
<g id="edge41" class="edge">
<title>section_5&#45;&gt;section_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3903.5273,-2085.7918C4097.3161,-2078.2823 4665.8605,-2055.9533 5138,-2034.432 5233.457,-2030.0808 5343.0449,-2024.558 5416.4099,-2020.7846"/>
<polygon fill="#000000" stroke="#000000" points="5416.7097,-2024.2739 5426.5164,-2020.2641 5416.3495,-2017.2832 5416.7097,-2024.2739"/>
</g>
<!-- header_96 -->
<g id="node97" class="node">
<title>header_96</title>
<ellipse fill="none" stroke="#000000" cx="5866" cy="-2016.432" rx="75.4657" ry="18"/>
<text text-anchor="middle" x="5866" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Modeselektor</text>
</g>
<!-- section_6&#45;&gt;header_96 -->
<g id="edge96" class="edge">
<title>section_6&#45;&gt;header_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6068.6047,-2074.5496C6027.4159,-2062.7345 5968.136,-2045.73 5924.3328,-2033.1649"/>
<polygon fill="#000000" stroke="#000000" points="5925.2518,-2029.7874 5914.6743,-2030.3943 5923.3216,-2036.516 5925.2518,-2029.7874"/>
</g>
<!-- prose_97 -->
<g id="node98" class="node">
<title>prose_97</title>
<ellipse fill="none" stroke="#000000" cx="6037" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6037" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_97 -->
<g id="edge97" class="edge">
<title>section_6&#45;&gt;prose_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6097.6342,-2071.0028C6086.8135,-2061.2641 6073.2184,-2049.0285 6061.6452,-2038.6126"/>
<polygon fill="#000000" stroke="#000000" points="6063.7892,-2035.8335 6054.0149,-2031.7454 6059.1065,-2041.0366 6063.7892,-2035.8335"/>
</g>
<!-- codeblock_98 -->
<g id="node99" class="node">
<title>codeblock_98</title>
<ellipse fill="none" stroke="#000000" cx="6198" cy="-2016.432" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6198" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 127&#45;133</text>
</g>
<!-- section_6&#45;&gt;codeblock_98 -->
<g id="edge98" class="edge">
<title>section_6&#45;&gt;codeblock_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6136.6078,-2071.0028C6146.705,-2062.0275 6159.188,-2050.9315 6170.2556,-2041.0937"/>
<polygon fill="#000000" stroke="#000000" points="6172.8612,-2043.4605 6178.01,-2034.2008 6168.2106,-2038.2286 6172.8612,-2043.4605"/>
</g>
<!-- codeblock_99 -->
<g id="node100" class="node">
<title>codeblock_99</title>
<ellipse fill="none" stroke="#000000" cx="6554" cy="-2016.432" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6554" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 135&#45;197</text>
</g>
<!-- section_6&#45;&gt;codeblock_99 -->
<g id="edge99" class="edge">
<title>section_6&#45;&gt;codeblock_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6179.1474,-2078.1926C6257.0413,-2065.3588 6390.6067,-2043.3526 6475.4881,-2029.3676"/>
<polygon fill="#000000" stroke="#000000" points="6476.2932,-2032.7822 6485.5912,-2027.703 6475.1552,-2025.8753 6476.2932,-2032.7822"/>
</g>
<!-- codeblock_100 -->
<g id="node101" class="node">
<title>codeblock_100</title>
<ellipse fill="none" stroke="#000000" cx="6987" cy="-2016.432" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6987" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 199&#45;210</text>
</g>
<!-- section_6&#45;&gt;codeblock_100 -->
<g id="edge100" class="edge">
<title>section_6&#45;&gt;codeblock_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6188.5654,-2082.5093C6345.885,-2069.4898 6721.6158,-2038.3948 6895.6483,-2023.9921"/>
<polygon fill="#000000" stroke="#000000" points="6896.128,-2027.4645 6905.8052,-2023.1515 6895.5506,-2020.4883 6896.128,-2027.4645"/>
</g>
<!-- header_107 -->
<g id="node108" class="node">
<title>header_107</title>
<ellipse fill="none" stroke="#000000" cx="7539" cy="-2016.432" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="7539" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Reader</text>
</g>
<!-- section_7&#45;&gt;header_107 -->
<g id="edge107" class="edge">
<title>section_7&#45;&gt;header_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7643.7989,-2071.9137C7623.8516,-2061.3534 7597.8588,-2047.5925 7576.7503,-2036.4174"/>
<polygon fill="#000000" stroke="#000000" points="7578.2111,-2033.2306 7567.7356,-2031.6449 7574.9359,-2039.4171 7578.2111,-2033.2306"/>
</g>
<!-- prose_108 -->
<g id="node109" class="node">
<title>prose_108</title>
<ellipse fill="none" stroke="#000000" cx="7781" cy="-2016.432" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7781" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_108 -->
<g id="edge108" class="edge">
<title>section_7&#45;&gt;prose_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7700.1205,-2071.369C7715.6173,-2060.8428 7735.5596,-2047.2971 7751.7642,-2036.2903"/>
<polygon fill="#000000" stroke="#000000" points="7754.0246,-2038.986 7760.3302,-2030.4718 7750.0914,-2033.1954 7754.0246,-2038.986"/>
</g>
<!-- section_109 -->
<g id="node110" class="node">
<title>section_109</title>
<ellipse fill="none" stroke="#000000" cx="8511" cy="-2016.432" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8511" y="-2012.232" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 218&#45;308</text>
</g>
<!-- section_7&#45;&gt;section_109 -->
<g id="edge109" class="edge">
<title>section_7&#45;&gt;section_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7746.2769,-2082.2933C7900.9817,-2068.9694 8266.7197,-2037.4705 8429.9226,-2023.4147"/>
<polygon fill="#000000" stroke="#000000" points="8430.2408,-2026.9004 8439.9035,-2022.5551 8429.64,-2019.9262 8430.2408,-2026.9004"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="832,-1517.3168 778,-1517.3168 778,-1445.3168 832,-1445.3168 832,-1517.3168"/>
</g>
<!-- raw_9&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>raw_9&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M805,-1998.3211C805,-1923.8757 805,-1640.078 805,-1527.6155"/>
<polygon fill="#000000" stroke="#000000" points="808.5001,-1527.5952 805,-1517.5952 801.5001,-1527.5953 808.5001,-1527.5952"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="951,-1499.3168 851,-1499.3168 851,-1463.3168 951,-1463.3168 951,-1499.3168"/>
<text text-anchor="middle" x="901" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">** &#160;includes</text>
</g>
<!-- header_11&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>header_11&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M904.8646,-1998.3211C904.2753,-1919.4783 901.9307,-1605.8205 901.2111,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="904.7101,-1509.3967 901.1353,-1499.4232 897.7103,-1509.4491 904.7101,-1509.3967"/>
</g>
<!-- raw_18 -->
<g id="node19" class="node">
<title>raw_18</title>
<ellipse fill="none" stroke="#000000" cx="996" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="996" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_12&#45;&gt;raw_18 -->
<g id="edge18" class="edge">
<title>prose_12&#45;&gt;raw_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1009.5262,-1998.3211C1007.4634,-1919.4783 999.2573,-1605.8205 996.7389,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="1000.2341,-1509.3282 996.4737,-1499.4232 993.2365,-1509.5113 1000.2341,-1509.3282"/>
</g>
<!-- raw_20 -->
<g id="node21" class="node">
<title>raw_20</title>
<ellipse fill="none" stroke="#000000" cx="1068" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="1068" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_13&#45;&gt;raw_20 -->
<g id="edge20" class="edge">
<title>prose_13&#45;&gt;raw_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1091.1877,-1998.3211C1087.6516,-1919.4783 1073.584,-1605.8205 1069.2666,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="1072.7567,-1509.2563 1068.8121,-1499.4232 1065.7637,-1509.57 1072.7567,-1509.2563"/>
</g>
<!-- raw_22 -->
<g id="node23" class="node">
<title>raw_22</title>
<ellipse fill="none" stroke="#000000" cx="1140" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="1140" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_14&#45;&gt;raw_22 -->
<g id="edge22" class="edge">
<title>prose_14&#45;&gt;raw_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1172.8493,-1998.3211C1167.8398,-1919.4783 1147.9107,-1605.8205 1141.7944,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="1145.2776,-1509.1811 1141.1504,-1499.4232 1138.2917,-1509.625 1145.2776,-1509.1811"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="1418.5,-1539.1172 1185.5,-1539.1172 1185.5,-1423.5164 1418.5,-1423.5164 1418.5,-1539.1172"/>
<text text-anchor="middle" x="1302" y="-1524.0169" font-family="Inconsolata" font-size="14.00" fill="#000000">sql = require &quot;sqlayer&quot;</text>
<text text-anchor="middle" x="1302" y="-1508.6169" font-family="Inconsolata" font-size="14.00" fill="#000000">L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1302" y="-1493.2169" font-family="Inconsolata" font-size="14.00" fill="#000000">lfs = require &quot;lfs&quot;</text>
<text text-anchor="middle" x="1302" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">ffi = require &quot;ffi&quot;</text>
<text text-anchor="middle" x="1302" y="-1462.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">bit = require &quot;bit&quot;</text>
<text text-anchor="middle" x="1302" y="-1447.0168" font-family="Inconsolata" font-size="14.00" fill="#000000">ffi.reflect = require &quot;reflect&quot;</text>
<text text-anchor="middle" x="1302" y="-1431.6167" font-family="Inconsolata" font-size="14.00" fill="#000000">uv = require &quot;luv&quot;</text>
</g>
<!-- codeblock_15&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>codeblock_15&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1302,-1998.3211C1302,-1928.2677 1302,-1672.8357 1302,-1549.2311"/>
<polygon fill="#000000" stroke="#000000" points="1305.5001,-1549.1262 1302,-1539.1263 1298.5001,-1549.1263 1305.5001,-1549.1262"/>
</g>
<!-- header_25 -->
<g id="node26" class="node">
<title>header_25</title>
<ellipse fill="none" stroke="#000000" cx="1547" cy="-1481.3168" rx="110.7308" ry="18"/>
<text text-anchor="middle" x="1547" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Djikstra Insertion Point</text>
</g>
<!-- section_16&#45;&gt;header_25 -->
<g id="edge25" class="edge">
<title>section_16&#45;&gt;header_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1547,-1998.3211C1547,-1919.4783 1547,-1605.8205 1547,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="1550.5001,-1509.4231 1547,-1499.4232 1543.5001,-1509.4232 1550.5001,-1509.4231"/>
</g>
<!-- prose_26 -->
<g id="node27" class="node">
<title>prose_26</title>
<ellipse fill="none" stroke="#000000" cx="1708" cy="-1481.3168" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1708" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_16&#45;&gt;prose_26 -->
<g id="edge26" class="edge">
<title>section_16&#45;&gt;prose_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1599.8131,-2005.647C1624.2472,-1997.8417 1651.2819,-1984.6137 1667,-1962.432 1768.3754,-1819.3686 1731.4651,-1588.912 1714.5653,-1509.372"/>
<polygon fill="#000000" stroke="#000000" points="1717.8902,-1508.1935 1712.33,-1499.175 1711.0525,-1509.6925 1717.8902,-1508.1935"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="548,-578.5012 0,-578.5012 0,-507.9005 548,-507.9005 548,-578.5012"/>
<text text-anchor="middle" x="274" y="-531.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">This all goes into global space for now. &#160;Our more sophisticated loader will</text>
<text text-anchor="middle" x="274" y="-516.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">handle namespace isolation. Meanwhile we&#39;re building a repl, so.</text>
</g>
<!-- raw_18&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>raw_18&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M997.5838,-1463.2463C1004.1233,-1383.8387 1025.7083,-1066.8635 960,-1000.2017 896.8821,-936.1678 634.393,-1009.9676 557,-964.2017 409.0385,-876.7055 322.1892,-677.8993 289.275,-588.3782"/>
<polygon fill="#000000" stroke="#000000" points="292.4961,-586.9937 285.8004,-578.7828 285.9144,-589.3771 292.4961,-586.9937"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="1086,-563.103 566,-563.103 566,-523.2988 1086,-523.2988 1086,-563.103"/>
<text text-anchor="middle" x="826" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">First we load everything that might reasonable expect a stock namespace.</text>
</g>
<!-- raw_20&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>raw_20&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1068.8862,-1463.0411C1071.5432,-1398.5356 1076.7044,-1175.9464 1032,-1000.2017 988.4712,-829.0785 884.546,-642.1475 843.2991,-571.9516"/>
<polygon fill="#000000" stroke="#000000" points="846.2358,-570.0414 838.1336,-563.2146 840.2101,-573.604 846.2358,-570.0414"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="1414,-563.103 1104,-563.103 1104,-523.2988 1414,-523.2988 1414,-563.103"/>
<text text-anchor="middle" x="1259" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">All of these are exceedingly well&#45;behaved.</text>
</g>
<!-- raw_22&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>raw_22&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1140.6814,-1462.8937C1143.2003,-1398.796 1153.0534,-1179.6631 1176,-1000.2017 1196.7633,-837.8153 1236.7932,-645.5773 1252.4737,-572.9583"/>
<polygon fill="#000000" stroke="#000000" points="1255.9062,-573.6445 1254.6054,-563.1298 1249.0652,-572.1607 1255.9062,-573.6445"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="1644,-561.2009 1432,-561.2009 1432,-525.2009 1644,-525.2009 1644,-561.2009"/>
<text text-anchor="middle" x="1538" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Djikstra Insertion Point</text>
</g>
<!-- header_25&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>header_25&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1546.8243,-1462.9982C1545.7098,-1346.8311 1539.6291,-713.0109 1538.2697,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="1541.7691,-571.2199 1538.1732,-561.254 1534.7694,-571.2871 1541.7691,-571.2199"/>
</g>
<!-- raw_28 -->
<g id="node29" class="node">
<title>raw_28</title>
<ellipse fill="none" stroke="#000000" cx="1689" cy="-543.2009" rx="27" ry="18"/>
<text text-anchor="middle" x="1689" y="-539.0009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_26&#45;&gt;raw_28 -->
<g id="edge28" class="edge">
<title>prose_26&#45;&gt;raw_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1707.629,-1462.9982C1705.2762,-1346.8311 1692.4392,-713.0109 1689.5693,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="1693.0675,-571.181 1689.3656,-561.254 1686.0689,-571.3228 1693.0675,-571.181"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="1970,-86.3004 1408,-86.3004 1408,.1003 1970,.1003 1970,-86.3004"/>
<text text-anchor="middle" x="1689" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">Although we&#39;re not doing so yet, this is where we will set up Djikstra mode</text>
<text text-anchor="middle" x="1689" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">for participating code. &#160;We then push that up through the layers, and it lands</text>
<text text-anchor="middle" x="1689" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">as close to C level as practical.</text>
</g>
<!-- raw_28&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>raw_28&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1689,-525.1066C1689,-455.978 1689,-206.9052 1689,-96.4674"/>
<polygon fill="#000000" stroke="#000000" points="1692.5001,-96.2233 1689,-86.2233 1685.5001,-96.2233 1692.5001,-96.2233"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="1858.5,-1499.3168 1793.5,-1499.3168 1793.5,-1463.3168 1858.5,-1463.3168 1858.5,-1499.3168"/>
<text text-anchor="middle" x="1826" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">** core</text>
</g>
<!-- header_30&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>header_30&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1894.9639,-2000.2636C1885.2018,-1990.3741 1873.9518,-1976.8741 1868,-1962.432 1801.9244,-1802.0995 1815.2017,-1586.797 1822.74,-1510.0027"/>
<polygon fill="#000000" stroke="#000000" points="1826.2581,-1510.0063 1823.8005,-1499.7004 1819.2948,-1509.2895 1826.2581,-1510.0063"/>
</g>
<!-- raw_43 -->
<g id="node44" class="node">
<title>raw_43</title>
<ellipse fill="none" stroke="#000000" cx="1904" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="1904" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_31&#45;&gt;raw_43 -->
<g id="edge43" class="edge">
<title>prose_31&#45;&gt;raw_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2061.0015,-2009.778C2021.3999,-2000.343 1954.9315,-1982.0318 1940,-1962.432 1833.615,-1822.7852 1877.2967,-1589.3139 1896.6312,-1509.2516"/>
<polygon fill="#000000" stroke="#000000" points="1900.0599,-1509.9666 1899.0724,-1499.4179 1893.2661,-1508.28 1900.0599,-1509.9666"/>
</g>
<!-- prespace_44 -->
<g id="node45" class="node">
<title>prespace_44</title>
<ellipse fill="none" stroke="#000000" cx="1995" cy="-1481.3168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="1995" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_31&#45;&gt;prespace_44 -->
<g id="edge44" class="edge">
<title>prose_31&#45;&gt;prespace_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2075.5235,-2000.3143C2066.8071,-1990.2402 2056.5794,-1976.5354 2051,-1962.432 1987.0196,-1800.7041 1989.8683,-1586.2609 1993.323,-1509.8482"/>
<polygon fill="#000000" stroke="#000000" points="1996.8316,-1509.759 1993.8293,-1499.5985 1989.8401,-1509.4136 1996.8316,-1509.759"/>
</g>
<!-- literal_45 -->
<g id="node46" class="node">
<title>literal_45</title>
<ellipse fill="none" stroke="#000000" cx="2091" cy="-1481.3168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2091" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_31&#45;&gt;literal_45 -->
<g id="edge45" class="edge">
<title>prose_31&#45;&gt;literal_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2091,-1998.3211C2091,-1919.4783 2091,-1605.8205 2091,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="2094.5001,-1509.4231 2091,-1499.4232 2087.5001,-1509.4232 2094.5001,-1509.4231"/>
</g>
<!-- raw_46 -->
<g id="node47" class="node">
<title>raw_46</title>
<ellipse fill="none" stroke="#000000" cx="2184" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="2184" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_31&#45;&gt;raw_46 -->
<g id="edge46" class="edge">
<title>prose_31&#45;&gt;raw_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2106.5081,-2000.3268C2115.2356,-1990.257 2125.4641,-1976.5525 2131,-1962.432 2194.438,-1800.6208 2189.9652,-1586.2289 2185.9065,-1509.839"/>
<polygon fill="#000000" stroke="#000000" points="2189.3857,-1509.3755 2185.3188,-1499.5924 2182.3972,-1509.7764 2189.3857,-1509.3755"/>
</g>
<!-- raw_51 -->
<g id="node52" class="node">
<title>raw_51</title>
<ellipse fill="none" stroke="#000000" cx="2553" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="2553" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_32&#45;&gt;raw_51 -->
<g id="edge51" class="edge">
<title>prose_32&#45;&gt;raw_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2843.7974,-2014.72C2778.716,-2010.5491 2634.9912,-1997.501 2603,-1962.432 2483.8396,-1831.8074 2526.8648,-1590.61 2545.8996,-1509.0781"/>
<polygon fill="#000000" stroke="#000000" points="2549.3672,-1509.6274 2548.3015,-1499.0863 2542.561,-1507.9912 2549.3672,-1509.6274"/>
</g>
<!-- prespace_52 -->
<g id="node53" class="node">
<title>prespace_52</title>
<ellipse fill="none" stroke="#000000" cx="2658" cy="-1481.3168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2658" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_32&#45;&gt;prespace_52 -->
<g id="edge52" class="edge">
<title>prose_32&#45;&gt;prespace_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2845.3904,-2010.3032C2803.2699,-2001.2195 2730.7348,-1983.0226 2714,-1962.432 2602.841,-1825.6611 2636.16,-1590.3566 2651.8941,-1509.5352"/>
<polygon fill="#000000" stroke="#000000" points="2655.3505,-1510.1002 2653.8924,-1499.6062 2648.4881,-1508.719 2655.3505,-1510.1002"/>
</g>
<!-- literal_53 -->
<g id="node54" class="node">
<title>literal_53</title>
<ellipse fill="none" stroke="#000000" cx="2754" cy="-1481.3168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2754" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_32&#45;&gt;literal_53 -->
<g id="edge53" class="edge">
<title>prose_32&#45;&gt;literal_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2849.05,-2006.2265C2830.2334,-1997.5842 2806.3552,-1983.2461 2794,-1962.432 2704.9236,-1812.3694 2734.2816,-1588.1575 2748.348,-1509.6709"/>
<polygon fill="#000000" stroke="#000000" points="2751.836,-1510.0565 2750.2174,-1499.5861 2744.9533,-1508.7806 2751.836,-1510.0565"/>
</g>
<!-- raw_54 -->
<g id="node55" class="node">
<title>raw_54</title>
<ellipse fill="none" stroke="#000000" cx="2830" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="2830" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_32&#45;&gt;raw_54 -->
<g id="edge54" class="edge">
<title>prose_32&#45;&gt;raw_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2872.1765,-1998.5091C2870.0687,-1988.0347 2867.5687,-1974.5347 2866,-1962.432 2843.8339,-1791.4207 2834.0372,-1584.309 2831.0506,-1509.76"/>
<polygon fill="#000000" stroke="#000000" points="2834.5471,-1509.5984 2830.6587,-1499.7429 2827.5524,-1509.8721 2834.5471,-1509.5984"/>
</g>
<!-- prespace_55 -->
<g id="node56" class="node">
<title>prespace_55</title>
<ellipse fill="none" stroke="#000000" cx="2921" cy="-1481.3168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2921" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_32&#45;&gt;prespace_55 -->
<g id="edge55" class="edge">
<title>prose_32&#45;&gt;prespace_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2877.523,-1998.3211C2884.1532,-1919.4783 2910.53,-1605.8205 2918.6251,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="2922.127,-1509.6813 2919.4774,-1499.4232 2915.1516,-1509.0947 2922.127,-1509.6813"/>
</g>
<!-- literal_56 -->
<g id="node57" class="node">
<title>literal_56</title>
<ellipse fill="none" stroke="#000000" cx="3017" cy="-1481.3168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3017" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_32&#45;&gt;literal_56 -->
<g id="edge56" class="edge">
<title>prose_32&#45;&gt;literal_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2905.3576,-2008.902C2928.6491,-2001.2769 2959.8805,-1987.0174 2976,-1962.432 3071.9206,-1816.1339 3038.7021,-1588.6474 3023.1461,-1509.5542"/>
<polygon fill="#000000" stroke="#000000" points="3026.5046,-1508.5054 3021.0836,-1499.4025 3019.6448,-1509.8992 3026.5046,-1508.5054"/>
</g>
<!-- raw_57 -->
<g id="node58" class="node">
<title>raw_57</title>
<ellipse fill="none" stroke="#000000" cx="3120" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="3120" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_32&#45;&gt;raw_57 -->
<g id="edge57" class="edge">
<title>prose_32&#45;&gt;raw_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2907.0135,-2011.3354C2953.4125,-2003.053 3037.5436,-1985.2737 3057,-1962.432 3171.7489,-1827.7171 3140.5977,-1590.1315 3125.7254,-1509.2128"/>
<polygon fill="#000000" stroke="#000000" points="3129.1438,-1508.4534 3123.8353,-1499.2844 3122.2673,-1509.7626 3129.1438,-1508.4534"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="3580.5,-1608.8173 3179.5,-1608.8173 3179.5,-1353.8163 3580.5,-1353.8163 3580.5,-1608.8173"/>
<text text-anchor="middle" x="3380" y="-1593.617" font-family="Inconsolata" font-size="14.00" fill="#000000">core = require &quot;core&quot;</text>
<text text-anchor="middle" x="3380" y="-1578.217" font-family="Inconsolata" font-size="14.00" fill="#000000">string.cleave, string.litpat = core.cleave, core.litpat</text>
<text text-anchor="middle" x="3380" y="-1562.817" font-family="Inconsolata" font-size="14.00" fill="#000000">string.utf8 = core.utf8</text>
<text text-anchor="middle" x="3380" y="-1547.417" font-family="Inconsolata" font-size="14.00" fill="#000000">string.codepoints = core.codepoints</text>
<text text-anchor="middle" x="3380" y="-1532.0169" font-family="Inconsolata" font-size="14.00" fill="#000000">table.splice = core.splice</text>
<text text-anchor="middle" x="3380" y="-1516.6169" font-family="Inconsolata" font-size="14.00" fill="#000000">table.clone = core.clone</text>
<text text-anchor="middle" x="3380" y="-1501.2169" font-family="Inconsolata" font-size="14.00" fill="#000000">table.arrayof = core.arrayof</text>
<text text-anchor="middle" x="3380" y="-1485.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">table.select = core.select</text>
<text text-anchor="middle" x="3380" y="-1470.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">table.reverse = core.reverse</text>
<text text-anchor="middle" x="3380" y="-1455.0168" font-family="Inconsolata" font-size="14.00" fill="#000000">utf8 = core.utf8</text>
<text text-anchor="middle" x="3380" y="-1439.6167" font-family="Inconsolata" font-size="14.00" fill="#000000">codepoints = core.codepoints</text>
<text text-anchor="middle" x="3380" y="-1424.2167" font-family="Inconsolata" font-size="14.00" fill="#000000">_G.meta = core.meta</text>
<text text-anchor="middle" x="3380" y="-1408.8167" font-family="Inconsolata" font-size="14.00" fill="#000000">getmeta, setmeta = getmetatable, setmetatable</text>
<text text-anchor="middle" x="3380" y="-1393.4166" font-family="Inconsolata" font-size="14.00" fill="#000000">coro = coroutine</text>
<text text-anchor="middle" x="3380" y="-1362.0166" font-family="Inconsolata" font-size="14.00" fill="#000000">local concat = table.concat</text>
</g>
<!-- codeblock_33&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>codeblock_33&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3456.3263,-1998.3211C3447.6774,-1939.7371 3419.8886,-1751.5069 3400.3487,-1619.1509"/>
<polygon fill="#000000" stroke="#000000" points="3403.7618,-1618.3051 3398.8388,-1608.9235 3396.8369,-1619.3275 3403.7618,-1618.3051"/>
</g>
<!-- raw_66 -->
<g id="node67" class="node">
<title>raw_66</title>
<ellipse fill="none" stroke="#000000" cx="3626" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="3626" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_34&#45;&gt;raw_66 -->
<g id="edge66" class="edge">
<title>prose_34&#45;&gt;raw_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3693.7906,-2001.879C3682.4219,-1992.084 3668.9269,-1978.1215 3662,-1962.432 3591.8695,-1803.5851 3611.7131,-1586.5102 3621.7997,-1509.6754"/>
<polygon fill="#000000" stroke="#000000" points="3625.3203,-1509.7619 3623.2052,-1499.3803 3618.3846,-1508.8149 3625.3203,-1509.7619"/>
</g>
<!-- raw_68 -->
<g id="node69" class="node">
<title>raw_68</title>
<ellipse fill="none" stroke="#000000" cx="3698" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="3698" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_35&#45;&gt;raw_68 -->
<g id="edge68" class="edge">
<title>prose_35&#45;&gt;raw_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3805.2897,-2009.0281C3781.7301,-2001.4781 3750.1678,-1987.258 3734,-1962.432 3638.6106,-1815.9594 3674.8168,-1588.5829 3691.4591,-1509.5363"/>
<polygon fill="#000000" stroke="#000000" points="3694.9603,-1509.9057 3693.6618,-1499.3908 3688.1197,-1508.4205 3694.9603,-1509.9057"/>
</g>
<!-- prespace_69 -->
<g id="node70" class="node">
<title>prespace_69</title>
<ellipse fill="none" stroke="#000000" cx="3789" cy="-1481.3168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="3789" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_35&#45;&gt;prespace_69 -->
<g id="edge69" class="edge">
<title>prose_35&#45;&gt;prespace_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3833.4431,-1998.3211C3826.6656,-1919.4783 3799.7027,-1605.8205 3791.4277,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="3794.9002,-1509.0866 3790.5565,-1499.4232 3787.9259,-1509.6862 3794.9002,-1509.0866"/>
</g>
<!-- literal_70 -->
<g id="node71" class="node">
<title>literal_70</title>
<ellipse fill="none" stroke="#000000" cx="3885" cy="-1481.3168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3885" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_35&#45;&gt;literal_70 -->
<g id="edge70" class="edge">
<title>prose_35&#45;&gt;literal_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3838.3617,-1998.4848C3840.2323,-1988.0024 3842.4823,-1974.5024 3844,-1962.432 3865.5308,-1791.1959 3878.9477,-1584.221 3883.3763,-1509.7341"/>
<polygon fill="#000000" stroke="#000000" points="3886.8717,-1509.9137 3883.9644,-1499.7256 3879.8838,-1509.5031 3886.8717,-1509.9137"/>
</g>
<!-- raw_71 -->
<g id="node72" class="node">
<title>raw_71</title>
<ellipse fill="none" stroke="#000000" cx="3961" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="3961" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_35&#45;&gt;raw_71 -->
<g id="edge71" class="edge">
<title>prose_35&#45;&gt;raw_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3863.2666,-2007.4638C3884.1011,-1999.259 3911.1328,-1984.9219 3925,-1962.432 4016.7402,-1813.6466 3982.8342,-1587.7279 3967.1669,-1509.2993"/>
<polygon fill="#000000" stroke="#000000" points="3970.5392,-1508.3223 3965.0922,-1499.2349 3963.6834,-1509.7356 3970.5392,-1508.3223"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="4197.5,-1523.817 4006.5,-1523.817 4006.5,-1438.8167 4197.5,-1438.8167 4197.5,-1523.817"/>
<text text-anchor="middle" x="4102" y="-1508.6169" font-family="Inconsolata" font-size="14.00" fill="#000000">a = require &quot;anterm&quot;</text>
<text text-anchor="middle" x="4102" y="-1493.2169" font-family="Inconsolata" font-size="14.00" fill="#000000">color = require &quot;color&quot;</text>
<text text-anchor="middle" x="4102" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">ts = color.ts</text>
<text text-anchor="middle" x="4102" y="-1462.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">c = color.color</text>
<text text-anchor="middle" x="4102" y="-1447.0168" font-family="Inconsolata" font-size="14.00" fill="#000000">watch = require &quot;watcher&quot;</text>
</g>
<!-- codeblock_36&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>codeblock_36&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4013.1137,-1998.3211C4025.6667,-1925.3071 4072.8419,-1650.914 4092.8926,-1534.2898"/>
<polygon fill="#000000" stroke="#000000" points="4096.3871,-1534.6198 4094.6322,-1524.1713 4089.4883,-1533.4337 4096.3871,-1534.6198"/>
</g>
<!-- raw_77 -->
<g id="node78" class="node">
<title>raw_77</title>
<ellipse fill="none" stroke="#000000" cx="4243" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="4243" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_37&#45;&gt;raw_77 -->
<g id="edge77" class="edge">
<title>prose_37&#45;&gt;raw_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4313.5765,-2002.4104C4301.2658,-1992.729 4286.5504,-1978.6961 4279,-1962.432 4205.8849,-1804.9366 4227.5777,-1587.0244 4238.4758,-1509.8221"/>
<polygon fill="#000000" stroke="#000000" points="4242.0048,-1509.8786 4239.9928,-1499.4765 4235.0789,-1508.8629 4242.0048,-1509.8786"/>
</g>
<!-- prespace_78 -->
<g id="node79" class="node">
<title>prespace_78</title>
<ellipse fill="none" stroke="#000000" cx="4334" cy="-1481.3168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4334" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_37&#45;&gt;prespace_78 -->
<g id="edge78" class="edge">
<title>prose_37&#45;&gt;prespace_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4334,-1998.3211C4334,-1919.4783 4334,-1605.8205 4334,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="4337.5001,-1509.4231 4334,-1499.4232 4330.5001,-1509.4232 4337.5001,-1509.4231"/>
</g>
<!-- literal_79 -->
<g id="node80" class="node">
<title>literal_79</title>
<ellipse fill="none" stroke="#000000" cx="4430" cy="-1481.3168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4430" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_37&#45;&gt;literal_79 -->
<g id="edge79" class="edge">
<title>prose_37&#45;&gt;literal_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4354.3663,-2002.3837C4366.6543,-1992.6917 4381.3657,-1978.6569 4389,-1962.432 4462.9884,-1805.1863 4444.0333,-1587.1194 4434.1451,-1509.8492"/>
<polygon fill="#000000" stroke="#000000" points="4437.5555,-1508.9438 4432.7641,-1499.4943 4430.6169,-1509.8693 4437.5555,-1508.9438"/>
</g>
<!-- raw_80 -->
<g id="node81" class="node">
<title>raw_80</title>
<ellipse fill="none" stroke="#000000" cx="4506" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="4506" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_37&#45;&gt;raw_80 -->
<g id="edge80" class="edge">
<title>prose_37&#45;&gt;raw_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4365.9822,-2013.3045C4397.9372,-2008.3311 4445.7043,-1995.4925 4470,-1962.432 4573.9586,-1820.9696 4531.8236,-1588.6556 4513.1296,-1509.0726"/>
<polygon fill="#000000" stroke="#000000" points="4516.5189,-1508.1976 4510.7687,-1499.299 4509.7146,-1509.8412 4516.5189,-1508.1976"/>
</g>
<!-- raw_85 -->
<g id="node86" class="node">
<title>raw_85</title>
<ellipse fill="none" stroke="#000000" cx="4578" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="4578" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_38&#45;&gt;raw_85 -->
<g id="edge85" class="edge">
<title>prose_38&#45;&gt;raw_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4514.6458,-2000.7515C4524.5349,-1990.8323 4536.0461,-1977.1369 4542,-1962.432 4607.0158,-1801.8546 4590.4747,-1586.7029 4581.7217,-1509.9756"/>
<polygon fill="#000000" stroke="#000000" points="4585.1541,-1509.1991 4580.4974,-1499.6825 4578.2031,-1510.0259 4585.1541,-1509.1991"/>
</g>
<!-- leaf_87 -->
<g id="node88" class="node">
<title>leaf_87</title>
<polygon fill="none" stroke="#c0c0c0" points="4982.5,-1640.1174 4623.5,-1640.1174 4623.5,-1322.5162 4982.5,-1322.5162 4982.5,-1640.1174"/>
<text text-anchor="middle" x="4803" y="-1625.0171" font-family="Inconsolata" font-size="14.00" fill="#000000">local usecolors</text>
<text text-anchor="middle" x="4803" y="-1609.617" font-family="Inconsolata" font-size="14.00" fill="#000000">stdout = &quot;&quot;</text>
<text text-anchor="middle" x="4803" y="-1578.217" font-family="Inconsolata" font-size="14.00" fill="#000000">if uv.guess_handle(1) == &quot;tty&quot; then</text>
<text text-anchor="middle" x="4803" y="-1562.817" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;stdout = uv.new_tty(1, false)</text>
<text text-anchor="middle" x="4803" y="-1547.417" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;usecolors = true</text>
<text text-anchor="middle" x="4803" y="-1532.0169" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="4803" y="-1516.6169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;stdout = uv.new_pipe(false)</text>
<text text-anchor="middle" x="4803" y="-1501.2169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.pipe_open(utils.stdout, 1)</text>
<text text-anchor="middle" x="4803" y="-1485.8168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;usecolors = false</text>
<text text-anchor="middle" x="4803" y="-1470.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4803" y="-1439.0168" font-family="Inconsolata" font-size="14.00" fill="#000000">if not usecolors then</text>
<text text-anchor="middle" x="4803" y="-1423.6167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;ts = tostring</text>
<text text-anchor="middle" x="4803" y="-1408.2167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; #todo make this properly black and white ts</text>
<text text-anchor="middle" x="4803" y="-1392.8167" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4803" y="-1361.4166" font-family="Inconsolata" font-size="14.00" fill="#000000">function write(str)</text>
<text text-anchor="middle" x="4803" y="-1346.0166" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.write(stdout, str)</text>
<text text-anchor="middle" x="4803" y="-1330.6166" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_39&#45;&gt;leaf_87 -->
<g id="edge87" class="edge">
<title>codeblock_39&#45;&gt;leaf_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4717.0122,-1998.3211C4726.016,-1944.1854 4753.4323,-1779.3441 4774.9139,-1650.1855"/>
<polygon fill="#000000" stroke="#000000" points="4778.3921,-1650.605 4776.5803,-1640.1662 4771.487,-1649.4564 4778.3921,-1650.605"/>
</g>
<!-- leaf_88 -->
<g id="node89" class="node">
<title>leaf_88</title>
<polygon fill="none" stroke="#c0c0c0" points="5373.5,-1547.0172 5000.5,-1547.0172 5000.5,-1415.6164 5373.5,-1415.6164 5373.5,-1547.0172"/>
<text text-anchor="middle" x="5187" y="-1531.7169" font-family="Inconsolata" font-size="14.00" fill="#000000">function print(...)</text>
<text text-anchor="middle" x="5187" y="-1516.3169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local n = select(&#39;#&#39;, ...)</text>
<text text-anchor="middle" x="5187" y="-1500.9169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local arguments = {...}</text>
<text text-anchor="middle" x="5187" y="-1485.5168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 1, n do</text>
<text text-anchor="middle" x="5187" y="-1470.1168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;arguments[i] = tostring(arguments[i])</text>
<text text-anchor="middle" x="5187" y="-1454.7168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="5187" y="-1439.3167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.write(stdout, concat(arguments, &quot;\t&quot;) .. &quot;\n&quot;)</text>
<text text-anchor="middle" x="5187" y="-1423.9167" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_40&#45;&gt;leaf_88 -->
<g id="edge88" class="edge">
<title>codeblock_40&#45;&gt;leaf_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5046.9075,-1998.3211C5065.4995,-1929.7083 5132.2788,-1683.2626 5166.4865,-1557.021"/>
<polygon fill="#000000" stroke="#000000" points="5169.9551,-1557.6024 5169.1924,-1547.035 5163.1987,-1555.7716 5169.9551,-1557.6024"/>
</g>
<!-- header_89 -->
<g id="node90" class="node">
<title>header_89</title>
<ellipse fill="none" stroke="#000000" cx="5447" cy="-1481.3168" rx="55.6456" ry="18"/>
<text text-anchor="middle" x="5447" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : tty setup</text>
</g>
<!-- section_41&#45;&gt;header_89 -->
<g id="edge89" class="edge">
<title>section_41&#45;&gt;header_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5498.2062,-1998.3211C5490.3973,-1919.4783 5459.3314,-1605.8205 5449.7972,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="5453.262,-1509.0295 5448.7933,-1499.4232 5446.2961,-1509.7195 5453.262,-1509.0295"/>
</g>
<!-- prose_90 -->
<g id="node91" class="node">
<title>prose_90</title>
<ellipse fill="none" stroke="#000000" cx="5553" cy="-1481.3168" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5553" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_41&#45;&gt;prose_90 -->
<g id="edge90" class="edge">
<title>section_41&#45;&gt;prose_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5504.7246,-1998.0528C5507.2341,-1987.6617 5510.1697,-1974.3934 5512,-1962.432 5538.1116,-1791.7888 5548.7444,-1584.3624 5551.9049,-1509.749"/>
<polygon fill="#000000" stroke="#000000" points="5555.4194,-1509.4667 5552.3336,-1499.3312 5548.4253,-1509.1788 5555.4194,-1509.4667"/>
</g>
<!-- codeblock_91 -->
<g id="node92" class="node">
<title>codeblock_91</title>
<ellipse fill="none" stroke="#000000" cx="5690" cy="-1481.3168" rx="86.7905" ry="18"/>
<text text-anchor="middle" x="5690" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 114&#45;122</text>
</g>
<!-- section_41&#45;&gt;codeblock_91 -->
<g id="edge91" class="edge">
<title>section_41&#45;&gt;codeblock_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5542.1585,-2001.5524C5560.7641,-1992.9098 5581.2589,-1980.1604 5594,-1962.432 5697.7315,-1818.0966 5696.1374,-1589.3729 5692.0046,-1509.7553"/>
<polygon fill="#000000" stroke="#000000" points="5695.4852,-1509.3167 5691.4153,-1499.5348 5688.4968,-1509.7198 5695.4852,-1509.3167"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="1788,-571.1024 1734,-571.1024 1734,-515.2994 1788,-515.2994 1788,-571.1024"/>
<text text-anchor="middle" x="1761" y="-523.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">The</text>
</g>
<!-- raw_43&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>raw_43&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1908.3699,-1463.186C1923.6234,-1395.3602 1968.2711,-1152.6803 1867,-1000.2017 1847.6447,-971.0594 1816.4797,-993.2609 1797,-964.2017 1716.57,-844.2186 1738.571,-659.7341 1753.0129,-580.96"/>
<polygon fill="#000000" stroke="#000000" points="1756.4763,-581.4816 1754.9025,-571.0043 1749.5991,-580.1763 1756.4763,-581.4816"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="1860,-561.2009 1806,-561.2009 1806,-525.2009 1860,-525.2009 1860,-561.2009"/>
<text text-anchor="middle" x="1833" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_44&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>prespace_44&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1998.5569,-1463.0785C2010.7943,-1394.8711 2044.8829,-1151.011 1940,-1000.2017 1919.7993,-971.1554 1888.7845,-993.533 1869,-964.2017 1784.7209,-839.254 1812.5312,-643.6984 1826.7991,-571.3452"/>
<polygon fill="#000000" stroke="#000000" points="1830.2987,-571.7011 1828.8724,-561.2027 1823.4405,-570.2991 1830.2987,-571.7011"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="1932,-561.2009 1878,-561.2009 1878,-525.2009 1932,-525.2009 1932,-561.2009"/>
<text text-anchor="middle" x="1905" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">core</text>
</g>
<!-- literal_45&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>literal_45&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2095.8083,-1463.1007C2112.8931,-1393.943 2163.7756,-1144.2826 2050,-1000.2017 2018.3821,-960.162 1972.6237,-1004.2367 1941,-964.2017 1847.171,-845.4157 1881.2153,-644.5886 1897.9495,-571.16"/>
<polygon fill="#000000" stroke="#000000" points="1901.3918,-571.8114 1900.2756,-561.2756 1894.5779,-570.2079 1901.3918,-571.8114"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="2435.5,-562.5014 1950.5,-562.5014 1950.5,-523.9003 2435.5,-523.9003 2435.5,-562.5014"/>
<text text-anchor="middle" x="2193" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> library is shaping up as a place to keep alterations to the global</text>
<text text-anchor="middle" x="2193" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">namespace and standard library.</text>
</g>
<!-- raw_46&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>raw_46&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2184.1757,-1462.9982C2185.2854,-1347.3297 2191.3188,-718.4419 2192.7126,-573.1606"/>
<polygon fill="#000000" stroke="#000000" points="2196.2157,-572.8414 2192.8119,-562.8083 2189.216,-572.7742 2196.2157,-572.8414"/>
</g>
<!-- leaf_58 -->
<g id="node59" class="node">
<title>leaf_58</title>
<polygon fill="none" stroke="#c0c0c0" points="2630.5,-563.103 2453.5,-563.103 2453.5,-523.2988 2630.5,-523.2988 2630.5,-563.103"/>
<text text-anchor="middle" x="2542" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">This prelude belongs in</text>
</g>
<!-- raw_51&#45;&gt;leaf_58 -->
<g id="edge58" class="edge">
<title>raw_51&#45;&gt;leaf_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2552.7852,-1462.9982C2551.4304,-1347.4543 2544.0707,-719.7966 2542.3568,-573.6319"/>
<polygon fill="#000000" stroke="#000000" points="2545.8517,-573.1644 2542.2346,-563.2062 2538.8522,-573.2466 2545.8517,-573.1644"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="2703,-561.2009 2649,-561.2009 2649,-525.2009 2703,-525.2009 2703,-561.2009"/>
<text text-anchor="middle" x="2676" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_52&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>prespace_52&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2658.3515,-1462.9982C2660.5804,-1346.8311 2672.7418,-713.0109 2675.4607,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="2678.961,-571.3193 2675.6536,-561.254 2671.9623,-571.1849 2678.961,-571.3193"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="2775,-561.2009 2721,-561.2009 2721,-525.2009 2775,-525.2009 2775,-561.2009"/>
<text text-anchor="middle" x="2748" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">pylon</text>
</g>
<!-- literal_53&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>literal_53&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2753.8828,-1462.9982C2753.1399,-1346.8311 2749.0861,-713.0109 2748.1798,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="2751.6794,-571.2313 2748.1155,-561.254 2744.6796,-571.2762 2751.6794,-571.2313"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="2872.5,-561.2009 2793.5,-561.2009 2793.5,-525.2009 2872.5,-525.2009 2872.5,-561.2009"/>
<text text-anchor="middle" x="2833" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">; it, and</text>
</g>
<!-- raw_54&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>raw_54&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2830.0586,-1462.9982C2830.4301,-1346.8311 2832.457,-713.0109 2832.9101,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="2836.4102,-571.2651 2832.9423,-561.254 2829.4102,-571.2427 2836.4102,-571.2651"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="2945,-561.2009 2891,-561.2009 2891,-525.2009 2945,-525.2009 2945,-561.2009"/>
<text text-anchor="middle" x="2918" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_55&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>prespace_55&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2920.9414,-1462.9982C2920.5699,-1346.8311 2918.543,-713.0109 2918.0899,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="2921.5898,-571.2427 2918.0577,-561.254 2914.5898,-571.2651 2921.5898,-571.2427"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="3017,-561.2009 2963,-561.2009 2963,-525.2009 3017,-525.2009 3017,-561.2009"/>
<text text-anchor="middle" x="2990" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">core</text>
</g>
<!-- literal_56&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>literal_56&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3016.4728,-1462.9982C3013.1294,-1346.8311 2994.8873,-713.0109 2990.809,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="2994.3059,-571.1491 2990.5196,-561.254 2987.3088,-571.3505 2994.3059,-571.1491"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="3268.5,-561.2009 3035.5,-561.2009 3035.5,-525.2009 3268.5,-525.2009 3268.5,-561.2009"/>
<text text-anchor="middle" x="3152" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">, will eventually end up there.</text>
</g>
<!-- raw_57&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>raw_57&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3120.6249,-1462.9982C3124.5874,-1346.8311 3146.2076,-713.0109 3151.0412,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="3154.5412,-571.3675 3151.3842,-561.254 3147.5452,-571.1288 3154.5412,-571.3675"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="3561.5,-563.103 3286.5,-563.103 3286.5,-523.2988 3561.5,-523.2988 3561.5,-563.103"/>
<text text-anchor="middle" x="3424" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">Primitives for terminal manipulation.</text>
</g>
<!-- raw_66&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>raw_66&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3627.2239,-1462.9342C3630.9943,-1398.0733 3639.3296,-1174.4484 3589,-1000.2017 3583.9796,-982.8205 3577.2068,-980.7959 3570,-964.2017 3507.8585,-821.1162 3453.0271,-642.2328 3432.5455,-572.7247"/>
<polygon fill="#000000" stroke="#000000" points="3435.8385,-571.5159 3429.6665,-562.9045 3429.1213,-573.4853 3435.8385,-571.5159"/>
</g>
<!-- leaf_72 -->
<g id="node73" class="node">
<title>leaf_72</title>
<polygon fill="none" stroke="#c0c0c0" points="3784.5,-563.103 3579.5,-563.103 3579.5,-523.2988 3784.5,-523.2988 3784.5,-563.103"/>
<text text-anchor="middle" x="3682" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">Arguably don&#39;t belong here.</text>
</g>
<!-- raw_68&#45;&gt;leaf_72 -->
<g id="edge72" class="edge">
<title>raw_68&#45;&gt;leaf_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3697.6876,-1462.9982C3695.7169,-1347.4543 3685.0119,-719.7966 3682.519,-573.6319"/>
<polygon fill="#000000" stroke="#000000" points="3686.0113,-573.145 3682.3412,-563.2062 3679.0123,-573.2645 3686.0113,-573.145"/>
</g>
<!-- leaf_73 -->
<g id="node74" class="node">
<title>leaf_73</title>
<polygon fill="none" stroke="#c0c0c0" points="3857,-561.2009 3803,-561.2009 3803,-525.2009 3857,-525.2009 3857,-561.2009"/>
<text text-anchor="middle" x="3830" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_69&#45;&gt;leaf_73 -->
<g id="edge73" class="edge">
<title>prespace_69&#45;&gt;leaf_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3789.8006,-1462.9982C3794.8776,-1346.8311 3822.5785,-713.0109 3828.7715,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="3832.2709,-571.3973 3829.211,-561.254 3825.2776,-571.0916 3832.2709,-571.3973"/>
</g>
<!-- leaf_74 -->
<g id="node75" class="node">
<title>leaf_74</title>
<polygon fill="none" stroke="#c0c0c0" points="3929,-561.2009 3875,-561.2009 3875,-525.2009 3929,-525.2009 3929,-561.2009"/>
<text text-anchor="middle" x="3902" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">watch</text>
</g>
<!-- literal_70&#45;&gt;leaf_74 -->
<g id="edge74" class="edge">
<title>literal_70&#45;&gt;leaf_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3885.332,-1462.9982C3887.4371,-1346.8311 3898.9228,-713.0109 3901.4906,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="3904.991,-571.3158 3901.6729,-561.254 3897.9921,-571.1889 3904.991,-571.3158"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="4243,-562.5014 3947,-562.5014 3947,-523.9003 4243,-523.9003 4243,-562.5014"/>
<text text-anchor="middle" x="4095" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> is unused at present, it will be useful</text>
<text text-anchor="middle" x="4095" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">in Orb relatively soon.</text>
</g>
<!-- raw_71&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>raw_71&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3961.4614,-1463.3087C3963.2791,-1399.6917 3971.1628,-1179.693 3997,-1000.2017 4020.5263,-836.7642 4068.5724,-644.3998 4087.292,-572.3643"/>
<polygon fill="#000000" stroke="#000000" points="4090.6945,-573.1869 4089.8347,-562.627 4083.9216,-571.4183 4090.6945,-573.1869"/>
</g>
<!-- leaf_81 -->
<g id="node82" class="node">
<title>leaf_81</title>
<polygon fill="none" stroke="#c0c0c0" points="4417,-563.103 4261,-563.103 4261,-523.2988 4417,-523.2988 4417,-563.103"/>
<text text-anchor="middle" x="4339" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">This is all from the</text>
</g>
<!-- raw_77&#45;&gt;leaf_81 -->
<g id="edge81" class="edge">
<title>raw_77&#45;&gt;leaf_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4244.0047,-1462.931C4247.5796,-1398.9552 4260.4671,-1180.1725 4279,-1000.2017 4295.6071,-838.9316 4323.5076,-646.6919 4334.4248,-573.5085"/>
<polygon fill="#000000" stroke="#000000" points="4337.9489,-573.6075 4335.968,-563.1995 4331.0261,-572.5711 4337.9489,-573.6075"/>
</g>
<!-- leaf_82 -->
<g id="node83" class="node">
<title>leaf_82</title>
<polygon fill="none" stroke="#c0c0c0" points="4489,-561.2009 4435,-561.2009 4435,-525.2009 4489,-525.2009 4489,-561.2009"/>
<text text-anchor="middle" x="4462" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_78&#45;&gt;leaf_82 -->
<g id="edge82" class="edge">
<title>prespace_78&#45;&gt;leaf_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4332.0137,-1463.1162C4325.6173,-1397.0082 4310.341,-1164.8406 4390,-1000.2017 4399.8551,-979.8331 4416.4574,-984.7184 4426,-964.2017 4488.9896,-828.7731 4474.5552,-642.4568 4466.0086,-571.8668"/>
<polygon fill="#000000" stroke="#000000" points="4469.4314,-571.0365 4464.7002,-561.5567 4462.4871,-571.9178 4469.4314,-571.0365"/>
</g>
<!-- leaf_83 -->
<g id="node84" class="node">
<title>leaf_83</title>
<polygon fill="none" stroke="#c0c0c0" points="4561,-561.2009 4507,-561.2009 4507,-525.2009 4561,-525.2009 4561,-561.2009"/>
<text text-anchor="middle" x="4534" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">luv</text>
</g>
<!-- literal_79&#45;&gt;leaf_83 -->
<g id="edge83" class="edge">
<title>literal_79&#45;&gt;leaf_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4427.8993,-1463.0182C4421.1167,-1397.519 4403.8914,-1169.6406 4470,-1000.2017 4477.3676,-981.3182 4490.6102,-983.0764 4498,-964.2017 4552.4527,-825.1208 4543.0609,-640.9618 4536.9359,-571.4078"/>
<polygon fill="#000000" stroke="#000000" points="4540.4025,-570.8861 4535.9912,-561.2533 4533.4326,-571.5346 4540.4025,-570.8861"/>
</g>
<!-- leaf_84 -->
<g id="node85" class="node">
<title>leaf_84</title>
<polygon fill="none" stroke="#c0c0c0" points="4959,-562.5014 4579,-562.5014 4579,-523.9003 4959,-523.9003 4959,-562.5014"/>
<text text-anchor="middle" x="4769" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> repl example, which has been an excellent launching</text>
<text text-anchor="middle" x="4769" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">off point. &#160;Thanks Tim Caswell!</text>
</g>
<!-- raw_80&#45;&gt;leaf_84 -->
<g id="edge84" class="edge">
<title>raw_80&#45;&gt;leaf_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4503.7008,-1463.0294C4496.2172,-1397.568 4476.6347,-1169.8016 4542,-1000.2017 4549.2895,-981.288 4559.3828,-981.4684 4570,-964.2017 4655.7669,-824.7194 4730.3852,-642.4208 4757.8102,-572.3642"/>
<polygon fill="#000000" stroke="#000000" points="4761.1435,-573.4494 4761.5098,-562.8609 4754.6204,-570.9099 4761.1435,-573.4494"/>
</g>
<!-- leaf_86 -->
<g id="node87" class="node">
<title>leaf_86</title>
<polygon fill="none" stroke="#c0c0c0" points="5238.5,-563.103 4977.5,-563.103 4977.5,-523.2988 5238.5,-523.2988 5238.5,-563.103"/>
<text text-anchor="middle" x="5108" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">It&#39;s getting phased out bit by bit.</text>
</g>
<!-- raw_85&#45;&gt;leaf_86 -->
<g id="edge86" class="edge">
<title>raw_85&#45;&gt;leaf_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4576.436,-1463.2657C4569.9807,-1383.9406 4548.7013,-1067.2648 4614,-1000.2017 4669.1624,-943.5487 4906.295,-1013.6479 4968,-964.2017 5092.0008,-864.8358 5107.0648,-652.2238 5108.2399,-573.411"/>
<polygon fill="#000000" stroke="#000000" points="5111.7414,-573.2322 5108.3235,-563.2038 5104.7417,-573.1748 5111.7414,-573.2322"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="5500.5,-561.2009 5393.5,-561.2009 5393.5,-525.2009 5500.5,-525.2009 5500.5,-561.2009"/>
<text text-anchor="middle" x="5447" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">*** tty setup</text>
</g>
<!-- header_89&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>header_89&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5447,-1462.9982C5447,-1346.8311 5447,-713.0109 5447,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="5450.5001,-571.2539 5447,-561.254 5443.5001,-571.254 5450.5001,-571.2539"/>
</g>
<!-- raw_93 -->
<g id="node94" class="node">
<title>raw_93</title>
<ellipse fill="none" stroke="#000000" cx="5549" cy="-543.2009" rx="27" ry="18"/>
<text text-anchor="middle" x="5549" y="-539.0009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_90&#45;&gt;raw_93 -->
<g id="edge93" class="edge">
<title>prose_90&#45;&gt;raw_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5552.9219,-1462.9982C5552.4266,-1346.8311 5549.724,-713.0109 5549.1198,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="5552.6197,-571.2389 5549.077,-561.254 5545.6197,-571.2688 5552.6197,-571.2389"/>
</g>
<!-- leaf_95 -->
<g id="node96" class="node">
<title>leaf_95</title>
<polygon fill="none" stroke="#c0c0c0" points="5869.5,-601.6018 5594.5,-601.6018 5594.5,-484.8 5869.5,-484.8 5869.5,-601.6018"/>
<text text-anchor="middle" x="5732" y="-586.201" font-family="Inconsolata" font-size="14.00" fill="#000000">if uv.guess_handle(0) ~= &quot;tty&quot; or</text>
<text text-anchor="middle" x="5732" y="-570.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.guess_handle(1) ~= &quot;tty&quot; then</text>
<text text-anchor="middle" x="5732" y="-555.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; Entry point for other consumers!</text>
<text text-anchor="middle" x="5732" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;error &quot;stdio must be a tty&quot;</text>
<text text-anchor="middle" x="5732" y="-524.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5732" y="-493.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">local stdin = uv.new_tty(0, true)</text>
</g>
<!-- codeblock_91&#45;&gt;leaf_95 -->
<g id="edge95" class="edge">
<title>codeblock_91&#45;&gt;leaf_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5690.8201,-1462.9982C5695.6268,-1355.6371 5720.2285,-806.1298 5728.9387,-611.578"/>
<polygon fill="#000000" stroke="#000000" points="5732.4399,-611.6269 5729.3908,-601.4804 5725.4469,-611.3138 5732.4399,-611.6269"/>
</g>
<!-- leaf_94 -->
<g id="node95" class="node">
<title>leaf_94</title>
<polygon fill="none" stroke="#c0c0c0" points="5576,-61.1 5522,-61.1 5522,-25.1 5576,-25.1 5576,-61.1"/>
</g>
<!-- raw_93&#45;&gt;leaf_94 -->
<g id="edge94" class="edge">
<title>raw_93&#45;&gt;leaf_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5549,-525.1066C5549,-450.057 5549,-162.9178 5549,-71.3411"/>
<polygon fill="#000000" stroke="#000000" points="5552.5001,-71.17 5549,-61.17 5545.5001,-71.1701 5552.5001,-71.17"/>
</g>
<!-- leaf_101 -->
<g id="node102" class="node">
<title>leaf_101</title>
<polygon fill="none" stroke="#c0c0c0" points="5915.5,-1499.3168 5794.5,-1499.3168 5794.5,-1463.3168 5915.5,-1463.3168 5915.5,-1499.3168"/>
<text text-anchor="middle" x="5855" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">** Modeselektor</text>
</g>
<!-- header_96&#45;&gt;leaf_101 -->
<g id="edge101" class="edge">
<title>header_96&#45;&gt;leaf_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5865.6277,-1998.3211C5864.007,-1919.4783 5857.5593,-1605.8205 5855.5805,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="5859.0771,-1509.3491 5855.3722,-1499.4232 5852.0786,-1509.493 5859.0771,-1509.3491"/>
</g>
<!-- raw_102 -->
<g id="node103" class="node">
<title>raw_102</title>
<ellipse fill="none" stroke="#000000" cx="5961" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="5961" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_97&#45;&gt;raw_102 -->
<g id="edge102" class="edge">
<title>prose_97&#45;&gt;raw_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6021.3116,-2000.3957C6012.5201,-1990.3503 6002.2878,-1976.6473 5997,-1962.432 5936.6018,-1800.0614 5950.2991,-1586.014 5957.7894,-1509.7771"/>
<polygon fill="#000000" stroke="#000000" points="5961.2995,-1509.8569 5958.8399,-1499.5515 5954.3361,-1509.1415 5961.2995,-1509.8569"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="6414,-1523.817 6006,-1523.817 6006,-1438.8167 6414,-1438.8167 6414,-1523.817"/>
<text text-anchor="middle" x="6210" y="-1508.6169" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; This switches screens and does a wipe,</text>
<text text-anchor="middle" x="6210" y="-1493.2169" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; then puts the cursor at 1,1.</text>
<text text-anchor="middle" x="6210" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">write &quot;\x1b[?47h\x1b[2J\x1b[H&quot;</text>
<text text-anchor="middle" x="6210" y="-1462.4168" font-family="Inconsolata" font-size="14.00" fill="#000000">modeS = require &quot;modeselektor&quot; ()</text>
<text text-anchor="middle" x="6210" y="-1447.0168" font-family="Inconsolata" font-size="14.00" fill="#000000">modeS.max_row, modeS.max_col = uv.tty_get_winsize(stdin)</text>
</g>
<!-- codeblock_98&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>codeblock_98&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6198.4061,-1998.3211C6200.0435,-1925.3071 6206.1968,-1650.914 6208.8121,-1534.2898"/>
<polygon fill="#000000" stroke="#000000" points="6212.3138,-1534.2473 6209.039,-1524.1713 6205.3156,-1534.0903 6212.3138,-1534.2473"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="7022,-1962.5472 6432,-1962.5472 6432,-1000.0865 7022,-1000.0865 7022,-1962.5472"/>
<text text-anchor="middle" x="6727" y="-1931.232" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; &#160;*** utilities</text>
<text text-anchor="middle" x="6727" y="-1899.8319" font-family="Inconsolata" font-size="14.00" fill="#000000">local function gatherResults(success, ...)</text>
<text text-anchor="middle" x="6727" y="-1884.4319" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local n = select(&#39;#&#39;, ...)</text>
<text text-anchor="middle" x="6727" y="-1869.0319" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return success, { n = n, ... }</text>
<text text-anchor="middle" x="6727" y="-1853.6318" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6727" y="-1822.2318" font-family="Inconsolata" font-size="14.00" fill="#000000">local function printResults(results)</text>
<text text-anchor="middle" x="6727" y="-1806.8318" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 1, results.n do</text>
<text text-anchor="middle" x="6727" y="-1791.4317" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;results[i] = ts(results[i])</text>
<text text-anchor="middle" x="6727" y="-1776.0317" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="6727" y="-1760.6317" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;print(concat(results, &#39;\t&#39;))</text>
<text text-anchor="middle" x="6727" y="-1745.2317" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6727" y="-1713.8316" font-family="Inconsolata" font-size="14.00" fill="#000000">local buffer = &#39;&#39;</text>
<text text-anchor="middle" x="6727" y="-1682.4316" font-family="Inconsolata" font-size="14.00" fill="#000000">local function evaluateLine(line)</text>
<text text-anchor="middle" x="6727" y="-1667.0316" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if string.byte(line) == 17 then &#45;&#45; ^Q</text>
<text text-anchor="middle" x="6727" y="-1651.6315" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; move this to modeselektor asap</text>
<text text-anchor="middle" x="6727" y="-1636.2315" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;modeS.hist.conn:close()</text>
<text text-anchor="middle" x="6727" y="-1620.8315" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uv.stop()</text>
<text text-anchor="middle" x="6727" y="-1605.4314" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="6727" y="-1590.0314" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6727" y="-1574.6314" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local chunk &#160;= buffer .. line</text>
<text text-anchor="middle" x="6727" y="-1559.2313" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local f, err = loadstring(&#39;return &#39; .. chunk, &#39;REPL&#39;) &#45;&#45; first we prefix return</text>
<text text-anchor="middle" x="6727" y="-1527.8313" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not f then</text>
<text text-anchor="middle" x="6727" y="-1512.4313" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;f, err = loadstring(chunk, &#39;REPL&#39;) &#45;&#45; try again without return</text>
<text text-anchor="middle" x="6727" y="-1497.0312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6727" y="-1465.6312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if f then</text>
<text text-anchor="middle" x="6727" y="-1450.2312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;buffer = &#39;&#39;</text>
<text text-anchor="middle" x="6727" y="-1434.8312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local success, results = gatherResults(xpcall(f, debug.traceback))</text>
<text text-anchor="middle" x="6727" y="-1403.4311" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if success then</text>
<text text-anchor="middle" x="6727" y="-1388.0311" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; successful call</text>
<text text-anchor="middle" x="6727" y="-1372.6311" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if results.n &gt; 0 then</text>
<text text-anchor="middle" x="6727" y="-1357.231" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;printResults(results)</text>
<text text-anchor="middle" x="6727" y="-1341.831" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6727" y="-1326.431" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="6727" y="-1311.0309" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; error</text>
<text text-anchor="middle" x="6727" y="-1295.6309" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;print(results[1])</text>
<text text-anchor="middle" x="6727" y="-1280.2309" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6727" y="-1264.8308" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="6727" y="-1249.4308" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if err:match &quot;&#39;&lt;eof&gt;&#39;$&quot; then</text>
<text text-anchor="middle" x="6727" y="-1234.0308" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Lua expects some more input; stow it away for next time</text>
<text text-anchor="middle" x="6727" y="-1218.6307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;buffer = chunk .. &#39;\n&#39;</text>
<text text-anchor="middle" x="6727" y="-1203.2307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return &#39;...&#39;</text>
<text text-anchor="middle" x="6727" y="-1187.8307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="6727" y="-1172.4307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;print(err)</text>
<text text-anchor="middle" x="6727" y="-1157.0306" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;buffer = &#39;&#39;</text>
<text text-anchor="middle" x="6727" y="-1141.6306" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6727" y="-1126.2306" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6727" y="-1094.8305" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return &#39;👉 &#39;</text>
<text text-anchor="middle" x="6727" y="-1070.6018" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6727" y="-1039.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">local function displayPrompt(prompt)</text>
<text text-anchor="middle" x="6727" y="-1023.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.write(stdout, prompt)</text>
<text text-anchor="middle" x="6727" y="-1008.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_99&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>codeblock_99&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6559.8551,-1998.3211C6562.092,-1991.4021 6564.9136,-1982.6747 6568.2209,-1972.4446"/>
<polygon fill="#000000" stroke="#000000" points="6571.6461,-1973.2276 6571.392,-1962.6358 6564.9855,-1971.0742 6571.6461,-1973.2276"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="7413.5,-1562.3171 7040.5,-1562.3171 7040.5,-1400.3165 7413.5,-1400.3165 7413.5,-1562.3171"/>
<text text-anchor="middle" x="7227" y="-1547.117" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Deprecated, but useful if I want, y&#39;know, a REPL</text>
<text text-anchor="middle" x="7227" y="-1531.7169" font-family="Inconsolata" font-size="14.00" fill="#000000">local function onread(err, line)</text>
<text text-anchor="middle" x="7227" y="-1516.3169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if err then error(err) end</text>
<text text-anchor="middle" x="7227" y="-1500.9169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if line then</text>
<text text-anchor="middle" x="7227" y="-1485.5168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local prompt = evaluateLine(line)</text>
<text text-anchor="middle" x="7227" y="-1470.1168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;displayPrompt(prompt)</text>
<text text-anchor="middle" x="7227" y="-1454.7168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="7227" y="-1439.3167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;uv.close(stdin)</text>
<text text-anchor="middle" x="7227" y="-1423.9167" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="7227" y="-1408.5167" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_100&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>codeblock_100&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7003.93,-1998.4543C7012.7888,-1988.4024 7023.351,-1975.3299 7031,-1962.432 7106.8006,-1834.6143 7166.2187,-1672.0329 7198.9432,-1572.3822"/>
<polygon fill="#000000" stroke="#000000" points="7202.3473,-1573.2326 7202.1231,-1562.6401 7195.6928,-1571.0604 7202.3473,-1573.2326"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="5988,-561.2009 5934,-561.2009 5934,-525.2009 5988,-525.2009 5988,-561.2009"/>
</g>
<!-- raw_102&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>raw_102&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5961,-1462.9982C5961,-1346.8311 5961,-713.0109 5961,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="5964.5001,-571.2539 5961,-561.254 5957.5001,-571.254 5964.5001,-571.2539"/>
</g>
<!-- leaf_110 -->
<g id="node111" class="node">
<title>leaf_110</title>
<polygon fill="none" stroke="#c0c0c0" points="7510.5,-1499.3168 7431.5,-1499.3168 7431.5,-1463.3168 7510.5,-1463.3168 7510.5,-1499.3168"/>
<text text-anchor="middle" x="7471" y="-1477.8168" font-family="Inconsolata" font-size="14.00" fill="#000000">** Reader</text>
</g>
<!-- header_107&#45;&gt;leaf_110 -->
<g id="edge110" class="edge">
<title>header_107&#45;&gt;leaf_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7531.3906,-1998.2535C7527.3771,-1987.9251 7522.7317,-1974.6528 7520,-1962.432 7482.2067,-1793.3536 7473.5038,-1584.2532 7471.5497,-1509.5072"/>
<polygon fill="#000000" stroke="#000000" points="7475.0479,-1509.3874 7471.3077,-1499.4747 7468.0499,-1509.5562 7475.0479,-1509.3874"/>
</g>
<!-- raw_111 -->
<g id="node112" class="node">
<title>raw_111</title>
<ellipse fill="none" stroke="#000000" cx="7556" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="7556" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_108&#45;&gt;raw_111 -->
<g id="edge111" class="edge">
<title>prose_108&#45;&gt;raw_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7749.6586,-2011.8597C7701.2754,-2004.1141 7611.8827,-1986.8393 7592,-1962.432 7480.8705,-1826.0131 7527.8816,-1589.52 7548.3285,-1509.0482"/>
<polygon fill="#000000" stroke="#000000" points="7551.7663,-1509.7356 7550.9052,-1499.1758 7544.9932,-1507.9678 7551.7663,-1509.7356"/>
</g>
<!-- prespace_112 -->
<g id="node113" class="node">
<title>prespace_112</title>
<ellipse fill="none" stroke="#000000" cx="7647" cy="-1481.3168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="7647" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_108&#45;&gt;prespace_112 -->
<g id="edge112" class="edge">
<title>prose_108&#45;&gt;prespace_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7755.156,-2005.5856C7737.3993,-1996.7029 7714.951,-1982.3438 7703,-1962.432 7612.8989,-1812.3124 7632.3155,-1588.1362 7642.7056,-1509.6649"/>
<polygon fill="#000000" stroke="#000000" points="7646.197,-1509.9673 7644.0994,-1499.5822 7639.2629,-1509.0086 7646.197,-1509.9673"/>
</g>
<!-- literal_113 -->
<g id="node114" class="node">
<title>literal_113</title>
<ellipse fill="none" stroke="#000000" cx="7743" cy="-1481.3168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="7743" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_108&#45;&gt;literal_113 -->
<g id="edge113" class="edge">
<title>prose_108&#45;&gt;literal_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7779.7139,-1998.3211C7774.1151,-1919.4783 7751.8413,-1605.8205 7745.0055,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="7748.4854,-1509.1501 7744.2858,-1499.4232 7741.503,-1509.646 7748.4854,-1509.1501"/>
</g>
<!-- raw_114 -->
<g id="node115" class="node">
<title>raw_114</title>
<ellipse fill="none" stroke="#000000" cx="7819" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="7819" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_108&#45;&gt;raw_114 -->
<g id="edge114" class="edge">
<title>prose_108&#45;&gt;raw_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7782.2861,-1998.3211C7787.8849,-1919.4783 7810.1587,-1605.8205 7816.9945,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="7820.497,-1509.646 7817.7142,-1499.4232 7813.5146,-1509.1501 7820.497,-1509.646"/>
</g>
<!-- prespace_115 -->
<g id="node116" class="node">
<title>prespace_115</title>
<ellipse fill="none" stroke="#000000" cx="7969" cy="-1481.3168" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="7969" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_108&#45;&gt;prespace_115 -->
<g id="edge115" class="edge">
<title>prose_108&#45;&gt;prespace_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7805.5751,-2004.4414C7821.9997,-1995.1817 7842.7645,-1980.844 7855,-1962.432 7953.9189,-1813.5782 7967.3423,-1588.6088 7968.9067,-1509.7973"/>
<polygon fill="#000000" stroke="#000000" points="7972.4081,-1509.7204 7969.0564,-1499.6698 7965.4089,-1509.6169 7972.4081,-1509.7204"/>
</g>
<!-- literal_116 -->
<g id="node117" class="node">
<title>literal_116</title>
<ellipse fill="none" stroke="#000000" cx="8095" cy="-1481.3168" rx="31.481" ry="18"/>
<text text-anchor="middle" x="8095" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_108&#45;&gt;literal_116 -->
<g id="edge116" class="edge">
<title>prose_108&#45;&gt;literal_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7813.2065,-2013.7342C7872.5439,-2008.0737 7995.6672,-1992.8865 8024,-1962.432 8144.9334,-1832.4422 8115.0989,-1591.3833 8100.5862,-1509.4308"/>
<polygon fill="#000000" stroke="#000000" points="8104.0285,-1508.7975 8098.7801,-1499.594 8097.1436,-1510.0617 8104.0285,-1508.7975"/>
</g>
<!-- raw_117 -->
<g id="node118" class="node">
<title>raw_117</title>
<ellipse fill="none" stroke="#000000" cx="8186" cy="-1481.3168" rx="27" ry="18"/>
<text text-anchor="middle" x="8186" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_108&#45;&gt;raw_117 -->
<g id="edge117" class="edge">
<title>prose_108&#45;&gt;raw_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7813.101,-2013.759C7896.0899,-2006.543 8112.8307,-1985.6398 8135,-1962.432 8257.2815,-1834.422 8212.7852,-1591.0888 8193.2406,-1509.0864"/>
<polygon fill="#000000" stroke="#000000" points="8196.6112,-1508.1353 8190.8305,-1499.2564 8189.8125,-1509.8022 8196.6112,-1508.1353"/>
</g>
<!-- header_125 -->
<g id="node126" class="node">
<title>header_125</title>
<ellipse fill="none" stroke="#000000" cx="8349" cy="-1481.3168" rx="111.2326" ry="18"/>
<text text-anchor="middle" x="8349" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : process_escapes(seq)</text>
</g>
<!-- section_109&#45;&gt;header_125 -->
<g id="edge125" class="edge">
<title>section_109&#45;&gt;header_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8494.5811,-1998.6603C8486.138,-1988.6689 8476.3211,-1975.5883 8470,-1962.432 8392.8544,-1801.8662 8361.3827,-1586.7074 8352.1389,-1509.9769"/>
<polygon fill="#000000" stroke="#000000" points="8355.573,-1509.2084 8350.9336,-1499.6834 8348.6205,-1510.0226 8355.573,-1509.2084"/>
</g>
<!-- prose_126 -->
<g id="node127" class="node">
<title>prose_126</title>
<ellipse fill="none" stroke="#000000" cx="8511" cy="-1481.3168" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8511" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_109&#45;&gt;prose_126 -->
<g id="edge126" class="edge">
<title>section_109&#45;&gt;prose_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8511,-1998.3211C8511,-1919.4783 8511,-1605.8205 8511,-1509.5583"/>
<polygon fill="#000000" stroke="#000000" points="8514.5001,-1509.4231 8511,-1499.4232 8507.5001,-1509.4232 8514.5001,-1509.4231"/>
</g>
<!-- codeblock_127 -->
<g id="node128" class="node">
<title>codeblock_127</title>
<ellipse fill="none" stroke="#000000" cx="8729" cy="-1481.3168" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="8729" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 220&#45;275</text>
</g>
<!-- section_109&#45;&gt;codeblock_127 -->
<g id="edge127" class="edge">
<title>section_109&#45;&gt;codeblock_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8526.8693,-1998.3781C8535.1515,-1988.304 8544.9899,-1975.2345 8552,-1962.432 8640.5883,-1800.6432 8701.747,-1585.4849 8721.8267,-1509.4096"/>
<polygon fill="#000000" stroke="#000000" points="8725.2433,-1510.1783 8724.386,-1499.6182 8718.4709,-1508.4081 8725.2433,-1510.1783"/>
</g>
<!-- codeblock_128 -->
<g id="node129" class="node">
<title>codeblock_128</title>
<ellipse fill="none" stroke="#000000" cx="9133" cy="-1481.3168" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9133" y="-1477.1168" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 277&#45;308</text>
</g>
<!-- section_109&#45;&gt;codeblock_128 -->
<g id="edge128" class="edge">
<title>section_109&#45;&gt;codeblock_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8583.0773,-2010.783C8663.1541,-2003.3494 8786.2839,-1988.1215 8825,-1962.432 8999.9236,-1846.3638 9096.1484,-1593.3132 9124.2278,-1509.1576"/>
<polygon fill="#000000" stroke="#000000" points="9127.5943,-1510.1238 9127.3864,-1499.531 9120.9432,-1507.9415 9127.5943,-1510.1238"/>
</g>
<!-- leaf_118 -->
<g id="node119" class="node">
<title>leaf_118</title>
<polygon fill="none" stroke="#c0c0c0" points="7483,-571.1024 7201,-571.1024 7201,-515.2994 7483,-515.2994 7483,-571.1024"/>
<text text-anchor="middle" x="7342" y="-523.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">The reader takes a stream of data from</text>
</g>
<!-- raw_111&#45;&gt;leaf_118 -->
<g id="edge118" class="edge">
<title>raw_111&#45;&gt;leaf_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7558.1458,-1463.0662C7565.1039,-1397.7287 7583.0611,-1170.3289 7519,-1000.2017 7511.9521,-981.4846 7501.4634,-981.8211 7492,-964.2017 7420.4683,-831.0206 7370.9331,-656.7015 7351.3462,-581.0067"/>
<polygon fill="#000000" stroke="#000000" points="7354.6538,-579.8138 7348.782,-570.9949 7347.8726,-581.5506 7354.6538,-579.8138"/>
</g>
<!-- leaf_119 -->
<g id="node120" class="node">
<title>leaf_119</title>
<polygon fill="none" stroke="#c0c0c0" points="7555,-561.2009 7501,-561.2009 7501,-525.2009 7555,-525.2009 7555,-561.2009"/>
<text text-anchor="middle" x="7528" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_112&#45;&gt;leaf_119 -->
<g id="edge119" class="edge">
<title>prespace_112&#45;&gt;leaf_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7648.3585,-1462.9816C7652.5195,-1397.3585 7660.926,-1169.1139 7592,-1000.2017 7584.3418,-981.4342 7571.3898,-983.0764 7564,-964.2017 7509.5473,-825.1208 7518.9391,-640.9618 7525.0641,-571.4078"/>
<polygon fill="#000000" stroke="#000000" points="7528.5674,-571.5346 7526.0088,-561.2533 7521.5975,-570.8861 7528.5674,-571.5346"/>
</g>
<!-- leaf_120 -->
<g id="node121" class="node">
<title>leaf_120</title>
<polygon fill="none" stroke="#c0c0c0" points="7627,-561.2009 7573,-561.2009 7573,-525.2009 7627,-525.2009 7627,-561.2009"/>
<text text-anchor="middle" x="7600" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">stdin</text>
</g>
<!-- literal_113&#45;&gt;leaf_120 -->
<g id="edge120" class="edge">
<title>literal_113&#45;&gt;leaf_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7747.0628,-1463.2447C7761.1969,-1395.6273 7802.1092,-1153.592 7702,-1000.2017 7683.7382,-972.2204 7654.2658,-992.1803 7636,-964.2017 7553.8003,-838.2928 7580.1542,-644.1049 7593.9244,-571.7006"/>
<polygon fill="#000000" stroke="#000000" points="7597.4274,-572.0269 7595.9292,-561.5385 7590.5598,-570.6719 7597.4274,-572.0269"/>
</g>
<!-- leaf_121 -->
<g id="node122" class="node">
<title>leaf_121</title>
<polygon fill="none" stroke="#c0c0c0" points="7976.5,-562.5014 7645.5,-562.5014 7645.5,-523.9003 7976.5,-523.9003 7976.5,-562.5014"/>
<text text-anchor="middle" x="7811" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">, asynchronously, and</text>
<text text-anchor="middle" x="7811" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">processes it into tokens, which stream to the</text>
</g>
<!-- raw_114&#45;&gt;leaf_121 -->
<g id="edge121" class="edge">
<title>raw_114&#45;&gt;leaf_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7818.8438,-1462.9982C7817.8574,-1347.3297 7812.4944,-718.4419 7811.2555,-573.1606"/>
<polygon fill="#000000" stroke="#000000" points="7814.7524,-572.778 7811.1672,-562.8083 7807.7527,-572.8378 7814.7524,-572.778"/>
</g>
<!-- leaf_122 -->
<g id="node123" class="node">
<title>leaf_122</title>
<polygon fill="none" stroke="#c0c0c0" points="8049,-561.2009 7995,-561.2009 7995,-525.2009 8049,-525.2009 8049,-561.2009"/>
<text text-anchor="middle" x="8022" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_115&#45;&gt;leaf_122 -->
<g id="edge122" class="edge">
<title>prespace_115&#45;&gt;leaf_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7970.0349,-1462.9982C7976.5979,-1346.8311 8012.4064,-713.0109 8020.412,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="8023.9103,-571.4355 8020.9801,-561.254 8016.9215,-571.0406 8023.9103,-571.4355"/>
</g>
<!-- leaf_123 -->
<g id="node124" class="node">
<title>leaf_123</title>
<polygon fill="none" stroke="#c0c0c0" points="8167,-561.2009 8067,-561.2009 8067,-525.2009 8167,-525.2009 8167,-561.2009"/>
<text text-anchor="middle" x="8117" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">modeselektor</text>
</g>
<!-- literal_116&#45;&gt;leaf_123 -->
<g id="edge123" class="edge">
<title>literal_116&#45;&gt;leaf_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8095.4296,-1462.9982C8098.1539,-1346.8311 8113.0177,-713.0109 8116.3408,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="8119.8411,-571.3333 8116.5766,-561.254 8112.843,-571.1691 8119.8411,-571.3333"/>
</g>
<!-- leaf_124 -->
<g id="node125" class="node">
<title>leaf_124</title>
<polygon fill="none" stroke="#c0c0c0" points="8239,-561.2009 8185,-561.2009 8185,-525.2009 8239,-525.2009 8239,-561.2009"/>
<text text-anchor="middle" x="8212" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_117&#45;&gt;leaf_124 -->
<g id="edge124" class="edge">
<title>raw_117&#45;&gt;leaf_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8186.5077,-1462.9982C8189.7273,-1346.8311 8207.2937,-713.0109 8211.221,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="8214.7212,-571.3471 8211.4997,-561.254 8207.7239,-571.1531 8214.7212,-571.3471"/>
</g>
<!-- leaf_129 -->
<g id="node130" class="node">
<title>leaf_129</title>
<polygon fill="none" stroke="#c0c0c0" points="8441,-561.2009 8257,-561.2009 8257,-525.2009 8441,-525.2009 8441,-561.2009"/>
<text text-anchor="middle" x="8349" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">*** process_escapes(seq)</text>
</g>
<!-- header_125&#45;&gt;leaf_129 -->
<g id="edge129" class="edge">
<title>header_125&#45;&gt;leaf_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8349,-1462.9982C8349,-1346.8311 8349,-713.0109 8349,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="8352.5001,-571.2539 8349,-561.254 8345.5001,-571.254 8352.5001,-571.2539"/>
</g>
<!-- raw_130 -->
<g id="node131" class="node">
<title>raw_130</title>
<ellipse fill="none" stroke="#000000" cx="8486" cy="-543.2009" rx="27" ry="18"/>
<text text-anchor="middle" x="8486" y="-539.0009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_126&#45;&gt;raw_130 -->
<g id="edge130" class="edge">
<title>prose_126&#45;&gt;raw_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8510.5118,-1462.9982C8507.4161,-1346.8311 8490.5253,-713.0109 8486.7491,-571.309"/>
<polygon fill="#000000" stroke="#000000" points="8490.2464,-571.1571 8486.4811,-561.254 8483.2488,-571.3437 8490.2464,-571.1571"/>
</g>
<!-- leaf_132 -->
<g id="node133" class="node">
<title>leaf_132</title>
<polygon fill="none" stroke="#c0c0c0" points="9086.5,-964.2024 8531.5,-964.2024 8531.5,-122.1993 9086.5,-122.1993 9086.5,-964.2024"/>
<text text-anchor="middle" x="8809" y="-933.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">local byte, sub = string.byte, string.sub</text>
<text text-anchor="middle" x="8809" y="-917.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">local m_parse, is_mouse = a.mouse.parse_fast, a.mouse.ismousemove</text>
<text text-anchor="middle" x="8809" y="-902.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">local navigation, is_nav = a.navigation, a.is_nav</text>
<text text-anchor="middle" x="8809" y="-870.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">local function process_escapes(seq)</text>
<text text-anchor="middle" x="8809" y="-855.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if is_nav(seq) then</text>
<text text-anchor="middle" x="8809" y="-840.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NAV&quot;, navigation[seq] )</text>
<text text-anchor="middle" x="8809" y="-824.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif #seq == 1 then</text>
<text text-anchor="middle" x="8809" y="-809.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;modeS(&quot;NAV&quot;, &quot;ESC&quot;) &#45;&#45; I think of escape as navigation in modal systems</text>
<text text-anchor="middle" x="8809" y="-793.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8809" y="-778.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if is_mouse(seq) then</text>
<text text-anchor="middle" x="8809" y="-763.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local m = m_parse(seq)</text>
<text text-anchor="middle" x="8809" y="-747.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;MOUSE&quot;, m)</text>
<text text-anchor="middle" x="8809" y="-732.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif #seq == 2 and byte(sub(seq,2,2)) &lt; 128 then</text>
<text text-anchor="middle" x="8809" y="-716.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; Meta</text>
<text text-anchor="middle" x="8809" y="-701.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local key = &quot;M&#45;&quot; .. sub(seq,2,2)</text>
<text text-anchor="middle" x="8809" y="-686.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;ALT&quot;, key)</text>
<text text-anchor="middle" x="8809" y="-670.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8809" y="-655.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NYI&quot;, seq)</text>
<text text-anchor="middle" x="8809" y="-639.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8809" y="-624.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="8809" y="-593.001" font-family="Inconsolata" font-size="14.00" fill="#000000">local navigation = a.navigation</text>
<text text-anchor="middle" x="8809" y="-561.601" font-family="Inconsolata" font-size="14.00" fill="#000000">local function onseq(err,seq)</text>
<text text-anchor="middle" x="8809" y="-546.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if err then error(err) end</text>
<text text-anchor="middle" x="8809" y="-530.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local head = byte(seq)</text>
<text text-anchor="middle" x="8809" y="-515.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; ^Q hard coded as quit, for now</text>
<text text-anchor="middle" x="8809" y="-500.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head == 17 then</text>
<text text-anchor="middle" x="8809" y="-484.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;femto.cooked()</text>
<text text-anchor="middle" x="8809" y="-469.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;write(a.mouse.track(false))</text>
<text text-anchor="middle" x="8809" y="-453.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uv.stop()</text>
<text text-anchor="middle" x="8809" y="-438.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="8809" y="-423.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8809" y="-407.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Escape sequences</text>
<text text-anchor="middle" x="8809" y="-392.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head == 27 then</text>
<text text-anchor="middle" x="8809" y="-376.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return process_escapes(seq)</text>
<text text-anchor="middle" x="8809" y="-361.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8809" y="-346.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Control sequences</text>
<text text-anchor="middle" x="8809" y="-330.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head &lt;= 31 and not navigation[seq] then</text>
<text text-anchor="middle" x="8809" y="-315.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local ctrl = &quot;^&quot; .. string.char(head + 64)</text>
<text text-anchor="middle" x="8809" y="-299.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;CTRL&quot;, ctrl)</text>
<text text-anchor="middle" x="8809" y="-284.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif navigation[seq] then</text>
<text text-anchor="middle" x="8809" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NAV&quot;, navigation[seq])</text>
<text text-anchor="middle" x="8809" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8809" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Printables</text>
<text text-anchor="middle" x="8809" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head &gt; 31 and head &lt; 127 then</text>
<text text-anchor="middle" x="8809" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;ASCII&quot;, seq)</text>
<text text-anchor="middle" x="8809" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8809" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; wchars go here</text>
<text text-anchor="middle" x="8809" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NYI&quot;, seq)</text>
<text text-anchor="middle" x="8809" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8809" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_127&#45;&gt;leaf_132 -->
<g id="edge132" class="edge">
<title>codeblock_127&#45;&gt;leaf_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8730.5622,-1462.9982C8735.9676,-1399.6117 8754.5162,-1182.1027 8772.2186,-974.5165"/>
<polygon fill="#000000" stroke="#000000" points="8775.7251,-974.5874 8773.0876,-964.3262 8768.7504,-973.9926 8775.7251,-974.5874"/>
</g>
<!-- leaf_133 -->
<g id="node134" class="node">
<title>leaf_133</title>
<polygon fill="none" stroke="#c0c0c0" points="9421.5,-788.9591 9104.5,-788.9591 9104.5,-297.4426 9421.5,-297.4426 9421.5,-788.9591"/>
<text text-anchor="middle" x="9263" y="-773.63" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Get names for as many values as possible</text>
<text text-anchor="middle" x="9263" y="-758.2299" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; into the colorizer</text>
<text text-anchor="middle" x="9263" y="-742.8299" font-family="Inconsolata" font-size="14.00" fill="#000000">color.allNames()</text>
<text text-anchor="middle" x="9263" y="-711.4299" font-family="Inconsolata" font-size="14.00" fill="#000000">print &quot;an repl, plz reply uwu 👀&quot;</text>
<text text-anchor="middle" x="9263" y="-687.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">displayPrompt &#39;👉 &#160;&#39;</text>
<text text-anchor="middle" x="9263" y="-662.9724" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Crude hack to choose raw mode at runtime</text>
<text text-anchor="middle" x="9263" y="-647.5723" font-family="Inconsolata" font-size="14.00" fill="#000000">if arg[1] == &quot;&#45;r&quot; then</text>
<text text-anchor="middle" x="9263" y="-632.1723" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;femto.raw()</text>
<text text-anchor="middle" x="9263" y="-616.7723" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45;uv.tty_set_mode(stdin, 2)</text>
<text text-anchor="middle" x="9263" y="-601.3722" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; mouse mode</text>
<text text-anchor="middle" x="9263" y="-585.9722" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;write(a.mouse.track(true))</text>
<text text-anchor="middle" x="9263" y="-570.5722" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.read_start(stdin, onseq)</text>
<text text-anchor="middle" x="9263" y="-555.1722" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="9263" y="-539.7721" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.read_start(stdin, onread)</text>
<text text-anchor="middle" x="9263" y="-524.3721" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="9263" y="-460.9721" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; main loop</text>
<text text-anchor="middle" x="9263" y="-445.572" font-family="Inconsolata" font-size="14.00" fill="#000000">local retcode = &#160;uv.run(&#39;default&#39;)</text>
<text text-anchor="middle" x="9263" y="-430.172" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Restore main screen</text>
<text text-anchor="middle" x="9263" y="-414.772" font-family="Inconsolata" font-size="14.00" fill="#000000">print &#39;\x1b[?47l&#39;</text>
<text text-anchor="middle" x="9263" y="-383.3719" font-family="Inconsolata" font-size="14.00" fill="#000000">if retcode ~= true then</text>
<text text-anchor="middle" x="9263" y="-367.9719" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;error(retcode)</text>
<text text-anchor="middle" x="9263" y="-352.5719" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="9263" y="-321.1718" font-family="Inconsolata" font-size="14.00" fill="#000000">print(&quot;kthxbye&quot;)</text>
<text text-anchor="middle" x="9263" y="-305.7718" font-family="Inconsolata" font-size="14.00" fill="#000000">return retcode</text>
</g>
<!-- codeblock_128&#45;&gt;leaf_133 -->
<g id="edge133" class="edge">
<title>codeblock_128&#45;&gt;leaf_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9135.5385,-1462.9982C9146.8919,-1381.0693 9193.926,-1041.6583 9227.5531,-798.9952"/>
<polygon fill="#000000" stroke="#000000" points="9231.0378,-799.3468 9228.9436,-788.961 9224.104,-798.3859 9231.0378,-799.3468"/>
</g>
<!-- leaf_131 -->
<g id="node132" class="node">
<title>leaf_131</title>
<polygon fill="none" stroke="#c0c0c0" points="8513,-61.1 8459,-61.1 8459,-25.1 8513,-25.1 8513,-61.1"/>
</g>
<!-- raw_130&#45;&gt;leaf_131 -->
<g id="edge131" class="edge">
<title>raw_130&#45;&gt;leaf_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8486,-525.1066C8486,-450.057 8486,-162.9178 8486,-71.3411"/>
<polygon fill="#000000" stroke="#000000" points="8489.5001,-71.17 8486,-61.17 8482.5001,-71.1701 8489.5001,-71.17"/>
</g>
</g>
</svg>
