<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="10854pt" height="2833pt"
 viewBox="0.00 0.00 10853.50 2833.03" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2829.0329)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2829.0329 10849.5,-2829.0329 10849.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="997" cy="-2807.0329" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="997" y="-2802.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 398</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="997" cy="-2735.0329" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="997" y="-2730.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;193</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M997,-2788.8642C997,-2781.1638 997,-2772.0072 997,-2763.4495"/>
<polygon fill="#000000" stroke="#000000" points="1000.5001,-2763.4461 997,-2753.4461 993.5001,-2763.4462 1000.5001,-2763.4461"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="651" cy="-2663.0329" rx="47.4168" ry="18"/>
<text text-anchor="middle" x="651" y="-2658.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Femto</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M944.45,-2724.0976C878.9517,-2710.4679 767.7242,-2687.3223 702.6486,-2673.7806"/>
<polygon fill="#000000" stroke="#000000" points="703.1181,-2670.3033 692.6147,-2671.6926 701.6919,-2677.1565 703.1181,-2670.3033"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="823" cy="-2663.0329" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="823" y="-2658.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M960.5239,-2719.9393C930.5307,-2707.5283 888.2772,-2690.0441 858.5422,-2677.74"/>
<polygon fill="#000000" stroke="#000000" points="859.5523,-2674.3702 848.9739,-2673.7807 856.8758,-2680.8383 859.5523,-2674.3702"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="942" cy="-2663.0329" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="942" y="-2658.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M983.4045,-2717.2351C976.6139,-2708.3456 968.2883,-2697.4467 960.8881,-2687.7592"/>
<polygon fill="#000000" stroke="#000000" points="963.5368,-2685.4608 954.685,-2679.6387 957.9741,-2689.7101 963.5368,-2685.4608"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="1072" cy="-2663.0329" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="1072" y="-2658.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 9&#45;28</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1015.1554,-2717.6037C1024.6442,-2708.4945 1036.4085,-2697.2007 1046.7687,-2687.2549"/>
<polygon fill="#000000" stroke="#000000" points="1049.2218,-2689.7518 1054.0118,-2680.3016 1044.374,-2684.702 1049.2218,-2689.7518"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="4131" cy="-2663.0329" rx="70.655" ry="18"/>
<text text-anchor="middle" x="4131" y="-2658.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 35&#45;193</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1062.458,-2733.529C1465.3877,-2724.2722 3606.4312,-2675.0842 4050.3731,-2664.8852"/>
<polygon fill="#000000" stroke="#000000" points="4050.6257,-2668.3804 4060.5426,-2664.6515 4050.4648,-2661.3822 4050.6257,-2668.3804"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="7250" cy="-2663.0329" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7250" y="-2658.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 194&#45;284</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1062.733,-2734.276C1680.7179,-2727.1602 6463.3369,-2672.0909 7164.3437,-2664.0192"/>
<polygon fill="#000000" stroke="#000000" points="7164.408,-2667.5188 7174.367,-2663.9037 7164.3273,-2660.5192 7164.408,-2667.5188"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="668,-2609.0329 596,-2609.0329 596,-2573.0329 668,-2573.0329 668,-2609.0329"/>
<text text-anchor="middle" x="632" y="-2587.5329" font-family="Inconsolata" font-size="14.00" fill="#000000">* &#160;Femto</text>
</g>
<!-- header_2&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>header_2&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M646.2055,-2644.8642C644.1511,-2637.0792 641.704,-2627.8058 639.4244,-2619.1676"/>
<polygon fill="#000000" stroke="#000000" points="642.7948,-2618.2221 636.8591,-2609.4461 636.0265,-2620.0082 642.7948,-2618.2221"/>
</g>
<!-- raw_9 -->
<g id="node10" class="node">
<title>raw_9</title>
<ellipse fill="none" stroke="#000000" cx="713" cy="-2591.0329" rx="27" ry="18"/>
<text text-anchor="middle" x="713" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_9 -->
<g id="edge9" class="edge">
<title>prose_3&#45;&gt;raw_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M802.0509,-2649.3207C784.7233,-2637.979 759.9617,-2621.7714 740.9458,-2609.3247"/>
<polygon fill="#000000" stroke="#000000" points="742.6797,-2606.2765 732.3958,-2603.7283 738.846,-2612.1334 742.6797,-2606.2765"/>
</g>
<!-- raw_11 -->
<g id="node12" class="node">
<title>raw_11</title>
<ellipse fill="none" stroke="#000000" cx="785" cy="-2591.0329" rx="27" ry="18"/>
<text text-anchor="middle" x="785" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_11 -->
<g id="edge11" class="edge">
<title>prose_4&#45;&gt;raw_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M916.3573,-2651.9784C891.7625,-2641.2841 853.65,-2624.4718 821,-2609.0329 819.247,-2608.204 817.4511,-2607.3432 815.6421,-2606.4674"/>
<polygon fill="#000000" stroke="#000000" points="817.1455,-2603.3064 806.6267,-2602.0386 814.059,-2609.5893 817.1455,-2603.3064"/>
</g>
<!-- header_13 -->
<g id="node14" class="node">
<title>header_13</title>
<ellipse fill="none" stroke="#000000" cx="885" cy="-2591.0329" rx="54.6851" ry="18"/>
<text text-anchor="middle" x="885" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : includes</text>
</g>
<!-- section_5&#45;&gt;header_13 -->
<g id="edge13" class="edge">
<title>section_5&#45;&gt;header_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1034.6072,-2648.6356C1004.567,-2637.0694 962.265,-2620.782 930.3039,-2608.4761"/>
<polygon fill="#000000" stroke="#000000" points="931.3317,-2605.1214 920.7419,-2604.7945 928.8164,-2611.6539 931.3317,-2605.1214"/>
</g>
<!-- prose_14 -->
<g id="node15" class="node">
<title>prose_14</title>
<ellipse fill="none" stroke="#000000" cx="990" cy="-2591.0329" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="990" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_14 -->
<g id="edge14" class="edge">
<title>section_5&#45;&gt;prose_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1052.5671,-2645.9699C1041.3006,-2636.0773 1026.9965,-2623.5176 1014.9098,-2612.9049"/>
<polygon fill="#000000" stroke="#000000" points="1017.1653,-2610.2276 1007.3415,-2606.2596 1012.5466,-2615.4877 1017.1653,-2610.2276"/>
</g>
<!-- prose_15 -->
<g id="node16" class="node">
<title>prose_15</title>
<ellipse fill="none" stroke="#000000" cx="1072" cy="-2591.0329" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1072" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_15 -->
<g id="edge15" class="edge">
<title>section_5&#45;&gt;prose_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1072,-2644.8642C1072,-2637.1638 1072,-2628.0072 1072,-2619.4495"/>
<polygon fill="#000000" stroke="#000000" points="1075.5001,-2619.4461 1072,-2609.4461 1068.5001,-2619.4462 1075.5001,-2619.4461"/>
</g>
<!-- prose_16 -->
<g id="node17" class="node">
<title>prose_16</title>
<ellipse fill="none" stroke="#000000" cx="1154" cy="-2591.0329" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1154" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_16 -->
<g id="edge16" class="edge">
<title>section_5&#45;&gt;prose_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1091.4329,-2645.9699C1102.6994,-2636.0773 1117.0035,-2623.5176 1129.0902,-2612.9049"/>
<polygon fill="#000000" stroke="#000000" points="1131.4534,-2615.4877 1136.6585,-2606.2596 1126.8347,-2610.2276 1131.4534,-2615.4877"/>
</g>
<!-- codeblock_17 -->
<g id="node18" class="node">
<title>codeblock_17</title>
<ellipse fill="none" stroke="#000000" cx="1286" cy="-2591.0329" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1286" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 18&#45;26</text>
</g>
<!-- section_5&#45;&gt;codeblock_17 -->
<g id="edge17" class="edge">
<title>section_5&#45;&gt;codeblock_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1112.2518,-2649.4902C1146.1505,-2638.085 1194.9311,-2621.6729 1232.1809,-2609.1402"/>
<polygon fill="#000000" stroke="#000000" points="1233.5101,-2612.3859 1241.872,-2605.8797 1231.2779,-2605.7513 1233.5101,-2612.3859"/>
</g>
<!-- section_18 -->
<g id="node19" class="node">
<title>section_18</title>
<ellipse fill="none" stroke="#000000" cx="1538" cy="-2591.0329" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1538" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 29&#45;34</text>
</g>
<!-- section_5&#45;&gt;section_18 -->
<g id="edge18" class="edge">
<title>section_5&#45;&gt;section_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1125.9114,-2654.7032C1211.238,-2641.5197 1377.2525,-2615.8694 1470.4149,-2601.4752"/>
<polygon fill="#000000" stroke="#000000" points="1471.2286,-2604.8911 1480.5769,-2599.9051 1470.1597,-2597.9732 1471.2286,-2604.8911"/>
</g>
<!-- header_32 -->
<g id="node33" class="node">
<title>header_32</title>
<ellipse fill="none" stroke="#000000" cx="1904" cy="-2591.0329" rx="39.6991" ry="18"/>
<text text-anchor="middle" x="1904" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : core</text>
</g>
<!-- section_6&#45;&gt;header_32 -->
<g id="edge32" class="edge">
<title>section_6&#45;&gt;header_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4060.4586,-2662.2051C3743.1999,-2658.3294 2446.3941,-2640.8138 2041,-2609.0329 2011.1249,-2606.6908 1977.7851,-2602.3485 1951.4753,-2598.5157"/>
<polygon fill="#000000" stroke="#000000" points="1951.7991,-2595.0256 1941.3941,-2597.0222 1950.7731,-2601.95 1951.7991,-2595.0256"/>
</g>
<!-- prose_33 -->
<g id="node34" class="node">
<title>prose_33</title>
<ellipse fill="none" stroke="#000000" cx="2082" cy="-2591.0329" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2082" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_33 -->
<g id="edge33" class="edge">
<title>section_6&#45;&gt;prose_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4061.0615,-2660.5753C3736.4353,-2649.1682 2381.4899,-2601.5567 2124.2622,-2592.5179"/>
<polygon fill="#000000" stroke="#000000" points="2124.3208,-2589.0179 2114.204,-2592.1645 2124.0749,-2596.0136 2124.3208,-2589.0179"/>
</g>
<!-- prose_34 -->
<g id="node35" class="node">
<title>prose_34</title>
<ellipse fill="none" stroke="#000000" cx="2875" cy="-2591.0329" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2875" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_34 -->
<g id="edge34" class="edge">
<title>section_6&#45;&gt;prose_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4062.1321,-2659.085C3833.1204,-2645.957 3101.2336,-2604.0017 2917.2699,-2593.456"/>
<polygon fill="#000000" stroke="#000000" points="2917.3673,-2589.9559 2907.1834,-2592.8778 2916.9667,-2596.9444 2917.3673,-2589.9559"/>
</g>
<!-- codeblock_35 -->
<g id="node36" class="node">
<title>codeblock_35</title>
<ellipse fill="none" stroke="#000000" cx="3512" cy="-2591.0329" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3512" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 42&#45;48</text>
</g>
<!-- section_6&#45;&gt;codeblock_35 -->
<g id="edge35" class="edge">
<title>section_6&#45;&gt;codeblock_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4066.5079,-2655.5314C3952.5098,-2642.2715 3715.7571,-2614.7332 3591.7214,-2600.3058"/>
<polygon fill="#000000" stroke="#000000" points="3591.8705,-2596.7996 3581.533,-2599.1207 3591.0616,-2603.7527 3591.8705,-2596.7996"/>
</g>
<!-- prose_36 -->
<g id="node37" class="node">
<title>prose_36</title>
<ellipse fill="none" stroke="#000000" cx="3744" cy="-2591.0329" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3744" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_36 -->
<g id="edge36" class="edge">
<title>section_6&#45;&gt;prose_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4073.8968,-2652.409C3994.9013,-2637.7122 3854.1979,-2611.5348 3784.8887,-2598.6401"/>
<polygon fill="#000000" stroke="#000000" points="3785.2687,-2595.1508 3774.7972,-2596.7626 3783.9883,-2602.0327 3785.2687,-2595.1508"/>
</g>
<!-- prose_37 -->
<g id="node38" class="node">
<title>prose_37</title>
<ellipse fill="none" stroke="#000000" cx="3914" cy="-2591.0329" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3914" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_37 -->
<g id="edge37" class="edge">
<title>section_6&#45;&gt;prose_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4087.8683,-2648.7219C4048.0432,-2635.508 3989.4854,-2616.0787 3951.5443,-2603.49"/>
<polygon fill="#000000" stroke="#000000" points="3952.4883,-2600.1156 3941.8949,-2600.2883 3950.2839,-2606.7595 3952.4883,-2600.1156"/>
</g>
<!-- codeblock_38 -->
<g id="node39" class="node">
<title>codeblock_38</title>
<ellipse fill="none" stroke="#000000" cx="4131" cy="-2591.0329" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="4131" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 55&#45;62</text>
</g>
<!-- section_6&#45;&gt;codeblock_38 -->
<g id="edge38" class="edge">
<title>section_6&#45;&gt;codeblock_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4131,-2644.8642C4131,-2637.1638 4131,-2628.0072 4131,-2619.4495"/>
<polygon fill="#000000" stroke="#000000" points="4134.5001,-2619.4461 4131,-2609.4461 4127.5001,-2619.4462 4134.5001,-2619.4461"/>
</g>
<!-- prose_39 -->
<g id="node40" class="node">
<title>prose_39</title>
<ellipse fill="none" stroke="#000000" cx="4363" cy="-2591.0329" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4363" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_39 -->
<g id="edge39" class="edge">
<title>section_6&#45;&gt;prose_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4176.007,-2649.0652C4219.3443,-2635.6157 4284.1619,-2615.4999 4324.9826,-2602.8314"/>
<polygon fill="#000000" stroke="#000000" points="4326.0517,-2606.1643 4334.5649,-2599.8575 4323.9769,-2599.4789 4326.0517,-2606.1643"/>
</g>
<!-- prose_40 -->
<g id="node41" class="node">
<title>prose_40</title>
<ellipse fill="none" stroke="#000000" cx="4526" cy="-2591.0329" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4526" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_40 -->
<g id="edge40" class="edge">
<title>section_6&#45;&gt;prose_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4188.4364,-2652.5635C4269.1964,-2637.8426 4414.3316,-2611.3876 4485.0414,-2598.4987"/>
<polygon fill="#000000" stroke="#000000" points="4485.7072,-2601.9351 4494.9175,-2596.6986 4484.4519,-2595.0486 4485.7072,-2601.9351"/>
</g>
<!-- codeblock_41 -->
<g id="node42" class="node">
<title>codeblock_41</title>
<ellipse fill="none" stroke="#000000" cx="4743" cy="-2591.0329" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="4743" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 69&#45;90</text>
</g>
<!-- section_6&#45;&gt;codeblock_41 -->
<g id="edge41" class="edge">
<title>section_6&#45;&gt;codeblock_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4195.338,-2655.4637C4308.0219,-2642.2068 4540.7447,-2614.8276 4663.3833,-2600.3995"/>
<polygon fill="#000000" stroke="#000000" points="4663.9377,-2603.8586 4673.4602,-2599.214 4663.1197,-2596.9065 4663.9377,-2603.8586"/>
</g>
<!-- prose_42 -->
<g id="node43" class="node">
<title>prose_42</title>
<ellipse fill="none" stroke="#000000" cx="4964" cy="-2591.0329" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4964" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_42 -->
<g id="edge42" class="edge">
<title>section_6&#45;&gt;prose_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4199.9703,-2658.9669C4325.3734,-2651.2915 4599.0357,-2633.2405 4829,-2609.0329 4860.4504,-2605.7222 4895.8867,-2600.9577 4922.5597,-2597.1622"/>
<polygon fill="#000000" stroke="#000000" points="4923.2878,-2600.5936 4932.6887,-2595.7075 4922.2927,-2593.6647 4923.2878,-2600.5936"/>
</g>
<!-- codeblock_43 -->
<g id="node44" class="node">
<title>codeblock_43</title>
<ellipse fill="none" stroke="#000000" cx="5170" cy="-2591.0329" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="5170" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 94&#45;96</text>
</g>
<!-- section_6&#45;&gt;codeblock_43 -->
<g id="edge43" class="edge">
<title>section_6&#45;&gt;codeblock_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4200.4754,-2659.8507C4348.5322,-2652.825 4706.0278,-2634.5623 5005,-2609.0329 5033.0047,-2606.6415 5063.6223,-2603.4594 5090.7961,-2600.4362"/>
<polygon fill="#000000" stroke="#000000" points="5091.4825,-2603.8812 5101.0295,-2599.2873 5090.7014,-2596.9249 5091.4825,-2603.8812"/>
</g>
<!-- codeblock_44 -->
<g id="node45" class="node">
<title>codeblock_44</title>
<ellipse fill="none" stroke="#000000" cx="5527" cy="-2591.0329" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="5527" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 98&#45;178</text>
</g>
<!-- section_6&#45;&gt;codeblock_44 -->
<g id="edge44" class="edge">
<title>section_6&#45;&gt;codeblock_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4200.7988,-2660.1287C4377.4837,-2652.6803 4856.7788,-2631.8705 5256,-2609.0329 5316.92,-2605.5479 5385.4996,-2600.9866 5438.4275,-2597.3277"/>
<polygon fill="#000000" stroke="#000000" points="5438.7258,-2600.8156 5448.4597,-2596.6321 5438.2415,-2593.8323 5438.7258,-2600.8156"/>
</g>
<!-- codeblock_45 -->
<g id="node46" class="node">
<title>codeblock_45</title>
<ellipse fill="none" stroke="#000000" cx="5960" cy="-2591.0329" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5960" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 180&#45;191</text>
</g>
<!-- section_6&#45;&gt;codeblock_45 -->
<g id="edge45" class="edge">
<title>section_6&#45;&gt;codeblock_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4201.4509,-2660.8821C4414.8302,-2654.2801 5072.8169,-2633.2773 5618,-2609.0329 5701.6173,-2605.3144 5796.6889,-2600.2425 5865.3327,-2596.4301"/>
<polygon fill="#000000" stroke="#000000" points="5865.9002,-2599.904 5875.6901,-2595.8533 5865.5109,-2592.9149 5865.9002,-2599.904"/>
</g>
<!-- header_97 -->
<g id="node98" class="node">
<title>header_97</title>
<ellipse fill="none" stroke="#000000" cx="6534" cy="-2591.0329" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="6534" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Reader</text>
</g>
<!-- section_7&#45;&gt;header_97 -->
<g id="edge97" class="edge">
<title>section_7&#45;&gt;header_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7178.8444,-2656.9413C7070.9037,-2647.5537 6859.3515,-2628.5804 6680,-2609.0329 6651.0712,-2605.8799 6618.9708,-2601.9677 6592.2531,-2598.5968"/>
<polygon fill="#000000" stroke="#000000" points="6592.6555,-2595.1199 6582.2946,-2597.3341 6591.7749,-2602.0643 6592.6555,-2595.1199"/>
</g>
<!-- prose_98 -->
<g id="node99" class="node">
<title>prose_98</title>
<ellipse fill="none" stroke="#000000" cx="6721" cy="-2591.0329" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6721" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_98 -->
<g id="edge98" class="edge">
<title>section_7&#45;&gt;prose_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7184.3377,-2654.0959C7073.901,-2639.0648 6854.0879,-2609.1469 6762.5306,-2596.6854"/>
<polygon fill="#000000" stroke="#000000" points="6762.9106,-2593.205 6752.5299,-2595.3243 6761.9665,-2600.141 6762.9106,-2593.205"/>
</g>
<!-- section_99 -->
<g id="node100" class="node">
<title>section_99</title>
<ellipse fill="none" stroke="#000000" cx="7250" cy="-2591.0329" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7250" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 200&#45;223</text>
</g>
<!-- section_7&#45;&gt;section_99 -->
<g id="edge99" class="edge">
<title>section_7&#45;&gt;section_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7250,-2644.8642C7250,-2637.1638 7250,-2628.0072 7250,-2619.4495"/>
<polygon fill="#000000" stroke="#000000" points="7253.5001,-2619.4461 7250,-2609.4461 7246.5001,-2619.4462 7253.5001,-2619.4461"/>
</g>
<!-- section_100 -->
<g id="node101" class="node">
<title>section_100</title>
<ellipse fill="none" stroke="#000000" cx="8322" cy="-2591.0329" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8322" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 224&#45;281</text>
</g>
<!-- section_7&#45;&gt;section_100 -->
<g id="edge100" class="edge">
<title>section_7&#45;&gt;section_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7322.8401,-2658.1406C7515.161,-2645.2236 8035.7071,-2610.2615 8239.0363,-2596.6051"/>
<polygon fill="#000000" stroke="#000000" points="8239.3167,-2600.0942 8249.0597,-2595.9318 8238.8476,-2593.1099 8239.3167,-2600.0942"/>
</g>
<!-- section_101 -->
<g id="node102" class="node">
<title>section_101</title>
<ellipse fill="none" stroke="#000000" cx="9256" cy="-2591.0329" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9256" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 282&#45;284</text>
</g>
<!-- section_7&#45;&gt;section_101 -->
<g id="edge101" class="edge">
<title>section_7&#45;&gt;section_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7324.6749,-2660.3526C7637.284,-2649.1324 8839.9267,-2605.9667 9171.1299,-2594.0791"/>
<polygon fill="#000000" stroke="#000000" points="9171.2733,-2597.5763 9181.1413,-2593.7197 9171.0221,-2590.5808 9171.2733,-2597.5763"/>
</g>
<!-- section_102 -->
<g id="node103" class="node">
<title>section_102</title>
<ellipse fill="none" stroke="#000000" cx="9786" cy="-2591.0329" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9786" y="-2586.8329" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 285&#45;398</text>
</g>
<!-- section_7&#45;&gt;section_102 -->
<g id="edge102" class="edge">
<title>section_7&#45;&gt;section_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7325.4584,-2661.4788C7597.3382,-2655.7951 8552.3363,-2635.1016 9340,-2609.0329 9465.8487,-2604.8677 9611.6192,-2598.7384 9701.3217,-2594.8162"/>
<polygon fill="#000000" stroke="#000000" points="9701.6017,-2598.3074 9711.4388,-2594.3728 9701.2951,-2591.3141 9701.6017,-2598.3074"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="621.5,-1951.7187 178.5,-1951.7187 178.5,-1879.9164 621.5,-1879.9164 621.5,-1951.7187"/>
<text text-anchor="middle" x="400" y="-1888.3175" font-family="Inconsolata" font-size="14.00" fill="#000000">I just got orb stood up in the pylon bootloader distribution.</text>
</g>
<!-- raw_9&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>raw_9&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M692.2133,-2579.3605C670.909,-2567.0551 639.7042,-2547.9694 631,-2537.0329 485.749,-2354.5299 425.6897,-2071.5449 406.9796,-1961.6403"/>
<polygon fill="#000000" stroke="#000000" points="410.3948,-1960.8414 405.2965,-1951.5539 403.4902,-1961.9936 410.3948,-1960.8414"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="824,-1943.719 640,-1943.719 640,-1887.916 824,-1887.916 824,-1943.719"/>
<text text-anchor="middle" x="732" y="-1912.3175" font-family="Inconsolata" font-size="14.00" fill="#000000">I am excited about this.</text>
</g>
<!-- raw_11&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>raw_11&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M783.5824,-2572.9725C776.5043,-2482.7982 744.9367,-2080.6297 735.003,-1954.075"/>
<polygon fill="#000000" stroke="#000000" points="738.4625,-1953.4218 734.1907,-1943.7264 731.484,-1953.9696 738.4625,-1953.4218"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="942,-1933.8175 842,-1933.8175 842,-1897.8175 942,-1897.8175 942,-1933.8175"/>
<text text-anchor="middle" x="892" y="-1912.3175" font-family="Inconsolata" font-size="14.00" fill="#000000">** &#160;includes</text>
</g>
<!-- header_13&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>header_13&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M885.1872,-2572.9725C886.1478,-2480.3192 890.5231,-2058.2818 891.705,-1944.2747"/>
<polygon fill="#000000" stroke="#000000" points="895.2082,-1943.9695 891.8122,-1933.9338 888.2086,-1943.8969 895.2082,-1943.9695"/>
</g>
<!-- raw_20 -->
<g id="node21" class="node">
<title>raw_20</title>
<ellipse fill="none" stroke="#000000" cx="987" cy="-1915.8175" rx="27" ry="18"/>
<text text-anchor="middle" x="987" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_14&#45;&gt;raw_20 -->
<g id="edge20" class="edge">
<title>prose_14&#45;&gt;raw_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M989.9198,-2572.9725C989.5081,-2480.3192 987.633,-2058.2818 987.1264,-1944.2747"/>
<polygon fill="#000000" stroke="#000000" points="990.625,-1943.9181 987.0805,-1933.9338 983.6251,-1943.9493 990.625,-1943.9181"/>
</g>
<!-- raw_22 -->
<g id="node23" class="node">
<title>raw_22</title>
<ellipse fill="none" stroke="#000000" cx="1059" cy="-1915.8175" rx="27" ry="18"/>
<text text-anchor="middle" x="1059" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_15&#45;&gt;raw_22 -->
<g id="edge22" class="edge">
<title>prose_15&#45;&gt;raw_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1071.6523,-2572.9725C1069.8684,-2480.3192 1061.7429,-2058.2818 1059.5479,-1944.2747"/>
<polygon fill="#000000" stroke="#000000" points="1063.0407,-1943.8645 1059.3488,-1933.9338 1056.042,-1943.9993 1063.0407,-1943.8645"/>
</g>
<!-- raw_24 -->
<g id="node25" class="node">
<title>raw_24</title>
<ellipse fill="none" stroke="#000000" cx="1131" cy="-1915.8175" rx="27" ry="18"/>
<text text-anchor="middle" x="1131" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_16&#45;&gt;raw_24 -->
<g id="edge24" class="edge">
<title>prose_16&#45;&gt;raw_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1153.3848,-2572.9725C1150.2256,-2480.2257 1135.8238,-2057.4297 1131.9576,-1943.9305"/>
<polygon fill="#000000" stroke="#000000" points="1135.4556,-1943.8088 1131.6171,-1933.9338 1128.4597,-1944.0472 1135.4556,-1943.8088"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="1409.5,-1973.6179 1176.5,-1973.6179 1176.5,-1858.0171 1409.5,-1858.0171 1409.5,-1973.6179"/>
<text text-anchor="middle" x="1293" y="-1958.5176" font-family="Inconsolata" font-size="14.00" fill="#000000">sql = require &quot;sqlite&quot;</text>
<text text-anchor="middle" x="1293" y="-1943.1176" font-family="Inconsolata" font-size="14.00" fill="#000000">L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1293" y="-1927.7176" font-family="Inconsolata" font-size="14.00" fill="#000000">lfs = require &quot;lfs&quot;</text>
<text text-anchor="middle" x="1293" y="-1912.3175" font-family="Inconsolata" font-size="14.00" fill="#000000">ffi = require &quot;ffi&quot;</text>
<text text-anchor="middle" x="1293" y="-1896.9175" font-family="Inconsolata" font-size="14.00" fill="#000000">bit = require &quot;bit&quot;</text>
<text text-anchor="middle" x="1293" y="-1881.5175" font-family="Inconsolata" font-size="14.00" fill="#000000">ffi.reflect = require &quot;reflect&quot;</text>
<text text-anchor="middle" x="1293" y="-1866.1174" font-family="Inconsolata" font-size="14.00" fill="#000000">uv = require &quot;luv&quot;</text>
</g>
<!-- codeblock_17&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>codeblock_17&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1286.1872,-2572.9725C1287.0581,-2488.9686 1290.7359,-2134.2076 1292.2959,-1983.7377"/>
<polygon fill="#000000" stroke="#000000" points="1295.796,-1983.7308 1292.4,-1973.695 1288.7964,-1983.6582 1295.796,-1983.7308"/>
</g>
<!-- header_27 -->
<g id="node28" class="node">
<title>header_27</title>
<ellipse fill="none" stroke="#000000" cx="1538" cy="-1915.8175" rx="110.7308" ry="18"/>
<text text-anchor="middle" x="1538" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Djikstra Insertion Point</text>
</g>
<!-- section_18&#45;&gt;header_27 -->
<g id="edge27" class="edge">
<title>section_18&#45;&gt;header_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1538,-2572.9725C1538,-2480.3192 1538,-2058.2818 1538,-1944.2747"/>
<polygon fill="#000000" stroke="#000000" points="1541.5001,-1943.9337 1538,-1933.9338 1534.5001,-1943.9338 1541.5001,-1943.9337"/>
</g>
<!-- prose_28 -->
<g id="node29" class="node">
<title>prose_28</title>
<ellipse fill="none" stroke="#000000" cx="1699" cy="-1915.8175" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1699" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_18&#45;&gt;prose_28 -->
<g id="edge28" class="edge">
<title>section_18&#45;&gt;prose_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1590.9958,-2580.3761C1615.4748,-2572.6022 1642.4946,-2559.3638 1658,-2537.0329 1790.6643,-2345.97 1729.2548,-2037.1338 1706.3147,-1943.5586"/>
<polygon fill="#000000" stroke="#000000" points="1709.6743,-1942.5662 1703.8471,-1933.7177 1702.8845,-1944.2688 1709.6743,-1942.5662"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="548,-725.7015 0,-725.7015 0,-655.1008 548,-655.1008 548,-725.7015"/>
<text text-anchor="middle" x="274" y="-678.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">This all goes into global space for now. &#160;Our more sophisticated loader will</text>
<text text-anchor="middle" x="274" y="-663.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">handle namespace isolation. Meanwhile we&#39;re building a repl, so.</text>
</g>
<!-- raw_20&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>raw_20&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M988.9375,-1897.7179C998.4537,-1804.8654 1036.4372,-1382.9267 951,-1294.6022 889.8725,-1231.4088 629.5683,-1308.239 557,-1258.6022 371.5437,-1131.7496 301.9866,-846.5478 281.3522,-735.6854"/>
<polygon fill="#000000" stroke="#000000" points="284.7916,-735.0359 279.5607,-725.8224 277.9043,-736.2869 284.7916,-735.0359"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="1086,-710.3032 566,-710.3032 566,-670.499 1086,-670.499 1086,-710.3032"/>
<text text-anchor="middle" x="826" y="-678.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">First we load everything that might reasonable expect a stock namespace.</text>
</g>
<!-- raw_22&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>raw_22&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1059.6404,-1897.5688C1061.924,-1822.3778 1067.3269,-1529.4741 1023,-1294.6022 979.9948,-1066.7333 874.816,-805.7642 838.5416,-719.6422"/>
<polygon fill="#000000" stroke="#000000" points="841.6863,-718.0924 834.5651,-710.2477 835.24,-720.821 841.6863,-718.0924"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="1414,-710.3032 1104,-710.3032 1104,-670.499 1414,-670.499 1414,-710.3032"/>
<text text-anchor="middle" x="1259" y="-678.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">All of these are exceedingly well&#45;behaved.</text>
</g>
<!-- raw_24&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>raw_24&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1131.4318,-1897.726C1133.3417,-1823.1495 1142.0689,-1532.3166 1167,-1294.6022 1190.2672,-1072.7527 1237.3641,-807.805 1253.4607,-720.1596"/>
<polygon fill="#000000" stroke="#000000" points="1256.9378,-720.6029 1255.309,-710.134 1250.0538,-719.3337 1256.9378,-720.6029"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="1644,-708.4011 1432,-708.4011 1432,-672.4011 1644,-672.4011 1644,-708.4011"/>
<text text-anchor="middle" x="1538" y="-686.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Djikstra Insertion Point</text>
</g>
<!-- header_27&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>header_27&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1538,-1897.5439C1538,-1760.0344 1538,-888.3244 1538,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="1541.5001,-718.7802 1538,-708.7802 1534.5001,-718.7802 1541.5001,-718.7802"/>
</g>
<!-- raw_30 -->
<g id="node31" class="node">
<title>raw_30</title>
<ellipse fill="none" stroke="#000000" cx="1689" cy="-690.4011" rx="27" ry="18"/>
<text text-anchor="middle" x="1689" y="-686.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_28&#45;&gt;raw_30 -->
<g id="edge30" class="edge">
<title>prose_28&#45;&gt;raw_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1698.8509,-1897.5439C1697.7287,-1760.0344 1690.6152,-888.3244 1689.2326,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="1692.7316,-718.7513 1689.15,-708.7802 1685.7318,-718.8085 1692.7316,-718.7513"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="1970,-86.3004 1408,-86.3004 1408,.1003 1970,.1003 1970,-86.3004"/>
<text text-anchor="middle" x="1689" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">Although we&#39;re not doing so yet, this is where we will set up Djikstra mode</text>
<text text-anchor="middle" x="1689" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">for participating code. &#160;We then push that up through the layers, and it lands</text>
<text text-anchor="middle" x="1689" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">as close to C level as practical.</text>
</g>
<!-- raw_30&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>raw_30&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1689,-672.0714C1689,-587.4527 1689,-232.9202 1689,-96.7153"/>
<polygon fill="#000000" stroke="#000000" points="1692.5001,-96.5231 1689,-86.5232 1685.5001,-96.5232 1692.5001,-96.5231"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="1849.5,-1933.8175 1784.5,-1933.8175 1784.5,-1897.8175 1849.5,-1897.8175 1849.5,-1933.8175"/>
<text text-anchor="middle" x="1817" y="-1912.3175" font-family="Inconsolata" font-size="14.00" fill="#000000">** core</text>
</g>
<!-- header_32&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>header_32&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1885.8577,-2574.9076C1876.0602,-2565.0326 1864.8102,-2551.5326 1859,-2537.0329 1773.2256,-2322.9795 1801.2398,-2034.2946 1812.9622,-1944.0019"/>
<polygon fill="#000000" stroke="#000000" points="1816.4443,-1944.3684 1814.3023,-1933.9924 1809.5062,-1943.4395 1816.4443,-1944.3684"/>
</g>
<!-- raw_47 -->
<g id="node48" class="node">
<title>raw_47</title>
<ellipse fill="none" stroke="#000000" cx="1895" cy="-1915.8175" rx="27" ry="18"/>
<text text-anchor="middle" x="1895" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_33&#45;&gt;raw_47 -->
<g id="edge47" class="edge">
<title>prose_33&#45;&gt;raw_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2051.9543,-2584.4146C2012.298,-2575.0209 1945.7663,-2556.7575 1931,-2537.0329 1859.8791,-2442.0307 1884.3175,-2052.5422 1892.6769,-1944.0093"/>
<polygon fill="#000000" stroke="#000000" points="1896.1814,-1944.0884 1893.4767,-1933.8446 1889.203,-1943.5392 1896.1814,-1944.0884"/>
</g>
<!-- prespace_48 -->
<g id="node49" class="node">
<title>prespace_48</title>
<ellipse fill="none" stroke="#000000" cx="1986" cy="-1915.8175" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="1986" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_33&#45;&gt;prespace_48 -->
<g id="edge48" class="edge">
<title>prose_33&#45;&gt;prespace_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2066.3901,-2574.967C2057.6264,-2564.9112 2047.3958,-2551.2076 2042,-2537.0329 1959.9007,-2321.3582 1975.6832,-2034.2651 1983.2757,-1944.1229"/>
<polygon fill="#000000" stroke="#000000" points="1986.7859,-1944.1592 1984.1753,-1933.891 1979.8128,-1943.546 1986.7859,-1944.1592"/>
</g>
<!-- literal_49 -->
<g id="node50" class="node">
<title>literal_49</title>
<ellipse fill="none" stroke="#000000" cx="2082" cy="-1915.8175" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2082" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_33&#45;&gt;literal_49 -->
<g id="edge49" class="edge">
<title>prose_33&#45;&gt;literal_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2082,-2572.9725C2082,-2480.3192 2082,-2058.2818 2082,-1944.2747"/>
<polygon fill="#000000" stroke="#000000" points="2085.5001,-1943.9337 2082,-1933.9338 2078.5001,-1943.9338 2085.5001,-1943.9337"/>
</g>
<!-- raw_50 -->
<g id="node51" class="node">
<title>raw_50</title>
<ellipse fill="none" stroke="#000000" cx="2175" cy="-1915.8175" rx="27" ry="18"/>
<text text-anchor="middle" x="2175" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_33&#45;&gt;raw_50 -->
<g id="edge50" class="edge">
<title>prose_33&#45;&gt;raw_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2097.6346,-2574.9764C2106.407,-2564.9239 2116.6382,-2551.2204 2122,-2537.0329 2203.548,-2321.2528 2186.0531,-2034.2298 2177.9023,-1944.1141"/>
<polygon fill="#000000" stroke="#000000" points="2181.3612,-1943.513 2176.939,-1933.8852 2174.3921,-1944.1694 2181.3612,-1943.513"/>
</g>
<!-- raw_55 -->
<g id="node56" class="node">
<title>raw_55</title>
<ellipse fill="none" stroke="#000000" cx="2556" cy="-1915.8175" rx="27" ry="18"/>
<text text-anchor="middle" x="2556" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_34&#45;&gt;raw_55 -->
<g id="edge55" class="edge">
<title>prose_34&#45;&gt;raw_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2842.8342,-2589.3745C2777.8395,-2585.3038 2634.373,-2572.4327 2603,-2537.0329 2447.77,-2361.8786 2521.3811,-2038.9854 2547.8779,-1943.2541"/>
<polygon fill="#000000" stroke="#000000" points="2551.2927,-1944.0404 2550.6446,-1933.4654 2544.5566,-1942.1365 2551.2927,-1944.0404"/>
</g>
<!-- prespace_56 -->
<g id="node57" class="node">
<title>prespace_56</title>
<ellipse fill="none" stroke="#000000" cx="2658" cy="-1915.8175" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2658" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_34&#45;&gt;prespace_56 -->
<g id="edge56" class="edge">
<title>prose_34&#45;&gt;prespace_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2844.5043,-2584.9354C2802.5527,-2575.8897 2730.3553,-2557.7387 2714,-2537.0329 2569.3897,-2353.9554 2628.521,-2039.0404 2650.884,-1943.8626"/>
<polygon fill="#000000" stroke="#000000" points="2654.3548,-1944.3989 2653.292,-1933.8575 2647.5491,-1942.7609 2654.3548,-1944.3989"/>
</g>
<!-- literal_57 -->
<g id="node58" class="node">
<title>literal_57</title>
<ellipse fill="none" stroke="#000000" cx="2754" cy="-1915.8175" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2754" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_34&#45;&gt;literal_57 -->
<g id="edge57" class="edge">
<title>prose_34&#45;&gt;literal_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2848.2562,-2580.8099C2829.6082,-2572.1589 2805.9987,-2557.8176 2794,-2537.0329 2678.0981,-2336.261 2728.3444,-2035.7909 2747.6773,-1943.6633"/>
<polygon fill="#000000" stroke="#000000" points="2751.1351,-1944.2316 2749.8161,-1933.7192 2744.2916,-1942.7597 2751.1351,-1944.2316"/>
</g>
<!-- raw_58 -->
<g id="node59" class="node">
<title>raw_58</title>
<ellipse fill="none" stroke="#000000" cx="2830" cy="-1915.8175" rx="27" ry="18"/>
<text text-anchor="middle" x="2830" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_34&#45;&gt;raw_58 -->
<g id="edge58" class="edge">
<title>prose_34&#45;&gt;raw_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2871.5154,-2573.1003C2869.6039,-2562.6228 2867.3539,-2549.1228 2866,-2537.0329 2840.4915,-2309.2419 2832.5371,-2032.313 2830.5612,-1944.1736"/>
<polygon fill="#000000" stroke="#000000" points="2834.0549,-1943.8411 2830.3396,-1933.9191 2827.0565,-1943.9924 2834.0549,-1943.8411"/>
</g>
<!-- prespace_59 -->
<g id="node60" class="node">
<title>prespace_59</title>
<ellipse fill="none" stroke="#000000" cx="2921" cy="-1915.8175" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2921" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_34&#45;&gt;prespace_59 -->
<g id="edge59" class="edge">
<title>prose_34&#45;&gt;prespace_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2876.2304,-2572.9725C2882.5489,-2480.2257 2911.3525,-2057.4297 2919.0848,-1943.9305"/>
<polygon fill="#000000" stroke="#000000" points="2922.5779,-1944.1486 2919.7658,-1933.9338 2915.5941,-1943.6727 2922.5779,-1944.1486"/>
</g>
<!-- literal_60 -->
<g id="node61" class="node">
<title>literal_60</title>
<ellipse fill="none" stroke="#000000" cx="3017" cy="-1915.8175" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3017" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_34&#45;&gt;literal_60 -->
<g id="edge60" class="edge">
<title>prose_34&#45;&gt;literal_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2904.7675,-2583.6661C2928.3612,-2576.1381 2959.9413,-2561.9297 2976,-2537.0329 3101.9389,-2341.7811 3045.2834,-2036.4132 3023.8848,-1943.534"/>
<polygon fill="#000000" stroke="#000000" points="3027.282,-1942.6905 3021.5803,-1933.7607 3020.4688,-1944.2971 3027.282,-1942.6905"/>
</g>
<!-- raw_61 -->
<g id="node62" class="node">
<title>raw_61</title>
<ellipse fill="none" stroke="#000000" cx="3136" cy="-1915.8175" rx="27" ry="18"/>
<text text-anchor="middle" x="3136" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_34&#45;&gt;raw_61 -->
<g id="edge61" class="edge">
<title>prose_34&#45;&gt;raw_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2906.1932,-2585.9698C2952.8596,-2577.7323 3037.4702,-2560.0121 3057,-2537.0329 3208.8568,-2358.3542 3160.9046,-2039.7863 3142.0369,-1943.8868"/>
<polygon fill="#000000" stroke="#000000" points="3145.4121,-1942.9191 3139.9981,-1933.812 3138.5511,-1944.3076 3145.4121,-1942.9191"/>
</g>
<!-- leaf_69 -->
<g id="node70" class="node">
<title>leaf_69</title>
<polygon fill="none" stroke="#c0c0c0" points="3609.5,-1958.3177 3208.5,-1958.3177 3208.5,-1873.3174 3609.5,-1873.3174 3609.5,-1958.3177"/>
<text text-anchor="middle" x="3409" y="-1943.1176" font-family="Inconsolata" font-size="14.00" fill="#000000">local core = require &quot;core&quot;</text>
<text text-anchor="middle" x="3409" y="-1927.7176" font-family="Inconsolata" font-size="14.00" fill="#000000">string.cleave, string.litpat = core.cleave, core.litpat</text>
<text text-anchor="middle" x="3409" y="-1912.3175" font-family="Inconsolata" font-size="14.00" fill="#000000">meta = core.meta</text>
<text text-anchor="middle" x="3409" y="-1896.9175" font-family="Inconsolata" font-size="14.00" fill="#000000">getmeta, setmeta = getmetatable, setmetatable</text>
<text text-anchor="middle" x="3409" y="-1881.5175" font-family="Inconsolata" font-size="14.00" fill="#000000">coro = coroutine</text>
</g>
<!-- codeblock_35&#45;&gt;leaf_69 -->
<g id="edge69" class="edge">
<title>codeblock_35&#45;&gt;leaf_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3509.245,-2572.9725C3495.9803,-2486.0162 3438.4592,-2108.9367 3417.0593,-1968.6504"/>
<polygon fill="#000000" stroke="#000000" points="3420.4899,-1967.9293 3415.5219,-1958.5715 3413.57,-1968.985 3420.4899,-1967.9293"/>
</g>
<!-- raw_70 -->
<g id="node71" class="node">
<title>raw_70</title>
<ellipse fill="none" stroke="#000000" cx="3655" cy="-1915.8175" rx="27" ry="18"/>
<text text-anchor="middle" x="3655" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_36&#45;&gt;raw_70 -->
<g id="edge70" class="edge">
<title>prose_36&#45;&gt;raw_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3723.9521,-2576.6769C3712.1046,-2566.9582 3698.0756,-2553.0069 3691,-2537.0329 3597.5605,-2326.0811 3634.97,-2034.7524 3649.9381,-1943.9731"/>
<polygon fill="#000000" stroke="#000000" points="3653.4224,-1944.3596 3651.6419,-1933.9155 3646.5207,-1943.1904 3653.4224,-1944.3596"/>
</g>
<!-- raw_72 -->
<g id="node73" class="node">
<title>raw_72</title>
<ellipse fill="none" stroke="#000000" cx="3727" cy="-1915.8175" rx="27" ry="18"/>
<text text-anchor="middle" x="3727" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_37&#45;&gt;raw_72 -->
<g id="edge72" class="edge">
<title>prose_37&#45;&gt;raw_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3883.9543,-2584.4146C3844.298,-2575.0209 3777.7663,-2556.7575 3763,-2537.0329 3691.8791,-2442.0307 3716.3175,-2052.5422 3724.6769,-1944.0093"/>
<polygon fill="#000000" stroke="#000000" points="3728.1814,-1944.0884 3725.4767,-1933.8446 3721.203,-1943.5392 3728.1814,-1944.0884"/>
</g>
<!-- prespace_73 -->
<g id="node74" class="node">
<title>prespace_73</title>
<ellipse fill="none" stroke="#000000" cx="3818" cy="-1915.8175" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="3818" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_37&#45;&gt;prespace_73 -->
<g id="edge73" class="edge">
<title>prose_37&#45;&gt;prespace_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3898.3901,-2574.967C3889.6264,-2564.9112 3879.3958,-2551.2076 3874,-2537.0329 3791.9007,-2321.3582 3807.6832,-2034.2651 3815.2757,-1944.1229"/>
<polygon fill="#000000" stroke="#000000" points="3818.7859,-1944.1592 3816.1753,-1933.891 3811.8128,-1943.546 3818.7859,-1944.1592"/>
</g>
<!-- literal_74 -->
<g id="node75" class="node">
<title>literal_74</title>
<ellipse fill="none" stroke="#000000" cx="3914" cy="-1915.8175" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3914" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_37&#45;&gt;literal_74 -->
<g id="edge74" class="edge">
<title>prose_37&#45;&gt;literal_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3914,-2572.9725C3914,-2480.3192 3914,-2058.2818 3914,-1944.2747"/>
<polygon fill="#000000" stroke="#000000" points="3917.5001,-1943.9337 3914,-1933.9338 3910.5001,-1943.9338 3917.5001,-1943.9337"/>
</g>
<!-- raw_75 -->
<g id="node76" class="node">
<title>raw_75</title>
<ellipse fill="none" stroke="#000000" cx="3990" cy="-1915.8175" rx="27" ry="18"/>
<text text-anchor="middle" x="3990" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_37&#45;&gt;raw_75 -->
<g id="edge75" class="edge">
<title>prose_37&#45;&gt;raw_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3929.7753,-2575.0285C3938.5976,-2564.9945 3948.8318,-2551.2921 3954,-2537.0329 4032.5299,-2320.3651 4005.1786,-2033.423 3993.8785,-1943.7839"/>
<polygon fill="#000000" stroke="#000000" points="3997.347,-1943.3144 3992.5882,-1933.8484 3990.4053,-1944.2159 3997.347,-1943.3144"/>
</g>
<!-- leaf_80 -->
<g id="node81" class="node">
<title>leaf_80</title>
<polygon fill="none" stroke="#c0c0c0" points="4226.5,-1958.3177 4035.5,-1958.3177 4035.5,-1873.3174 4226.5,-1873.3174 4226.5,-1958.3177"/>
<text text-anchor="middle" x="4131" y="-1943.1176" font-family="Inconsolata" font-size="14.00" fill="#000000">a = require &quot;anterm&quot;</text>
<text text-anchor="middle" x="4131" y="-1927.7176" font-family="Inconsolata" font-size="14.00" fill="#000000">color = require &quot;color&quot;</text>
<text text-anchor="middle" x="4131" y="-1912.3175" font-family="Inconsolata" font-size="14.00" fill="#000000">ts = color.ts</text>
<text text-anchor="middle" x="4131" y="-1896.9175" font-family="Inconsolata" font-size="14.00" fill="#000000">c = color.color</text>
<text text-anchor="middle" x="4131" y="-1881.5175" font-family="Inconsolata" font-size="14.00" fill="#000000">watch = require &quot;watcher&quot;</text>
</g>
<!-- codeblock_38&#45;&gt;leaf_80 -->
<g id="edge80" class="edge">
<title>codeblock_38&#45;&gt;leaf_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4131,-2572.9725C4131,-2486.0162 4131,-2108.9367 4131,-1968.6504"/>
<polygon fill="#000000" stroke="#000000" points="4134.5001,-1968.5715 4131,-1958.5715 4127.5001,-1968.5715 4134.5001,-1968.5715"/>
</g>
<!-- raw_81 -->
<g id="node82" class="node">
<title>raw_81</title>
<ellipse fill="none" stroke="#000000" cx="4272" cy="-1915.8175" rx="27" ry="18"/>
<text text-anchor="middle" x="4272" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_39&#45;&gt;raw_81 -->
<g id="edge81" class="edge">
<title>prose_39&#45;&gt;raw_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4342.4833,-2577.0541C4330.1353,-2567.3899 4315.4135,-2553.3599 4308,-2537.0329 4212.5039,-2326.7191 4251.411,-2034.3853 4266.8295,-1943.7388"/>
<polygon fill="#000000" stroke="#000000" points="4270.3095,-1944.1564 4268.5828,-1933.7033 4263.4139,-1942.9517 4270.3095,-1944.1564"/>
</g>
<!-- prespace_82 -->
<g id="node83" class="node">
<title>prespace_82</title>
<ellipse fill="none" stroke="#000000" cx="4363" cy="-1915.8175" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4363" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_39&#45;&gt;prespace_82 -->
<g id="edge82" class="edge">
<title>prose_39&#45;&gt;prespace_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4363,-2572.9725C4363,-2480.3192 4363,-2058.2818 4363,-1944.2747"/>
<polygon fill="#000000" stroke="#000000" points="4366.5001,-1943.9337 4363,-1933.9338 4359.5001,-1943.9338 4366.5001,-1943.9337"/>
</g>
<!-- literal_83 -->
<g id="node84" class="node">
<title>literal_83</title>
<ellipse fill="none" stroke="#000000" cx="4459" cy="-1915.8175" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4459" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_39&#45;&gt;literal_83 -->
<g id="edge83" class="edge">
<title>prose_39&#45;&gt;literal_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4383.4722,-2577.0338C4395.8024,-2567.3614 4410.5211,-2553.33 4418,-2537.0329 4514.2781,-2327.2353 4478.4509,-2035.1349 4463.9293,-1944.0682"/>
<polygon fill="#000000" stroke="#000000" points="4467.3468,-1943.2797 4462.2743,-1933.9781 4460.4391,-1944.4128 4467.3468,-1943.2797"/>
</g>
<!-- raw_84 -->
<g id="node85" class="node">
<title>raw_84</title>
<ellipse fill="none" stroke="#000000" cx="4535" cy="-1915.8175" rx="27" ry="18"/>
<text text-anchor="middle" x="4535" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_39&#45;&gt;raw_84 -->
<g id="edge84" class="edge">
<title>prose_39&#45;&gt;raw_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4394.7989,-2588.0337C4426.8464,-2583.1608 4474.9085,-2570.3993 4499,-2537.0329 4568.4704,-2440.8172 4545.2144,-2052.1981 4537.2236,-1943.9361"/>
<polygon fill="#000000" stroke="#000000" points="4540.7011,-1943.5054 4536.4587,-1933.7971 4533.721,-1944.0321 4540.7011,-1943.5054"/>
</g>
<!-- raw_89 -->
<g id="node90" class="node">
<title>raw_89</title>
<ellipse fill="none" stroke="#000000" cx="4607" cy="-1915.8175" rx="27" ry="18"/>
<text text-anchor="middle" x="4607" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_40&#45;&gt;raw_89 -->
<g id="edge89" class="edge">
<title>prose_40&#45;&gt;raw_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4543.7357,-2575.3884C4553.6567,-2565.482 4565.1699,-2551.7873 4571,-2537.0329 4655.7879,-2322.4575 4624.1621,-2033.5511 4611.3488,-1943.6744"/>
<polygon fill="#000000" stroke="#000000" points="4614.8029,-1943.105 4609.8886,-1933.7189 4607.877,-1944.121 4614.8029,-1943.105"/>
</g>
<!-- leaf_91 -->
<g id="node92" class="node">
<title>leaf_91</title>
<polygon fill="none" stroke="#c0c0c0" points="5011.5,-2074.6181 4652.5,-2074.6181 4652.5,-1757.0169 5011.5,-1757.0169 5011.5,-2074.6181"/>
<text text-anchor="middle" x="4832" y="-2059.5178" font-family="Inconsolata" font-size="14.00" fill="#000000">local usecolors</text>
<text text-anchor="middle" x="4832" y="-2044.1177" font-family="Inconsolata" font-size="14.00" fill="#000000">stdout = &quot;&quot;</text>
<text text-anchor="middle" x="4832" y="-2012.7177" font-family="Inconsolata" font-size="14.00" fill="#000000">if uv.guess_handle(1) == &quot;tty&quot; then</text>
<text text-anchor="middle" x="4832" y="-1997.3177" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;stdout = uv.new_tty(1, false)</text>
<text text-anchor="middle" x="4832" y="-1981.9177" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;usecolors = true</text>
<text text-anchor="middle" x="4832" y="-1966.5176" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="4832" y="-1951.1176" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;stdout = uv.new_pipe(false)</text>
<text text-anchor="middle" x="4832" y="-1935.7176" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.pipe_open(utils.stdout, 1)</text>
<text text-anchor="middle" x="4832" y="-1920.3175" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;usecolors = false</text>
<text text-anchor="middle" x="4832" y="-1904.9175" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4832" y="-1873.5175" font-family="Inconsolata" font-size="14.00" fill="#000000">if not usecolors then</text>
<text text-anchor="middle" x="4832" y="-1858.1174" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;ts = tostring</text>
<text text-anchor="middle" x="4832" y="-1842.7174" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; #todo make this properly black and white ts</text>
<text text-anchor="middle" x="4832" y="-1827.3174" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4832" y="-1795.9173" font-family="Inconsolata" font-size="14.00" fill="#000000">function write(str)</text>
<text text-anchor="middle" x="4832" y="-1780.5173" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.write(stdout, str)</text>
<text text-anchor="middle" x="4832" y="-1765.1173" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_41&#45;&gt;leaf_91 -->
<g id="edge91" class="edge">
<title>codeblock_41&#45;&gt;leaf_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4745.3805,-2572.9725C4754.4128,-2504.4473 4787.1932,-2255.7525 4809.7328,-2084.7518"/>
<polygon fill="#000000" stroke="#000000" points="4813.2304,-2084.9988 4811.0673,-2074.6272 4806.2905,-2084.084 4813.2304,-2084.9988"/>
</g>
<!-- raw_92 -->
<g id="node93" class="node">
<title>raw_92</title>
<ellipse fill="none" stroke="#000000" cx="5057" cy="-1915.8175" rx="27" ry="18"/>
<text text-anchor="middle" x="5057" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_42&#45;&gt;raw_92 -->
<g id="edge92" class="edge">
<title>prose_42&#45;&gt;raw_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4984.8751,-2577.1303C4997.4418,-2567.4965 5012.4302,-2553.4718 5020,-2537.0329 5116.6196,-2327.2089 5077.6568,-2034.5468 5062.1895,-1943.7787"/>
<polygon fill="#000000" stroke="#000000" points="5065.6023,-1942.9761 5060.4304,-1933.7294 5058.7072,-1944.1832 5065.6023,-1942.9761"/>
</g>
<!-- leaf_94 -->
<g id="node95" class="node">
<title>leaf_94</title>
<polygon fill="none" stroke="#c0c0c0" points="5391.5,-1933.8175 5102.5,-1933.8175 5102.5,-1897.8175 5391.5,-1897.8175 5391.5,-1933.8175"/>
<text text-anchor="middle" x="5247" y="-1912.3175" font-family="Inconsolata" font-size="14.00" fill="#000000">local modeS = require &quot;modeselektor&quot; ()</text>
</g>
<!-- codeblock_43&#45;&gt;leaf_94 -->
<g id="edge94" class="edge">
<title>codeblock_43&#45;&gt;leaf_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5172.0596,-2572.9725C5182.6362,-2480.2257 5230.8509,-2057.4297 5243.7941,-1943.9305"/>
<polygon fill="#000000" stroke="#000000" points="5247.2784,-1944.266 5244.9341,-1933.9338 5240.3235,-1943.4728 5247.2784,-1944.266"/>
</g>
<!-- leaf_95 -->
<g id="node96" class="node">
<title>leaf_95</title>
<polygon fill="none" stroke="#c0c0c0" points="6000,-2537.2483 5410,-2537.2483 5410,-1294.3867 6000,-1294.3867 6000,-2537.2483"/>
<text text-anchor="middle" x="5705" y="-2521.8329" font-family="Inconsolata" font-size="14.00" fill="#000000">function print(...)</text>
<text text-anchor="middle" x="5705" y="-2506.4328" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local n = select(&#39;#&#39;, ...)</text>
<text text-anchor="middle" x="5705" y="-2491.0328" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local arguments = {...}</text>
<text text-anchor="middle" x="5705" y="-2475.6328" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 1, n do</text>
<text text-anchor="middle" x="5705" y="-2460.2327" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;arguments[i] = tostring(arguments[i])</text>
<text text-anchor="middle" x="5705" y="-2444.8327" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="5705" y="-2429.4327" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.write(stdout, table.concat(arguments, &quot;\t&quot;) .. &quot;\n&quot;)</text>
<text text-anchor="middle" x="5705" y="-2414.0327" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5705" y="-2366.6326" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; &#160;*** tty setup</text>
<text text-anchor="middle" x="5705" y="-2335.2326" font-family="Inconsolata" font-size="14.00" fill="#000000">if uv.guess_handle(0) ~= &quot;tty&quot; or</text>
<text text-anchor="middle" x="5705" y="-2319.8326" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.guess_handle(1) ~= &quot;tty&quot; then</text>
<text text-anchor="middle" x="5705" y="-2304.4325" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; Entry point for other consumers!</text>
<text text-anchor="middle" x="5705" y="-2289.0325" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;error &quot;stdio must be a tty&quot;</text>
<text text-anchor="middle" x="5705" y="-2273.6325" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5705" y="-2242.2324" font-family="Inconsolata" font-size="14.00" fill="#000000">local stdin = uv.new_tty(0, true)</text>
<text text-anchor="middle" x="5705" y="-2194.8324" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; &#160;*** utilities</text>
<text text-anchor="middle" x="5705" y="-2163.4324" font-family="Inconsolata" font-size="14.00" fill="#000000">local function gatherResults(success, ...)</text>
<text text-anchor="middle" x="5705" y="-2148.0323" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local n = select(&#39;#&#39;, ...)</text>
<text text-anchor="middle" x="5705" y="-2132.6323" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return success, { n = n, ... }</text>
<text text-anchor="middle" x="5705" y="-2117.2323" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5705" y="-2085.8322" font-family="Inconsolata" font-size="14.00" fill="#000000">local function printResults(results)</text>
<text text-anchor="middle" x="5705" y="-2070.4322" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 1, results.n do</text>
<text text-anchor="middle" x="5705" y="-2055.0322" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;results[i] = ts(results[i])</text>
<text text-anchor="middle" x="5705" y="-2039.6322" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="5705" y="-2024.2321" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;print(table.concat(results, &#39;\t&#39;))</text>
<text text-anchor="middle" x="5705" y="-2008.8321" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5705" y="-1977.4321" font-family="Inconsolata" font-size="14.00" fill="#000000">local buffer = &#39;&#39;</text>
<text text-anchor="middle" x="5705" y="-1946.032" font-family="Inconsolata" font-size="14.00" fill="#000000">local function evaluateLine(line)</text>
<text text-anchor="middle" x="5705" y="-1930.632" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if string.byte(line) == 17 then &#45;&#45; ^Q</text>
<text text-anchor="middle" x="5705" y="-1915.232" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uv.stop()</text>
<text text-anchor="middle" x="5705" y="-1899.8319" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="5705" y="-1884.4319" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="5705" y="-1869.0319" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local chunk &#160;= buffer .. line</text>
<text text-anchor="middle" x="5705" y="-1853.6318" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local f, err = loadstring(&#39;return &#39; .. chunk, &#39;REPL&#39;) &#45;&#45; first we prefix return</text>
<text text-anchor="middle" x="5705" y="-1822.2318" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not f then</text>
<text text-anchor="middle" x="5705" y="-1806.8318" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;f, err = loadstring(chunk, &#39;REPL&#39;) &#45;&#45; try again without return</text>
<text text-anchor="middle" x="5705" y="-1791.4317" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="5705" y="-1760.0317" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if f then</text>
<text text-anchor="middle" x="5705" y="-1744.6317" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;buffer = &#39;&#39;</text>
<text text-anchor="middle" x="5705" y="-1729.2317" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local success, results = gatherResults(xpcall(f, debug.traceback))</text>
<text text-anchor="middle" x="5705" y="-1697.8316" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if success then</text>
<text text-anchor="middle" x="5705" y="-1682.4316" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; successful call</text>
<text text-anchor="middle" x="5705" y="-1667.0316" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if results.n &gt; 0 then</text>
<text text-anchor="middle" x="5705" y="-1651.6315" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;printResults(results)</text>
<text text-anchor="middle" x="5705" y="-1636.2315" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5705" y="-1620.8315" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="5705" y="-1605.4314" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; error</text>
<text text-anchor="middle" x="5705" y="-1590.0314" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;print(results[1])</text>
<text text-anchor="middle" x="5705" y="-1574.6314" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5705" y="-1559.2313" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="5705" y="-1543.8313" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if err:match &quot;&#39;&lt;eof&gt;&#39;$&quot; then</text>
<text text-anchor="middle" x="5705" y="-1528.4313" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Lua expects some more input; stow it away for next time</text>
<text text-anchor="middle" x="5705" y="-1513.0312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;buffer = chunk .. &#39;\n&#39;</text>
<text text-anchor="middle" x="5705" y="-1497.6312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return &#39;...&#39;</text>
<text text-anchor="middle" x="5705" y="-1482.2312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="5705" y="-1466.8312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;print(err)</text>
<text text-anchor="middle" x="5705" y="-1451.4311" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;buffer = &#39;&#39;</text>
<text text-anchor="middle" x="5705" y="-1436.0311" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5705" y="-1420.6311" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="5705" y="-1389.231" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return &#39; &#160;&#39;</text>
<text text-anchor="middle" x="5705" y="-1365.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5705" y="-1333.6022" font-family="Inconsolata" font-size="14.00" fill="#000000">local function displayPrompt(prompt)</text>
<text text-anchor="middle" x="5705" y="-1318.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.write(stdout, prompt)</text>
<text text-anchor="middle" x="5705" y="-1302.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_44&#45;&gt;leaf_95 -->
<g id="edge95" class="edge">
<title>codeblock_44&#45;&gt;leaf_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5531.7611,-2572.9725C5533.5812,-2566.068 5535.8836,-2557.3344 5538.5986,-2547.0355"/>
<polygon fill="#000000" stroke="#000000" points="5542.0412,-2547.7066 5541.206,-2537.1447 5535.2724,-2545.9222 5542.0412,-2547.7066"/>
</g>
<!-- leaf_96 -->
<g id="node97" class="node">
<title>leaf_96</title>
<polygon fill="none" stroke="#c0c0c0" points="6391.5,-1996.8178 6018.5,-1996.8178 6018.5,-1834.8172 6391.5,-1834.8172 6391.5,-1996.8178"/>
<text text-anchor="middle" x="6205" y="-1981.6177" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Deprecated, but useful if I want, y&#39;know, a REPL</text>
<text text-anchor="middle" x="6205" y="-1966.2176" font-family="Inconsolata" font-size="14.00" fill="#000000">local function onread(err, line)</text>
<text text-anchor="middle" x="6205" y="-1950.8176" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if err then error(err) end</text>
<text text-anchor="middle" x="6205" y="-1935.4176" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if line then</text>
<text text-anchor="middle" x="6205" y="-1920.0175" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local prompt = evaluateLine(line)</text>
<text text-anchor="middle" x="6205" y="-1904.6175" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;displayPrompt(prompt)</text>
<text text-anchor="middle" x="6205" y="-1889.2175" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="6205" y="-1873.8175" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;uv.close(stdin)</text>
<text text-anchor="middle" x="6205" y="-1858.4174" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="6205" y="-1843.0174" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_45&#45;&gt;leaf_96 -->
<g id="edge96" class="edge">
<title>codeblock_45&#45;&gt;leaf_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5979.8998,-2573.1446C5989.8201,-2563.318 6001.3091,-2550.4261 6009,-2537.0329 6108.7241,-2363.3686 6164.267,-2132.7231 6189.0353,-2007.0197"/>
<polygon fill="#000000" stroke="#000000" points="6192.5024,-2007.526 6190.9802,-1997.0411 6185.6317,-2006.1869 6192.5024,-2007.526"/>
</g>
<!-- leaf_51 -->
<g id="node52" class="node">
<title>leaf_51</title>
<polygon fill="none" stroke="#c0c0c0" points="1788,-718.3026 1734,-718.3026 1734,-662.4996 1788,-662.4996 1788,-718.3026"/>
<text text-anchor="middle" x="1761" y="-670.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">The</text>
</g>
<!-- raw_47&#45;&gt;leaf_51 -->
<g id="edge51" class="edge">
<title>raw_47&#45;&gt;leaf_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1896.1449,-1897.7363C1901.5796,-1806.7514 1921.9453,-1399.2361 1858,-1294.6022 1841.5841,-1267.7408 1813.4666,-1285.4324 1797,-1258.6022 1690.8692,-1085.6758 1731.7918,-824.7458 1752.178,-728.1234"/>
<polygon fill="#000000" stroke="#000000" points="1755.6251,-728.7418 1754.3165,-718.2281 1748.783,-727.2631 1755.6251,-728.7418"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="1860,-708.4011 1806,-708.4011 1806,-672.4011 1860,-672.4011 1860,-708.4011"/>
<text text-anchor="middle" x="1833" y="-686.9011" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_48&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>prespace_48&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1989.9536,-1897.6668C2006.1425,-1818.5062 2060.5834,-1498.3283 1931,-1294.6022 1913.8987,-1267.7162 1885.7634,-1285.7001 1869,-1258.6022 1758.4292,-1079.8656 1806.7009,-806.0516 1826.2295,-718.4081"/>
<polygon fill="#000000" stroke="#000000" points="1829.6931,-718.9621 1828.5095,-708.4336 1822.8691,-717.4022 1829.6931,-718.9621"/>
</g>
<!-- leaf_53 -->
<g id="node54" class="node">
<title>leaf_53</title>
<polygon fill="none" stroke="#c0c0c0" points="1932,-708.4011 1878,-708.4011 1878,-672.4011 1932,-672.4011 1932,-708.4011"/>
<text text-anchor="middle" x="1905" y="-686.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">core</text>
</g>
<!-- literal_49&#45;&gt;leaf_53 -->
<g id="edge53" class="edge">
<title>literal_49&#45;&gt;leaf_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2087.1394,-1897.9221C2108.9808,-1817.829 2186.5039,-1487.7725 2041,-1294.6022 2012.5797,-1256.8716 1969.3706,-1296.3701 1941,-1258.6022 1876.3464,-1172.5329 1895.6507,-821.5938 1902.8484,-718.8124"/>
<polygon fill="#000000" stroke="#000000" points="1906.3571,-718.8155 1903.5823,-708.5905 1899.375,-718.3141 1906.3571,-718.8155"/>
</g>
<!-- leaf_54 -->
<g id="node55" class="node">
<title>leaf_54</title>
<polygon fill="none" stroke="#c0c0c0" points="2435.5,-709.7017 1950.5,-709.7017 1950.5,-671.1005 2435.5,-671.1005 2435.5,-709.7017"/>
<text text-anchor="middle" x="2193" y="-694.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> library is shaping up as a place to keep alterations to the global</text>
<text text-anchor="middle" x="2193" y="-679.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">namespace and standard library.</text>
</g>
<!-- raw_50&#45;&gt;leaf_54 -->
<g id="edge54" class="edge">
<title>raw_50&#45;&gt;leaf_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2175.2684,-1897.5439C2177.2829,-1760.403 2190.0242,-892.9924 2192.561,-720.286"/>
<polygon fill="#000000" stroke="#000000" points="2196.0626,-720.1972 2192.71,-710.1468 2189.0634,-720.0943 2196.0626,-720.1972"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="2630.5,-710.3032 2453.5,-710.3032 2453.5,-670.499 2630.5,-670.499 2630.5,-710.3032"/>
<text text-anchor="middle" x="2542" y="-678.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">This prelude belongs in</text>
</g>
<!-- raw_55&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>raw_55&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2555.7912,-1897.5439C2554.2244,-1760.403 2544.3145,-892.9924 2542.3414,-720.286"/>
<polygon fill="#000000" stroke="#000000" points="2545.8397,-720.1061 2542.2256,-710.1468 2538.8402,-720.1862 2545.8397,-720.1061"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="2703,-708.4011 2649,-708.4011 2649,-672.4011 2703,-672.4011 2703,-708.4011"/>
<text text-anchor="middle" x="2676" y="-686.9011" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_56&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>prespace_56&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2658.2684,-1897.5439C2660.2883,-1760.0344 2673.0927,-888.3244 2675.5813,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="2679.0827,-718.8306 2675.73,-708.7802 2672.0834,-718.7277 2679.0827,-718.8306"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="2775,-708.4011 2721,-708.4011 2721,-672.4011 2775,-672.4011 2775,-708.4011"/>
<text text-anchor="middle" x="2748" y="-686.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">pylon</text>
</g>
<!-- literal_57&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>literal_57&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2753.9105,-1897.5439C2753.2372,-1760.0344 2748.9691,-888.3244 2748.1396,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="2751.639,-718.7629 2748.09,-708.7802 2744.6391,-718.7972 2751.639,-718.7629"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="2872.5,-708.4011 2793.5,-708.4011 2793.5,-672.4011 2872.5,-672.4011 2872.5,-708.4011"/>
<text text-anchor="middle" x="2833" y="-686.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">; it, and</text>
</g>
<!-- raw_58&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>raw_58&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2830.0447,-1897.5439C2830.3814,-1760.0344 2832.5155,-888.3244 2832.9302,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="2836.4304,-718.7888 2832.955,-708.7802 2829.4304,-718.7716 2836.4304,-718.7888"/>
</g>
<!-- leaf_66 -->
<g id="node67" class="node">
<title>leaf_66</title>
<polygon fill="none" stroke="#c0c0c0" points="2945,-708.4011 2891,-708.4011 2891,-672.4011 2945,-672.4011 2945,-708.4011"/>
<text text-anchor="middle" x="2918" y="-686.9011" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_59&#45;&gt;leaf_66 -->
<g id="edge66" class="edge">
<title>prespace_59&#45;&gt;leaf_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2920.9553,-1897.5439C2920.6186,-1760.0344 2918.4845,-888.3244 2918.0698,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="2921.5696,-718.7716 2918.045,-708.7802 2914.5696,-718.7888 2921.5696,-718.7716"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="3017,-708.4011 2963,-708.4011 2963,-672.4011 3017,-672.4011 3017,-708.4011"/>
<text text-anchor="middle" x="2990" y="-686.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">core</text>
</g>
<!-- literal_60&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>literal_60&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3016.5974,-1897.5439C3013.5676,-1760.0344 2994.3609,-888.3244 2990.6281,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="2994.1245,-718.7006 2990.405,-708.7802 2987.1262,-718.8549 2994.1245,-718.7006"/>
</g>
<!-- leaf_68 -->
<g id="node69" class="node">
<title>leaf_68</title>
<polygon fill="none" stroke="#c0c0c0" points="3268.5,-708.4011 3035.5,-708.4011 3035.5,-672.4011 3268.5,-672.4011 3268.5,-708.4011"/>
<text text-anchor="middle" x="3152" y="-686.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">, will eventually end up there.</text>
</g>
<!-- raw_61&#45;&gt;leaf_68 -->
<g id="edge68" class="edge">
<title>raw_61&#45;&gt;leaf_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3136.2386,-1897.5439C3138.034,-1760.0344 3149.4158,-888.3244 3151.6278,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="3155.1291,-718.8251 3151.76,-708.7802 3148.1297,-718.7336 3155.1291,-718.8251"/>
</g>
<!-- leaf_71 -->
<g id="node72" class="node">
<title>leaf_71</title>
<polygon fill="none" stroke="#c0c0c0" points="3561.5,-710.3032 3286.5,-710.3032 3286.5,-670.499 3561.5,-670.499 3561.5,-710.3032"/>
<text text-anchor="middle" x="3424" y="-678.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">Primitives for terminal manipulation.</text>
</g>
<!-- raw_70&#45;&gt;leaf_71 -->
<g id="edge71" class="edge">
<title>raw_70&#45;&gt;leaf_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3659.0581,-1897.8278C3675.6213,-1819.9861 3731.9813,-1506.5601 3618,-1294.6022 3605.3702,-1271.116 3584.8231,-1280.7694 3570,-1258.6022 3450.5697,-1079.999 3428.83,-809.9222 3424.8771,-720.4014"/>
<polygon fill="#000000" stroke="#000000" points="3428.3646,-720.0148 3424.4695,-710.162 3421.3701,-720.2933 3428.3646,-720.0148"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="3784.5,-710.3032 3579.5,-710.3032 3579.5,-670.499 3784.5,-670.499 3784.5,-710.3032"/>
<text text-anchor="middle" x="3682" y="-678.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">Arguably don&#39;t belong here.</text>
</g>
<!-- raw_72&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>raw_72&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3726.329,-1897.5439C3721.2928,-1760.403 3689.4396,-892.9924 3683.0974,-720.286"/>
<polygon fill="#000000" stroke="#000000" points="3686.5898,-720.0116 3682.7251,-710.1468 3679.5945,-720.2685 3686.5898,-720.0116"/>
</g>
<!-- leaf_77 -->
<g id="node78" class="node">
<title>leaf_77</title>
<polygon fill="none" stroke="#c0c0c0" points="3857,-708.4011 3803,-708.4011 3803,-672.4011 3857,-672.4011 3857,-708.4011"/>
<text text-anchor="middle" x="3830" y="-686.9011" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_73&#45;&gt;leaf_77 -->
<g id="edge77" class="edge">
<title>prespace_73&#45;&gt;leaf_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3818.1789,-1897.5439C3819.5255,-1760.0344 3828.0618,-888.3244 3829.7208,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="3833.2218,-718.814 3829.82,-708.7802 3826.2222,-718.7454 3833.2218,-718.814"/>
</g>
<!-- leaf_78 -->
<g id="node79" class="node">
<title>leaf_78</title>
<polygon fill="none" stroke="#c0c0c0" points="3929,-708.4011 3875,-708.4011 3875,-672.4011 3929,-672.4011 3929,-708.4011"/>
<text text-anchor="middle" x="3902" y="-686.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">watch</text>
</g>
<!-- literal_74&#45;&gt;leaf_78 -->
<g id="edge78" class="edge">
<title>literal_74&#45;&gt;leaf_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3913.8211,-1897.5439C3912.4745,-1760.0344 3903.9382,-888.3244 3902.2792,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="3905.7778,-718.7454 3902.18,-708.7802 3898.7782,-718.814 3905.7778,-718.7454"/>
</g>
<!-- leaf_79 -->
<g id="node80" class="node">
<title>leaf_79</title>
<polygon fill="none" stroke="#c0c0c0" points="4243,-709.7017 3947,-709.7017 3947,-671.1005 4243,-671.1005 4243,-709.7017"/>
<text text-anchor="middle" x="4095" y="-694.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> is unused at present, it will be useful</text>
<text text-anchor="middle" x="4095" y="-679.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">in Orb relatively soon.</text>
</g>
<!-- raw_75&#45;&gt;leaf_79 -->
<g id="edge79" class="edge">
<title>raw_75&#45;&gt;leaf_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3990.6777,-1897.7494C3993.5496,-1823.2648 4005.5181,-1532.7412 4026,-1294.6022 4045.0417,-1073.2084 4079.4126,-807.4522 4091.0358,-719.9274"/>
<polygon fill="#000000" stroke="#000000" points="4094.5175,-720.2966 4092.3687,-709.922 4087.5788,-719.3722 4094.5175,-720.2966"/>
</g>
<!-- leaf_85 -->
<g id="node86" class="node">
<title>leaf_85</title>
<polygon fill="none" stroke="#c0c0c0" points="4417,-710.3032 4261,-710.3032 4261,-670.499 4417,-670.499 4417,-710.3032"/>
<text text-anchor="middle" x="4339" y="-678.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">This is all from the</text>
</g>
<!-- raw_81&#45;&gt;leaf_85 -->
<g id="edge85" class="edge">
<title>raw_81&#45;&gt;leaf_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4272.9991,-1897.5439C4280.4973,-1760.403 4327.9233,-892.9924 4337.366,-720.286"/>
<polygon fill="#000000" stroke="#000000" points="4340.8691,-720.323 4337.9204,-710.1468 4333.8796,-719.9408 4340.8691,-720.323"/>
</g>
<!-- leaf_86 -->
<g id="node87" class="node">
<title>leaf_86</title>
<polygon fill="none" stroke="#c0c0c0" points="4489,-708.4011 4435,-708.4011 4435,-672.4011 4489,-672.4011 4489,-708.4011"/>
<text text-anchor="middle" x="4462" y="-686.9011" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_82&#45;&gt;leaf_86 -->
<g id="edge86" class="edge">
<title>prespace_82&#45;&gt;leaf_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4363.9546,-1897.698C4368.032,-1823.0122 4385.3361,-1531.8108 4419,-1294.6022 4421.2902,-1278.4642 4423.9248,-1274.7692 4426,-1258.6022 4452.4355,-1052.6523 4459.7268,-802.1003 4461.4922,-718.8219"/>
<polygon fill="#000000" stroke="#000000" points="4464.9952,-718.7042 4461.6978,-708.6355 4457.9966,-718.5628 4464.9952,-718.7042"/>
</g>
<!-- leaf_87 -->
<g id="node88" class="node">
<title>leaf_87</title>
<polygon fill="none" stroke="#c0c0c0" points="4561,-708.4011 4507,-708.4011 4507,-672.4011 4561,-672.4011 4561,-708.4011"/>
<text text-anchor="middle" x="4534" y="-686.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">luv</text>
</g>
<!-- literal_83&#45;&gt;leaf_87 -->
<g id="edge87" class="edge">
<title>literal_83&#45;&gt;leaf_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4460.1184,-1897.5439C4468.5345,-1760.0344 4521.8864,-888.3244 4532.2552,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="4535.7576,-718.9754 4532.8751,-708.7802 4528.7707,-718.5477 4535.7576,-718.9754"/>
</g>
<!-- leaf_88 -->
<g id="node89" class="node">
<title>leaf_88</title>
<polygon fill="none" stroke="#c0c0c0" points="4959,-709.7017 4579,-709.7017 4579,-671.1005 4959,-671.1005 4959,-709.7017"/>
<text text-anchor="middle" x="4769" y="-694.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> repl example, which has been an excellent launching</text>
<text text-anchor="middle" x="4769" y="-679.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">off point. &#160;Thanks Tim Caswell!</text>
</g>
<!-- raw_84&#45;&gt;leaf_88 -->
<g id="edge88" class="edge">
<title>raw_84&#45;&gt;leaf_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4534.3578,-1897.8211C4532.0409,-1823.0308 4526.4472,-1529.7063 4571,-1294.6022 4614.2955,-1066.1325 4720.4108,-804.5415 4756.6414,-719.0463"/>
<polygon fill="#000000" stroke="#000000" points="4759.9099,-720.304 4760.608,-709.7322 4753.4696,-717.5612 4759.9099,-720.304"/>
</g>
<!-- leaf_90 -->
<g id="node91" class="node">
<title>leaf_90</title>
<polygon fill="none" stroke="#c0c0c0" points="5238.5,-710.3032 4977.5,-710.3032 4977.5,-670.499 5238.5,-670.499 5238.5,-710.3032"/>
<text text-anchor="middle" x="5108" y="-678.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">It&#39;s getting phased out bit by bit.</text>
</g>
<!-- raw_89&#45;&gt;leaf_90 -->
<g id="edge90" class="edge">
<title>raw_89&#45;&gt;leaf_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4605.0942,-1897.7483C4595.736,-1805.0471 4558.4148,-1383.7429 4643,-1294.6022 4693.0166,-1241.8918 4913.3597,-1306.503 4968,-1258.6022 5131.1219,-1115.6001 5119.5281,-815.8659 5111.1892,-720.3314"/>
<polygon fill="#000000" stroke="#000000" points="5114.6596,-719.8498 5110.2497,-710.2163 5107.6896,-720.4972 5114.6596,-719.8498"/>
</g>
<!-- leaf_93 -->
<g id="node94" class="node">
<title>leaf_93</title>
<polygon fill="none" stroke="#c0c0c0" points="5357,-710.3032 5257,-710.3032 5257,-670.499 5357,-670.499 5357,-710.3032"/>
<text text-anchor="middle" x="5307" y="-678.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">Modeselektor</text>
</g>
<!-- raw_92&#45;&gt;leaf_93 -->
<g id="edge93" class="edge">
<title>raw_92&#45;&gt;leaf_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5055.2698,-1897.6261C5046.8804,-1805.2175 5013.9673,-1388.5245 5093,-1294.6022 5138.2561,-1240.8199 5200.4842,-1311.2987 5247,-1258.6022 5386.69,-1100.3509 5335.6048,-812.5816 5314.385,-719.9636"/>
<polygon fill="#000000" stroke="#000000" points="5317.7722,-719.0775 5312.0773,-710.1434 5310.9578,-720.6789 5317.7722,-719.0775"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="6488.5,-1933.8175 6409.5,-1933.8175 6409.5,-1897.8175 6488.5,-1897.8175 6488.5,-1933.8175"/>
<text text-anchor="middle" x="6449" y="-1912.3175" font-family="Inconsolata" font-size="14.00" fill="#000000">** Reader</text>
</g>
<!-- header_97&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>header_97&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6519.172,-2573.7785C6511.439,-2563.7392 6502.6455,-2550.4482 6498,-2537.0329 6422.6433,-2319.4163 6438.7286,-2034.1755 6446.2872,-1944.2422"/>
<polygon fill="#000000" stroke="#000000" points="6449.7959,-1944.2946 6447.1812,-1934.0275 6442.8226,-1943.6842 6449.7959,-1944.2946"/>
</g>
<!-- raw_104 -->
<g id="node105" class="node">
<title>raw_104</title>
<ellipse fill="none" stroke="#000000" cx="6534" cy="-1915.8175" rx="27" ry="18"/>
<text text-anchor="middle" x="6534" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_98&#45;&gt;raw_104 -->
<g id="edge104" class="edge">
<title>prose_98&#45;&gt;raw_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6690.9543,-2584.4146C6651.298,-2575.0209 6584.7663,-2556.7575 6570,-2537.0329 6498.8791,-2442.0307 6523.3175,-2052.5422 6531.6769,-1944.0093"/>
<polygon fill="#000000" stroke="#000000" points="6535.1814,-1944.0884 6532.4767,-1933.8446 6528.203,-1943.5392 6535.1814,-1944.0884"/>
</g>
<!-- prespace_105 -->
<g id="node106" class="node">
<title>prespace_105</title>
<ellipse fill="none" stroke="#000000" cx="6625" cy="-1915.8175" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6625" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_98&#45;&gt;prespace_105 -->
<g id="edge105" class="edge">
<title>prose_98&#45;&gt;prespace_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6705.3901,-2574.967C6696.6264,-2564.9112 6686.3958,-2551.2076 6681,-2537.0329 6598.9007,-2321.3582 6614.6832,-2034.2651 6622.2757,-1944.1229"/>
<polygon fill="#000000" stroke="#000000" points="6625.7859,-1944.1592 6623.1753,-1933.891 6618.8128,-1943.546 6625.7859,-1944.1592"/>
</g>
<!-- literal_106 -->
<g id="node107" class="node">
<title>literal_106</title>
<ellipse fill="none" stroke="#000000" cx="6721" cy="-1915.8175" rx="31.481" ry="18"/>
<text text-anchor="middle" x="6721" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_98&#45;&gt;literal_106 -->
<g id="edge106" class="edge">
<title>prose_98&#45;&gt;literal_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6721,-2572.9725C6721,-2480.3192 6721,-2058.2818 6721,-1944.2747"/>
<polygon fill="#000000" stroke="#000000" points="6724.5001,-1943.9337 6721,-1933.9338 6717.5001,-1943.9338 6724.5001,-1943.9337"/>
</g>
<!-- raw_107 -->
<g id="node108" class="node">
<title>raw_107</title>
<ellipse fill="none" stroke="#000000" cx="6797" cy="-1915.8175" rx="27" ry="18"/>
<text text-anchor="middle" x="6797" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_98&#45;&gt;raw_107 -->
<g id="edge107" class="edge">
<title>prose_98&#45;&gt;raw_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6736.7753,-2575.0285C6745.5976,-2564.9945 6755.8318,-2551.2921 6761,-2537.0329 6839.5299,-2320.3651 6812.1786,-2033.423 6800.8785,-1943.7839"/>
<polygon fill="#000000" stroke="#000000" points="6804.347,-1943.3144 6799.5882,-1933.8484 6797.4053,-1944.2159 6804.347,-1943.3144"/>
</g>
<!-- header_112 -->
<g id="node113" class="node">
<title>header_112</title>
<ellipse fill="none" stroke="#000000" cx="7069" cy="-1915.8175" rx="48.4031" ry="18"/>
<text text-anchor="middle" x="7069" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : keybuf</text>
</g>
<!-- section_99&#45;&gt;header_112 -->
<g id="edge112" class="edge">
<title>section_99&#45;&gt;header_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7192.1746,-2579.3125C7168.1938,-2571.4285 7142.4214,-2558.4028 7127,-2537.0329 6990.5895,-2348.004 7042.5376,-2037.7821 7062.5574,-1943.7135"/>
<polygon fill="#000000" stroke="#000000" points="7066.0038,-1944.3363 7064.7172,-1933.8199 7059.1649,-1942.8433 7066.0038,-1944.3363"/>
</g>
<!-- prose_113 -->
<g id="node114" class="node">
<title>prose_113</title>
<ellipse fill="none" stroke="#000000" cx="7168" cy="-1915.8175" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7168" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_99&#45;&gt;prose_113 -->
<g id="edge113" class="edge">
<title>section_99&#45;&gt;prose_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7232.1919,-2573.1928C7223.5746,-2563.3794 7214.0273,-2550.4848 7209,-2537.0329 7128.2813,-2321.0487 7153.6196,-2033.6509 7164.3095,-1943.8409"/>
<polygon fill="#000000" stroke="#000000" points="7167.7869,-1944.2382 7165.5324,-1933.8861 7160.8392,-1943.3847 7167.7869,-1944.2382"/>
</g>
<!-- prose_114 -->
<g id="node115" class="node">
<title>prose_114</title>
<ellipse fill="none" stroke="#000000" cx="7250" cy="-1915.8175" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7250" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_99&#45;&gt;prose_114 -->
<g id="edge114" class="edge">
<title>section_99&#45;&gt;prose_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7250,-2572.9725C7250,-2480.3192 7250,-2058.2818 7250,-1944.2747"/>
<polygon fill="#000000" stroke="#000000" points="7253.5001,-1943.9337 7250,-1933.9338 7246.5001,-1943.9338 7253.5001,-1943.9337"/>
</g>
<!-- prose_115 -->
<g id="node116" class="node">
<title>prose_115</title>
<ellipse fill="none" stroke="#000000" cx="7396" cy="-1915.8175" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7396" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_99&#45;&gt;prose_115 -->
<g id="edge115" class="edge">
<title>section_99&#45;&gt;prose_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7266.8369,-2573.452C7275.4025,-2563.5165 7285.203,-2550.4284 7291,-2537.0329 7383.6724,-2322.8876 7394.8077,-2034.2639 7395.945,-1943.9942"/>
<polygon fill="#000000" stroke="#000000" points="7399.4448,-1944.0198 7396.039,-1933.9873 7392.4452,-1943.954 7399.4448,-1944.0198"/>
</g>
<!-- codeblock_116 -->
<g id="node117" class="node">
<title>codeblock_116</title>
<ellipse fill="none" stroke="#000000" cx="7665" cy="-1915.8175" rx="86.7905" ry="18"/>
<text text-anchor="middle" x="7665" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 211&#45;221</text>
</g>
<!-- section_99&#45;&gt;codeblock_116 -->
<g id="edge116" class="edge">
<title>section_99&#45;&gt;codeblock_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7309.6217,-2579.9106C7357.036,-2569.9835 7418.3958,-2554.3673 7437,-2537.0329 7618.6791,-2367.7541 7656.1035,-2041.4729 7663.3526,-1943.9878"/>
<polygon fill="#000000" stroke="#000000" points="7666.8443,-1944.2281 7664.0467,-1934.0093 7659.8612,-1943.7423 7666.8443,-1944.2281"/>
</g>
<!-- header_131 -->
<g id="node132" class="node">
<title>header_131</title>
<ellipse fill="none" stroke="#000000" cx="8083" cy="-1915.8175" rx="84.6634" ry="18"/>
<text text-anchor="middle" x="8083" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : helper functions</text>
</g>
<!-- section_100&#45;&gt;header_131 -->
<g id="edge131" class="edge">
<title>section_100&#45;&gt;header_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8268.7879,-2578.2355C8245.9045,-2570.0984 8220.8295,-2557.1719 8205,-2537.0329 8058.8303,-2351.0697 8072.1991,-2038.7591 8080.1715,-1943.947"/>
<polygon fill="#000000" stroke="#000000" points="8083.6587,-1944.2449 8081.0597,-1933.9738 8076.6863,-1943.6239 8083.6587,-1944.2449"/>
</g>
<!-- prose_132 -->
<g id="node133" class="node">
<title>prose_132</title>
<ellipse fill="none" stroke="#000000" cx="8246" cy="-1915.8175" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8246" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_100&#45;&gt;prose_132 -->
<g id="edge132" class="edge">
<title>section_100&#45;&gt;prose_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8313.9142,-2572.9053C8309.6656,-2562.593 8304.7773,-2549.3196 8302,-2537.0329 8251.2344,-2312.4464 8246.1664,-2032.3739 8245.9061,-1943.9259"/>
<polygon fill="#000000" stroke="#000000" points="8249.4062,-1943.873 8245.8957,-1933.8766 8242.4062,-1943.8803 8249.4062,-1943.873"/>
</g>
<!-- codeblock_133 -->
<g id="node134" class="node">
<title>codeblock_133</title>
<ellipse fill="none" stroke="#000000" cx="8398" cy="-1915.8175" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="8398" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 229&#45;265</text>
</g>
<!-- section_100&#45;&gt;codeblock_133 -->
<g id="edge133" class="edge">
<title>section_100&#45;&gt;codeblock_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8324.0328,-2572.9725C8334.4721,-2480.2257 8382.0606,-2057.4297 8394.8357,-1943.9305"/>
<polygon fill="#000000" stroke="#000000" points="8398.3203,-1944.2625 8395.9609,-1933.9338 8391.3643,-1943.4795 8398.3203,-1944.2625"/>
</g>
<!-- prose_134 -->
<g id="node135" class="node">
<title>prose_134</title>
<ellipse fill="none" stroke="#000000" cx="8570" cy="-1915.8175" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8570" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_100&#45;&gt;prose_134 -->
<g id="edge134" class="edge">
<title>section_100&#45;&gt;prose_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8380.9882,-2579.6165C8424.7547,-2569.8944 8479.2833,-2554.7136 8494,-2537.0329 8643.9254,-2356.9114 8595.1667,-2039.3319 8576.0929,-1943.7795"/>
<polygon fill="#000000" stroke="#000000" points="8579.4719,-1942.834 8574.033,-1933.7418 8572.6148,-1944.2413 8579.4719,-1942.834"/>
</g>
<!-- codeblock_135 -->
<g id="node136" class="node">
<title>codeblock_135</title>
<ellipse fill="none" stroke="#000000" cx="8807" cy="-1915.8175" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="8807" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 269&#45;279</text>
</g>
<!-- section_100&#45;&gt;codeblock_135 -->
<g id="edge135" class="edge">
<title>section_100&#45;&gt;codeblock_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8394.6656,-2585.907C8469.5413,-2579.186 8579.6227,-2564.8286 8611,-2537.0329 8794.1776,-2374.7637 8807.7246,-2042.9729 8807.5312,-1944.1796"/>
<polygon fill="#000000" stroke="#000000" points="8811.0305,-1944.0476 8807.4598,-1934.0726 8804.0307,-1944.0972 8811.0305,-1944.0476"/>
</g>
<!-- header_143 -->
<g id="node144" class="node">
<title>header_143</title>
<ellipse fill="none" stroke="#000000" cx="9256" cy="-1915.8175" rx="111.2326" ry="18"/>
<text text-anchor="middle" x="9256" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : process_escapes(seq)</text>
</g>
<!-- section_101&#45;&gt;header_143 -->
<g id="edge143" class="edge">
<title>section_101&#45;&gt;header_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9256,-2572.9725C9256,-2480.3192 9256,-2058.2818 9256,-1944.2747"/>
<polygon fill="#000000" stroke="#000000" points="9259.5001,-1943.9337 9256,-1933.9338 9252.5001,-1943.9338 9259.5001,-1943.9337"/>
</g>
<!-- prose_144 -->
<g id="node145" class="node">
<title>prose_144</title>
<ellipse fill="none" stroke="#000000" cx="9418" cy="-1915.8175" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9418" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_101&#45;&gt;prose_144 -->
<g id="edge144" class="edge">
<title>section_101&#45;&gt;prose_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9312.7002,-2579.147C9336.1512,-2571.231 9361.2594,-2558.2261 9376,-2537.0329 9508.8316,-2346.0559 9448.0148,-2037.1612 9425.2593,-1943.5651"/>
<polygon fill="#000000" stroke="#000000" points="9428.6214,-1942.5816 9422.8112,-1933.7221 9421.8284,-1944.2712 9428.6214,-1942.5816"/>
</g>
<!-- header_148 -->
<g id="node149" class="node">
<title>header_148</title>
<ellipse fill="none" stroke="#000000" cx="9660" cy="-1915.8175" rx="34.3874" ry="18"/>
<text text-anchor="middle" x="9660" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : act</text>
</g>
<!-- section_102&#45;&gt;header_148 -->
<g id="edge148" class="edge">
<title>section_102&#45;&gt;header_148</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9768.5767,-2573.0412C9760.0647,-2563.1864 9750.4955,-2550.3004 9745,-2537.0329 9656.1355,-2322.4909 9656.35,-2034.1317 9658.8906,-1943.9611"/>
<polygon fill="#000000" stroke="#000000" points="9662.3887,-1944.071 9659.2061,-1933.9655 9655.3922,-1943.8501 9662.3887,-1944.071"/>
</g>
<!-- prose_149 -->
<g id="node150" class="node">
<title>prose_149</title>
<ellipse fill="none" stroke="#000000" cx="9786" cy="-1915.8175" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9786" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_102&#45;&gt;prose_149 -->
<g id="edge149" class="edge">
<title>section_102&#45;&gt;prose_149</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9786,-2572.9725C9786,-2480.3192 9786,-2058.2818 9786,-1944.2747"/>
<polygon fill="#000000" stroke="#000000" points="9789.5001,-1943.9337 9786,-1933.9338 9782.5001,-1943.9338 9789.5001,-1943.9337"/>
</g>
<!-- codeblock_150 -->
<g id="node151" class="node">
<title>codeblock_150</title>
<ellipse fill="none" stroke="#000000" cx="10102" cy="-1915.8175" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="10102" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 289&#45;363</text>
</g>
<!-- section_102&#45;&gt;codeblock_150 -->
<g id="edge150" class="edge">
<title>section_102&#45;&gt;codeblock_150</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9801.1495,-2573.282C9809.4129,-2563.0875 9819.4629,-2549.8065 9827,-2537.0329 9954.9941,-2320.1143 10060.8043,-2032.8295 10092.3793,-1943.5087"/>
<polygon fill="#000000" stroke="#000000" points="10095.7613,-1944.4416 10095.7775,-1933.8467 10089.1578,-1942.1191 10095.7613,-1944.4416"/>
</g>
<!-- codeblock_151 -->
<g id="node152" class="node">
<title>codeblock_151</title>
<ellipse fill="none" stroke="#000000" cx="10515" cy="-1915.8175" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="10515" y="-1911.6175" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 365&#45;398</text>
</g>
<!-- section_102&#45;&gt;codeblock_151 -->
<g id="edge151" class="edge">
<title>section_102&#45;&gt;codeblock_151</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9861.5167,-2589.4057C9965.3426,-2585.799 10145.3253,-2574.213 10198,-2537.0329 10412.7461,-2385.4554 10491.2396,-2044.2295 10510.1394,-1944.0034"/>
<polygon fill="#000000" stroke="#000000" points="10513.6074,-1944.4961 10511.9717,-1934.0283 10506.7226,-1943.2314 10513.6074,-1944.4961"/>
</g>
<!-- leaf_108 -->
<g id="node109" class="node">
<title>leaf_108</title>
<polygon fill="none" stroke="#c0c0c0" points="6427,-718.3026 6145,-718.3026 6145,-662.4996 6427,-662.4996 6427,-718.3026"/>
<text text-anchor="middle" x="6286" y="-670.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">The reader takes a stream of data from</text>
</g>
<!-- raw_104&#45;&gt;leaf_108 -->
<g id="edge108" class="edge">
<title>raw_104&#45;&gt;leaf_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6535.1449,-1897.7363C6540.5796,-1806.7514 6560.9453,-1399.2361 6497,-1294.6022 6480.5841,-1267.7408 6454.9981,-1283.7036 6436,-1258.6022 6309.3149,-1091.2179 6289.3737,-825.8539 6286.4261,-728.1324"/>
<polygon fill="#000000" stroke="#000000" points="6289.9249,-728.0369 6286.1673,-718.1309 6282.9273,-728.2181 6289.9249,-728.0369"/>
</g>
<!-- leaf_109 -->
<g id="node110" class="node">
<title>leaf_109</title>
<polygon fill="none" stroke="#c0c0c0" points="6499,-708.4011 6445,-708.4011 6445,-672.4011 6499,-672.4011 6499,-708.4011"/>
<text text-anchor="middle" x="6472" y="-686.9011" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_105&#45;&gt;leaf_109 -->
<g id="edge109" class="edge">
<title>prespace_105&#45;&gt;leaf_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6628.9536,-1897.6668C6645.1425,-1818.5062 6699.5834,-1498.3283 6570,-1294.6022 6552.8987,-1267.7162 6524.7634,-1285.7001 6508,-1258.6022 6397.4292,-1079.8656 6445.7009,-806.0516 6465.2295,-718.4081"/>
<polygon fill="#000000" stroke="#000000" points="6468.6931,-718.9621 6467.5095,-708.4336 6461.8691,-717.4022 6468.6931,-718.9621"/>
</g>
<!-- leaf_110 -->
<g id="node111" class="node">
<title>leaf_110</title>
<polygon fill="none" stroke="#c0c0c0" points="6571,-708.4011 6517,-708.4011 6517,-672.4011 6571,-672.4011 6571,-708.4011"/>
<text text-anchor="middle" x="6544" y="-686.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">stdin</text>
</g>
<!-- literal_106&#45;&gt;leaf_110 -->
<g id="edge110" class="edge">
<title>literal_106&#45;&gt;leaf_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6722.3606,-1897.784C6728.9045,-1806.155 6753.89,-1392.6982 6680,-1294.6022 6651.5797,-1256.8716 6608.3706,-1296.3701 6580,-1258.6022 6515.3464,-1172.5329 6534.6507,-821.5938 6541.8484,-718.8124"/>
<polygon fill="#000000" stroke="#000000" points="6545.3571,-718.8155 6542.5823,-708.5905 6538.375,-718.3141 6545.3571,-718.8155"/>
</g>
<!-- leaf_111 -->
<g id="node112" class="node">
<title>leaf_111</title>
<polygon fill="none" stroke="#c0c0c0" points="7004.5,-717.7015 6589.5,-717.7015 6589.5,-663.1007 7004.5,-663.1007 7004.5,-717.7015"/>
<text text-anchor="middle" x="6797" y="-702.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">, asynchronously, and</text>
<text text-anchor="middle" x="6797" y="-687.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">processes it into tokens, which stream to the recognizer.</text>
</g>
<!-- raw_107&#45;&gt;leaf_111 -->
<g id="edge111" class="edge">
<title>raw_107&#45;&gt;leaf_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6797,-1897.5439C6797,-1762.3256 6797,-917.1696 6797,-727.9552"/>
<polygon fill="#000000" stroke="#000000" points="6800.5001,-727.9362 6797,-717.9362 6793.5001,-727.9363 6800.5001,-727.9362"/>
</g>
<!-- leaf_117 -->
<g id="node118" class="node">
<title>leaf_117</title>
<polygon fill="none" stroke="#c0c0c0" points="7115.5,-708.4011 7022.5,-708.4011 7022.5,-672.4011 7115.5,-672.4011 7115.5,-708.4011"/>
<text text-anchor="middle" x="7069" y="-686.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">**** keybuf</text>
</g>
<!-- header_112&#45;&gt;leaf_117 -->
<g id="edge117" class="edge">
<title>header_112&#45;&gt;leaf_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7069,-1897.5439C7069,-1760.0344 7069,-888.3244 7069,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="7072.5001,-718.7802 7069,-708.7802 7065.5001,-718.7802 7072.5001,-718.7802"/>
</g>
<!-- raw_118 -->
<g id="node119" class="node">
<title>raw_118</title>
<ellipse fill="none" stroke="#000000" cx="7161" cy="-690.4011" rx="27" ry="18"/>
<text text-anchor="middle" x="7161" y="-686.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_113&#45;&gt;raw_118 -->
<g id="edge118" class="edge">
<title>prose_113&#45;&gt;raw_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7167.8956,-1897.5439C7167.1101,-1760.0344 7162.1306,-888.3244 7161.1628,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="7164.6622,-718.76 7161.105,-708.7802 7157.6623,-718.8001 7164.6622,-718.76"/>
</g>
<!-- raw_120 -->
<g id="node121" class="node">
<title>raw_120</title>
<ellipse fill="none" stroke="#000000" cx="7233" cy="-690.4011" rx="27" ry="18"/>
<text text-anchor="middle" x="7233" y="-686.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_114&#45;&gt;raw_120 -->
<g id="edge120" class="edge">
<title>prose_114&#45;&gt;raw_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7249.7465,-1897.5439C7247.8388,-1760.0344 7235.7458,-888.3244 7233.3955,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="7236.8934,-718.7306 7233.255,-708.7802 7229.8941,-718.8278 7236.8934,-718.7306"/>
</g>
<!-- raw_122 -->
<g id="node123" class="node">
<title>raw_122</title>
<ellipse fill="none" stroke="#000000" cx="7305" cy="-690.4011" rx="27" ry="18"/>
<text text-anchor="middle" x="7305" y="-686.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_115&#45;&gt;raw_122 -->
<g id="edge122" class="edge">
<title>prose_115&#45;&gt;raw_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7394.3571,-1897.7939C7387.3734,-1820.8681 7359.6572,-1512.3907 7341,-1258.6022 7325.7765,-1051.5214 7311.2966,-801.6945 7306.5906,-718.7127"/>
<polygon fill="#000000" stroke="#000000" points="7310.0758,-718.3499 7306.0167,-708.5635 7303.087,-718.7452 7310.0758,-718.3499"/>
</g>
<!-- prespace_123 -->
<g id="node124" class="node">
<title>prespace_123</title>
<ellipse fill="none" stroke="#000000" cx="7396" cy="-690.4011" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="7396" y="-686.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_115&#45;&gt;prespace_123 -->
<g id="edge123" class="edge">
<title>prose_115&#45;&gt;prespace_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7396,-1897.5439C7396,-1760.0344 7396,-888.3244 7396,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="7399.5001,-718.7802 7396,-708.7802 7392.5001,-718.7802 7399.5001,-718.7802"/>
</g>
<!-- literal_124 -->
<g id="node125" class="node">
<title>literal_124</title>
<ellipse fill="none" stroke="#000000" cx="7492" cy="-690.4011" rx="31.481" ry="18"/>
<text text-anchor="middle" x="7492" y="-686.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_115&#45;&gt;literal_124 -->
<g id="edge124" class="edge">
<title>prose_115&#45;&gt;literal_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7397.585,-1897.7895C7404.3336,-1820.8459 7431.2315,-1512.3066 7451,-1258.6022 7467.1398,-1051.4672 7484.399,-801.675 7490.0727,-718.7074"/>
<polygon fill="#000000" stroke="#000000" points="7493.5762,-718.7753 7490.7658,-708.56 7486.5924,-718.2983 7493.5762,-718.7753"/>
</g>
<!-- raw_125 -->
<g id="node126" class="node">
<title>raw_125</title>
<ellipse fill="none" stroke="#000000" cx="7568" cy="-690.4011" rx="27" ry="18"/>
<text text-anchor="middle" x="7568" y="-686.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_115&#45;&gt;raw_125 -->
<g id="edge125" class="edge">
<title>prose_115&#45;&gt;raw_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7400.6686,-1897.9431C7420.3962,-1821.6225 7497.4895,-1515.2519 7532,-1258.6022 7559.6713,-1052.8147 7566.1702,-802.1586 7567.6115,-718.8376"/>
<polygon fill="#000000" stroke="#000000" points="7571.1141,-718.7013 7567.7765,-708.6459 7564.115,-718.5879 7571.1141,-718.7013"/>
</g>
<!-- leaf_130 -->
<g id="node131" class="node">
<title>leaf_130</title>
<polygon fill="none" stroke="#c0c0c0" points="7979,-756.8019 7613,-756.8019 7613,-624.0003 7979,-624.0003 7979,-756.8019"/>
<text text-anchor="middle" x="7796" y="-741.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">local keybuf = {}</text>
<text text-anchor="middle" x="7796" y="-726.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">local sub, byte = string.sub, string.byte</text>
<text text-anchor="middle" x="7796" y="-710.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">local concat = table.concat</text>
<text text-anchor="middle" x="7796" y="-679.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">local linebuf = { line = &quot;&quot;,</text>
<text text-anchor="middle" x="7796" y="-663.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ndx &#160;= 0 }</text>
<text text-anchor="middle" x="7796" y="-632.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">local max_row, mac_col = uv.tty_get_winsize(stdin)</text>
</g>
<!-- codeblock_116&#45;&gt;leaf_130 -->
<g id="edge130" class="edge">
<title>codeblock_116&#45;&gt;leaf_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7666.9535,-1897.5439C7680.5713,-1770.1587 7761.5449,-1012.7056 7787.7925,-767.1764"/>
<polygon fill="#000000" stroke="#000000" points="7791.3064,-767.232 7788.8893,-756.9166 7784.3461,-766.4879 7791.3064,-767.232"/>
</g>
<!-- leaf_119 -->
<g id="node120" class="node">
<title>leaf_119</title>
<polygon fill="none" stroke="#c0c0c0" points="6358,-78.4004 5852,-78.4004 5852,-7.7997 6358,-7.7997 6358,-78.4004"/>
<text text-anchor="middle" x="6105" y="-31.3001" font-family="Inconsolata" font-size="14.00" fill="#000000"> Currently the keybuf is a simple array that holds bytes until we have</text>
<text text-anchor="middle" x="6105" y="-15.9" font-family="Inconsolata" font-size="14.00" fill="#000000">enough for the lexer.</text>
</g>
<!-- raw_118&#45;&gt;leaf_119 -->
<g id="edge119" class="edge">
<title>raw_118&#45;&gt;leaf_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7162.8487,-672.3396C7171.4391,-584.2296 7203.7646,-200.5804 7124,-122.2001 7093.9692,-92.6904 6408.87,-90.6246 6367,-86.2001 6350.1387,-84.4183 6332.714,-82.2588 6315.236,-79.8669"/>
<polygon fill="#000000" stroke="#000000" points="6315.3302,-76.3463 6304.9429,-78.4329 6314.3642,-83.2794 6315.3302,-76.3463"/>
</g>
<!-- leaf_121 -->
<g id="node122" class="node">
<title>leaf_121</title>
<polygon fill="none" stroke="#c0c0c0" points="6931.5,-70.4005 6376.5,-70.4005 6376.5,-15.7996 6931.5,-15.7996 6931.5,-70.4005"/>
<text text-anchor="middle" x="6654" y="-39.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">It is cleared and reused, to avoid a glut of allocations and allow the tracer</text>
<text text-anchor="middle" x="6654" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">to follow it.</text>
</g>
<!-- raw_120&#45;&gt;leaf_121 -->
<g id="edge121" class="edge">
<title>raw_120&#45;&gt;leaf_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7234.7599,-672.1966C7242.8469,-584.2366 7272.9039,-204.1393 7197,-122.2001 7157.9595,-80.0553 6997.8509,-94.466 6941,-86.2001 6909.7084,-81.6504 6876.511,-76.7412 6844.2227,-71.9222"/>
<polygon fill="#000000" stroke="#000000" points="6844.642,-68.4461 6834.2345,-70.43 6843.6076,-75.3692 6844.642,-68.4461"/>
</g>
<!-- leaf_126 -->
<g id="node127" class="node">
<title>leaf_126</title>
<polygon fill="none" stroke="#c0c0c0" points="7470,-63.0021 6950,-63.0021 6950,-23.198 7470,-23.198 7470,-63.0021"/>
<text text-anchor="middle" x="7210" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Soon I&#39;ll move the remaining local state into an instance table, to make</text>
</g>
<!-- raw_122&#45;&gt;leaf_126 -->
<g id="edge126" class="edge">
<title>raw_122&#45;&gt;leaf_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7307.451,-672.4544C7316.5526,-600.48 7344.1584,-326.7818 7269,-122.2001 7262.0366,-103.2457 7248.9782,-84.9772 7236.9135,-70.781"/>
<polygon fill="#000000" stroke="#000000" points="7239.2182,-68.1028 7229.9784,-62.9187 7233.9686,-72.7334 7239.2182,-68.1028"/>
</g>
<!-- leaf_127 -->
<g id="node128" class="node">
<title>leaf_127</title>
<polygon fill="none" stroke="#c0c0c0" points="7542,-61.1 7488,-61.1 7488,-25.1 7542,-25.1 7542,-61.1"/>
</g>
<!-- prespace_123&#45;&gt;leaf_127 -->
<g id="edge127" class="edge">
<title>prespace_123&#45;&gt;leaf_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7394.1917,-672.3364C7387.6656,-599.9124 7369.8318,-324.7353 7452,-122.2001 7453.2729,-119.0626 7475.8954,-90.9749 7493.6707,-69.1512"/>
<polygon fill="#000000" stroke="#000000" points="7496.5816,-71.1198 7500.1913,-61.1589 7491.1577,-66.6947 7496.5816,-71.1198"/>
</g>
<!-- leaf_128 -->
<g id="node129" class="node">
<title>leaf_128</title>
<polygon fill="none" stroke="#c0c0c0" points="7614,-61.1 7560,-61.1 7560,-25.1 7614,-25.1 7614,-61.1"/>
<text text-anchor="middle" x="7587" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">femto</text>
</g>
<!-- literal_124&#45;&gt;leaf_128 -->
<g id="edge128" class="edge">
<title>literal_124&#45;&gt;leaf_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7489.8593,-672.0248C7482.1152,-599.5383 7459.6665,-327.3817 7532,-122.2001 7535.9544,-110.9829 7552.4896,-87.8166 7566.4069,-69.4395"/>
<polygon fill="#000000" stroke="#000000" points="7569.2662,-71.4622 7572.5625,-61.3931 7563.7065,-67.2089 7569.2662,-71.4622"/>
</g>
<!-- leaf_129 -->
<g id="node130" class="node">
<title>leaf_129</title>
<polygon fill="none" stroke="#c0c0c0" points="7732,-61.1 7632,-61.1 7632,-25.1 7732,-25.1 7732,-61.1"/>
<text text-anchor="middle" x="7682" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> re&#45;entrant.</text>
</g>
<!-- raw_125&#45;&gt;leaf_129 -->
<g id="edge129" class="edge">
<title>raw_125&#45;&gt;leaf_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7564.7483,-672.1286C7552.598,-598.9137 7514.9623,-321.1341 7604,-122.2001 7613.6147,-100.7182 7631.7869,-81.7428 7648.1733,-67.7655"/>
<polygon fill="#000000" stroke="#000000" points="7650.5207,-70.3668 7656.0288,-61.3163 7646.0789,-64.9565 7650.5207,-70.3668"/>
</g>
<!-- leaf_136 -->
<g id="node137" class="node">
<title>leaf_136</title>
<polygon fill="none" stroke="#c0c0c0" points="8153,-708.4011 7997,-708.4011 7997,-672.4011 8153,-672.4011 8153,-708.4011"/>
<text text-anchor="middle" x="8075" y="-686.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">*** helper functions</text>
</g>
<!-- header_131&#45;&gt;leaf_136 -->
<g id="edge136" class="edge">
<title>header_131&#45;&gt;leaf_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8082.8807,-1897.5439C8081.983,-1760.0344 8076.2921,-888.3244 8075.1861,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="8078.6853,-718.7571 8075.12,-708.7802 8071.6854,-718.8029 8078.6853,-718.7571"/>
</g>
<!-- raw_137 -->
<g id="node138" class="node">
<title>raw_137</title>
<ellipse fill="none" stroke="#000000" cx="8198" cy="-690.4011" rx="27" ry="18"/>
<text text-anchor="middle" x="8198" y="-686.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_132&#45;&gt;raw_137 -->
<g id="edge137" class="edge">
<title>prose_132&#45;&gt;raw_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8245.2842,-1897.5439C8239.8979,-1760.0344 8205.7527,-888.3244 8199.1166,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="8202.6087,-718.6355 8198.7199,-708.7802 8195.6141,-718.9096 8202.6087,-718.6355"/>
</g>
<!-- leaf_139 -->
<g id="node140" class="node">
<title>leaf_139</title>
<polygon fill="none" stroke="#c0c0c0" points="8567,-968.7862 8243,-968.7862 8243,-412.016 8567,-412.016 8567,-968.7862"/>
<text text-anchor="middle" x="8405" y="-953.3936" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; device report parsing goes in anterm</text>
<text text-anchor="middle" x="8405" y="-937.9936" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;</text>
<text text-anchor="middle" x="8405" y="-922.5935" font-family="Inconsolata" font-size="14.00" fill="#000000">local function cursor_pos(str)</text>
<text text-anchor="middle" x="8405" y="-907.1935" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local row, col = core.cleave(str, &quot;;&quot;)</text>
<text text-anchor="middle" x="8405" y="-891.7935" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return tonumber(row), tonumber(col)</text>
<text text-anchor="middle" x="8405" y="-876.3934" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="8405" y="-844.9934" font-family="Inconsolata" font-size="14.00" fill="#000000">local STATCOL = 81</text>
<text text-anchor="middle" x="8405" y="-829.5934" font-family="Inconsolata" font-size="14.00" fill="#000000">local STAT_TOP = 1</text>
<text text-anchor="middle" x="8405" y="-814.1933" font-family="Inconsolata" font-size="14.00" fill="#000000">local STAT_RUN = 2</text>
<text text-anchor="middle" x="8405" y="-782.7933" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; more like jumpwrite at this point but w/e</text>
<text text-anchor="middle" x="8405" y="-767.3933" font-family="Inconsolata" font-size="14.00" fill="#000000">local function colwrite(str, col, row)</text>
<text text-anchor="middle" x="8405" y="-751.9933" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;col = col or STATCOL</text>
<text text-anchor="middle" x="8405" y="-736.5932" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;row = row or STAT_TOP</text>
<text text-anchor="middle" x="8405" y="-721.1932" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local dash = a.stash()</text>
<text text-anchor="middle" x="8405" y="-705.7932" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. a.cursor.hide()</text>
<text text-anchor="middle" x="8405" y="-690.3931" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. a.jump(row, col)</text>
<text text-anchor="middle" x="8405" y="-674.9931" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. a.erase.right()</text>
<text text-anchor="middle" x="8405" y="-659.5931" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. str</text>
<text text-anchor="middle" x="8405" y="-644.193" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. a.pop()</text>
<text text-anchor="middle" x="8405" y="-628.793" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. a.cursor.show()</text>
<text text-anchor="middle" x="8405" y="-613.393" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;write(dash)</text>
<text text-anchor="middle" x="8405" y="-597.9929" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="8405" y="-566.5929" font-family="Inconsolata" font-size="14.00" fill="#000000">local STAT_ICON = &quot;&quot;</text>
<text text-anchor="middle" x="8405" y="-528.8089" font-family="Inconsolata" font-size="14.00" fill="#000000">local function isnum(char)</text>
<text text-anchor="middle" x="8405" y="-513.4088" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return char &gt;= &quot;0&quot; and char &lt;= &quot;9&quot;</text>
<text text-anchor="middle" x="8405" y="-498.0088" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="8405" y="-466.6088" font-family="Inconsolata" font-size="14.00" fill="#000000">local function isalpha(char)</text>
<text text-anchor="middle" x="8405" y="-451.2087" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return (char &gt;= &quot;A&quot; and char &lt;= &quot;z&quot;)</text>
<text text-anchor="middle" x="8405" y="-435.8087" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;or &#160;(char &gt;= &quot;a&quot; and char &lt;= &quot;z&quot;)</text>
<text text-anchor="middle" x="8405" y="-420.4087" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_133&#45;&gt;leaf_139 -->
<g id="edge139" class="edge">
<title>codeblock_133&#45;&gt;leaf_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8398.1044,-1897.5439C8398.6794,-1796.8748 8401.5023,-1302.7081 8403.3533,-978.675"/>
<polygon fill="#000000" stroke="#000000" points="8406.8532,-978.6792 8403.4105,-968.6593 8399.8533,-978.6391 8406.8532,-978.6792"/>
</g>
<!-- raw_140 -->
<g id="node141" class="node">
<title>raw_140</title>
<ellipse fill="none" stroke="#000000" cx="8612" cy="-690.4011" rx="27" ry="18"/>
<text text-anchor="middle" x="8612" y="-686.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_134&#45;&gt;raw_140 -->
<g id="edge140" class="edge">
<title>prose_134&#45;&gt;raw_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8570.6263,-1897.5439C8575.3393,-1760.0344 8605.2164,-888.3244 8611.0229,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="8614.5254,-718.8942 8611.3701,-708.7802 8607.5295,-718.6544 8614.5254,-718.8942"/>
</g>
<!-- leaf_142 -->
<g id="node143" class="node">
<title>leaf_142</title>
<polygon fill="none" stroke="#c0c0c0" points="9170.5,-763.5019 8657.5,-763.5019 8657.5,-617.3003 9170.5,-617.3003 9170.5,-763.5019"/>
<text text-anchor="middle" x="8914" y="-748.5013" font-family="Inconsolata" font-size="14.00" fill="#000000">function pr_mouse(m)</text>
<text text-anchor="middle" x="8914" y="-733.1012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local phrase = a.magenta(m.button) .. &quot;: &quot;</text>
<text text-anchor="middle" x="8914" y="-717.7012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. a.bright(kind) .. &quot; &quot; .. ts(m.shift)</text>
<text text-anchor="middle" x="8914" y="-702.3012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. &quot; &quot; .. ts(m.meta)</text>
<text text-anchor="middle" x="8914" y="-686.9011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. &quot; &quot; .. ts(m.ctrl) .. &quot; &quot; .. ts(m.moving) .. &quot; &quot;</text>
<text text-anchor="middle" x="8914" y="-671.5011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. ts(m.scrolling) .. &quot; &quot;</text>
<text text-anchor="middle" x="8914" y="-656.1011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. a.cyan(m.col) .. &quot;,&quot; .. a.cyan(m.row)</text>
<text text-anchor="middle" x="8914" y="-640.701" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return phrase</text>
<text text-anchor="middle" x="8914" y="-625.301" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_135&#45;&gt;leaf_142 -->
<g id="edge142" class="edge">
<title>codeblock_135&#45;&gt;leaf_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8808.5956,-1897.5439C8819.6215,-1771.2703 8884.7072,-1025.8765 8906.7248,-773.7199"/>
<polygon fill="#000000" stroke="#000000" points="8910.2321,-773.7881 8907.6153,-763.5215 8903.2586,-773.1791 8910.2321,-773.7881"/>
</g>
<!-- leaf_138 -->
<g id="node139" class="node">
<title>leaf_138</title>
<polygon fill="none" stroke="#c0c0c0" points="8467.5,-78.4004 7912.5,-78.4004 7912.5,-7.7997 8467.5,-7.7997 8467.5,-78.4004"/>
<text text-anchor="middle" x="8190" y="-31.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">Writes will eventually happen in their own library. &#160;Right now we&#39;re building</text>
<text text-anchor="middle" x="8190" y="-15.9" font-family="Inconsolata" font-size="14.00" fill="#000000">the minimum viable loop.</text>
</g>
<!-- raw_137&#45;&gt;leaf_138 -->
<g id="edge138" class="edge">
<title>raw_137&#45;&gt;leaf_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8197.7735,-672.0714C8196.7064,-585.7346 8192.1667,-218.4124 8190.5635,-88.693"/>
<polygon fill="#000000" stroke="#000000" points="8194.0632,-88.6431 8190.4398,-78.6872 8187.0638,-88.7297 8194.0632,-88.6431"/>
</g>
<!-- leaf_141 -->
<g id="node142" class="node">
<title>leaf_141</title>
<polygon fill="none" stroke="#c0c0c0" points="8754,-63.0021 8486,-63.0021 8486,-23.198 8754,-23.198 8754,-63.0021"/>
<text text-anchor="middle" x="8620" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">This is a handy dandy mouse printer.</text>
</g>
<!-- raw_140&#45;&gt;leaf_141 -->
<g id="edge141" class="edge">
<title>raw_140&#45;&gt;leaf_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8612.2265,-672.0714C8613.3401,-581.9733 8618.2355,-185.8737 8619.6288,-73.1348"/>
<polygon fill="#000000" stroke="#000000" points="8623.1321,-72.8792 8619.7561,-62.8367 8616.1327,-72.7926 8623.1321,-72.8792"/>
</g>
<!-- leaf_145 -->
<g id="node146" class="node">
<title>leaf_145</title>
<polygon fill="none" stroke="#c0c0c0" points="9373,-708.4011 9189,-708.4011 9189,-672.4011 9373,-672.4011 9373,-708.4011"/>
<text text-anchor="middle" x="9281" y="-686.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">*** process_escapes(seq)</text>
</g>
<!-- header_143&#45;&gt;leaf_145 -->
<g id="edge145" class="edge">
<title>header_143&#45;&gt;leaf_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9256.3728,-1897.5439C9259.1782,-1760.0344 9276.9621,-888.3244 9280.4184,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="9283.9202,-718.8495 9280.625,-708.7802 9276.9217,-718.7067 9283.9202,-718.8495"/>
</g>
<!-- raw_146 -->
<g id="node147" class="node">
<title>raw_146</title>
<ellipse fill="none" stroke="#000000" cx="9418" cy="-690.4011" rx="27" ry="18"/>
<text text-anchor="middle" x="9418" y="-686.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_144&#45;&gt;raw_146 -->
<g id="edge146" class="edge">
<title>prose_144&#45;&gt;raw_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9418,-1897.5439C9418,-1760.0344 9418,-888.3244 9418,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="9421.5001,-718.7802 9418,-708.7802 9414.5001,-718.7802 9421.5001,-718.7802"/>
</g>
<!-- leaf_147 -->
<g id="node148" class="node">
<title>leaf_147</title>
<polygon fill="none" stroke="#c0c0c0" points="9372,-63.1 9318,-63.1 9318,-23.1 9372,-23.1 9372,-63.1"/>
</g>
<!-- raw_146&#45;&gt;leaf_147 -->
<g id="edge147" class="edge">
<title>raw_146&#45;&gt;leaf_147</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9419.2612,-672.3507C9423.7417,-601.0832 9435.8838,-332.8748 9382,-122.2001 9377.5624,-104.85 9369.3422,-86.6699 9361.7751,-72.12"/>
<polygon fill="#000000" stroke="#000000" points="9364.7597,-70.2799 9356.943,-63.128 9358.5936,-73.5935 9364.7597,-70.2799"/>
</g>
<!-- leaf_152 -->
<g id="node153" class="node">
<title>leaf_152</title>
<polygon fill="none" stroke="#c0c0c0" points="9601.5,-708.4011 9536.5,-708.4011 9536.5,-672.4011 9601.5,-672.4011 9601.5,-708.4011"/>
<text text-anchor="middle" x="9569" y="-686.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">*** act</text>
</g>
<!-- header_148&#45;&gt;leaf_152 -->
<g id="edge152" class="edge">
<title>header_148&#45;&gt;leaf_152</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9658.6512,-1897.7837C9652.8956,-1820.8165 9629.826,-1512.1952 9611,-1258.6022 9595.6166,-1051.383 9577.1991,-801.6448 9571.0853,-718.6993"/>
<polygon fill="#000000" stroke="#000000" points="9574.5633,-718.2703 9570.3376,-708.5547 9567.5822,-718.7849 9574.5633,-718.2703"/>
</g>
<!-- raw_153 -->
<g id="node154" class="node">
<title>raw_153</title>
<ellipse fill="none" stroke="#000000" cx="9647" cy="-690.4011" rx="27" ry="18"/>
<text text-anchor="middle" x="9647" y="-686.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_149&#45;&gt;raw_153 -->
<g id="edge153" class="edge">
<title>prose_149&#45;&gt;raw_153</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9786.0157,-1897.7334C9785.5833,-1821.9985 9778.8903,-1523.6389 9703,-1294.6022 9697.2431,-1277.2277 9688.1494,-1276.1662 9683,-1258.6022 9624.3907,-1058.6916 9637.8852,-802.8206 9644.4846,-718.6322"/>
<polygon fill="#000000" stroke="#000000" points="9647.9807,-718.822 9645.306,-708.5703 9641.0039,-718.2523 9647.9807,-718.822"/>
</g>
<!-- prespace_154 -->
<g id="node155" class="node">
<title>prespace_154</title>
<ellipse fill="none" stroke="#000000" cx="9738" cy="-690.4011" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="9738" y="-686.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_149&#45;&gt;prespace_154 -->
<g id="edge154" class="edge">
<title>prose_149&#45;&gt;prespace_154</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9785.2842,-1897.5439C9779.8979,-1760.0344 9745.7527,-888.3244 9739.1166,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="9742.6087,-718.6355 9738.7199,-708.7802 9735.6141,-718.9096 9742.6087,-718.6355"/>
</g>
<!-- literal_155 -->
<g id="node156" class="node">
<title>literal_155</title>
<ellipse fill="none" stroke="#000000" cx="9834" cy="-690.4011" rx="31.481" ry="18"/>
<text text-anchor="middle" x="9834" y="-686.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_149&#45;&gt;literal_155 -->
<g id="edge155" class="edge">
<title>prose_149&#45;&gt;literal_155</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9786.7158,-1897.5439C9792.1021,-1760.0344 9826.2473,-888.3244 9832.8834,-718.9085"/>
<polygon fill="#000000" stroke="#000000" points="9836.3859,-718.9096 9833.2801,-708.7802 9829.3913,-718.6355 9836.3859,-718.9096"/>
</g>
<!-- raw_156 -->
<g id="node157" class="node">
<title>raw_156</title>
<ellipse fill="none" stroke="#000000" cx="9910" cy="-690.4011" rx="27" ry="18"/>
<text text-anchor="middle" x="9910" y="-686.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_149&#45;&gt;raw_156 -->
<g id="edge156" class="edge">
<title>prose_149&#45;&gt;raw_156</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9788.8774,-1897.8371C9801.0603,-1821.0867 9848.9184,-1513.2199 9874,-1258.6022 9894.3554,-1051.9627 9905.545,-801.8529 9908.905,-718.7553"/>
<polygon fill="#000000" stroke="#000000" points="9912.4089,-718.7232 9909.3103,-708.5916 9905.4145,-718.4442 9912.4089,-718.7232"/>
</g>
<!-- leaf_161 -->
<g id="node162" class="node">
<title>leaf_161</title>
<polygon fill="none" stroke="#c0c0c0" points="10510.5,-1258.8033 9955.5,-1258.8033 9955.5,-121.999 10510.5,-121.999 10510.5,-1258.8033"/>
<text text-anchor="middle" x="10233" y="-1243.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">local function mk_paint(label, shade)</text>
<text text-anchor="middle" x="10233" y="-1228.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return function(action)</text>
<text text-anchor="middle" x="10233" y="-1212.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return shade(label .. &quot; &quot; .. action)</text>
<text text-anchor="middle" x="10233" y="-1197.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10233" y="-1181.802" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10233" y="-1150.402" font-family="Inconsolata" font-size="14.00" fill="#000000">local act_map = { MOUSE &#160;= pr_mouse,</text>
<text text-anchor="middle" x="10233" y="-1135.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;NAV &#160;&#160;&#160;= mk_paint(&quot;NAV:&quot;, a.italic),</text>
<text text-anchor="middle" x="10233" y="-1119.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CTRL &#160;&#160;= mk_paint(&quot;CTRL:&quot;, c.field),</text>
<text text-anchor="middle" x="10233" y="-1104.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ALT &#160;&#160;&#160;= mk_paint(&quot;ALT:&quot;, a.underscore),</text>
<text text-anchor="middle" x="10233" y="-1088.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;INSERT = mk_paint(&quot;INS:&quot;, c.field)}</text>
<text text-anchor="middle" x="10233" y="-1073.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Device reports, function keys...</text>
<text text-anchor="middle" x="10233" y="-1042.0018" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; I believe the kids call that &#39;currying&#39;</text>
<text text-anchor="middle" x="10233" y="-1010.6018" font-family="Inconsolata" font-size="14.00" fill="#000000">local function act(category, action)</text>
<text text-anchor="middle" x="10233" y="-995.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if act_map[category] then</text>
<text text-anchor="middle" x="10233" y="-979.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;colwrite(act_map[category](action), STATCOL, STAT_RUN)</text>
<text text-anchor="middle" x="10233" y="-964.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10233" y="-949.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;colwrite(category .. &quot;:&quot; ..action, STATCOL, STAT_RUN)</text>
<text text-anchor="middle" x="10233" y="-933.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10233" y="-918.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10233" y="-886.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">local m_parse, is_mouse = a.mouse.parse_fast, a.mouse.ismousemove</text>
<text text-anchor="middle" x="10233" y="-871.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">local navigation, is_nav = a.navigation, a.is_nav</text>
<text text-anchor="middle" x="10233" y="-840.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">local function process_escapes(seq)</text>
<text text-anchor="middle" x="10233" y="-824.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if is_nav(seq) then</text>
<text text-anchor="middle" x="10233" y="-809.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;modeS(&quot;NAV&quot;, navigation[seq] )</text>
<text text-anchor="middle" x="10233" y="-793.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif #seq == 1 then</text>
<text text-anchor="middle" x="10233" y="-778.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;modeS(&quot;NAV&quot;, &quot;ESC&quot;) &#45;&#45; I think of escape as navigation in modal systems</text>
<text text-anchor="middle" x="10233" y="-763.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10233" y="-747.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if is_mouse(seq) then</text>
<text text-anchor="middle" x="10233" y="-732.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local m = m_parse(seq)</text>
<text text-anchor="middle" x="10233" y="-716.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;act(&quot;MOUSE&quot;, m)</text>
<text text-anchor="middle" x="10233" y="-701.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif #seq == 2 and byte(sub(seq,2,2)) &lt; 128 then</text>
<text text-anchor="middle" x="10233" y="-686.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; Meta</text>
<text text-anchor="middle" x="10233" y="-670.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local key = &quot;M&#45;&quot; .. sub(seq,2,2)</text>
<text text-anchor="middle" x="10233" y="-655.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;modeS(&quot;ALT&quot;, key)</text>
<text text-anchor="middle" x="10233" y="-639.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10233" y="-624.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10233" y="-593.001" font-family="Inconsolata" font-size="14.00" fill="#000000">local navigation = a.navigation</text>
<text text-anchor="middle" x="10233" y="-561.601" font-family="Inconsolata" font-size="14.00" fill="#000000">local function onseq(err,seq)</text>
<text text-anchor="middle" x="10233" y="-546.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if err then error(err) end</text>
<text text-anchor="middle" x="10233" y="-530.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local head = byte(seq)</text>
<text text-anchor="middle" x="10233" y="-515.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; ^Q hard coded as quit, for now</text>
<text text-anchor="middle" x="10233" y="-500.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head == 17 then</text>
<text text-anchor="middle" x="10233" y="-484.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;femto.cooked()</text>
<text text-anchor="middle" x="10233" y="-469.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;write(a.mouse.track(false))</text>
<text text-anchor="middle" x="10233" y="-453.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uv.stop()</text>
<text text-anchor="middle" x="10233" y="-438.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="10233" y="-423.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10233" y="-407.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Escape sequences</text>
<text text-anchor="middle" x="10233" y="-392.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head == 27 then</text>
<text text-anchor="middle" x="10233" y="-376.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local color</text>
<text text-anchor="middle" x="10233" y="-361.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if navigation[seq] or #seq == 1 then</text>
<text text-anchor="middle" x="10233" y="-346.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;color = c.userdata</text>
<text text-anchor="middle" x="10233" y="-330.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10233" y="-315.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;color = a.red</text>
<text text-anchor="middle" x="10233" y="-299.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10233" y="-284.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return process_escapes(seq)</text>
<text text-anchor="middle" x="10233" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10233" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Control sequences</text>
<text text-anchor="middle" x="10233" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head &lt;= 31 and not navigation[seq] then</text>
<text text-anchor="middle" x="10233" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local ctrl = &quot;^&quot; .. string.char(head + 64)</text>
<text text-anchor="middle" x="10233" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;CTRL&quot;, ctrl)</text>
<text text-anchor="middle" x="10233" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif navigation[seq] then</text>
<text text-anchor="middle" x="10233" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NAV&quot;, navigation[seq])</text>
<text text-anchor="middle" x="10233" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10233" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return modeS(&quot;INSERT&quot;, seq)</text>
<text text-anchor="middle" x="10233" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_150&#45;&gt;leaf_161 -->
<g id="edge161" class="edge">
<title>codeblock_150&#45;&gt;leaf_161</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10103.9535,-1897.5439C10111.7937,-1824.2038 10141.9605,-1542.0144 10171.1557,-1268.913"/>
<polygon fill="#000000" stroke="#000000" points="10174.6547,-1269.1081 10172.2376,-1258.7927 10167.6943,-1268.3639 10174.6547,-1269.1081"/>
</g>
<!-- leaf_162 -->
<g id="node163" class="node">
<title>leaf_162</title>
<polygon fill="none" stroke="#c0c0c0" points="10845.5,-951.3596 10528.5,-951.3596 10528.5,-429.4426 10845.5,-429.4426 10845.5,-951.3596"/>
<text text-anchor="middle" x="10687" y="-935.9303" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Get names for as many values as possible</text>
<text text-anchor="middle" x="10687" y="-920.5302" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; into the colorizer</text>
<text text-anchor="middle" x="10687" y="-905.1302" font-family="Inconsolata" font-size="14.00" fill="#000000">color.allNames()</text>
<text text-anchor="middle" x="10687" y="-889.7302" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; This switches screens and does a wipe,</text>
<text text-anchor="middle" x="10687" y="-874.3301" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; then puts the cursor at 1,1.</text>
<text text-anchor="middle" x="10687" y="-858.9301" font-family="Inconsolata" font-size="14.00" fill="#000000">write &quot;\x1b[?47h\x1b[2J\x1b[H&quot;</text>
<text text-anchor="middle" x="10687" y="-843.5301" font-family="Inconsolata" font-size="14.00" fill="#000000">print &quot;an repl, plz reply uwu &quot;</text>
<text text-anchor="middle" x="10687" y="-819.3013" font-family="Inconsolata" font-size="14.00" fill="#000000">displayPrompt &#39; &#160;&#39;</text>
<text text-anchor="middle" x="10687" y="-795.0726" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Crude hack to choose raw mode at runtime</text>
<text text-anchor="middle" x="10687" y="-779.6725" font-family="Inconsolata" font-size="14.00" fill="#000000">if arg[1] == &quot;&#45;r&quot; then</text>
<text text-anchor="middle" x="10687" y="-764.2725" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;femto.raw()</text>
<text text-anchor="middle" x="10687" y="-748.8725" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45;uv.tty_set_mode(stdin, 2)</text>
<text text-anchor="middle" x="10687" y="-733.4724" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; mouse mode</text>
<text text-anchor="middle" x="10687" y="-718.0724" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;write(a.mouse.track(true))</text>
<text text-anchor="middle" x="10687" y="-702.6724" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.read_start(stdin, onseq)</text>
<text text-anchor="middle" x="10687" y="-687.2724" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="10687" y="-671.8723" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.read_start(stdin, onread)</text>
<text text-anchor="middle" x="10687" y="-656.4723" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10687" y="-593.0723" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; main loop</text>
<text text-anchor="middle" x="10687" y="-577.6722" font-family="Inconsolata" font-size="14.00" fill="#000000">local retcode = &#160;uv.run(&#39;default&#39;)</text>
<text text-anchor="middle" x="10687" y="-562.2722" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Restore main screen</text>
<text text-anchor="middle" x="10687" y="-546.8722" font-family="Inconsolata" font-size="14.00" fill="#000000">print &#39;\x1b[?47l&#39;</text>
<text text-anchor="middle" x="10687" y="-515.4721" font-family="Inconsolata" font-size="14.00" fill="#000000">if retcode ~= true then</text>
<text text-anchor="middle" x="10687" y="-500.0721" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;error(retcode)</text>
<text text-anchor="middle" x="10687" y="-484.6721" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10687" y="-453.272" font-family="Inconsolata" font-size="14.00" fill="#000000">print(&quot;kthxbye&quot;)</text>
<text text-anchor="middle" x="10687" y="-437.872" font-family="Inconsolata" font-size="14.00" fill="#000000">return retcode</text>
</g>
<!-- codeblock_151&#45;&gt;leaf_162 -->
<g id="edge162" class="edge">
<title>codeblock_151&#45;&gt;leaf_162</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10517.5649,-1897.5439C10531.9482,-1795.0699 10603.5612,-1284.8617 10648.9606,-961.4135"/>
<polygon fill="#000000" stroke="#000000" points="10652.439,-961.8109 10650.3631,-951.4214 10645.507,-960.8378 10652.439,-961.8109"/>
</g>
<!-- leaf_157 -->
<g id="node158" class="node">
<title>leaf_157</title>
<polygon fill="none" stroke="#c0c0c0" points="9693.5,-71.0015 9390.5,-71.0015 9390.5,-15.1986 9693.5,-15.1986 9693.5,-71.0015"/>
<text text-anchor="middle" x="9542" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">This will be phased out and replaced with</text>
</g>
<!-- raw_153&#45;&gt;leaf_157 -->
<g id="edge157" class="edge">
<title>raw_153&#45;&gt;leaf_157</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9649.8152,-672.2945C9660.2969,-599.7111 9692.3782,-324.0094 9610,-122.2001 9603.4821,-106.2326 9592.4031,-91.1985 9581.0585,-78.6131"/>
<polygon fill="#000000" stroke="#000000" points="9583.3995,-75.9935 9573.9989,-71.1069 9578.3004,-80.7892 9583.3995,-75.9935"/>
</g>
<!-- leaf_158 -->
<g id="node159" class="node">
<title>leaf_158</title>
<polygon fill="none" stroke="#c0c0c0" points="9766,-61.1 9712,-61.1 9712,-25.1 9766,-25.1 9766,-61.1"/>
<text text-anchor="middle" x="9739" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_154&#45;&gt;leaf_158 -->
<g id="edge158" class="edge">
<title>prespace_154&#45;&gt;leaf_158</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9738.0283,-672.0714C9738.1683,-581.4755 9738.7862,-181.4876 9738.9564,-71.2922"/>
<polygon fill="#000000" stroke="#000000" points="9742.4564,-71.2754 9738.9719,-61.27 9735.4564,-71.2645 9742.4564,-71.2754"/>
</g>
<!-- leaf_159 -->
<g id="node160" class="node">
<title>leaf_159</title>
<polygon fill="none" stroke="#c0c0c0" points="9884,-61.1 9784,-61.1 9784,-25.1 9884,-25.1 9884,-61.1"/>
<text text-anchor="middle" x="9834" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">modeselektor</text>
</g>
<!-- literal_155&#45;&gt;leaf_159 -->
<g id="edge159" class="edge">
<title>literal_155&#45;&gt;leaf_159</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9834,-672.0714C9834,-581.4755 9834,-181.4876 9834,-71.2922"/>
<polygon fill="#000000" stroke="#000000" points="9837.5001,-71.2699 9834,-61.27 9830.5001,-71.27 9837.5001,-71.2699"/>
</g>
<!-- leaf_160 -->
<g id="node161" class="node">
<title>leaf_160</title>
<polygon fill="none" stroke="#c0c0c0" points="9956,-61.1 9902,-61.1 9902,-25.1 9956,-25.1 9956,-61.1"/>
<text text-anchor="middle" x="9929" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_156&#45;&gt;leaf_160 -->
<g id="edge160" class="edge">
<title>raw_156&#45;&gt;leaf_160</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9910.538,-672.0714C9913.1973,-581.4755 9924.938,-181.4876 9928.1725,-71.2922"/>
<polygon fill="#000000" stroke="#000000" points="9931.6717,-71.3684 9928.4667,-61.27 9924.6747,-71.1629 9931.6717,-71.3684"/>
</g>
</g>
</svg>
