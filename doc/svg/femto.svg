<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="9298pt" height="2539pt"
 viewBox="0.00 0.00 9297.50 2539.23" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2535.2323)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2535.2323 9293.5,-2535.2323 9293.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1121" cy="-2513.2323" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="1121" y="-2509.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 317</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1121" cy="-2441.2323" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1121" y="-2437.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;196</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1121,-2495.0637C1121,-2487.3633 1121,-2478.2067 1121,-2469.649"/>
<polygon fill="#000000" stroke="#000000" points="1124.5001,-2469.6456 1121,-2459.6456 1117.5001,-2469.6456 1124.5001,-2469.6456"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="793" cy="-2369.2323" rx="47.4168" ry="18"/>
<text text-anchor="middle" x="793" y="-2365.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Femto</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1069.3892,-2429.9031C1007.8669,-2416.3983 905.6869,-2393.9685 844.3014,-2380.4936"/>
<polygon fill="#000000" stroke="#000000" points="844.9606,-2377.0551 834.4427,-2378.3295 843.4597,-2383.8923 844.9606,-2377.0551"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="970" cy="-2369.2323" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="970" y="-2365.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1088.2352,-2425.6094C1063.3154,-2413.7271 1029.134,-2397.4287 1003.9312,-2385.4115"/>
<polygon fill="#000000" stroke="#000000" points="1005.2825,-2382.1783 994.7497,-2381.0335 1002.2697,-2388.4968 1005.2825,-2382.1783"/>
</g>
<!-- section_4 -->
<g id="node5" class="node">
<title>section_4</title>
<ellipse fill="none" stroke="#000000" cx="1121" cy="-2369.2323" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="1121" y="-2365.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 6&#45;25</text>
</g>
<!-- section_1&#45;&gt;section_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;section_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1121,-2423.0637C1121,-2415.3633 1121,-2406.2067 1121,-2397.649"/>
<polygon fill="#000000" stroke="#000000" points="1124.5001,-2397.6456 1121,-2387.6456 1117.5001,-2397.6456 1124.5001,-2397.6456"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="4138" cy="-2369.2323" rx="70.655" ry="18"/>
<text text-anchor="middle" x="4138" y="-2365.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 32&#45;196</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1186.4663,-2439.67C1579.5329,-2430.2896 3623.8062,-2381.5035 4057.2036,-2371.1605"/>
<polygon fill="#000000" stroke="#000000" points="4057.5297,-2374.6538 4067.4433,-2370.9162 4057.3627,-2367.6558 4057.5297,-2374.6538"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="6687" cy="-2369.2323" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="6687" y="-2365.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 197&#45;224</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1186.8955,-2440.3799C1763.5627,-2432.9204 5946.0671,-2378.8168 6600.8675,-2370.3465"/>
<polygon fill="#000000" stroke="#000000" points="6601.2118,-2373.8425 6611.1657,-2370.2133 6601.1212,-2366.843 6601.2118,-2373.8425"/>
</g>
<!-- leaf_7 -->
<g id="node8" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="748,-2315.2323 676,-2315.2323 676,-2279.2323 748,-2279.2323 748,-2315.2323"/>
<text text-anchor="middle" x="712" y="-2293.7324" font-family="Inconsolata" font-size="14.00" fill="#000000">* &#160;Femto</text>
</g>
<!-- header_2&#45;&gt;leaf_7 -->
<g id="edge7" class="edge">
<title>header_2&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M774.2134,-2352.5331C764.0369,-2343.4873 751.2636,-2332.1333 739.9429,-2322.0705"/>
<polygon fill="#000000" stroke="#000000" points="742.1868,-2319.3822 732.3874,-2315.3545 737.5363,-2324.6141 742.1868,-2319.3822"/>
</g>
<!-- raw_8 -->
<g id="node9" class="node">
<title>raw_8</title>
<ellipse fill="none" stroke="#000000" cx="793" cy="-2297.2323" rx="27" ry="18"/>
<text text-anchor="middle" x="793" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_8 -->
<g id="edge8" class="edge">
<title>prose_3&#45;&gt;raw_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M942.6496,-2359.6577C914.0056,-2349.4217 867.8656,-2332.3421 829,-2315.2323 827.2253,-2314.4511 825.4123,-2313.6276 823.5902,-2312.7804"/>
<polygon fill="#000000" stroke="#000000" points="825.0681,-2309.6075 814.5388,-2308.4307 822.0361,-2315.9168 825.0681,-2309.6075"/>
</g>
<!-- header_10 -->
<g id="node11" class="node">
<title>header_10</title>
<ellipse fill="none" stroke="#000000" cx="893" cy="-2297.2323" rx="54.6851" ry="18"/>
<text text-anchor="middle" x="893" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : includes</text>
</g>
<!-- section_4&#45;&gt;header_10 -->
<g id="edge10" class="edge">
<title>section_4&#45;&gt;header_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1079.1813,-2356.0264C1040.5825,-2343.8373 983.2291,-2325.7258 942.3905,-2312.8293"/>
<polygon fill="#000000" stroke="#000000" points="943.2352,-2309.4258 932.6454,-2309.7519 941.1272,-2316.1009 943.2352,-2309.4258"/>
</g>
<!-- prose_11 -->
<g id="node12" class="node">
<title>prose_11</title>
<ellipse fill="none" stroke="#000000" cx="998" cy="-2297.2323" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="998" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_11 -->
<g id="edge11" class="edge">
<title>section_4&#45;&gt;prose_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1093.3964,-2353.0741C1074.3555,-2341.9283 1049.0105,-2327.0922 1029.2307,-2315.5137"/>
<polygon fill="#000000" stroke="#000000" points="1030.9752,-2312.4794 1020.5769,-2310.4481 1027.4389,-2318.5205 1030.9752,-2312.4794"/>
</g>
<!-- prose_12 -->
<g id="node13" class="node">
<title>prose_12</title>
<ellipse fill="none" stroke="#000000" cx="1080" cy="-2297.2323" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1080" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_12 -->
<g id="edge12" class="edge">
<title>section_4&#45;&gt;prose_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1110.8652,-2351.4346C1106.0632,-2343.0019 1100.2315,-2332.7609 1094.9358,-2323.4611"/>
<polygon fill="#000000" stroke="#000000" points="1097.8667,-2321.5348 1089.8768,-2314.5769 1091.7838,-2324.9987 1097.8667,-2321.5348"/>
</g>
<!-- prose_13 -->
<g id="node14" class="node">
<title>prose_13</title>
<ellipse fill="none" stroke="#000000" cx="1162" cy="-2297.2323" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1162" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_13 -->
<g id="edge13" class="edge">
<title>section_4&#45;&gt;prose_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1131.1348,-2351.4346C1135.9368,-2343.0019 1141.7685,-2332.7609 1147.0642,-2323.4611"/>
<polygon fill="#000000" stroke="#000000" points="1150.2162,-2324.9987 1152.1232,-2314.5769 1144.1333,-2321.5348 1150.2162,-2324.9987"/>
</g>
<!-- codeblock_14 -->
<g id="node15" class="node">
<title>codeblock_14</title>
<ellipse fill="none" stroke="#000000" cx="1292" cy="-2297.2323" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1292" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 15&#45;23</text>
</g>
<!-- section_4&#45;&gt;codeblock_14 -->
<g id="edge14" class="edge">
<title>section_4&#45;&gt;codeblock_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1156.017,-2354.4883C1181.7388,-2343.6581 1216.9576,-2328.8291 1245.1082,-2316.9762"/>
<polygon fill="#000000" stroke="#000000" points="1246.5019,-2320.1871 1254.3601,-2313.0807 1243.7855,-2313.7356 1246.5019,-2320.1871"/>
</g>
<!-- section_15 -->
<g id="node16" class="node">
<title>section_15</title>
<ellipse fill="none" stroke="#000000" cx="1538" cy="-2297.2323" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1538" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 26&#45;31</text>
</g>
<!-- section_4&#45;&gt;section_15 -->
<g id="edge15" class="edge">
<title>section_4&#45;&gt;section_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1173.8133,-2360.1135C1249.7616,-2347.0001 1389.7412,-2322.831 1472.2796,-2308.5797"/>
<polygon fill="#000000" stroke="#000000" points="1473.0402,-2312.0003 1482.2988,-2306.8498 1471.8491,-2305.1024 1473.0402,-2312.0003"/>
</g>
<!-- header_29 -->
<g id="node30" class="node">
<title>header_29</title>
<ellipse fill="none" stroke="#000000" cx="1888" cy="-2297.2323" rx="39.6991" ry="18"/>
<text text-anchor="middle" x="1888" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : core</text>
</g>
<!-- section_5&#45;&gt;header_29 -->
<g id="edge29" class="edge">
<title>section_5&#45;&gt;header_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4067.4514,-2368.4374C3747.9392,-2364.6821 2434.3788,-2347.5395 2024,-2315.2323 1994.4448,-2312.9056 1961.4773,-2308.5859 1935.4035,-2304.7614"/>
<polygon fill="#000000" stroke="#000000" points="1935.8157,-2301.2842 1925.4087,-2303.2704 1934.7828,-2308.2076 1935.8157,-2301.2842"/>
</g>
<!-- prose_30 -->
<g id="node31" class="node">
<title>prose_30</title>
<ellipse fill="none" stroke="#000000" cx="2065" cy="-2297.2323" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2065" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_30 -->
<g id="edge30" class="edge">
<title>section_5&#45;&gt;prose_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4067.8397,-2366.7955C3740.3244,-2355.4202 2366.8536,-2307.7164 2107.3874,-2298.7046"/>
<polygon fill="#000000" stroke="#000000" points="2107.3611,-2295.2016 2097.2456,-2298.3523 2107.118,-2302.1974 2107.3611,-2295.2016"/>
</g>
<!-- prose_31 -->
<g id="node32" class="node">
<title>prose_31</title>
<ellipse fill="none" stroke="#000000" cx="2876" cy="-2297.2323" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2876" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_31 -->
<g id="edge31" class="edge">
<title>section_5&#45;&gt;prose_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4068.8031,-2365.2845C3838.571,-2352.1492 3102.5061,-2310.155 2918.1677,-2299.6381"/>
<polygon fill="#000000" stroke="#000000" points="2918.2468,-2296.137 2908.0637,-2299.0616 2917.848,-2303.1257 2918.2468,-2296.137"/>
</g>
<!-- codeblock_32 -->
<g id="node33" class="node">
<title>codeblock_32</title>
<ellipse fill="none" stroke="#000000" cx="3468" cy="-2297.2323" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3468" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 39&#45;50</text>
</g>
<!-- section_5&#45;&gt;codeblock_32 -->
<g id="edge32" class="edge">
<title>section_5&#45;&gt;codeblock_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4072.8435,-2362.2305C3949.614,-2348.9879 3682.7611,-2320.3111 3548.5361,-2305.887"/>
<polygon fill="#000000" stroke="#000000" points="3548.6373,-2302.3778 3538.3205,-2304.7892 3547.8893,-2309.3377 3548.6373,-2302.3778"/>
</g>
<!-- prose_33 -->
<g id="node34" class="node">
<title>prose_33</title>
<ellipse fill="none" stroke="#000000" cx="3743" cy="-2297.2323" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3743" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_33 -->
<g id="edge33" class="edge">
<title>section_5&#45;&gt;prose_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4080.5636,-2358.7629C3999.8036,-2344.0421 3854.6684,-2317.5871 3783.9586,-2304.6982"/>
<polygon fill="#000000" stroke="#000000" points="3784.5481,-2301.2481 3774.0825,-2302.898 3783.2928,-2308.1346 3784.5481,-2301.2481"/>
</g>
<!-- prose_34 -->
<g id="node35" class="node">
<title>prose_34</title>
<ellipse fill="none" stroke="#000000" cx="3914" cy="-2297.2323" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3914" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_34 -->
<g id="edge34" class="edge">
<title>section_5&#45;&gt;prose_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4094.0121,-2355.0934C4052.5202,-2341.7567 3990.986,-2321.9778 3951.6903,-2309.3471"/>
<polygon fill="#000000" stroke="#000000" points="3952.5532,-2305.9481 3941.9618,-2306.2201 3950.4111,-2312.6123 3952.5532,-2305.9481"/>
</g>
<!-- codeblock_35 -->
<g id="node36" class="node">
<title>codeblock_35</title>
<ellipse fill="none" stroke="#000000" cx="4138" cy="-2297.2323" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="4138" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 57&#45;65</text>
</g>
<!-- section_5&#45;&gt;codeblock_35 -->
<g id="edge35" class="edge">
<title>section_5&#45;&gt;codeblock_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4138,-2351.0637C4138,-2343.3633 4138,-2334.2067 4138,-2325.649"/>
<polygon fill="#000000" stroke="#000000" points="4141.5001,-2325.6456 4138,-2315.6456 4134.5001,-2325.6456 4141.5001,-2325.6456"/>
</g>
<!-- prose_36 -->
<g id="node37" class="node">
<title>prose_36</title>
<ellipse fill="none" stroke="#000000" cx="4377" cy="-2297.2323" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4377" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_36 -->
<g id="edge36" class="edge">
<title>section_5&#45;&gt;prose_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4183.7988,-2355.4352C4228.8471,-2341.8642 4296.8204,-2321.3869 4338.9739,-2308.6879"/>
<polygon fill="#000000" stroke="#000000" points="4340.0238,-2312.0271 4348.5892,-2305.7913 4338.0046,-2305.3246 4340.0238,-2312.0271"/>
</g>
<!-- prose_37 -->
<g id="node38" class="node">
<title>prose_37</title>
<ellipse fill="none" stroke="#000000" cx="4540" cy="-2297.2323" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4540" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_37 -->
<g id="edge37" class="edge">
<title>section_5&#45;&gt;prose_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4196.0249,-2358.8398C4278.5071,-2344.0669 4427.5884,-2317.3658 4499.3036,-2304.5213"/>
<polygon fill="#000000" stroke="#000000" points="4500.0797,-2307.938 4509.306,-2302.7298 4498.8456,-2301.0477 4500.0797,-2307.938"/>
</g>
<!-- codeblock_38 -->
<g id="node39" class="node">
<title>codeblock_38</title>
<ellipse fill="none" stroke="#000000" cx="4757" cy="-2297.2323" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="4757" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 72&#45;93</text>
</g>
<!-- section_5&#45;&gt;codeblock_38 -->
<g id="edge38" class="edge">
<title>section_5&#45;&gt;codeblock_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4202.4921,-2361.7308C4316.4902,-2348.471 4553.2429,-2320.9327 4677.2786,-2306.5053"/>
<polygon fill="#000000" stroke="#000000" points="4677.9384,-2309.9522 4687.467,-2305.3202 4677.1295,-2302.9991 4677.9384,-2309.9522"/>
</g>
<!-- prose_39 -->
<g id="node40" class="node">
<title>prose_39</title>
<ellipse fill="none" stroke="#000000" cx="4978" cy="-2297.2323" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4978" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_39 -->
<g id="edge39" class="edge">
<title>section_5&#45;&gt;prose_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4207.1643,-2365.2266C4333.5984,-2357.6166 4610.4286,-2339.6247 4843,-2315.2323 4874.4516,-2311.9337 4909.8879,-2307.1687 4936.5606,-2303.3698"/>
<polygon fill="#000000" stroke="#000000" points="4937.2892,-2306.8012 4946.6894,-2301.9138 4936.2931,-2299.8724 4937.2892,-2306.8012"/>
</g>
<!-- codeblock_40 -->
<g id="node41" class="node">
<title>codeblock_40</title>
<ellipse fill="none" stroke="#000000" cx="5183" cy="-2297.2323" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="5183" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 97&#45;99</text>
</g>
<!-- section_5&#45;&gt;codeblock_40 -->
<g id="edge40" class="edge">
<title>section_5&#45;&gt;codeblock_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4207.7503,-2366.0994C4356.8231,-2359.1524 4717.4536,-2341.0071 5019,-2315.2323 5046.7103,-2312.8638 5076.9926,-2309.7026 5103.9097,-2306.6907"/>
<polygon fill="#000000" stroke="#000000" points="5104.5048,-2310.1458 5114.0488,-2305.5456 5103.7191,-2303.19 5104.5048,-2310.1458"/>
</g>
<!-- codeblock_41 -->
<g id="node42" class="node">
<title>codeblock_41</title>
<ellipse fill="none" stroke="#000000" cx="5542" cy="-2297.2323" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5542" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 101&#45;181</text>
</g>
<!-- section_5&#45;&gt;codeblock_41 -->
<g id="edge41" class="edge">
<title>section_5&#45;&gt;codeblock_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4207.8453,-2366.3386C4385.2077,-2358.8945 4867.4007,-2338.0572 5269,-2315.2323 5329.0324,-2311.8204 5396.4491,-2307.3814 5449.2675,-2303.7653"/>
<polygon fill="#000000" stroke="#000000" points="5449.5553,-2307.2539 5459.292,-2303.0769 5449.0757,-2300.2703 5449.5553,-2307.2539"/>
</g>
<!-- codeblock_42 -->
<g id="node43" class="node">
<title>codeblock_42</title>
<ellipse fill="none" stroke="#000000" cx="5977" cy="-2297.2323" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5977" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 183&#45;194</text>
</g>
<!-- section_5&#45;&gt;codeblock_42 -->
<g id="edge42" class="edge">
<title>section_5&#45;&gt;codeblock_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4208.3053,-2367.1279C4422.7433,-2360.6173 5087.408,-2339.7587 5638,-2315.2323 5720.6055,-2311.5526 5814.4864,-2306.4999 5882.4737,-2302.6843"/>
<polygon fill="#000000" stroke="#000000" points="5882.9468,-2306.1634 5892.7343,-2302.1069 5882.5534,-2299.1744 5882.9468,-2306.1634"/>
</g>
<!-- header_94 -->
<g id="node95" class="node">
<title>header_94</title>
<ellipse fill="none" stroke="#000000" cx="6500" cy="-2297.2323" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="6500" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Reader</text>
</g>
<!-- section_6&#45;&gt;header_94 -->
<g id="edge94" class="edge">
<title>section_6&#45;&gt;header_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6646.8838,-2353.7865C6616.7673,-2342.1909 6575.5383,-2326.3166 6544.4259,-2314.3375"/>
<polygon fill="#000000" stroke="#000000" points="6545.2966,-2310.9223 6534.7068,-2310.5954 6542.7814,-2317.4549 6545.2966,-2310.9223"/>
</g>
<!-- prose_95 -->
<g id="node96" class="node">
<title>prose_95</title>
<ellipse fill="none" stroke="#000000" cx="6687" cy="-2297.2323" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6687" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_95 -->
<g id="edge95" class="edge">
<title>section_6&#45;&gt;prose_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6687,-2351.0637C6687,-2343.3633 6687,-2334.2067 6687,-2325.649"/>
<polygon fill="#000000" stroke="#000000" points="6690.5001,-2325.6456 6687,-2315.6456 6683.5001,-2325.6456 6690.5001,-2325.6456"/>
</g>
<!-- section_96 -->
<g id="node97" class="node">
<title>section_96</title>
<ellipse fill="none" stroke="#000000" cx="7333" cy="-2297.2323" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7333" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 203&#45;224</text>
</g>
<!-- section_6&#45;&gt;section_96 -->
<g id="edge96" class="edge">
<title>section_6&#45;&gt;section_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6755.5217,-2361.5952C6876.2936,-2348.1346 7126.3313,-2320.2666 7254.102,-2306.0259"/>
<polygon fill="#000000" stroke="#000000" points="7254.6578,-2309.4857 7264.2086,-2304.8995 7253.8824,-2302.5288 7254.6578,-2309.4857"/>
</g>
<!-- section_97 -->
<g id="node98" class="node">
<title>section_97</title>
<ellipse fill="none" stroke="#000000" cx="8379" cy="-2297.2323" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8379" y="-2293.0323" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 225&#45;317</text>
</g>
<!-- section_6&#45;&gt;section_97 -->
<g id="edge97" class="edge">
<title>section_6&#45;&gt;section_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6761.3378,-2366.069C7037.267,-2354.3274 8001.8424,-2313.2816 8294.3031,-2300.8365"/>
<polygon fill="#000000" stroke="#000000" points="8294.579,-2304.328 8304.4211,-2300.4059 8294.2813,-2297.3343 8294.579,-2304.328"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="820,-1658.017 766,-1658.017 766,-1586.017 820,-1586.017 820,-1658.017"/>
</g>
<!-- raw_8&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>raw_8&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M793,-2279.172C793,-2190.8583 793,-1803.2932 793,-1668.4555"/>
<polygon fill="#000000" stroke="#000000" points="796.5001,-1668.0677 793,-1658.0677 789.5001,-1668.0678 796.5001,-1668.0677"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="942,-1640.017 842,-1640.017 842,-1604.017 942,-1604.017 942,-1640.017"/>
<text text-anchor="middle" x="892" y="-1618.517" font-family="Inconsolata" font-size="14.00" fill="#000000">** &#160;includes</text>
</g>
<!-- header_10&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>header_10&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M892.9733,-2279.172C892.836,-2186.5187 892.211,-1764.4813 892.0421,-1650.4742"/>
<polygon fill="#000000" stroke="#000000" points="895.5417,-1650.128 892.0268,-1640.1332 888.5417,-1650.1384 895.5417,-1650.128"/>
</g>
<!-- raw_17 -->
<g id="node18" class="node">
<title>raw_17</title>
<ellipse fill="none" stroke="#000000" cx="987" cy="-1622.017" rx="27" ry="18"/>
<text text-anchor="middle" x="987" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_11&#45;&gt;raw_17 -->
<g id="edge17" class="edge">
<title>prose_11&#45;&gt;raw_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M997.7058,-2279.172C996.1964,-2186.5187 989.3209,-1764.4813 987.4636,-1650.4742"/>
<polygon fill="#000000" stroke="#000000" points="990.9577,-1650.0749 987.2951,-1640.1332 983.9586,-1650.189 990.9577,-1650.0749"/>
</g>
<!-- raw_19 -->
<g id="node20" class="node">
<title>raw_19</title>
<ellipse fill="none" stroke="#000000" cx="1059" cy="-1622.017" rx="27" ry="18"/>
<text text-anchor="middle" x="1059" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_12&#45;&gt;raw_19 -->
<g id="edge19" class="edge">
<title>prose_12&#45;&gt;raw_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1079.4383,-2279.172C1076.5538,-2186.4252 1063.4043,-1763.6292 1059.8743,-1650.13"/>
<polygon fill="#000000" stroke="#000000" points="1063.3727,-1650.0196 1059.5634,-1640.1332 1056.3761,-1650.2372 1063.3727,-1650.0196"/>
</g>
<!-- raw_21 -->
<g id="node22" class="node">
<title>raw_21</title>
<ellipse fill="none" stroke="#000000" cx="1131" cy="-1622.017" rx="27" ry="18"/>
<text text-anchor="middle" x="1131" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_13&#45;&gt;raw_21 -->
<g id="edge21" class="edge">
<title>prose_13&#45;&gt;raw_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1161.1708,-2279.172C1156.9127,-2186.4252 1137.5016,-1763.6292 1132.2907,-1650.13"/>
<polygon fill="#000000" stroke="#000000" points="1135.7868,-1649.9622 1131.8317,-1640.1332 1128.7941,-1650.2833 1135.7868,-1649.9622"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="1409.5,-1679.8174 1176.5,-1679.8174 1176.5,-1564.2166 1409.5,-1564.2166 1409.5,-1679.8174"/>
<text text-anchor="middle" x="1293" y="-1664.7171" font-family="Inconsolata" font-size="14.00" fill="#000000">sql = require &quot;sqlite&quot;</text>
<text text-anchor="middle" x="1293" y="-1649.3171" font-family="Inconsolata" font-size="14.00" fill="#000000">L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1293" y="-1633.917" font-family="Inconsolata" font-size="14.00" fill="#000000">lfs = require &quot;lfs&quot;</text>
<text text-anchor="middle" x="1293" y="-1618.517" font-family="Inconsolata" font-size="14.00" fill="#000000">ffi = require &quot;ffi&quot;</text>
<text text-anchor="middle" x="1293" y="-1603.117" font-family="Inconsolata" font-size="14.00" fill="#000000">bit = require &quot;bit&quot;</text>
<text text-anchor="middle" x="1293" y="-1587.7169" font-family="Inconsolata" font-size="14.00" fill="#000000">ffi.reflect = require &quot;reflect&quot;</text>
<text text-anchor="middle" x="1293" y="-1572.3169" font-family="Inconsolata" font-size="14.00" fill="#000000">uv = require &quot;luv&quot;</text>
</g>
<!-- codeblock_14&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>codeblock_14&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1292.0267,-2279.172C1292.1512,-2195.1681 1292.6766,-1840.407 1292.8994,-1689.9372"/>
<polygon fill="#000000" stroke="#000000" points="1296.3994,-1689.8997 1292.9143,-1679.8945 1289.3994,-1689.8892 1296.3994,-1689.8997"/>
</g>
<!-- header_24 -->
<g id="node25" class="node">
<title>header_24</title>
<ellipse fill="none" stroke="#000000" cx="1538" cy="-1622.017" rx="110.7308" ry="18"/>
<text text-anchor="middle" x="1538" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Djikstra Insertion Point</text>
</g>
<!-- section_15&#45;&gt;header_24 -->
<g id="edge24" class="edge">
<title>section_15&#45;&gt;header_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1538,-2279.172C1538,-2186.5187 1538,-1764.4813 1538,-1650.4742"/>
<polygon fill="#000000" stroke="#000000" points="1541.5001,-1650.1332 1538,-1640.1332 1534.5001,-1650.1333 1541.5001,-1650.1332"/>
</g>
<!-- prose_25 -->
<g id="node26" class="node">
<title>prose_25</title>
<ellipse fill="none" stroke="#000000" cx="1699" cy="-1622.017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1699" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_15&#45;&gt;prose_25 -->
<g id="edge25" class="edge">
<title>section_15&#45;&gt;prose_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1590.9958,-2286.5756C1615.4748,-2278.8017 1642.4946,-2265.5633 1658,-2243.2323 1790.6643,-2052.1695 1729.2548,-1743.3333 1706.3147,-1649.758"/>
<polygon fill="#000000" stroke="#000000" points="1709.6743,-1648.7656 1703.8471,-1639.9172 1702.8845,-1650.4682 1709.6743,-1648.7656"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="548,-578.8012 0,-578.8012 0,-508.2005 548,-508.2005 548,-578.8012"/>
<text text-anchor="middle" x="274" y="-531.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">This all goes into global space for now. &#160;Our more sophisticated loader will</text>
<text text-anchor="middle" x="274" y="-516.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">handle namespace isolation. Meanwhile we&#39;re building a repl, so.</text>
</g>
<!-- raw_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>raw_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M988.9375,-1603.9174C998.4537,-1511.0648 1036.4372,-1089.1262 951,-1000.8016 889.8725,-937.6082 632.6258,-1009.6427 557,-964.8016 409.069,-877.0884 322.2037,-678.2217 289.2802,-588.6842"/>
<polygon fill="#000000" stroke="#000000" points="292.5006,-587.2977 285.8046,-579.0871 285.9189,-589.6814 292.5006,-587.2977"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="1086,-563.4029 566,-563.4029 566,-523.5988 1086,-523.5988 1086,-563.4029"/>
<text text-anchor="middle" x="826" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">First we load everything that might reasonable expect a stock namespace.</text>
</g>
<!-- raw_19&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>raw_19&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1060.2166,-1603.8982C1064.8002,-1528.6253 1078.0939,-1233.6611 1023,-1000.8016 982.6179,-830.123 882.5048,-642.7435 842.7041,-572.3424"/>
<polygon fill="#000000" stroke="#000000" points="845.7058,-570.5405 837.7188,-563.5793 839.6215,-574.0019 845.7058,-570.5405"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="1414,-563.4029 1104,-563.4029 1104,-523.5988 1414,-523.5988 1414,-563.4029"/>
<text text-anchor="middle" x="1259" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">All of these are exceedingly well&#45;behaved.</text>
</g>
<!-- raw_21&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>raw_21&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1131.1206,-1603.8891C1131.8135,-1529.1703 1136.4398,-1237.8581 1167,-1000.8016 1188.0208,-837.7424 1233.5598,-645.7101 1251.5098,-573.2051"/>
<polygon fill="#000000" stroke="#000000" points="1254.9331,-573.9419 1253.9518,-563.3926 1248.1403,-572.2513 1254.9331,-573.9419"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="1644,-561.5009 1432,-561.5009 1432,-525.5009 1644,-525.5009 1644,-561.5009"/>
<text text-anchor="middle" x="1538" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Djikstra Insertion Point</text>
</g>
<!-- header_24&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>header_24&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1538,-1603.7498C1538,-1476.8348 1538,-726.9892 1538,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="1541.5001,-571.5179 1538,-561.5179 1534.5001,-571.518 1541.5001,-571.5179"/>
</g>
<!-- raw_27 -->
<g id="node28" class="node">
<title>raw_27</title>
<ellipse fill="none" stroke="#000000" cx="1689" cy="-543.5009" rx="27" ry="18"/>
<text text-anchor="middle" x="1689" y="-539.3009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_25&#45;&gt;raw_27 -->
<g id="edge27" class="edge">
<title>prose_25&#45;&gt;raw_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1698.8306,-1603.7498C1697.6539,-1476.8348 1690.7013,-726.9892 1689.2611,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="1692.7597,-571.485 1689.1671,-561.5179 1685.76,-571.55 1692.7597,-571.485"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="1970,-86.3004 1408,-86.3004 1408,.1003 1970,.1003 1970,-86.3004"/>
<text text-anchor="middle" x="1689" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">Although we&#39;re not doing so yet, this is where we will set up Djikstra mode</text>
<text text-anchor="middle" x="1689" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">for participating code. &#160;We then push that up through the layers, and it lands</text>
<text text-anchor="middle" x="1689" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">as close to C level as practical.</text>
</g>
<!-- raw_27&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>raw_27&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1689,-525.3957C1689,-456.2257 1689,-207.0034 1689,-96.4994"/>
<polygon fill="#000000" stroke="#000000" points="1692.5001,-96.2491 1689,-86.2492 1685.5001,-96.2492 1692.5001,-96.2491"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="1832.5,-1640.017 1767.5,-1640.017 1767.5,-1604.017 1832.5,-1604.017 1832.5,-1640.017"/>
<text text-anchor="middle" x="1800" y="-1618.517" font-family="Inconsolata" font-size="14.00" fill="#000000">** core</text>
</g>
<!-- header_29&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>header_29&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1869.457,-2281.1828C1859.4427,-2271.333 1847.9427,-2257.833 1842,-2243.2323 1755.0678,-2029.6466 1783.8538,-1740.6499 1795.8657,-1650.2403"/>
<polygon fill="#000000" stroke="#000000" points="1799.349,-1650.6001 1797.2385,-1640.2176 1792.4138,-1649.6501 1799.349,-1650.6001"/>
</g>
<!-- raw_44 -->
<g id="node45" class="node">
<title>raw_44</title>
<ellipse fill="none" stroke="#000000" cx="1878" cy="-1622.017" rx="27" ry="18"/>
<text text-anchor="middle" x="1878" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_30&#45;&gt;raw_44 -->
<g id="edge44" class="edge">
<title>prose_30&#45;&gt;raw_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2034.9543,-2290.614C1995.298,-2281.2204 1928.7663,-2262.9569 1914,-2243.2323 1842.8791,-2148.2301 1867.3175,-1758.7417 1875.6769,-1650.2088"/>
<polygon fill="#000000" stroke="#000000" points="1879.1814,-1650.2878 1876.4767,-1640.0441 1872.203,-1649.7387 1879.1814,-1650.2878"/>
</g>
<!-- prespace_45 -->
<g id="node46" class="node">
<title>prespace_45</title>
<ellipse fill="none" stroke="#000000" cx="1969" cy="-1622.017" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="1969" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_30&#45;&gt;prespace_45 -->
<g id="edge45" class="edge">
<title>prose_30&#45;&gt;prespace_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2049.3901,-2281.1665C2040.6264,-2271.1107 2030.3958,-2257.407 2025,-2243.2323 1942.9007,-2027.5577 1958.6832,-1740.4646 1966.2757,-1650.3224"/>
<polygon fill="#000000" stroke="#000000" points="1969.7859,-1650.3586 1967.1753,-1640.0905 1962.8128,-1649.7455 1969.7859,-1650.3586"/>
</g>
<!-- literal_46 -->
<g id="node47" class="node">
<title>literal_46</title>
<ellipse fill="none" stroke="#000000" cx="2065" cy="-1622.017" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2065" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_30&#45;&gt;literal_46 -->
<g id="edge46" class="edge">
<title>prose_30&#45;&gt;literal_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2065,-2279.172C2065,-2186.5187 2065,-1764.4813 2065,-1650.4742"/>
<polygon fill="#000000" stroke="#000000" points="2068.5001,-1650.1332 2065,-1640.1332 2061.5001,-1650.1333 2068.5001,-1650.1332"/>
</g>
<!-- raw_47 -->
<g id="node48" class="node">
<title>raw_47</title>
<ellipse fill="none" stroke="#000000" cx="2158" cy="-1622.017" rx="27" ry="18"/>
<text text-anchor="middle" x="2158" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_30&#45;&gt;raw_47 -->
<g id="edge47" class="edge">
<title>prose_30&#45;&gt;raw_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2080.6346,-2281.1759C2089.407,-2271.1234 2099.6382,-2257.4199 2105,-2243.2323 2186.548,-2027.4523 2169.0531,-1740.4293 2160.9023,-1650.3135"/>
<polygon fill="#000000" stroke="#000000" points="2164.3612,-1649.7125 2159.939,-1640.0847 2157.3921,-1650.3688 2164.3612,-1649.7125"/>
</g>
<!-- raw_52 -->
<g id="node53" class="node">
<title>raw_52</title>
<ellipse fill="none" stroke="#000000" cx="2553" cy="-1622.017" rx="27" ry="18"/>
<text text-anchor="middle" x="2553" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_31&#45;&gt;raw_52 -->
<g id="edge52" class="edge">
<title>prose_31&#45;&gt;raw_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2843.731,-2295.5802C2778.5256,-2291.5212 2634.5816,-2278.6707 2603,-2243.2323 2447.2306,-2068.4401 2519.0707,-1745.2969 2545.0324,-1649.4796"/>
<polygon fill="#000000" stroke="#000000" points="2548.4498,-1650.2533 2547.7442,-1639.682 2541.7034,-1648.3859 2548.4498,-1650.2533"/>
</g>
<!-- prespace_53 -->
<g id="node54" class="node">
<title>prespace_53</title>
<ellipse fill="none" stroke="#000000" cx="2658" cy="-1622.017" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2658" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_31&#45;&gt;prespace_53 -->
<g id="edge53" class="edge">
<title>prose_31&#45;&gt;prespace_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2845.3174,-2291.1621C2803.1082,-2282.1495 2730.466,-2264.0385 2714,-2243.2323 2569.2193,-2060.2896 2628.4671,-1745.2826 2650.8712,-1650.0722"/>
<polygon fill="#000000" stroke="#000000" points="2654.3428,-1650.6054 2653.2836,-1640.0636 2647.5377,-1648.9651 2654.3428,-1650.6054"/>
</g>
<!-- literal_54 -->
<g id="node55" class="node">
<title>literal_54</title>
<ellipse fill="none" stroke="#000000" cx="2754" cy="-1622.017" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2754" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_31&#45;&gt;literal_54 -->
<g id="edge54" class="edge">
<title>prose_31&#45;&gt;literal_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2848.9342,-2287.0949C2830.0601,-2278.4864 2806.1606,-2264.1608 2794,-2243.2323 2677.5314,-2042.7887 2728.1607,-1742.0968 2747.6327,-1649.8887"/>
<polygon fill="#000000" stroke="#000000" points="2751.0922,-1650.4498 2749.7868,-1639.9357 2744.2506,-1648.9691 2751.0922,-1650.4498"/>
</g>
<!-- raw_55 -->
<g id="node56" class="node">
<title>raw_55</title>
<ellipse fill="none" stroke="#000000" cx="2830" cy="-1622.017" rx="27" ry="18"/>
<text text-anchor="middle" x="2830" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_31&#45;&gt;raw_55 -->
<g id="edge55" class="edge">
<title>prose_31&#45;&gt;raw_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2872.1003,-2279.319C2869.967,-2268.8479 2867.467,-2255.3479 2866,-2243.2323 2838.4468,-2015.6797 2831.837,-1738.594 2830.3814,-1650.394"/>
<polygon fill="#000000" stroke="#000000" points="2833.877,-1650.0766 2830.2217,-1640.1323 2826.8778,-1650.1856 2833.877,-1650.0766"/>
</g>
<!-- prespace_56 -->
<g id="node57" class="node">
<title>prespace_56</title>
<ellipse fill="none" stroke="#000000" cx="2921" cy="-1622.017" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2921" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_31&#45;&gt;prespace_56 -->
<g id="edge56" class="edge">
<title>prose_31&#45;&gt;prespace_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2877.2036,-2279.172C2883.3848,-2186.4252 2911.5622,-1763.6292 2919.1264,-1650.13"/>
<polygon fill="#000000" stroke="#000000" points="2922.6198,-1650.3439 2919.7926,-1640.1332 2915.6353,-1649.8783 2922.6198,-1650.3439"/>
</g>
<!-- literal_57 -->
<g id="node58" class="node">
<title>literal_57</title>
<ellipse fill="none" stroke="#000000" cx="3017" cy="-1622.017" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3017" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_31&#45;&gt;literal_57 -->
<g id="edge57" class="edge">
<title>prose_31&#45;&gt;literal_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2905.4811,-2289.7825C2928.846,-2282.2051 2960.1161,-2267.9707 2976,-2243.2323 3101.5336,-2047.7198 3045.1535,-1742.5291 3023.8536,-1649.7134"/>
<polygon fill="#000000" stroke="#000000" points="3027.2536,-1648.8817 3021.5597,-1639.9469 3020.439,-1650.4823 3027.2536,-1648.8817"/>
</g>
<!-- raw_58 -->
<g id="node59" class="node">
<title>raw_58</title>
<ellipse fill="none" stroke="#000000" cx="3136" cy="-1622.017" rx="27" ry="18"/>
<text text-anchor="middle" x="3136" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_31&#45;&gt;raw_58 -->
<g id="edge58" class="edge">
<title>prose_31&#45;&gt;raw_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2907.0239,-2292.1445C2953.4367,-2283.8739 3037.5861,-2266.1102 3057,-2243.2323 3208.7223,-2064.4394 3160.8622,-1745.9498 3142.0268,-1650.0778"/>
<polygon fill="#000000" stroke="#000000" points="3145.403,-1649.1145 3139.9915,-1640.0059 3138.5417,-1650.5011 3145.403,-1649.1145"/>
</g>
<!-- leaf_66 -->
<g id="node67" class="node">
<title>leaf_66</title>
<polygon fill="none" stroke="#c0c0c0" points="3609.5,-1703.0173 3208.5,-1703.0173 3208.5,-1541.0167 3609.5,-1541.0167 3609.5,-1703.0173"/>
<text text-anchor="middle" x="3409" y="-1687.8171" font-family="Inconsolata" font-size="14.00" fill="#000000">local core = require &quot;core&quot;</text>
<text text-anchor="middle" x="3409" y="-1672.4171" font-family="Inconsolata" font-size="14.00" fill="#000000">string.cleave, string.litpat = core.cleave, core.litpat</text>
<text text-anchor="middle" x="3409" y="-1657.0171" font-family="Inconsolata" font-size="14.00" fill="#000000">string.utf8 = core.utf8</text>
<text text-anchor="middle" x="3409" y="-1641.617" font-family="Inconsolata" font-size="14.00" fill="#000000">string.codepoints = core.codepoints</text>
<text text-anchor="middle" x="3409" y="-1626.217" font-family="Inconsolata" font-size="14.00" fill="#000000">table.splice = core.splice</text>
<text text-anchor="middle" x="3409" y="-1610.817" font-family="Inconsolata" font-size="14.00" fill="#000000">utf8 = core.utf8</text>
<text text-anchor="middle" x="3409" y="-1595.417" font-family="Inconsolata" font-size="14.00" fill="#000000">codepoints = core.codepoints</text>
<text text-anchor="middle" x="3409" y="-1580.0169" font-family="Inconsolata" font-size="14.00" fill="#000000">meta = core.meta</text>
<text text-anchor="middle" x="3409" y="-1564.6169" font-family="Inconsolata" font-size="14.00" fill="#000000">getmeta, setmeta = getmetatable, setmetatable</text>
<text text-anchor="middle" x="3409" y="-1549.2169" font-family="Inconsolata" font-size="14.00" fill="#000000">coro = coroutine</text>
</g>
<!-- codeblock_32&#45;&gt;leaf_66 -->
<g id="edge66" class="edge">
<title>codeblock_32&#45;&gt;leaf_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3466.4219,-2279.172C3459.4419,-2199.2911 3431.0688,-1874.5792 3416.9949,-1713.5133"/>
<polygon fill="#000000" stroke="#000000" points="3420.4462,-1712.8025 3416.0889,-1703.1451 3413.4728,-1713.4119 3420.4462,-1712.8025"/>
</g>
<!-- raw_67 -->
<g id="node68" class="node">
<title>raw_67</title>
<ellipse fill="none" stroke="#000000" cx="3655" cy="-1622.017" rx="27" ry="18"/>
<text text-anchor="middle" x="3655" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_33&#45;&gt;raw_67 -->
<g id="edge67" class="edge">
<title>prose_33&#45;&gt;raw_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3723.3255,-2282.7975C3711.6996,-2273.0482 3697.935,-2259.0924 3691,-2243.2323 3598.5657,-2031.8382 3635.3032,-1740.8052 3650.021,-1650.1361"/>
<polygon fill="#000000" stroke="#000000" points="3653.5034,-1650.5306 3651.6965,-1640.091 3646.5988,-1649.3788 3653.5034,-1650.5306"/>
</g>
<!-- raw_69 -->
<g id="node70" class="node">
<title>raw_69</title>
<ellipse fill="none" stroke="#000000" cx="3727" cy="-1622.017" rx="27" ry="18"/>
<text text-anchor="middle" x="3727" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_34&#45;&gt;raw_69 -->
<g id="edge69" class="edge">
<title>prose_34&#45;&gt;raw_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3883.9543,-2290.614C3844.298,-2281.2204 3777.7663,-2262.9569 3763,-2243.2323 3691.8791,-2148.2301 3716.3175,-1758.7417 3724.6769,-1650.2088"/>
<polygon fill="#000000" stroke="#000000" points="3728.1814,-1650.2878 3725.4767,-1640.0441 3721.203,-1649.7387 3728.1814,-1650.2878"/>
</g>
<!-- prespace_70 -->
<g id="node71" class="node">
<title>prespace_70</title>
<ellipse fill="none" stroke="#000000" cx="3818" cy="-1622.017" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="3818" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_34&#45;&gt;prespace_70 -->
<g id="edge70" class="edge">
<title>prose_34&#45;&gt;prespace_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3898.3901,-2281.1665C3889.6264,-2271.1107 3879.3958,-2257.407 3874,-2243.2323 3791.9007,-2027.5577 3807.6832,-1740.4646 3815.2757,-1650.3224"/>
<polygon fill="#000000" stroke="#000000" points="3818.7859,-1650.3586 3816.1753,-1640.0905 3811.8128,-1649.7455 3818.7859,-1650.3586"/>
</g>
<!-- literal_71 -->
<g id="node72" class="node">
<title>literal_71</title>
<ellipse fill="none" stroke="#000000" cx="3914" cy="-1622.017" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3914" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_34&#45;&gt;literal_71 -->
<g id="edge71" class="edge">
<title>prose_34&#45;&gt;literal_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3914,-2279.172C3914,-2186.5187 3914,-1764.4813 3914,-1650.4742"/>
<polygon fill="#000000" stroke="#000000" points="3917.5001,-1650.1332 3914,-1640.1332 3910.5001,-1650.1333 3917.5001,-1650.1332"/>
</g>
<!-- raw_72 -->
<g id="node73" class="node">
<title>raw_72</title>
<ellipse fill="none" stroke="#000000" cx="3990" cy="-1622.017" rx="27" ry="18"/>
<text text-anchor="middle" x="3990" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_34&#45;&gt;raw_72 -->
<g id="edge72" class="edge">
<title>prose_34&#45;&gt;raw_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3929.7753,-2281.2279C3938.5976,-2271.194 3948.8318,-2257.4916 3954,-2243.2323 4032.5299,-2026.5646 4005.1786,-1739.6224 3993.8785,-1649.9834"/>
<polygon fill="#000000" stroke="#000000" points="3997.347,-1649.5138 3992.5882,-1640.0479 3990.4053,-1650.4154 3997.347,-1649.5138"/>
</g>
<!-- leaf_77 -->
<g id="node78" class="node">
<title>leaf_77</title>
<polygon fill="none" stroke="#c0c0c0" points="4240.5,-1672.418 4035.5,-1672.418 4035.5,-1571.616 4240.5,-1571.616 4240.5,-1672.418"/>
<text text-anchor="middle" x="4138" y="-1657.0171" font-family="Inconsolata" font-size="14.00" fill="#000000">local concat = table.concat</text>
<text text-anchor="middle" x="4138" y="-1641.617" font-family="Inconsolata" font-size="14.00" fill="#000000">a = require &quot;anterm&quot;</text>
<text text-anchor="middle" x="4138" y="-1626.217" font-family="Inconsolata" font-size="14.00" fill="#000000">color = require &quot;color&quot;</text>
<text text-anchor="middle" x="4138" y="-1610.817" font-family="Inconsolata" font-size="14.00" fill="#000000">ts = color.ts</text>
<text text-anchor="middle" x="4138" y="-1595.417" font-family="Inconsolata" font-size="14.00" fill="#000000">c = color.color</text>
<text text-anchor="middle" x="4138" y="-1580.0169" font-family="Inconsolata" font-size="14.00" fill="#000000">watch = require &quot;watcher&quot;</text>
</g>
<!-- codeblock_35&#45;&gt;leaf_77 -->
<g id="edge77" class="edge">
<title>codeblock_35&#45;&gt;leaf_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4138,-2279.172C4138,-2193.7671 4138,-1828.499 4138,-1682.5817"/>
<polygon fill="#000000" stroke="#000000" points="4141.5001,-1682.4615 4138,-1672.4616 4134.5001,-1682.4616 4141.5001,-1682.4615"/>
</g>
<!-- raw_78 -->
<g id="node79" class="node">
<title>raw_78</title>
<ellipse fill="none" stroke="#000000" cx="4286" cy="-1622.017" rx="27" ry="18"/>
<text text-anchor="middle" x="4286" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_36&#45;&gt;raw_78 -->
<g id="edge78" class="edge">
<title>prose_36&#45;&gt;raw_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4356.4833,-2283.2536C4344.1353,-2273.5893 4329.4135,-2259.5594 4322,-2243.2323 4226.5039,-2032.9186 4265.411,-1740.5848 4280.8295,-1649.9383"/>
<polygon fill="#000000" stroke="#000000" points="4284.3095,-1650.3559 4282.5828,-1639.9027 4277.4139,-1649.1512 4284.3095,-1650.3559"/>
</g>
<!-- prespace_79 -->
<g id="node80" class="node">
<title>prespace_79</title>
<ellipse fill="none" stroke="#000000" cx="4377" cy="-1622.017" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="4377" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_36&#45;&gt;prespace_79 -->
<g id="edge79" class="edge">
<title>prose_36&#45;&gt;prespace_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4377,-2279.172C4377,-2186.5187 4377,-1764.4813 4377,-1650.4742"/>
<polygon fill="#000000" stroke="#000000" points="4380.5001,-1650.1332 4377,-1640.1332 4373.5001,-1650.1333 4380.5001,-1650.1332"/>
</g>
<!-- literal_80 -->
<g id="node81" class="node">
<title>literal_80</title>
<ellipse fill="none" stroke="#000000" cx="4473" cy="-1622.017" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4473" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_36&#45;&gt;literal_80 -->
<g id="edge80" class="edge">
<title>prose_36&#45;&gt;literal_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4397.4722,-2283.2332C4409.8024,-2273.5609 4424.5211,-2259.5295 4432,-2243.2323 4528.2781,-2033.4347 4492.4509,-1741.3344 4477.9293,-1650.2677"/>
<polygon fill="#000000" stroke="#000000" points="4481.3468,-1649.4792 4476.2743,-1640.1776 4474.4391,-1650.6123 4481.3468,-1649.4792"/>
</g>
<!-- raw_81 -->
<g id="node82" class="node">
<title>raw_81</title>
<ellipse fill="none" stroke="#000000" cx="4549" cy="-1622.017" rx="27" ry="18"/>
<text text-anchor="middle" x="4549" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_36&#45;&gt;raw_81 -->
<g id="edge81" class="edge">
<title>prose_36&#45;&gt;raw_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4408.7989,-2294.2332C4440.8464,-2289.3602 4488.9085,-2276.5988 4513,-2243.2323 4582.4704,-2147.0166 4559.2144,-1758.3976 4551.2236,-1650.1356"/>
<polygon fill="#000000" stroke="#000000" points="4554.7011,-1649.7049 4550.4587,-1639.9966 4547.721,-1650.2316 4554.7011,-1649.7049"/>
</g>
<!-- raw_86 -->
<g id="node87" class="node">
<title>raw_86</title>
<ellipse fill="none" stroke="#000000" cx="4621" cy="-1622.017" rx="27" ry="18"/>
<text text-anchor="middle" x="4621" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_37&#45;&gt;raw_86 -->
<g id="edge86" class="edge">
<title>prose_37&#45;&gt;raw_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4557.7357,-2281.5878C4567.6567,-2271.6814 4579.1699,-2257.9868 4585,-2243.2323 4669.7879,-2028.657 4638.1621,-1739.7506 4625.3488,-1649.8739"/>
<polygon fill="#000000" stroke="#000000" points="4628.8029,-1649.3045 4623.8886,-1639.9183 4621.877,-1650.3204 4628.8029,-1649.3045"/>
</g>
<!-- leaf_88 -->
<g id="node89" class="node">
<title>leaf_88</title>
<polygon fill="none" stroke="#c0c0c0" points="5025.5,-1780.8176 4666.5,-1780.8176 4666.5,-1463.2164 5025.5,-1463.2164 5025.5,-1780.8176"/>
<text text-anchor="middle" x="4846" y="-1765.7172" font-family="Inconsolata" font-size="14.00" fill="#000000">local usecolors</text>
<text text-anchor="middle" x="4846" y="-1750.3172" font-family="Inconsolata" font-size="14.00" fill="#000000">stdout = &quot;&quot;</text>
<text text-anchor="middle" x="4846" y="-1718.9172" font-family="Inconsolata" font-size="14.00" fill="#000000">if uv.guess_handle(1) == &quot;tty&quot; then</text>
<text text-anchor="middle" x="4846" y="-1703.5172" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;stdout = uv.new_tty(1, false)</text>
<text text-anchor="middle" x="4846" y="-1688.1171" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;usecolors = true</text>
<text text-anchor="middle" x="4846" y="-1672.7171" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="4846" y="-1657.3171" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;stdout = uv.new_pipe(false)</text>
<text text-anchor="middle" x="4846" y="-1641.917" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.pipe_open(utils.stdout, 1)</text>
<text text-anchor="middle" x="4846" y="-1626.517" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;usecolors = false</text>
<text text-anchor="middle" x="4846" y="-1611.117" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4846" y="-1579.7169" font-family="Inconsolata" font-size="14.00" fill="#000000">if not usecolors then</text>
<text text-anchor="middle" x="4846" y="-1564.3169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;ts = tostring</text>
<text text-anchor="middle" x="4846" y="-1548.9169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; #todo make this properly black and white ts</text>
<text text-anchor="middle" x="4846" y="-1533.5168" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4846" y="-1502.1168" font-family="Inconsolata" font-size="14.00" fill="#000000">function write(str)</text>
<text text-anchor="middle" x="4846" y="-1486.7168" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.write(stdout, str)</text>
<text text-anchor="middle" x="4846" y="-1471.3167" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_38&#45;&gt;leaf_88 -->
<g id="edge88" class="edge">
<title>codeblock_38&#45;&gt;leaf_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4759.3805,-2279.172C4768.4128,-2210.6468 4801.1932,-1961.952 4823.7328,-1790.9513"/>
<polygon fill="#000000" stroke="#000000" points="4827.2304,-1791.1983 4825.0673,-1780.8266 4820.2905,-1790.2835 4827.2304,-1791.1983"/>
</g>
<!-- raw_89 -->
<g id="node90" class="node">
<title>raw_89</title>
<ellipse fill="none" stroke="#000000" cx="5071" cy="-1622.017" rx="27" ry="18"/>
<text text-anchor="middle" x="5071" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_39&#45;&gt;raw_89 -->
<g id="edge89" class="edge">
<title>prose_39&#45;&gt;raw_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4998.8751,-2283.3298C5011.4418,-2273.696 5026.4302,-2259.6713 5034,-2243.2323 5130.6196,-2033.4083 5091.6568,-1740.7463 5076.1895,-1649.9782"/>
<polygon fill="#000000" stroke="#000000" points="5079.6023,-1649.1756 5074.4304,-1639.9289 5072.7072,-1650.3827 5079.6023,-1649.1756"/>
</g>
<!-- leaf_91 -->
<g id="node92" class="node">
<title>leaf_91</title>
<polygon fill="none" stroke="#c0c0c0" points="5405.5,-1640.017 5116.5,-1640.017 5116.5,-1604.017 5405.5,-1604.017 5405.5,-1640.017"/>
<text text-anchor="middle" x="5261" y="-1618.517" font-family="Inconsolata" font-size="14.00" fill="#000000">local modeS = require &quot;modeselektor&quot; ()</text>
</g>
<!-- codeblock_40&#45;&gt;leaf_91 -->
<g id="edge91" class="edge">
<title>codeblock_40&#45;&gt;leaf_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5185.0863,-2279.172C5195.8003,-2186.4252 5244.6411,-1763.6292 5257.7524,-1650.13"/>
<polygon fill="#000000" stroke="#000000" points="5261.2365,-1650.4689 5258.9072,-1640.1332 5254.2827,-1649.6655 5261.2365,-1650.4689"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="6014,-2243.4478 5424,-2243.4478 5424,-1000.5862 6014,-1000.5862 6014,-2243.4478"/>
<text text-anchor="middle" x="5719" y="-2228.0323" font-family="Inconsolata" font-size="14.00" fill="#000000">function print(...)</text>
<text text-anchor="middle" x="5719" y="-2212.6323" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local n = select(&#39;#&#39;, ...)</text>
<text text-anchor="middle" x="5719" y="-2197.2323" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local arguments = {...}</text>
<text text-anchor="middle" x="5719" y="-2181.8322" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 1, n do</text>
<text text-anchor="middle" x="5719" y="-2166.4322" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;arguments[i] = tostring(arguments[i])</text>
<text text-anchor="middle" x="5719" y="-2151.0322" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="5719" y="-2135.6322" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.write(stdout, concat(arguments, &quot;\t&quot;) .. &quot;\n&quot;)</text>
<text text-anchor="middle" x="5719" y="-2120.2321" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5719" y="-2072.8321" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; &#160;*** tty setup</text>
<text text-anchor="middle" x="5719" y="-2041.4321" font-family="Inconsolata" font-size="14.00" fill="#000000">if uv.guess_handle(0) ~= &quot;tty&quot; or</text>
<text text-anchor="middle" x="5719" y="-2026.032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.guess_handle(1) ~= &quot;tty&quot; then</text>
<text text-anchor="middle" x="5719" y="-2010.632" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; Entry point for other consumers!</text>
<text text-anchor="middle" x="5719" y="-1995.232" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;error &quot;stdio must be a tty&quot;</text>
<text text-anchor="middle" x="5719" y="-1979.8319" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5719" y="-1948.4319" font-family="Inconsolata" font-size="14.00" fill="#000000">local stdin = uv.new_tty(0, true)</text>
<text text-anchor="middle" x="5719" y="-1901.0319" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; &#160;*** utilities</text>
<text text-anchor="middle" x="5719" y="-1869.6318" font-family="Inconsolata" font-size="14.00" fill="#000000">local function gatherResults(success, ...)</text>
<text text-anchor="middle" x="5719" y="-1854.2318" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local n = select(&#39;#&#39;, ...)</text>
<text text-anchor="middle" x="5719" y="-1838.8318" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return success, { n = n, ... }</text>
<text text-anchor="middle" x="5719" y="-1823.4317" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5719" y="-1792.0317" font-family="Inconsolata" font-size="14.00" fill="#000000">local function printResults(results)</text>
<text text-anchor="middle" x="5719" y="-1776.6317" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 1, results.n do</text>
<text text-anchor="middle" x="5719" y="-1761.2317" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;results[i] = ts(results[i])</text>
<text text-anchor="middle" x="5719" y="-1745.8316" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="5719" y="-1730.4316" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;print(concat(results, &#39;\t&#39;))</text>
<text text-anchor="middle" x="5719" y="-1715.0316" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5719" y="-1683.6315" font-family="Inconsolata" font-size="14.00" fill="#000000">local buffer = &#39;&#39;</text>
<text text-anchor="middle" x="5719" y="-1652.2315" font-family="Inconsolata" font-size="14.00" fill="#000000">local function evaluateLine(line)</text>
<text text-anchor="middle" x="5719" y="-1636.8315" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if string.byte(line) == 17 then &#45;&#45; ^Q</text>
<text text-anchor="middle" x="5719" y="-1621.4314" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uv.stop()</text>
<text text-anchor="middle" x="5719" y="-1606.0314" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="5719" y="-1590.6314" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="5719" y="-1575.2313" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local chunk &#160;= buffer .. line</text>
<text text-anchor="middle" x="5719" y="-1559.8313" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local f, err = loadstring(&#39;return &#39; .. chunk, &#39;REPL&#39;) &#45;&#45; first we prefix return</text>
<text text-anchor="middle" x="5719" y="-1528.4313" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not f then</text>
<text text-anchor="middle" x="5719" y="-1513.0312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;f, err = loadstring(chunk, &#39;REPL&#39;) &#45;&#45; try again without return</text>
<text text-anchor="middle" x="5719" y="-1497.6312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="5719" y="-1466.2312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if f then</text>
<text text-anchor="middle" x="5719" y="-1450.8312" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;buffer = &#39;&#39;</text>
<text text-anchor="middle" x="5719" y="-1435.4311" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local success, results = gatherResults(xpcall(f, debug.traceback))</text>
<text text-anchor="middle" x="5719" y="-1404.0311" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if success then</text>
<text text-anchor="middle" x="5719" y="-1388.6311" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; successful call</text>
<text text-anchor="middle" x="5719" y="-1373.231" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if results.n &gt; 0 then</text>
<text text-anchor="middle" x="5719" y="-1357.831" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;printResults(results)</text>
<text text-anchor="middle" x="5719" y="-1342.431" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5719" y="-1327.0309" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="5719" y="-1311.6309" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; error</text>
<text text-anchor="middle" x="5719" y="-1296.2309" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;print(results[1])</text>
<text text-anchor="middle" x="5719" y="-1280.8308" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5719" y="-1265.4308" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="5719" y="-1250.0308" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if err:match &quot;&#39;&lt;eof&gt;&#39;$&quot; then</text>
<text text-anchor="middle" x="5719" y="-1234.6307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Lua expects some more input; stow it away for next time</text>
<text text-anchor="middle" x="5719" y="-1219.2307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;buffer = chunk .. &#39;\n&#39;</text>
<text text-anchor="middle" x="5719" y="-1203.8307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return &#39;...&#39;</text>
<text text-anchor="middle" x="5719" y="-1188.4307" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="5719" y="-1173.0306" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;print(err)</text>
<text text-anchor="middle" x="5719" y="-1157.6306" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;buffer = &#39;&#39;</text>
<text text-anchor="middle" x="5719" y="-1142.2306" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5719" y="-1126.8305" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="5719" y="-1095.4305" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return &#39; &#160;&#39;</text>
<text text-anchor="middle" x="5719" y="-1071.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5719" y="-1039.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">local function displayPrompt(prompt)</text>
<text text-anchor="middle" x="5719" y="-1024.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;uv.write(stdout, prompt)</text>
<text text-anchor="middle" x="5719" y="-1009.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_41&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>codeblock_41&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5546.7343,-2279.172C5548.5443,-2272.2675 5550.8337,-2263.5339 5553.5334,-2253.2349"/>
<polygon fill="#000000" stroke="#000000" points="5556.976,-2253.9049 5556.1262,-2243.3442 5550.2048,-2252.1299 5556.976,-2253.9049"/>
</g>
<!-- leaf_93 -->
<g id="node94" class="node">
<title>leaf_93</title>
<polygon fill="none" stroke="#c0c0c0" points="6405.5,-1703.0173 6032.5,-1703.0173 6032.5,-1541.0167 6405.5,-1541.0167 6405.5,-1703.0173"/>
<text text-anchor="middle" x="6219" y="-1687.8171" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Deprecated, but useful if I want, y&#39;know, a REPL</text>
<text text-anchor="middle" x="6219" y="-1672.4171" font-family="Inconsolata" font-size="14.00" fill="#000000">local function onread(err, line)</text>
<text text-anchor="middle" x="6219" y="-1657.0171" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if err then error(err) end</text>
<text text-anchor="middle" x="6219" y="-1641.617" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if line then</text>
<text text-anchor="middle" x="6219" y="-1626.217" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local prompt = evaluateLine(line)</text>
<text text-anchor="middle" x="6219" y="-1610.817" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;displayPrompt(prompt)</text>
<text text-anchor="middle" x="6219" y="-1595.417" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="6219" y="-1580.0169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;uv.close(stdin)</text>
<text text-anchor="middle" x="6219" y="-1564.6169" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="6219" y="-1549.2169" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_42&#45;&gt;leaf_93 -->
<g id="edge93" class="edge">
<title>codeblock_42&#45;&gt;leaf_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5995.1785,-2279.6235C6004.5802,-2269.6797 6015.6038,-2256.5928 6023,-2243.2323 6119.9253,-2068.1479 6176.5047,-1838.289 6202.2034,-1713.0382"/>
<polygon fill="#000000" stroke="#000000" points="6205.6622,-1713.5923 6204.2235,-1703.0957 6198.8024,-1712.1985 6205.6622,-1713.5923"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="1788,-571.4023 1734,-571.4023 1734,-515.5994 1788,-515.5994 1788,-571.4023"/>
<text text-anchor="middle" x="1761" y="-524.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">The</text>
</g>
<!-- raw_44&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>raw_44&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1881.8303,-1604.1467C1897.4522,-1526.7984 1950.4809,-1215.1188 1841,-1000.8016 1829.5056,-978.3005 1808.7831,-987.1529 1797,-964.8016 1730.0547,-837.8142 1744.379,-659.0003 1754.8761,-581.636"/>
<polygon fill="#000000" stroke="#000000" points="1758.3876,-581.8005 1756.323,-571.4088 1751.4566,-580.8198 1758.3876,-581.8005"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="1860,-561.5009 1806,-561.5009 1806,-525.5009 1860,-525.5009 1860,-561.5009"/>
<text text-anchor="middle" x="1833" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_45&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>prespace_45&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1972.2253,-1604.0572C1985.2455,-1526.3391 2027.9671,-1213.3505 1914,-1000.8016 1901.8968,-978.2292 1881.0686,-987.3925 1869,-964.8016 1798.2623,-832.3891 1817.5672,-642.68 1828.1967,-571.713"/>
<polygon fill="#000000" stroke="#000000" points="1831.6682,-572.1664 1829.7517,-561.7464 1824.7519,-571.0872 1831.6682,-572.1664"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="1932,-561.5009 1878,-561.5009 1878,-525.5009 1932,-525.5009 1932,-561.5009"/>
<text text-anchor="middle" x="1905" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">core</text>
</g>
<!-- literal_46&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>literal_46&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2069.9122,-1604.0712C2090.5751,-1524.4412 2163.124,-1198.2859 2024,-1000.8016 2000.8427,-967.9302 1964.4741,-997.4476 1941,-964.8016 1852.7704,-842.0984 1883.1666,-644.2803 1898.4524,-571.5186"/>
<polygon fill="#000000" stroke="#000000" points="1901.8795,-572.2296 1900.5821,-561.7145 1895.039,-570.7436 1901.8795,-572.2296"/>
</g>
<!-- leaf_51 -->
<g id="node52" class="node">
<title>leaf_51</title>
<polygon fill="none" stroke="#c0c0c0" points="2435.5,-562.8014 1950.5,-562.8014 1950.5,-524.2003 2435.5,-524.2003 2435.5,-562.8014"/>
<text text-anchor="middle" x="2193" y="-547.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> library is shaping up as a place to keep alterations to the global</text>
<text text-anchor="middle" x="2193" y="-532.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">namespace and standard library.</text>
</g>
<!-- raw_47&#45;&gt;leaf_51 -->
<g id="edge51" class="edge">
<title>raw_47&#45;&gt;leaf_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2158.5928,-1603.7498C2162.6939,-1477.3754 2186.8385,-733.3663 2192.0208,-573.675"/>
<polygon fill="#000000" stroke="#000000" points="2195.5343,-573.3118 2192.3606,-563.2035 2188.538,-573.0847 2195.5343,-573.3118"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="2630.5,-563.4029 2453.5,-563.4029 2453.5,-523.5988 2630.5,-523.5988 2630.5,-563.4029"/>
<text text-anchor="middle" x="2542" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">This prelude belongs in</text>
</g>
<!-- raw_52&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>raw_52&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2552.8137,-1603.7498C2551.5248,-1477.3754 2543.9365,-733.3663 2542.3078,-573.675"/>
<polygon fill="#000000" stroke="#000000" points="2545.8029,-573.1673 2542.201,-563.2035 2538.8032,-573.2387 2545.8029,-573.1673"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="2703,-561.5009 2649,-561.5009 2649,-525.5009 2703,-525.5009 2703,-561.5009"/>
<text text-anchor="middle" x="2676" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_53&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>prespace_53&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2658.3049,-1603.7498C2660.423,-1476.8348 2672.9377,-726.9892 2675.5301,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="2679.0318,-571.575 2675.6993,-561.5179 2672.0328,-571.4581 2679.0318,-571.575"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="2775,-561.5009 2721,-561.5009 2721,-525.5009 2775,-525.5009 2775,-561.5009"/>
<text text-anchor="middle" x="2748" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">pylon</text>
</g>
<!-- literal_54&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>literal_54&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2753.8984,-1603.7498C2753.1923,-1476.8348 2749.0208,-726.9892 2748.1566,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="2751.6559,-571.4983 2748.1002,-561.5179 2744.656,-571.5373 2751.6559,-571.4983"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="2872.5,-561.5009 2793.5,-561.5009 2793.5,-525.5009 2872.5,-525.5009 2872.5,-561.5009"/>
<text text-anchor="middle" x="2833" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">; it, and</text>
</g>
<!-- raw_55&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>raw_55&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2830.0508,-1603.7498C2830.4038,-1476.8348 2832.4896,-726.9892 2832.9217,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="2836.422,-571.5277 2832.9499,-561.5179 2829.422,-571.5081 2836.422,-571.5277"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="2945,-561.5009 2891,-561.5009 2891,-525.5009 2945,-525.5009 2945,-561.5009"/>
<text text-anchor="middle" x="2918" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_56&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>prespace_56&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2920.9492,-1603.7498C2920.5962,-1476.8348 2918.5104,-726.9892 2918.0783,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="2921.578,-571.5081 2918.0501,-561.5179 2914.578,-571.5277 2921.578,-571.5081"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="3017,-561.5009 2963,-561.5009 2963,-525.5009 3017,-525.5009 3017,-561.5009"/>
<text text-anchor="middle" x="2990" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">core</text>
</g>
<!-- literal_57&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>literal_57&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3016.5427,-1603.7498C3013.3655,-1476.8348 2994.5935,-726.9892 2990.7049,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="2994.2003,-571.4272 2990.451,-561.5179 2987.2025,-571.6024 2994.2003,-571.4272"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="3268.5,-561.5009 3035.5,-561.5009 3035.5,-525.5009 3268.5,-525.5009 3268.5,-561.5009"/>
<text text-anchor="middle" x="3152" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">, will eventually end up there.</text>
</g>
<!-- raw_58&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>raw_58&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3136.271,-1603.7498C3138.1538,-1476.8348 3149.2779,-726.9892 3151.5823,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="3155.0839,-571.5688 3151.7327,-561.5179 3148.0847,-571.4649 3155.0839,-571.5688"/>
</g>
<!-- leaf_68 -->
<g id="node69" class="node">
<title>leaf_68</title>
<polygon fill="none" stroke="#c0c0c0" points="3561.5,-563.4029 3286.5,-563.4029 3286.5,-523.5988 3561.5,-523.5988 3561.5,-563.4029"/>
<text text-anchor="middle" x="3424" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">Primitives for terminal manipulation.</text>
</g>
<!-- raw_67&#45;&gt;leaf_68 -->
<g id="edge68" class="edge">
<title>raw_67&#45;&gt;leaf_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3659.0581,-1604.0273C3675.6213,-1526.1856 3731.9813,-1212.7596 3618,-1000.8016 3605.3702,-977.3155 3585.7201,-986.342 3570,-964.8016 3477.1394,-837.5598 3439.6565,-646.405 3428.187,-573.343"/>
<polygon fill="#000000" stroke="#000000" points="3431.645,-572.8014 3426.6801,-563.4419 3424.7247,-573.8547 3431.645,-572.8014"/>
</g>
<!-- leaf_73 -->
<g id="node74" class="node">
<title>leaf_73</title>
<polygon fill="none" stroke="#c0c0c0" points="3784.5,-563.4029 3579.5,-563.4029 3579.5,-523.5988 3784.5,-523.5988 3784.5,-563.4029"/>
<text text-anchor="middle" x="3682" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">Arguably don&#39;t belong here.</text>
</g>
<!-- raw_69&#45;&gt;leaf_73 -->
<g id="edge73" class="edge">
<title>raw_69&#45;&gt;leaf_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3726.2378,-1603.7498C3720.9597,-1477.2491 3689.8598,-731.8777 3683.2391,-573.1977"/>
<polygon fill="#000000" stroke="#000000" points="3686.736,-573.0489 3682.8221,-563.2035 3679.7421,-573.3408 3686.736,-573.0489"/>
</g>
<!-- leaf_74 -->
<g id="node75" class="node">
<title>leaf_74</title>
<polygon fill="none" stroke="#c0c0c0" points="3857,-561.5009 3803,-561.5009 3803,-525.5009 3857,-525.5009 3857,-561.5009"/>
<text text-anchor="middle" x="3830" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_70&#45;&gt;leaf_74 -->
<g id="edge74" class="edge">
<title>prespace_70&#45;&gt;leaf_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3818.2032,-1603.7498C3819.6154,-1476.8348 3827.9584,-726.9892 3829.6867,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="3833.188,-571.5563 3829.7995,-561.5179 3826.1884,-571.4783 3833.188,-571.5563"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="3929,-561.5009 3875,-561.5009 3875,-525.5009 3929,-525.5009 3929,-561.5009"/>
<text text-anchor="middle" x="3902" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">watch</text>
</g>
<!-- literal_71&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>literal_71&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3913.7968,-1603.7498C3912.3846,-1476.8348 3904.0416,-726.9892 3902.3133,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="3905.8116,-571.4783 3902.2005,-561.5179 3898.812,-571.5563 3905.8116,-571.4783"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="4243,-562.8014 3947,-562.8014 3947,-524.2003 4243,-524.2003 4243,-562.8014"/>
<text text-anchor="middle" x="4095" y="-547.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> is unused at present, it will be useful</text>
<text text-anchor="middle" x="4095" y="-532.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">in Orb relatively soon.</text>
</g>
<!-- raw_72&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>raw_72&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3990.4407,-1603.9264C3992.3853,-1529.3535 4001.2295,-1238.5328 4026,-1000.8016 4042.8978,-838.6282 4076.4061,-645.9834 4089.5388,-573.261"/>
<polygon fill="#000000" stroke="#000000" points="4093.0535,-573.4941 4091.3952,-563.0298 4086.166,-572.2443 4093.0535,-573.4941"/>
</g>
<!-- leaf_82 -->
<g id="node83" class="node">
<title>leaf_82</title>
<polygon fill="none" stroke="#c0c0c0" points="4417,-563.4029 4261,-563.4029 4261,-523.5988 4417,-523.5988 4417,-563.4029"/>
<text text-anchor="middle" x="4339" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">This is all from the</text>
</g>
<!-- raw_78&#45;&gt;leaf_82 -->
<g id="edge82" class="edge">
<title>raw_78&#45;&gt;leaf_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4286.8977,-1603.7498C4293.1141,-1477.2491 4329.7429,-731.8777 4337.5407,-573.1977"/>
<polygon fill="#000000" stroke="#000000" points="4341.0366,-573.3633 4338.0318,-563.2035 4334.0451,-573.0196 4341.0366,-573.3633"/>
</g>
<!-- leaf_83 -->
<g id="node84" class="node">
<title>leaf_83</title>
<polygon fill="none" stroke="#c0c0c0" points="4489,-561.5009 4435,-561.5009 4435,-525.5009 4489,-525.5009 4489,-561.5009"/>
<text text-anchor="middle" x="4462" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_79&#45;&gt;leaf_83 -->
<g id="edge83" class="edge">
<title>prespace_79&#45;&gt;leaf_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4378.4397,-1603.7498C4388.4421,-1476.8348 4447.5389,-726.9892 4459.7809,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="4463.2834,-571.762 4460.58,-561.5179 4456.3051,-571.212 4463.2834,-571.762"/>
</g>
<!-- leaf_84 -->
<g id="node85" class="node">
<title>leaf_84</title>
<polygon fill="none" stroke="#c0c0c0" points="4561,-561.5009 4507,-561.5009 4507,-525.5009 4561,-525.5009 4561,-561.5009"/>
<text text-anchor="middle" x="4534" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">luv</text>
</g>
<!-- literal_80&#45;&gt;leaf_84 -->
<g id="edge84" class="edge">
<title>literal_80&#45;&gt;leaf_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4474.0332,-1603.7498C4481.2114,-1476.8348 4523.622,-726.9892 4532.4075,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="4535.9106,-571.6996 4532.981,-561.5179 4528.9218,-571.3043 4535.9106,-571.6996"/>
</g>
<!-- leaf_85 -->
<g id="node86" class="node">
<title>leaf_85</title>
<polygon fill="none" stroke="#c0c0c0" points="4959,-562.8014 4579,-562.8014 4579,-524.2003 4959,-524.2003 4959,-562.8014"/>
<text text-anchor="middle" x="4769" y="-547.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> repl example, which has been an excellent launching</text>
<text text-anchor="middle" x="4769" y="-532.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">off point. &#160;Thanks Tim Caswell!</text>
</g>
<!-- raw_81&#45;&gt;leaf_85 -->
<g id="edge85" class="edge">
<title>raw_81&#45;&gt;leaf_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4547.9373,-1603.9337C4543.961,-1528.8006 4532.7304,-1234.3113 4585,-1000.8016 4623.0285,-830.9128 4716.8096,-642.2553 4753.721,-571.9392"/>
<polygon fill="#000000" stroke="#000000" points="4756.9637,-573.2938 4758.5402,-562.8169 4750.7743,-570.024 4756.9637,-573.2938"/>
</g>
<!-- leaf_87 -->
<g id="node88" class="node">
<title>leaf_87</title>
<polygon fill="none" stroke="#c0c0c0" points="5238.5,-563.4029 4977.5,-563.4029 4977.5,-523.5988 5238.5,-523.5988 5238.5,-563.4029"/>
<text text-anchor="middle" x="5108" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">It&#39;s getting phased out bit by bit.</text>
</g>
<!-- raw_86&#45;&gt;leaf_87 -->
<g id="edge87" class="edge">
<title>raw_86&#45;&gt;leaf_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4619.1023,-1603.9555C4609.7849,-1511.2929 4572.6345,-1090.1504 4657,-1000.8016 4704.7644,-950.216 4914.0165,-1008.6893 4968,-964.8016 5091.3758,-864.4992 5106.8221,-652.2652 5108.1693,-573.6346"/>
<polygon fill="#000000" stroke="#000000" points="5111.6709,-573.4877 5108.2755,-563.4517 5104.6713,-573.4146 5111.6709,-573.4877"/>
</g>
<!-- leaf_90 -->
<g id="node91" class="node">
<title>leaf_90</title>
<polygon fill="none" stroke="#c0c0c0" points="5357,-563.4029 5257,-563.4029 5257,-523.5988 5357,-523.5988 5357,-563.4029"/>
<text text-anchor="middle" x="5307" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">Modeselektor</text>
</g>
<!-- raw_89&#45;&gt;leaf_90 -->
<g id="edge90" class="edge">
<title>raw_89&#45;&gt;leaf_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5069.3091,-1603.8583C5061.114,-1511.6114 5029.0075,-1095.5895 5107,-1000.8016 5147.8207,-951.1904 5204.1423,-1012.6642 5247,-964.8016 5347.9945,-852.013 5325.7474,-649.8401 5312.8491,-573.6535"/>
<polygon fill="#000000" stroke="#000000" points="5316.2158,-572.5914 5311.0297,-563.3526 5309.3225,-573.809 5316.2158,-572.5914"/>
</g>
<!-- leaf_98 -->
<g id="node99" class="node">
<title>leaf_98</title>
<polygon fill="none" stroke="#c0c0c0" points="6502.5,-1640.017 6423.5,-1640.017 6423.5,-1604.017 6502.5,-1604.017 6502.5,-1640.017"/>
<text text-anchor="middle" x="6463" y="-1618.517" font-family="Inconsolata" font-size="14.00" fill="#000000">** Reader</text>
</g>
<!-- header_94&#45;&gt;leaf_98 -->
<g id="edge98" class="edge">
<title>header_94&#45;&gt;leaf_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6499.0103,-2279.172C6493.9281,-2186.4252 6470.76,-1763.6292 6464.5405,-1650.13"/>
<polygon fill="#000000" stroke="#000000" points="6468.0347,-1649.9267 6463.9927,-1640.1332 6461.0452,-1650.3098 6468.0347,-1649.9267"/>
</g>
<!-- raw_99 -->
<g id="node100" class="node">
<title>raw_99</title>
<ellipse fill="none" stroke="#000000" cx="6548" cy="-1622.017" rx="27" ry="18"/>
<text text-anchor="middle" x="6548" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_95&#45;&gt;raw_99 -->
<g id="edge99" class="edge">
<title>prose_95&#45;&gt;raw_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6657.0906,-2290.2148C6632.9576,-2282.8475 6600.4171,-2268.6823 6584,-2243.2323 6519.7405,-2143.6163 6539.2001,-1758.2514 6546.0637,-1650.2797"/>
<polygon fill="#000000" stroke="#000000" points="6549.5655,-1650.3659 6546.7224,-1640.1596 6542.5802,-1649.9112 6549.5655,-1650.3659"/>
</g>
<!-- prespace_100 -->
<g id="node101" class="node">
<title>prespace_100</title>
<ellipse fill="none" stroke="#000000" cx="6639" cy="-1622.017" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6639" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_95&#45;&gt;prespace_100 -->
<g id="edge100" class="edge">
<title>prose_95&#45;&gt;prespace_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6685.7161,-2279.172C6679.1229,-2186.4252 6649.067,-1763.6292 6640.9985,-1650.13"/>
<polygon fill="#000000" stroke="#000000" points="6644.4882,-1649.8598 6640.2879,-1640.1332 6637.5059,-1650.3563 6644.4882,-1649.8598"/>
</g>
<!-- literal_101 -->
<g id="node102" class="node">
<title>literal_101</title>
<ellipse fill="none" stroke="#000000" cx="6735" cy="-1622.017" rx="31.481" ry="18"/>
<text text-anchor="middle" x="6735" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_95&#45;&gt;literal_101 -->
<g id="edge101" class="edge">
<title>prose_95&#45;&gt;literal_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6689.6174,-2279.2646C6691.0732,-2268.7754 6692.8232,-2255.2754 6694,-2243.2323 6716.303,-2014.9908 6729.8001,-1738.3582 6733.7676,-1650.3334"/>
<polygon fill="#000000" stroke="#000000" points="6737.2752,-1650.2386 6734.2243,-1640.0926 6730.2821,-1649.9267 6737.2752,-1650.2386"/>
</g>
<!-- raw_102 -->
<g id="node103" class="node">
<title>raw_102</title>
<ellipse fill="none" stroke="#000000" cx="6887" cy="-1622.017" rx="27" ry="18"/>
<text text-anchor="middle" x="6887" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_95&#45;&gt;raw_102 -->
<g id="edge102" class="edge">
<title>prose_95&#45;&gt;raw_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6714.4315,-2287.5064C6734.4149,-2278.9665 6760.4385,-2264.5446 6775,-2243.2323 6907.7644,-2048.9182 6896.6004,-1743.4703 6889.5549,-1650.0744"/>
<polygon fill="#000000" stroke="#000000" points="6893.0351,-1649.686 6888.7466,-1639.998 6886.0575,-1650.2458 6893.0351,-1649.686"/>
</g>
<!-- header_107 -->
<g id="node108" class="node">
<title>header_107</title>
<ellipse fill="none" stroke="#000000" cx="7193" cy="-1622.017" rx="48.4031" ry="18"/>
<text text-anchor="middle" x="7193" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : keybuf</text>
</g>
<!-- section_96&#45;&gt;header_107 -->
<g id="edge107" class="edge">
<title>section_96&#45;&gt;header_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7294.9593,-2281.4276C7278.6636,-2272.6418 7261.0913,-2260.0379 7251,-2243.2323 7131.3864,-2044.0344 7171.5033,-1742.5006 7187.6502,-1649.9869"/>
<polygon fill="#000000" stroke="#000000" points="7191.1208,-1650.4616 7189.444,-1640.0003 7184.2311,-1649.2239 7191.1208,-1650.4616"/>
</g>
<!-- prose_108 -->
<g id="node109" class="node">
<title>prose_108</title>
<ellipse fill="none" stroke="#000000" cx="7292" cy="-1622.017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7292" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_96&#45;&gt;prose_108 -->
<g id="edge108" class="edge">
<title>section_96&#45;&gt;prose_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7331.9033,-2279.172C7326.2716,-2186.4252 7300.5989,-1763.6292 7293.7071,-1650.13"/>
<polygon fill="#000000" stroke="#000000" points="7297.1998,-1649.9027 7293.1,-1640.1332 7290.2127,-1650.327 7297.1998,-1649.9027"/>
</g>
<!-- prose_109 -->
<g id="node110" class="node">
<title>prose_109</title>
<ellipse fill="none" stroke="#000000" cx="7374" cy="-1622.017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7374" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_96&#45;&gt;prose_109 -->
<g id="edge109" class="edge">
<title>section_96&#45;&gt;prose_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7334.0967,-2279.172C7339.7284,-2186.4252 7365.4011,-1763.6292 7372.2929,-1650.13"/>
<polygon fill="#000000" stroke="#000000" points="7375.7873,-1650.327 7372.9,-1640.1332 7368.8002,-1649.9027 7375.7873,-1650.327"/>
</g>
<!-- prose_110 -->
<g id="node111" class="node">
<title>prose_110</title>
<ellipse fill="none" stroke="#000000" cx="7524" cy="-1622.017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7524" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_96&#45;&gt;prose_110 -->
<g id="edge110" class="edge">
<title>section_96&#45;&gt;prose_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7370.0105,-2281.2756C7386.2922,-2272.3971 7404.1462,-2259.7602 7415,-2243.2323 7543.9296,-2046.902 7533.324,-1743.4302 7526.499,-1650.2129"/>
<polygon fill="#000000" stroke="#000000" points="7529.9811,-1649.8468 7525.7149,-1640.1489 7523.0023,-1650.3905 7529.9811,-1649.8468"/>
</g>
<!-- codeblock_111 -->
<g id="node112" class="node">
<title>codeblock_111</title>
<ellipse fill="none" stroke="#000000" cx="7793" cy="-1622.017" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7793" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 214&#45;222</text>
</g>
<!-- section_96&#45;&gt;codeblock_111 -->
<g id="edge111" class="edge">
<title>section_96&#45;&gt;codeblock_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7399.9099,-2288.8136C7459.4492,-2280.0729 7540.7543,-2264.6637 7565,-2243.2323 7751.2617,-2078.5911 7785.5422,-1748.4383 7791.6914,-1650.2087"/>
<polygon fill="#000000" stroke="#000000" points="7795.1892,-1650.3453 7792.2709,-1640.1603 7788.2008,-1649.9422 7795.1892,-1650.3453"/>
</g>
<!-- header_126 -->
<g id="node127" class="node">
<title>header_126</title>
<ellipse fill="none" stroke="#000000" cx="8217" cy="-1622.017" rx="111.2326" ry="18"/>
<text text-anchor="middle" x="8217" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : process_escapes(seq)</text>
</g>
<!-- section_97&#45;&gt;header_126 -->
<g id="edge126" class="edge">
<title>section_97&#45;&gt;header_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8362.2959,-2279.5931C8353.7693,-2269.6403 8343.9635,-2256.5546 8338,-2243.2323 8242.2323,-2029.2909 8222.0498,-1740.5313 8217.9824,-1650.2107"/>
<polygon fill="#000000" stroke="#000000" points="8221.4785,-1650.0425 8217.5623,-1640.198 8214.4847,-1650.336 8221.4785,-1650.0425"/>
</g>
<!-- prose_127 -->
<g id="node128" class="node">
<title>prose_127</title>
<ellipse fill="none" stroke="#000000" cx="8379" cy="-1622.017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8379" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_97&#45;&gt;prose_127 -->
<g id="edge127" class="edge">
<title>section_97&#45;&gt;prose_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8379,-2279.172C8379,-2186.5187 8379,-1764.4813 8379,-1650.4742"/>
<polygon fill="#000000" stroke="#000000" points="8382.5001,-1650.1332 8379,-1640.1332 8375.5001,-1650.1333 8382.5001,-1650.1332"/>
</g>
<!-- codeblock_128 -->
<g id="node129" class="node">
<title>codeblock_128</title>
<ellipse fill="none" stroke="#000000" cx="8597" cy="-1622.017" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="8597" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 227&#45;282</text>
</g>
<!-- section_97&#45;&gt;codeblock_128 -->
<g id="edge128" class="edge">
<title>section_97&#45;&gt;codeblock_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8395.2559,-2279.3808C8403.6512,-2269.366 8413.4745,-2256.2885 8420,-2243.2323 8526.9526,-2029.2404 8578.5659,-1740.5145 8592.8008,-1650.2064"/>
<polygon fill="#000000" stroke="#000000" points="8596.2794,-1650.6134 8594.3527,-1640.1953 8589.362,-1649.5411 8596.2794,-1650.6134"/>
</g>
<!-- codeblock_129 -->
<g id="node130" class="node">
<title>codeblock_129</title>
<ellipse fill="none" stroke="#000000" cx="8960" cy="-1622.017" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="8960" y="-1617.817" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 284&#45;317</text>
</g>
<!-- section_97&#45;&gt;codeblock_129 -->
<g id="edge129" class="edge">
<title>section_97&#45;&gt;codeblock_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8452.2279,-2292.6451C8533.0537,-2286.222 8656.5654,-2271.955 8693,-2243.2323 8892.7064,-2085.7971 8945.6166,-1749.9756 8957.1675,-1650.4057"/>
<polygon fill="#000000" stroke="#000000" points="8960.6728,-1650.5509 8958.2978,-1640.2258 8953.7156,-1649.7785 8960.6728,-1650.5509"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="6555,-571.4023 6273,-571.4023 6273,-515.5994 6555,-515.5994 6555,-571.4023"/>
<text text-anchor="middle" x="6414" y="-524.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">The reader takes a stream of data from</text>
</g>
<!-- raw_99&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>raw_99&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6547.9085,-1603.8798C6547.3232,-1529.1251 6542.9957,-1237.6914 6511,-1000.8016 6489.7134,-843.2001 6444.1821,-658.9366 6423.9934,-581.1653"/>
<polygon fill="#000000" stroke="#000000" points="6427.3429,-580.1387 6421.4319,-571.346 6420.5695,-581.9057 6427.3429,-580.1387"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="6627,-561.5009 6573,-561.5009 6573,-525.5009 6627,-525.5009 6627,-561.5009"/>
<text text-anchor="middle" x="6600" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_100&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>prespace_100&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6638.3394,-1603.7498C6633.7501,-1476.8348 6606.6351,-726.9892 6601.0182,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="6604.5107,-571.3849 6600.6515,-561.5179 6597.5153,-571.6379 6604.5107,-571.3849"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="6699,-561.5009 6645,-561.5009 6645,-525.5009 6699,-525.5009 6699,-561.5009"/>
<text text-anchor="middle" x="6672" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">stdin</text>
</g>
<!-- literal_101&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>literal_101&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6733.933,-1603.7498C6726.5194,-1476.8348 6682.7182,-726.9892 6673.6447,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="6677.1297,-571.2968 6673.0524,-561.5179 6670.1416,-571.705 6677.1297,-571.2968"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="7132.5,-570.8013 6717.5,-570.8013 6717.5,-516.2004 7132.5,-516.2004 7132.5,-570.8013"/>
<text text-anchor="middle" x="6925" y="-555.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">, asynchronously, and</text>
<text text-anchor="middle" x="6925" y="-540.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">processes it into tokens, which stream to the recognizer.</text>
</g>
<!-- raw_102&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>raw_102&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6887.6436,-1603.7498C6892.0308,-1479.2331 6917.5444,-755.1067 6923.6755,-581.0923"/>
<polygon fill="#000000" stroke="#000000" points="6927.1804,-581.0133 6924.0348,-570.8962 6920.1847,-580.7668 6927.1804,-581.0133"/>
</g>
<!-- leaf_112 -->
<g id="node113" class="node">
<title>leaf_112</title>
<polygon fill="none" stroke="#c0c0c0" points="7243.5,-561.5009 7150.5,-561.5009 7150.5,-525.5009 7243.5,-525.5009 7243.5,-561.5009"/>
<text text-anchor="middle" x="7197" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">**** keybuf</text>
</g>
<!-- header_107&#45;&gt;leaf_112 -->
<g id="edge112" class="edge">
<title>header_107&#45;&gt;leaf_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7193.0677,-1603.7498C7193.5385,-1476.8348 7196.3195,-726.9892 7196.8956,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="7200.396,-571.5309 7196.9332,-561.5179 7193.396,-571.5048 7200.396,-571.5309"/>
</g>
<!-- raw_113 -->
<g id="node114" class="node">
<title>raw_113</title>
<ellipse fill="none" stroke="#000000" cx="7289" cy="-543.5009" rx="27" ry="18"/>
<text text-anchor="middle" x="7289" y="-539.3009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_108&#45;&gt;raw_113 -->
<g id="edge113" class="edge">
<title>prose_108&#45;&gt;raw_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7291.9492,-1603.7498C7291.5962,-1476.8348 7289.5104,-726.9892 7289.0783,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="7292.578,-571.5081 7289.0501,-561.5179 7285.578,-571.5277 7292.578,-571.5081"/>
</g>
<!-- raw_115 -->
<g id="node116" class="node">
<title>raw_115</title>
<ellipse fill="none" stroke="#000000" cx="7361" cy="-543.5009" rx="27" ry="18"/>
<text text-anchor="middle" x="7361" y="-539.3009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_109&#45;&gt;raw_115 -->
<g id="edge115" class="edge">
<title>prose_109&#45;&gt;raw_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7373.7798,-1603.7498C7372.25,-1476.8348 7363.2117,-726.9892 7361.3394,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="7364.8375,-571.475 7361.2172,-561.5179 7357.838,-571.5594 7364.8375,-571.475"/>
</g>
<!-- raw_117 -->
<g id="node118" class="node">
<title>raw_117</title>
<ellipse fill="none" stroke="#000000" cx="7433" cy="-543.5009" rx="27" ry="18"/>
<text text-anchor="middle" x="7433" y="-539.3009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_110&#45;&gt;raw_117 -->
<g id="edge117" class="edge">
<title>prose_110&#45;&gt;raw_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7522.4587,-1603.7498C7511.7502,-1476.8348 7448.4819,-726.9892 7435.3757,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="7438.8487,-571.1882 7434.5202,-561.5179 7431.8734,-571.7768 7438.8487,-571.1882"/>
</g>
<!-- prespace_118 -->
<g id="node119" class="node">
<title>prespace_118</title>
<ellipse fill="none" stroke="#000000" cx="7524" cy="-543.5009" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="7524" y="-539.3009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_110&#45;&gt;prespace_118 -->
<g id="edge118" class="edge">
<title>prose_110&#45;&gt;prespace_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7524,-1603.7498C7524,-1476.8348 7524,-726.9892 7524,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="7527.5001,-571.5179 7524,-561.5179 7520.5001,-571.518 7527.5001,-571.5179"/>
</g>
<!-- literal_119 -->
<g id="node120" class="node">
<title>literal_119</title>
<ellipse fill="none" stroke="#000000" cx="7620" cy="-543.5009" rx="31.481" ry="18"/>
<text text-anchor="middle" x="7620" y="-539.3009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_110&#45;&gt;literal_119 -->
<g id="edge119" class="edge">
<title>prose_110&#45;&gt;literal_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7525.626,-1603.7498C7536.9228,-1476.8348 7603.6675,-726.9892 7617.4937,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="7620.9958,-571.7889 7618.3963,-561.5179 7614.0234,-571.1682 7620.9958,-571.7889"/>
</g>
<!-- raw_120 -->
<g id="node121" class="node">
<title>raw_120</title>
<ellipse fill="none" stroke="#000000" cx="7696" cy="-543.5009" rx="27" ry="18"/>
<text text-anchor="middle" x="7696" y="-539.3009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_110&#45;&gt;raw_120 -->
<g id="edge120" class="edge">
<title>prose_110&#45;&gt;raw_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7528.5217,-1604.1219C7547.6534,-1527.7179 7622.6725,-1221.0568 7660,-964.8016 7681.4001,-817.8887 7691.4557,-640.1626 7694.7353,-571.9979"/>
<polygon fill="#000000" stroke="#000000" points="7698.2479,-571.8098 7695.2208,-561.6566 7691.2556,-571.4814 7698.2479,-571.8098"/>
</g>
<!-- leaf_125 -->
<g id="node126" class="node">
<title>leaf_125</title>
<polygon fill="none" stroke="#c0c0c0" points="8107,-594.1018 7741,-594.1018 7741,-492.8999 8107,-492.8999 8107,-594.1018"/>
<text text-anchor="middle" x="7924" y="-579.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">local keybuf = {}</text>
<text text-anchor="middle" x="7924" y="-563.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">local sub, byte = string.sub, string.byte</text>
<text text-anchor="middle" x="7924" y="-548.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">local concat = table.concat</text>
<text text-anchor="middle" x="7924" y="-500.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">local max_row, mac_col = uv.tty_get_winsize(stdin)</text>
</g>
<!-- codeblock_111&#45;&gt;leaf_125 -->
<g id="edge125" class="edge">
<title>codeblock_111&#45;&gt;leaf_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7795.2188,-1603.7498C7809.742,-1484.1808 7891.4229,-811.7062 7916.6067,-604.3692"/>
<polygon fill="#000000" stroke="#000000" points="7920.1019,-604.6202 7917.8333,-594.2711 7913.153,-603.7761 7920.1019,-604.6202"/>
</g>
<!-- leaf_114 -->
<g id="node115" class="node">
<title>leaf_114</title>
<polygon fill="none" stroke="#c0c0c0" points="6486,-78.4004 5980,-78.4004 5980,-7.7997 6486,-7.7997 6486,-78.4004"/>
<text text-anchor="middle" x="6233" y="-31.3001" font-family="Inconsolata" font-size="14.00" fill="#000000"> Currently the keybuf is a simple array that holds bytes until we have</text>
<text text-anchor="middle" x="6233" y="-15.9" font-family="Inconsolata" font-size="14.00" fill="#000000">enough for the lexer.</text>
</g>
<!-- raw_113&#45;&gt;leaf_114 -->
<g id="edge114" class="edge">
<title>raw_113&#45;&gt;leaf_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7294.4262,-525.7383C7313.0985,-460.6311 7367.4278,-233.092 7252,-122.2001 7221.638,-93.0312 6536.87,-90.6246 6495,-86.2001 6478.1387,-84.4183 6460.714,-82.2588 6443.236,-79.8669"/>
<polygon fill="#000000" stroke="#000000" points="6443.3302,-76.3463 6432.9429,-78.4329 6442.3642,-83.2794 6443.3302,-76.3463"/>
</g>
<!-- leaf_116 -->
<g id="node117" class="node">
<title>leaf_116</title>
<polygon fill="none" stroke="#c0c0c0" points="7059.5,-70.4005 6504.5,-70.4005 6504.5,-15.7996 7059.5,-15.7996 7059.5,-70.4005"/>
<text text-anchor="middle" x="6782" y="-39.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">It is cleared and reused, to avoid a glut of allocations and allow the tracer</text>
<text text-anchor="middle" x="6782" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">to follow it.</text>
</g>
<!-- raw_115&#45;&gt;leaf_116 -->
<g id="edge116" class="edge">
<title>raw_115&#45;&gt;leaf_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7366.2513,-525.647C7384.007,-461.1805 7434.7839,-238.1324 7325,-122.2001 7285.4989,-80.4867 7125.8509,-94.466 7069,-86.2001 7037.7084,-81.6504 7004.511,-76.7412 6972.2227,-71.9222"/>
<polygon fill="#000000" stroke="#000000" points="6972.642,-68.4461 6962.2345,-70.43 6971.6076,-75.3692 6972.642,-68.4461"/>
</g>
<!-- leaf_121 -->
<g id="node122" class="node">
<title>leaf_121</title>
<polygon fill="none" stroke="#c0c0c0" points="7598,-63.0021 7078,-63.0021 7078,-23.198 7598,-23.198 7598,-63.0021"/>
<text text-anchor="middle" x="7338" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Soon I&#39;ll move the remaining local state into an instance table, to make</text>
</g>
<!-- raw_117&#45;&gt;leaf_121 -->
<g id="edge121" class="edge">
<title>raw_117&#45;&gt;leaf_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7434.8772,-525.4807C7440.4044,-465.7033 7452.9198,-269.3985 7397,-122.2001 7389.8288,-103.3233 7376.754,-85.0609 7364.732,-70.8488"/>
<polygon fill="#000000" stroke="#000000" points="7367.0524,-68.1863 7357.8279,-62.9749 7361.7892,-72.8013 7367.0524,-68.1863"/>
</g>
<!-- leaf_122 -->
<g id="node123" class="node">
<title>leaf_122</title>
<polygon fill="none" stroke="#c0c0c0" points="7670,-61.1 7616,-61.1 7616,-25.1 7670,-25.1 7670,-61.1"/>
</g>
<!-- prespace_118&#45;&gt;leaf_122 -->
<g id="edge122" class="edge">
<title>prespace_118&#45;&gt;leaf_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7523.0516,-525.3571C7520.5903,-465.195 7518.0223,-267.8309 7580,-122.2001 7582.5946,-116.1035 7604.0365,-89.6912 7621.1953,-69.0432"/>
<polygon fill="#000000" stroke="#000000" points="7624.031,-71.1077 7627.748,-61.1863 7618.6552,-66.6243 7624.031,-71.1077"/>
</g>
<!-- leaf_123 -->
<g id="node124" class="node">
<title>leaf_123</title>
<polygon fill="none" stroke="#c0c0c0" points="7742,-61.1 7688,-61.1 7688,-25.1 7742,-25.1 7742,-61.1"/>
<text text-anchor="middle" x="7715" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">femto</text>
</g>
<!-- literal_119&#45;&gt;leaf_123 -->
<g id="edge123" class="edge">
<title>literal_119&#45;&gt;leaf_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7618.5099,-525.1235C7614.3037,-465.0446 7605.9212,-269.8361 7660,-122.2001 7667.0694,-102.9006 7680.0246,-83.9036 7691.5862,-69.3654"/>
<polygon fill="#000000" stroke="#000000" points="7694.5279,-71.2987 7698.1775,-61.3523 7689.1218,-66.8519 7694.5279,-71.2987"/>
</g>
<!-- leaf_124 -->
<g id="node125" class="node">
<title>leaf_124</title>
<polygon fill="none" stroke="#c0c0c0" points="7860,-61.1 7760,-61.1 7760,-25.1 7860,-25.1 7860,-61.1"/>
<text text-anchor="middle" x="7810" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> re&#45;entrant.</text>
</g>
<!-- raw_120&#45;&gt;leaf_124 -->
<g id="edge124" class="edge">
<title>raw_120&#45;&gt;leaf_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7693.3915,-525.5733C7685.4495,-465.2734 7665.9446,-265.5417 7732,-122.2001 7741.8501,-100.8252 7760.0332,-81.8547 7776.3667,-67.8533"/>
<polygon fill="#000000" stroke="#000000" points="7778.7104,-70.457 7784.1917,-61.3903 7774.2527,-65.0599 7778.7104,-70.457"/>
</g>
<!-- leaf_130 -->
<g id="node131" class="node">
<title>leaf_130</title>
<polygon fill="none" stroke="#c0c0c0" points="8309,-561.5009 8125,-561.5009 8125,-525.5009 8309,-525.5009 8309,-561.5009"/>
<text text-anchor="middle" x="8217" y="-540.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">*** process_escapes(seq)</text>
</g>
<!-- header_126&#45;&gt;leaf_130 -->
<g id="edge130" class="edge">
<title>header_126&#45;&gt;leaf_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8217,-1603.7498C8217,-1476.8348 8217,-726.9892 8217,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="8220.5001,-571.5179 8217,-561.5179 8213.5001,-571.518 8220.5001,-571.5179"/>
</g>
<!-- raw_131 -->
<g id="node132" class="node">
<title>raw_131</title>
<ellipse fill="none" stroke="#000000" cx="8354" cy="-543.5009" rx="27" ry="18"/>
<text text-anchor="middle" x="8354" y="-539.3009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_127&#45;&gt;raw_131 -->
<g id="edge131" class="edge">
<title>prose_127&#45;&gt;raw_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8378.5766,-1603.7498C8375.6347,-1476.8348 8358.2533,-726.9892 8354.6527,-571.6576"/>
<polygon fill="#000000" stroke="#000000" points="8358.1485,-571.4341 8354.4176,-561.5179 8351.1504,-571.5964 8358.1485,-571.4341"/>
</g>
<!-- leaf_133 -->
<g id="node134" class="node">
<title>leaf_133</title>
<polygon fill="none" stroke="#c0c0c0" points="8954.5,-964.6025 8399.5,-964.6025 8399.5,-122.3992 8954.5,-122.3992 8954.5,-964.6025"/>
<text text-anchor="middle" x="8677" y="-917.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">local m_parse, is_mouse = a.mouse.parse_fast, a.mouse.ismousemove</text>
<text text-anchor="middle" x="8677" y="-902.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">local navigation, is_nav = a.navigation, a.is_nav</text>
<text text-anchor="middle" x="8677" y="-870.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">local function process_escapes(seq)</text>
<text text-anchor="middle" x="8677" y="-855.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if is_nav(seq) then</text>
<text text-anchor="middle" x="8677" y="-840.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NAV&quot;, navigation[seq] )</text>
<text text-anchor="middle" x="8677" y="-824.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif #seq == 1 then</text>
<text text-anchor="middle" x="8677" y="-809.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;modeS(&quot;NAV&quot;, &quot;ESC&quot;) &#45;&#45; I think of escape as navigation in modal systems</text>
<text text-anchor="middle" x="8677" y="-793.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8677" y="-778.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if is_mouse(seq) then</text>
<text text-anchor="middle" x="8677" y="-763.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local m = m_parse(seq)</text>
<text text-anchor="middle" x="8677" y="-747.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;MOUSE&quot;, m)</text>
<text text-anchor="middle" x="8677" y="-732.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif #seq == 2 and byte(sub(seq,2,2)) &lt; 128 then</text>
<text text-anchor="middle" x="8677" y="-716.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; Meta</text>
<text text-anchor="middle" x="8677" y="-701.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local key = &quot;M&#45;&quot; .. sub(seq,2,2)</text>
<text text-anchor="middle" x="8677" y="-686.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;ALT&quot;, key)</text>
<text text-anchor="middle" x="8677" y="-670.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8677" y="-655.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NYI&quot;, seq)</text>
<text text-anchor="middle" x="8677" y="-639.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8677" y="-624.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="8677" y="-593.001" font-family="Inconsolata" font-size="14.00" fill="#000000">local navigation = a.navigation</text>
<text text-anchor="middle" x="8677" y="-561.601" font-family="Inconsolata" font-size="14.00" fill="#000000">local function onseq(err,seq)</text>
<text text-anchor="middle" x="8677" y="-546.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if err then error(err) end</text>
<text text-anchor="middle" x="8677" y="-530.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local head = byte(seq)</text>
<text text-anchor="middle" x="8677" y="-515.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; ^Q hard coded as quit, for now</text>
<text text-anchor="middle" x="8677" y="-500.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head == 17 then</text>
<text text-anchor="middle" x="8677" y="-484.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;femto.cooked()</text>
<text text-anchor="middle" x="8677" y="-469.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;write(a.mouse.track(false))</text>
<text text-anchor="middle" x="8677" y="-453.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;uv.stop()</text>
<text text-anchor="middle" x="8677" y="-438.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="8677" y="-423.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8677" y="-407.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Escape sequences</text>
<text text-anchor="middle" x="8677" y="-392.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head == 27 then</text>
<text text-anchor="middle" x="8677" y="-376.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return process_escapes(seq)</text>
<text text-anchor="middle" x="8677" y="-361.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8677" y="-346.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Control sequences</text>
<text text-anchor="middle" x="8677" y="-330.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head &lt;= 31 and not navigation[seq] then</text>
<text text-anchor="middle" x="8677" y="-315.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local ctrl = &quot;^&quot; .. string.char(head + 64)</text>
<text text-anchor="middle" x="8677" y="-299.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;CTRL&quot;, ctrl)</text>
<text text-anchor="middle" x="8677" y="-284.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif navigation[seq] then</text>
<text text-anchor="middle" x="8677" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NAV&quot;, navigation[seq])</text>
<text text-anchor="middle" x="8677" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8677" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Printables</text>
<text text-anchor="middle" x="8677" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if head &gt; 31 and head &lt; 127 then</text>
<text text-anchor="middle" x="8677" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;INSERT&quot;, seq)</text>
<text text-anchor="middle" x="8677" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="8677" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; wchars go here</text>
<text text-anchor="middle" x="8677" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return modeS(&quot;NYI&quot;, seq)</text>
<text text-anchor="middle" x="8677" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8677" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_128&#45;&gt;leaf_133 -->
<g id="edge133" class="edge">
<title>codeblock_128&#45;&gt;leaf_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8598.355,-1603.7498C8603.9373,-1528.4917 8625.767,-1234.1955 8645.0149,-974.7066"/>
<polygon fill="#000000" stroke="#000000" points="8648.5067,-974.946 8645.7561,-964.7144 8641.5258,-974.4281 8648.5067,-974.946"/>
</g>
<!-- leaf_134 -->
<g id="node135" class="node">
<title>leaf_134</title>
<polygon fill="none" stroke="#c0c0c0" points="9289.5,-804.4593 8972.5,-804.4593 8972.5,-282.5424 9289.5,-282.5424 9289.5,-804.4593"/>
<text text-anchor="middle" x="9131" y="-789.03" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Get names for as many values as possible</text>
<text text-anchor="middle" x="9131" y="-773.63" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; into the colorizer</text>
<text text-anchor="middle" x="9131" y="-758.2299" font-family="Inconsolata" font-size="14.00" fill="#000000">color.allNames()</text>
<text text-anchor="middle" x="9131" y="-742.8299" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; This switches screens and does a wipe,</text>
<text text-anchor="middle" x="9131" y="-727.4299" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; then puts the cursor at 1,1.</text>
<text text-anchor="middle" x="9131" y="-712.0298" font-family="Inconsolata" font-size="14.00" fill="#000000">write &quot;\x1b[?47h\x1b[2J\x1b[H&quot;</text>
<text text-anchor="middle" x="9131" y="-696.6298" font-family="Inconsolata" font-size="14.00" fill="#000000">print &quot;an repl, plz reply uwu &quot;</text>
<text text-anchor="middle" x="9131" y="-672.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">displayPrompt &#39; &#160;&#39;</text>
<text text-anchor="middle" x="9131" y="-648.1723" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Crude hack to choose raw mode at runtime</text>
<text text-anchor="middle" x="9131" y="-632.7723" font-family="Inconsolata" font-size="14.00" fill="#000000">if arg[1] == &quot;&#45;r&quot; then</text>
<text text-anchor="middle" x="9131" y="-617.3722" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;femto.raw()</text>
<text text-anchor="middle" x="9131" y="-601.9722" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45;uv.tty_set_mode(stdin, 2)</text>
<text text-anchor="middle" x="9131" y="-586.5722" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; mouse mode</text>
<text text-anchor="middle" x="9131" y="-571.1722" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;write(a.mouse.track(true))</text>
<text text-anchor="middle" x="9131" y="-555.7721" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.read_start(stdin, onseq)</text>
<text text-anchor="middle" x="9131" y="-540.3721" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="9131" y="-524.9721" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;uv.read_start(stdin, onread)</text>
<text text-anchor="middle" x="9131" y="-509.572" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="9131" y="-446.172" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; main loop</text>
<text text-anchor="middle" x="9131" y="-430.772" font-family="Inconsolata" font-size="14.00" fill="#000000">local retcode = &#160;uv.run(&#39;default&#39;)</text>
<text text-anchor="middle" x="9131" y="-415.3719" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Restore main screen</text>
<text text-anchor="middle" x="9131" y="-399.9719" font-family="Inconsolata" font-size="14.00" fill="#000000">print &#39;\x1b[?47l&#39;</text>
<text text-anchor="middle" x="9131" y="-368.5719" font-family="Inconsolata" font-size="14.00" fill="#000000">if retcode ~= true then</text>
<text text-anchor="middle" x="9131" y="-353.1718" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;error(retcode)</text>
<text text-anchor="middle" x="9131" y="-337.7718" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="9131" y="-306.3718" font-family="Inconsolata" font-size="14.00" fill="#000000">print(&quot;kthxbye&quot;)</text>
<text text-anchor="middle" x="9131" y="-290.9717" font-family="Inconsolata" font-size="14.00" fill="#000000">return retcode</text>
</g>
<!-- codeblock_129&#45;&gt;leaf_134 -->
<g id="edge134" class="edge">
<title>codeblock_129&#45;&gt;leaf_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8962.8963,-1603.7498C8977.3994,-1512.2771 9043.2083,-1097.2128 9088.0536,-814.3687"/>
<polygon fill="#000000" stroke="#000000" points="9091.5307,-814.7883 9089.6399,-804.3636 9084.6171,-813.6921 9091.5307,-814.7883"/>
</g>
<!-- leaf_132 -->
<g id="node133" class="node">
<title>leaf_132</title>
<polygon fill="none" stroke="#c0c0c0" points="8381,-61.1 8327,-61.1 8327,-25.1 8381,-25.1 8381,-61.1"/>
</g>
<!-- raw_131&#45;&gt;leaf_132 -->
<g id="edge132" class="edge">
<title>raw_131&#45;&gt;leaf_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8354,-525.3957C8354,-450.3011 8354,-162.9897 8354,-71.358"/>
<polygon fill="#000000" stroke="#000000" points="8357.5001,-71.1808 8354,-61.1809 8350.5001,-71.1809 8357.5001,-71.1808"/>
</g>
</g>
</svg>
